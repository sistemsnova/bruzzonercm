(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Rf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var VP={exports:{}},Jm={},FP={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jd=Symbol.for("react.element"),y$=Symbol.for("react.portal"),v$=Symbol.for("react.fragment"),b$=Symbol.for("react.strict_mode"),w$=Symbol.for("react.profiler"),_$=Symbol.for("react.provider"),N$=Symbol.for("react.context"),S$=Symbol.for("react.forward_ref"),E$=Symbol.for("react.suspense"),T$=Symbol.for("react.memo"),A$=Symbol.for("react.lazy"),TS=Symbol.iterator;function k$(t){return t===null||typeof t!="object"?null:(t=TS&&t[TS]||t["@@iterator"],typeof t=="function"?t:null)}var UP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BP=Object.assign,zP={};function Xl(t,e,n){this.props=t,this.context=e,this.refs=zP,this.updater=n||UP}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qP(){}qP.prototype=Xl.prototype;function yw(t,e,n){this.props=t,this.context=e,this.refs=zP,this.updater=n||UP}var vw=yw.prototype=new qP;vw.constructor=yw;BP(vw,Xl.prototype);vw.isPureReactComponent=!0;var AS=Array.isArray,GP=Object.prototype.hasOwnProperty,bw={current:null},HP={key:!0,ref:!0,__self:!0,__source:!0};function WP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GP.call(e,r)&&!HP.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Jd,type:t,key:s,ref:o,props:i,_owner:bw.current}}function C$(t,e){return{$$typeof:Jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ww(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jd}function j$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kS=/\/+/g;function V0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j$(""+t.key):e.toString(36)}function wh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Jd:case y$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+V0(o,0):r,AS(i)?(n="",t!=null&&(n=t.replace(kS,"$&/")+"/"),wh(i,e,n,"",function(u){return u})):i!=null&&(ww(i)&&(i=C$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",AS(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+V0(s,l);o+=wh(s,e,n,c,i)}else if(c=k$(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+V0(s,l++),o+=wh(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(t,e,n){if(t==null)return t;var r=[],i=0;return wh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function P$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},_h={transition:null},I$={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:_h,ReactCurrentOwner:bw};function KP(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Mf,forEach:function(t,e,n){Mf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mf(t,function(){e++}),e},toArray:function(t){return Mf(t,function(e){return e})||[]},only:function(t){if(!ww(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Xl;Le.Fragment=v$;Le.Profiler=w$;Le.PureComponent=yw;Le.StrictMode=b$;Le.Suspense=E$;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I$;Le.act=KP;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)GP.call(e,c)&&!HP.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Jd,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:N$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_$,_context:t},t.Consumer=t};Le.createElement=WP;Le.createFactory=function(t){var e=WP.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:S$,render:t}};Le.isValidElement=ww;Le.lazy=function(t){return{$$typeof:A$,_payload:{_status:-1,_result:t},_init:P$}};Le.memo=function(t,e){return{$$typeof:T$,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=_h.transition;_h.transition={};try{t()}finally{_h.transition=e}};Le.unstable_act=KP;Le.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Le.useContext=function(t){return Dn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Le.useId=function(){return Dn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Le.useRef=function(t){return Dn.current.useRef(t)};Le.useState=function(t){return Dn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Dn.current.useTransition()};Le.version="18.3.1";FP.exports=Le;var D=FP.exports;const U=Ze(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R$=D,M$=Symbol.for("react.element"),O$=Symbol.for("react.fragment"),D$=Object.prototype.hasOwnProperty,L$=R$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$$={key:!0,ref:!0,__self:!0,__source:!0};function JP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)D$.call(e,r)&&!$$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:M$,type:t,key:s,ref:o,props:i,_owner:L$.current}}Jm.Fragment=O$;Jm.jsx=JP;Jm.jsxs=JP;VP.exports=Jm;var a=VP.exports,iy={},YP={exports:{}},sr={},XP={exports:{}},QP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var J=V.length;V.push(H);e:for(;0<J;){var W=J-1>>>1,Y=V[W];if(0<i(Y,H))V[W]=H,V[J]=Y,J=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],J=V.pop();if(J!==H){V[0]=J;e:for(var W=0,Y=V.length,re=Y>>>1;W<re;){var we=2*(W+1)-1,q=V[we],X=we+1,ee=V[X];if(0>i(q,J))X<Y&&0>i(ee,q)?(V[W]=ee,V[X]=J,W=X):(V[W]=q,V[we]=J,W=we);else if(X<Y&&0>i(ee,J))V[W]=ee,V[X]=J,W=X;else break e}}return H}function i(V,H){var J=V.sortIndex-H.sortIndex;return J!==0?J:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=V)r(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function C(V){if(b=!1,S(V),!y)if(n(c)!==null)y=!0,$(T);else{var H=n(u);H!==null&&B(C,H.startTime-V)}}function T(V,H){y=!1,b&&(b=!1,_(A),A=-1),x=!0;var J=h;try{for(S(H),f=n(c);f!==null&&(!(f.expirationTime>H)||V&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var Y=W(f.expirationTime<=H);H=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(c)&&r(c),S(H)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var we=n(u);we!==null&&B(C,we.startTime-H),re=!1}return re}finally{f=null,h=J,x=!1}}var N=!1,E=null,A=-1,j=5,M=-1;function P(){return!(t.unstable_now()-M<j)}function O(){if(E!==null){var V=t.unstable_now();M=V;var H=!0;try{H=E(!0,V)}finally{H?R():(N=!1,E=null)}}else N=!1}var R;if(typeof w=="function")R=function(){w(O)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=O,R=function(){F.postMessage(null)}}else R=function(){v(O,0)};function $(V){E=V,N||(N=!0,R())}function B(V,H){A=v(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,$(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var J=h;h=H;try{return V()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=h;h=V;try{return H()}finally{h=J}},t.unstable_scheduleCallback=function(V,H,J){var W=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,V){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=J+Y,V={id:d++,callback:H,priorityLevel:V,startTime:J,expirationTime:Y,sortIndex:-1},J>W?(V.sortIndex=J,e(u,V),n(c)===null&&V===n(u)&&(b?(_(A),A=-1):b=!0,B(C,J-W))):(V.sortIndex=Y,e(c,V),y||x||(y=!0,$(T))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var H=h;return function(){var J=h;h=H;try{return V.apply(this,arguments)}finally{h=J}}}})(QP);XP.exports=QP;var V$=XP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F$=D,nr=V$;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZP=new Set,$u={};function Xa(t,e){al(t,e),al(t+"Capture",e)}function al(t,e){for($u[t]=e,t=0;t<e.length;t++)ZP.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sy=Object.prototype.hasOwnProperty,U$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CS={},jS={};function B$(t){return sy.call(jS,t)?!0:sy.call(CS,t)?!1:U$.test(t)?jS[t]=!0:(CS[t]=!0,!1)}function z$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function q$(t,e,n,r){if(e===null||typeof e>"u"||z$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){sn[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];sn[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){sn[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){sn[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){sn[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){sn[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){sn[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){sn[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){sn[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var _w=/[\-:]([a-z])/g;function Nw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_w,Nw);sn[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_w,Nw);sn[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_w,Nw);sn[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){sn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){sn[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sw(t,e,n,r){var i=sn.hasOwnProperty(e)?sn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(q$(e,n,i,r)&&(n=null),r||i===null?B$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wi=F$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Of=Symbol.for("react.element"),vo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Ew=Symbol.for("react.strict_mode"),ay=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),Tw=Symbol.for("react.forward_ref"),oy=Symbol.for("react.suspense"),ly=Symbol.for("react.suspense_list"),Aw=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),nI=Symbol.for("react.offscreen"),PS=Symbol.iterator;function Dc(t){return t===null||typeof t!="object"?null:(t=PS&&t[PS]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,F0;function iu(t){if(F0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);F0=e&&e[1]||""}return`
`+F0+t}var U0=!1;function B0(t,e){if(!t||U0)return"";U0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{U0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?iu(t):""}function G$(t){switch(t.tag){case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return t=B0(t.type,!1),t;case 11:return t=B0(t.type.render,!1),t;case 1:return t=B0(t.type,!0),t;default:return""}}function cy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bo:return"Fragment";case vo:return"Portal";case ay:return"Profiler";case Ew:return"StrictMode";case oy:return"Suspense";case ly:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case Tw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Aw:return e=t.displayName||null,e!==null?e:cy(t.type)||"Memo";case ls:e=t._payload,t=t._init;try{return cy(t(e))}catch{}}return null}function H$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cy(e);case 8:return e===Ew?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function W$(t){var e=rI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Df(t){t._valueTracker||(t._valueTracker=W$(t))}function iI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uy(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function IS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sI(t,e){e=e.checked,e!=null&&Sw(t,"checked",e,!1)}function dy(t,e){sI(t,e);var n=Vs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&fy(t,e.type,Vs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function RS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fy(t,e,n){(e!=="number"||Wh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var su=Array.isArray;function Fo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function MS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(su(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vs(n)}}function aI(t,e){var n=Vs(e.value),r=Vs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function OS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function py(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lf,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lf=Lf||document.createElement("div"),Lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K$=["Webkit","ms","Moz","O"];Object.keys(mu).forEach(function(t){K$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mu[e]=mu[t]})});function cI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mu.hasOwnProperty(t)&&mu[t]?(""+e).trim():e+"px"}function uI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var J$=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function my(t,e){if(e){if(J$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function gy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xy=null;function kw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yy=null,Uo=null,Bo=null;function DS(t){if(t=Qd(t)){if(typeof yy!="function")throw Error(le(280));var e=t.stateNode;e&&(e=eg(e),yy(t.stateNode,t.type,e))}}function dI(t){Uo?Bo?Bo.push(t):Bo=[t]:Uo=t}function fI(){if(Uo){var t=Uo,e=Bo;if(Bo=Uo=null,DS(t),e)for(t=0;t<e.length;t++)DS(e[t])}}function hI(t,e){return t(e)}function pI(){}var z0=!1;function mI(t,e,n){if(z0)return t(e,n);z0=!0;try{return hI(t,e,n)}finally{z0=!1,(Uo!==null||Bo!==null)&&(pI(),fI())}}function Fu(t,e){var n=t.stateNode;if(n===null)return null;var r=eg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var vy=!1;if(Ii)try{var Lc={};Object.defineProperty(Lc,"passive",{get:function(){vy=!0}}),window.addEventListener("test",Lc,Lc),window.removeEventListener("test",Lc,Lc)}catch{vy=!1}function Y$(t,e,n,r,i,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var gu=!1,Kh=null,Jh=!1,by=null,X$={onError:function(t){gu=!0,Kh=t}};function Q$(t,e,n,r,i,s,o,l,c){gu=!1,Kh=null,Y$.apply(X$,arguments)}function Z$(t,e,n,r,i,s,o,l,c){if(Q$.apply(this,arguments),gu){if(gu){var u=Kh;gu=!1,Kh=null}else throw Error(le(198));Jh||(Jh=!0,by=u)}}function Qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LS(t){if(Qa(t)!==t)throw Error(le(188))}function e3(t){var e=t.alternate;if(!e){if(e=Qa(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return LS(i),t;if(s===r)return LS(i),e;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function xI(t){return t=e3(t),t!==null?yI(t):null}function yI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=yI(t);if(e!==null)return e;t=t.sibling}return null}var vI=nr.unstable_scheduleCallback,$S=nr.unstable_cancelCallback,t3=nr.unstable_shouldYield,n3=nr.unstable_requestPaint,Ct=nr.unstable_now,r3=nr.unstable_getCurrentPriorityLevel,Cw=nr.unstable_ImmediatePriority,bI=nr.unstable_UserBlockingPriority,Yh=nr.unstable_NormalPriority,i3=nr.unstable_LowPriority,wI=nr.unstable_IdlePriority,Ym=null,Zr=null;function s3(t){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(Ym,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:l3,a3=Math.log,o3=Math.LN2;function l3(t){return t>>>=0,t===0?32:31-(a3(t)/o3|0)|0}var $f=64,Vf=4194304;function au(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=au(l):(s&=o,s!==0&&(r=au(s)))}else o=n&~i,o!==0?r=au(o):s!==0&&(r=au(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function c3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=c3(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function wy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _I(){var t=$f;return $f<<=1,!($f&4194240)&&($f=64),t}function q0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function d3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function jw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function NI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SI,Pw,EI,TI,AI,_y=!1,Ff=[],Es=null,Ts=null,As=null,Uu=new Map,Bu=new Map,ds=[],f3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VS(t,e){switch(t){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bu.delete(e.pointerId)}}function $c(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qd(e),e!==null&&Pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function h3(t,e,n,r,i){switch(e){case"focusin":return Es=$c(Es,t,e,n,r,i),!0;case"dragenter":return Ts=$c(Ts,t,e,n,r,i),!0;case"mouseover":return As=$c(As,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uu.set(s,$c(Uu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bu.set(s,$c(Bu.get(s)||null,t,e,n,r,i)),!0}return!1}function kI(t){var e=xa(t.target);if(e!==null){var n=Qa(e);if(n!==null){if(e=n.tag,e===13){if(e=gI(n),e!==null){t.blockedOn=e,AI(t.priority,function(){EI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ny(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xy=r,n.target.dispatchEvent(r),xy=null}else return e=Qd(n),e!==null&&Pw(e),t.blockedOn=n,!1;e.shift()}return!0}function FS(t,e,n){Nh(t)&&n.delete(e)}function p3(){_y=!1,Es!==null&&Nh(Es)&&(Es=null),Ts!==null&&Nh(Ts)&&(Ts=null),As!==null&&Nh(As)&&(As=null),Uu.forEach(FS),Bu.forEach(FS)}function Vc(t,e){t.blockedOn===e&&(t.blockedOn=null,_y||(_y=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,p3)))}function zu(t){function e(i){return Vc(i,t)}if(0<Ff.length){Vc(Ff[0],t);for(var n=1;n<Ff.length;n++){var r=Ff[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Es!==null&&Vc(Es,t),Ts!==null&&Vc(Ts,t),As!==null&&Vc(As,t),Uu.forEach(e),Bu.forEach(e),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)kI(n),n.blockedOn===null&&ds.shift()}var zo=Wi.ReactCurrentBatchConfig,Qh=!0;function m3(t,e,n,r){var i=Qe,s=zo.transition;zo.transition=null;try{Qe=1,Iw(t,e,n,r)}finally{Qe=i,zo.transition=s}}function g3(t,e,n,r){var i=Qe,s=zo.transition;zo.transition=null;try{Qe=4,Iw(t,e,n,r)}finally{Qe=i,zo.transition=s}}function Iw(t,e,n,r){if(Qh){var i=Ny(t,e,n,r);if(i===null)ex(t,e,r,Zh,n),VS(t,r);else if(h3(i,t,e,n,r))r.stopPropagation();else if(VS(t,r),e&4&&-1<f3.indexOf(t)){for(;i!==null;){var s=Qd(i);if(s!==null&&SI(s),s=Ny(t,e,n,r),s===null&&ex(t,e,r,Zh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ex(t,e,r,null,n)}}var Zh=null;function Ny(t,e,n,r){if(Zh=null,t=kw(r),t=xa(t),t!==null)if(e=Qa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zh=t,null}function CI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(r3()){case Cw:return 1;case bI:return 4;case Yh:case i3:return 16;case wI:return 536870912;default:return 16}default:return 16}}var ys=null,Rw=null,Sh=null;function jI(){if(Sh)return Sh;var t,e=Rw,n=e.length,r,i="value"in ys?ys.value:ys.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Sh=i.slice(t,1<r?1-r:void 0)}function Eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uf(){return!0}function US(){return!1}function ar(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uf:US,this.isPropagationStopped=US,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uf)},persist:function(){},isPersistent:Uf}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mw=ar(Ql),Xd=_t({},Ql,{view:0,detail:0}),x3=ar(Xd),G0,H0,Fc,Xm=_t({},Xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ow,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fc&&(Fc&&t.type==="mousemove"?(G0=t.screenX-Fc.screenX,H0=t.screenY-Fc.screenY):H0=G0=0,Fc=t),G0)},movementY:function(t){return"movementY"in t?t.movementY:H0}}),BS=ar(Xm),y3=_t({},Xm,{dataTransfer:0}),v3=ar(y3),b3=_t({},Xd,{relatedTarget:0}),W0=ar(b3),w3=_t({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),_3=ar(w3),N3=_t({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S3=ar(N3),E3=_t({},Ql,{data:0}),zS=ar(E3),T3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k3[t])?!!e[t]:!1}function Ow(){return C3}var j3=_t({},Xd,{key:function(t){if(t.key){var e=T3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ow,charCode:function(t){return t.type==="keypress"?Eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P3=ar(j3),I3=_t({},Xm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qS=ar(I3),R3=_t({},Xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ow}),M3=ar(R3),O3=_t({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),D3=ar(O3),L3=_t({},Xm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$3=ar(L3),V3=[9,13,27,32],Dw=Ii&&"CompositionEvent"in window,xu=null;Ii&&"documentMode"in document&&(xu=document.documentMode);var F3=Ii&&"TextEvent"in window&&!xu,PI=Ii&&(!Dw||xu&&8<xu&&11>=xu),GS=" ",HS=!1;function II(t,e){switch(t){case"keyup":return V3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function U3(t,e){switch(t){case"compositionend":return RI(e);case"keypress":return e.which!==32?null:(HS=!0,GS);case"textInput":return t=e.data,t===GS&&HS?null:t;default:return null}}function B3(t,e){if(wo)return t==="compositionend"||!Dw&&II(t,e)?(t=jI(),Sh=Rw=ys=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PI&&e.locale!=="ko"?null:e.data;default:return null}}var z3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!z3[t.type]:e==="textarea"}function MI(t,e,n,r){dI(r),e=ep(e,"onChange"),0<e.length&&(n=new Mw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yu=null,qu=null;function q3(t){GI(t,0)}function Qm(t){var e=So(t);if(iI(e))return t}function G3(t,e){if(t==="change")return e}var OI=!1;if(Ii){var K0;if(Ii){var J0="oninput"in document;if(!J0){var KS=document.createElement("div");KS.setAttribute("oninput","return;"),J0=typeof KS.oninput=="function"}K0=J0}else K0=!1;OI=K0&&(!document.documentMode||9<document.documentMode)}function JS(){yu&&(yu.detachEvent("onpropertychange",DI),qu=yu=null)}function DI(t){if(t.propertyName==="value"&&Qm(qu)){var e=[];MI(e,qu,t,kw(t)),mI(q3,e)}}function H3(t,e,n){t==="focusin"?(JS(),yu=e,qu=n,yu.attachEvent("onpropertychange",DI)):t==="focusout"&&JS()}function W3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qm(qu)}function K3(t,e){if(t==="click")return Qm(e)}function J3(t,e){if(t==="input"||t==="change")return Qm(e)}function Y3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:Y3;function Gu(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!sy.call(e,i)||!Vr(t[i],e[i]))return!1}return!0}function YS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function XS(t,e){var n=YS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=YS(n)}}function LI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $I(){for(var t=window,e=Wh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wh(t.document)}return e}function Lw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X3(t){var e=$I(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LI(n.ownerDocument.documentElement,n)){if(r!==null&&Lw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=XS(n,s);var o=XS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q3=Ii&&"documentMode"in document&&11>=document.documentMode,_o=null,Sy=null,vu=null,Ey=!1;function QS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ey||_o==null||_o!==Wh(r)||(r=_o,"selectionStart"in r&&Lw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vu&&Gu(vu,r)||(vu=r,r=ep(Sy,"onSelect"),0<r.length&&(e=new Mw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function Bf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var No={animationend:Bf("Animation","AnimationEnd"),animationiteration:Bf("Animation","AnimationIteration"),animationstart:Bf("Animation","AnimationStart"),transitionend:Bf("Transition","TransitionEnd")},Y0={},VI={};Ii&&(VI=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Zm(t){if(Y0[t])return Y0[t];if(!No[t])return t;var e=No[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in VI)return Y0[t]=e[n];return t}var FI=Zm("animationend"),UI=Zm("animationiteration"),BI=Zm("animationstart"),zI=Zm("transitionend"),qI=new Map,ZS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(t,e){qI.set(t,e),Xa(e,[t])}for(var X0=0;X0<ZS.length;X0++){var Q0=ZS[X0],Z3=Q0.toLowerCase(),eV=Q0[0].toUpperCase()+Q0.slice(1);Ws(Z3,"on"+eV)}Ws(FI,"onAnimationEnd");Ws(UI,"onAnimationIteration");Ws(BI,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(zI,"onTransitionEnd");al("onMouseEnter",["mouseout","mouseover"]);al("onMouseLeave",["mouseout","mouseover"]);al("onPointerEnter",["pointerout","pointerover"]);al("onPointerLeave",["pointerout","pointerover"]);Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tV=new Set("cancel close invalid load scroll toggle".split(" ").concat(ou));function e2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Z$(r,e,void 0,t),t.currentTarget=null}function GI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;e2(i,l,u),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;e2(i,l,u),s=c}}}if(Jh)throw t=by,Jh=!1,by=null,t}function dt(t,e){var n=e[jy];n===void 0&&(n=e[jy]=new Set);var r=t+"__bubble";n.has(r)||(HI(e,t,2,!1),n.add(r))}function Z0(t,e,n){var r=0;e&&(r|=4),HI(n,t,r,e)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Hu(t){if(!t[zf]){t[zf]=!0,ZP.forEach(function(n){n!=="selectionchange"&&(tV.has(n)||Z0(n,!1,t),Z0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zf]||(e[zf]=!0,Z0("selectionchange",!1,e))}}function HI(t,e,n,r){switch(CI(e)){case 1:var i=m3;break;case 4:i=g3;break;default:i=Iw}n=i.bind(null,e,n,t),i=void 0,!vy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ex(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=xa(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}mI(function(){var u=s,d=kw(n),f=[];e:{var h=qI.get(t);if(h!==void 0){var x=Mw,y=t;switch(t){case"keypress":if(Eh(n)===0)break e;case"keydown":case"keyup":x=P3;break;case"focusin":y="focus",x=W0;break;case"focusout":y="blur",x=W0;break;case"beforeblur":case"afterblur":x=W0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=BS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=v3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=M3;break;case FI:case UI:case BI:x=_3;break;case zI:x=D3;break;case"scroll":x=x3;break;case"wheel":x=$3;break;case"copy":case"cut":case"paste":x=S3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=qS}var b=(e&4)!==0,v=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var w=u,S;w!==null;){S=w;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,_!==null&&(C=Fu(w,_),C!=null&&b.push(Wu(w,C,S)))),v)break;w=w.return}0<b.length&&(h=new x(h,y,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==xy&&(y=n.relatedTarget||n.fromElement)&&(xa(y)||y[Ri]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?xa(y):null,y!==null&&(v=Qa(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(b=BS,C="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=qS,C="onPointerLeave",_="onPointerEnter",w="pointer"),v=x==null?h:So(x),S=y==null?h:So(y),h=new b(C,w+"leave",x,n,d),h.target=v,h.relatedTarget=S,C=null,xa(d)===u&&(b=new b(_,w+"enter",y,n,d),b.target=S,b.relatedTarget=v,C=b),v=C,x&&y)t:{for(b=x,_=y,w=0,S=b;S;S=uo(S))w++;for(S=0,C=_;C;C=uo(C))S++;for(;0<w-S;)b=uo(b),w--;for(;0<S-w;)_=uo(_),S--;for(;w--;){if(b===_||_!==null&&b===_.alternate)break t;b=uo(b),_=uo(_)}b=null}else b=null;x!==null&&t2(f,h,x,b,!1),y!==null&&v!==null&&t2(f,v,y,b,!0)}}e:{if(h=u?So(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var T=G3;else if(WS(h))if(OI)T=J3;else{T=W3;var N=H3}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=K3);if(T&&(T=T(t,u))){MI(f,T,n,d);break e}N&&N(t,h,u),t==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&fy(h,"number",h.value)}switch(N=u?So(u):window,t){case"focusin":(WS(N)||N.contentEditable==="true")&&(_o=N,Sy=u,vu=null);break;case"focusout":vu=Sy=_o=null;break;case"mousedown":Ey=!0;break;case"contextmenu":case"mouseup":case"dragend":Ey=!1,QS(f,n,d);break;case"selectionchange":if(Q3)break;case"keydown":case"keyup":QS(f,n,d)}var E;if(Dw)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else wo?II(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(PI&&n.locale!=="ko"&&(wo||A!=="onCompositionStart"?A==="onCompositionEnd"&&wo&&(E=jI()):(ys=d,Rw="value"in ys?ys.value:ys.textContent,wo=!0)),N=ep(u,A),0<N.length&&(A=new zS(A,t,null,n,d),f.push({event:A,listeners:N}),E?A.data=E:(E=RI(n),E!==null&&(A.data=E)))),(E=F3?U3(t,n):B3(t,n))&&(u=ep(u,"onBeforeInput"),0<u.length&&(d=new zS("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}GI(f,e)})}function Wu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ep(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fu(t,n),s!=null&&r.unshift(Wu(t,s,i)),s=Fu(t,e),s!=null&&r.push(Wu(t,s,i))),t=t.return}return r}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function t2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Fu(n,s),c!=null&&o.unshift(Wu(n,c,l))):i||(c=Fu(n,s),c!=null&&o.push(Wu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var nV=/\r\n?/g,rV=/\u0000|\uFFFD/g;function n2(t){return(typeof t=="string"?t:""+t).replace(nV,`
`).replace(rV,"")}function qf(t,e,n){if(e=n2(e),n2(t)!==e&&n)throw Error(le(425))}function tp(){}var Ty=null,Ay=null;function ky(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Cy=typeof setTimeout=="function"?setTimeout:void 0,iV=typeof clearTimeout=="function"?clearTimeout:void 0,r2=typeof Promise=="function"?Promise:void 0,sV=typeof queueMicrotask=="function"?queueMicrotask:typeof r2<"u"?function(t){return r2.resolve(null).then(t).catch(aV)}:Cy;function aV(t){setTimeout(function(){throw t})}function tx(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zu(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function i2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Zl,Ku="__reactProps$"+Zl,Ri="__reactContainer$"+Zl,jy="__reactEvents$"+Zl,oV="__reactListeners$"+Zl,lV="__reactHandles$"+Zl;function xa(t){var e=t[Kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ri]||n[Kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=i2(t);t!==null;){if(n=t[Kr])return n;t=i2(t)}return e}t=n,n=t.parentNode}return null}function Qd(t){return t=t[Kr]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function So(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function eg(t){return t[Ku]||null}var Py=[],Eo=-1;function Ks(t){return{current:t}}function pt(t){0>Eo||(t.current=Py[Eo],Py[Eo]=null,Eo--)}function lt(t,e){Eo++,Py[Eo]=t.current,t.current=e}var Fs={},_n=Ks(Fs),zn=Ks(!1),Ma=Fs;function ol(t,e){var n=t.type.contextTypes;if(!n)return Fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qn(t){return t=t.childContextTypes,t!=null}function np(){pt(zn),pt(_n)}function s2(t,e,n){if(_n.current!==Fs)throw Error(le(168));lt(_n,e),lt(zn,n)}function WI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,H$(t)||"Unknown",i));return _t({},n,r)}function rp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fs,Ma=_n.current,lt(_n,t),lt(zn,zn.current),!0}function a2(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=WI(t,e,Ma),r.__reactInternalMemoizedMergedChildContext=t,pt(zn),pt(_n),lt(_n,t)):pt(zn),lt(zn,n)}var vi=null,tg=!1,nx=!1;function KI(t){vi===null?vi=[t]:vi.push(t)}function cV(t){tg=!0,KI(t)}function Js(){if(!nx&&vi!==null){nx=!0;var t=0,e=Qe;try{var n=vi;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vi=null,tg=!1}catch(i){throw vi!==null&&(vi=vi.slice(t+1)),vI(Cw,Js),i}finally{Qe=e,nx=!1}}return null}var To=[],Ao=0,ip=null,sp=0,ur=[],dr=0,Oa=null,bi=1,wi="";function la(t,e){To[Ao++]=sp,To[Ao++]=ip,ip=t,sp=e}function JI(t,e,n){ur[dr++]=bi,ur[dr++]=wi,ur[dr++]=Oa,Oa=t;var r=bi;t=wi;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var s=32-Rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bi=1<<32-Rr(e)+i|n<<i|r,wi=s+t}else bi=1<<s|n<<i|r,wi=t}function $w(t){t.return!==null&&(la(t,1),JI(t,1,0))}function Vw(t){for(;t===ip;)ip=To[--Ao],To[Ao]=null,sp=To[--Ao],To[Ao]=null;for(;t===Oa;)Oa=ur[--dr],ur[dr]=null,wi=ur[--dr],ur[dr]=null,bi=ur[--dr],ur[dr]=null}var er=null,Zn=null,gt=!1,Pr=null;function YI(t,e){var n=hr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function o2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Zn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Oa!==null?{id:bi,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Zn=null,!0):!1;default:return!1}}function Iy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ry(t){if(gt){var e=Zn;if(e){var n=e;if(!o2(t,e)){if(Iy(t))throw Error(le(418));e=ks(n.nextSibling);var r=er;e&&o2(t,e)?YI(r,n):(t.flags=t.flags&-4097|2,gt=!1,er=t)}}else{if(Iy(t))throw Error(le(418));t.flags=t.flags&-4097|2,gt=!1,er=t}}}function l2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function Gf(t){if(t!==er)return!1;if(!gt)return l2(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ky(t.type,t.memoizedProps)),e&&(e=Zn)){if(Iy(t))throw XI(),Error(le(418));for(;e;)YI(t,e),e=ks(e.nextSibling)}if(l2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=er?ks(t.stateNode.nextSibling):null;return!0}function XI(){for(var t=Zn;t;)t=ks(t.nextSibling)}function ll(){Zn=er=null,gt=!1}function Fw(t){Pr===null?Pr=[t]:Pr.push(t)}var uV=Wi.ReactCurrentBatchConfig;function Uc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Hf(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c2(t){var e=t._init;return e(t._payload)}function QI(t){function e(_,w){if(t){var S=_.deletions;S===null?(_.deletions=[w],_.flags|=16):S.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Is(_,w),_.index=0,_.sibling=null,_}function s(_,w,S){return _.index=S,t?(S=_.alternate,S!==null?(S=S.index,S<w?(_.flags|=2,w):S):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,w,S,C){return w===null||w.tag!==6?(w=cx(S,_.mode,C),w.return=_,w):(w=i(w,S),w.return=_,w)}function c(_,w,S,C){var T=S.type;return T===bo?d(_,w,S.props.children,C,S.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ls&&c2(T)===w.type)?(C=i(w,S.props),C.ref=Uc(_,w,S),C.return=_,C):(C=Ih(S.type,S.key,S.props,null,_.mode,C),C.ref=Uc(_,w,S),C.return=_,C)}function u(_,w,S,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=ux(S,_.mode,C),w.return=_,w):(w=i(w,S.children||[]),w.return=_,w)}function d(_,w,S,C,T){return w===null||w.tag!==7?(w=Aa(S,_.mode,C,T),w.return=_,w):(w=i(w,S),w.return=_,w)}function f(_,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=cx(""+w,_.mode,S),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Of:return S=Ih(w.type,w.key,w.props,null,_.mode,S),S.ref=Uc(_,null,w),S.return=_,S;case vo:return w=ux(w,_.mode,S),w.return=_,w;case ls:var C=w._init;return f(_,C(w._payload),S)}if(su(w)||Dc(w))return w=Aa(w,_.mode,S,null),w.return=_,w;Hf(_,w)}return null}function h(_,w,S,C){var T=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(_,w,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Of:return S.key===T?c(_,w,S,C):null;case vo:return S.key===T?u(_,w,S,C):null;case ls:return T=S._init,h(_,w,T(S._payload),C)}if(su(S)||Dc(S))return T!==null?null:d(_,w,S,C,null);Hf(_,S)}return null}function x(_,w,S,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(S)||null,l(w,_,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Of:return _=_.get(C.key===null?S:C.key)||null,c(w,_,C,T);case vo:return _=_.get(C.key===null?S:C.key)||null,u(w,_,C,T);case ls:var N=C._init;return x(_,w,S,N(C._payload),T)}if(su(C)||Dc(C))return _=_.get(S)||null,d(w,_,C,T,null);Hf(w,C)}return null}function y(_,w,S,C){for(var T=null,N=null,E=w,A=w=0,j=null;E!==null&&A<S.length;A++){E.index>A?(j=E,E=null):j=E.sibling;var M=h(_,E,S[A],C);if(M===null){E===null&&(E=j);break}t&&E&&M.alternate===null&&e(_,E),w=s(M,w,A),N===null?T=M:N.sibling=M,N=M,E=j}if(A===S.length)return n(_,E),gt&&la(_,A),T;if(E===null){for(;A<S.length;A++)E=f(_,S[A],C),E!==null&&(w=s(E,w,A),N===null?T=E:N.sibling=E,N=E);return gt&&la(_,A),T}for(E=r(_,E);A<S.length;A++)j=x(E,_,A,S[A],C),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?A:j.key),w=s(j,w,A),N===null?T=j:N.sibling=j,N=j);return t&&E.forEach(function(P){return e(_,P)}),gt&&la(_,A),T}function b(_,w,S,C){var T=Dc(S);if(typeof T!="function")throw Error(le(150));if(S=T.call(S),S==null)throw Error(le(151));for(var N=T=null,E=w,A=w=0,j=null,M=S.next();E!==null&&!M.done;A++,M=S.next()){E.index>A?(j=E,E=null):j=E.sibling;var P=h(_,E,M.value,C);if(P===null){E===null&&(E=j);break}t&&E&&P.alternate===null&&e(_,E),w=s(P,w,A),N===null?T=P:N.sibling=P,N=P,E=j}if(M.done)return n(_,E),gt&&la(_,A),T;if(E===null){for(;!M.done;A++,M=S.next())M=f(_,M.value,C),M!==null&&(w=s(M,w,A),N===null?T=M:N.sibling=M,N=M);return gt&&la(_,A),T}for(E=r(_,E);!M.done;A++,M=S.next())M=x(E,_,A,M.value,C),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?A:M.key),w=s(M,w,A),N===null?T=M:N.sibling=M,N=M);return t&&E.forEach(function(O){return e(_,O)}),gt&&la(_,A),T}function v(_,w,S,C){if(typeof S=="object"&&S!==null&&S.type===bo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Of:e:{for(var T=S.key,N=w;N!==null;){if(N.key===T){if(T=S.type,T===bo){if(N.tag===7){n(_,N.sibling),w=i(N,S.props.children),w.return=_,_=w;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===ls&&c2(T)===N.type){n(_,N.sibling),w=i(N,S.props),w.ref=Uc(_,N,S),w.return=_,_=w;break e}n(_,N);break}else e(_,N);N=N.sibling}S.type===bo?(w=Aa(S.props.children,_.mode,C,S.key),w.return=_,_=w):(C=Ih(S.type,S.key,S.props,null,_.mode,C),C.ref=Uc(_,w,S),C.return=_,_=C)}return o(_);case vo:e:{for(N=S.key;w!==null;){if(w.key===N)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(_,w.sibling),w=i(w,S.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=ux(S,_.mode,C),w.return=_,_=w}return o(_);case ls:return N=S._init,v(_,w,N(S._payload),C)}if(su(S))return y(_,w,S,C);if(Dc(S))return b(_,w,S,C);Hf(_,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,S),w.return=_,_=w):(n(_,w),w=cx(S,_.mode,C),w.return=_,_=w),o(_)):n(_,w)}return v}var cl=QI(!0),ZI=QI(!1),ap=Ks(null),op=null,ko=null,Uw=null;function Bw(){Uw=ko=op=null}function zw(t){var e=ap.current;pt(ap),t._currentValue=e}function My(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){op=t,Uw=ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Un=!0),t.firstContext=null)}function yr(t){var e=t._currentValue;if(Uw!==t)if(t={context:t,memoizedValue:e,next:null},ko===null){if(op===null)throw Error(le(308));ko=t,op.dependencies={lanes:0,firstContext:t}}else ko=ko.next=t;return e}var ya=null;function qw(t){ya===null?ya=[t]:ya.push(t)}function eR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Mi(t,r)}function Mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var cs=!1;function Gw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Mi(t,n)}return i=r.interleaved,i===null?(e.next=e,qw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Mi(t,n)}function Th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jw(t,n)}}function u2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function lp(t,e,n,r){var i=t.updateQueue;cs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,b=l;switch(h=e,x=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(x,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(x,f,h):y,h==null)break e;f=_t({},f,h);break e;case 2:cs=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);La|=o,t.lanes=o,t.memoizedState=f}}function d2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Zd={},ei=Ks(Zd),Ju=Ks(Zd),Yu=Ks(Zd);function va(t){if(t===Zd)throw Error(le(174));return t}function Hw(t,e){switch(lt(Yu,e),lt(Ju,t),lt(ei,Zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:py(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=py(e,t)}pt(ei),lt(ei,e)}function ul(){pt(ei),pt(Ju),pt(Yu)}function nR(t){va(Yu.current);var e=va(ei.current),n=py(e,t.type);e!==n&&(lt(Ju,t),lt(ei,n))}function Ww(t){Ju.current===t&&(pt(ei),pt(Ju))}var yt=Ks(0);function cp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rx=[];function Kw(){for(var t=0;t<rx.length;t++)rx[t]._workInProgressVersionPrimary=null;rx.length=0}var Ah=Wi.ReactCurrentDispatcher,ix=Wi.ReactCurrentBatchConfig,Da=0,bt=null,$t=null,Ht=null,up=!1,bu=!1,Xu=0,dV=0;function fn(){throw Error(le(321))}function Jw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function Yw(t,e,n,r,i,s){if(Da=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ah.current=t===null||t.memoizedState===null?mV:gV,t=n(r,i),bu){s=0;do{if(bu=!1,Xu=0,25<=s)throw Error(le(301));s+=1,Ht=$t=null,e.updateQueue=null,Ah.current=xV,t=n(r,i)}while(bu)}if(Ah.current=dp,e=$t!==null&&$t.next!==null,Da=0,Ht=$t=bt=null,up=!1,e)throw Error(le(300));return t}function Xw(){var t=Xu!==0;return Xu=0,t}function Wr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?bt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function vr(){if($t===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Ht===null?bt.memoizedState:Ht.next;if(e!==null)Ht=e,$t=t;else{if(t===null)throw Error(le(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ht===null?bt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Qu(t,e){return typeof e=="function"?e(t):e}function sx(t){var e=vr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Da&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,bt.lanes|=d,La|=d}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=l,Vr(r,e.memoizedState)||(Un=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,La|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ax(t){var e=vr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Vr(s,e.memoizedState)||(Un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rR(){}function iR(t,e){var n=bt,r=vr(),i=e(),s=!Vr(r.memoizedState,i);if(s&&(r.memoizedState=i,Un=!0),r=r.queue,Qw(oR.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,Zu(9,aR.bind(null,n,r,i,e),void 0,null),Kt===null)throw Error(le(349));Da&30||sR(n,e,i)}return i}function sR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aR(t,e,n,r){e.value=n,e.getSnapshot=r,lR(e)&&cR(t)}function oR(t,e,n){return n(function(){lR(e)&&cR(t)})}function lR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function cR(t){var e=Mi(t,1);e!==null&&Mr(e,t,1,-1)}function f2(t){var e=Wr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qu,lastRenderedState:t},e.queue=t,t=t.dispatch=pV.bind(null,bt,t),[e.memoizedState,t]}function Zu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uR(){return vr().memoizedState}function kh(t,e,n,r){var i=Wr();bt.flags|=t,i.memoizedState=Zu(1|e,n,void 0,r===void 0?null:r)}function ng(t,e,n,r){var i=vr();r=r===void 0?null:r;var s=void 0;if($t!==null){var o=$t.memoizedState;if(s=o.destroy,r!==null&&Jw(r,o.deps)){i.memoizedState=Zu(e,n,s,r);return}}bt.flags|=t,i.memoizedState=Zu(1|e,n,s,r)}function h2(t,e){return kh(8390656,8,t,e)}function Qw(t,e){return ng(2048,8,t,e)}function dR(t,e){return ng(4,2,t,e)}function fR(t,e){return ng(4,4,t,e)}function hR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pR(t,e,n){return n=n!=null?n.concat([t]):null,ng(4,4,hR.bind(null,e,t),n)}function Zw(){}function mR(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gR(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xR(t,e,n){return Da&21?(Vr(n,e)||(n=_I(),bt.lanes|=n,La|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Un=!0),t.memoizedState=n)}function fV(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=ix.transition;ix.transition={};try{t(!1),e()}finally{Qe=n,ix.transition=r}}function yR(){return vr().memoizedState}function hV(t,e,n){var r=Ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vR(t))bR(e,n);else if(n=eR(t,e,n,r),n!==null){var i=Rn();Mr(n,t,r,i),wR(n,e,r)}}function pV(t,e,n){var r=Ps(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vR(t))bR(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Vr(l,o)){var c=e.interleaved;c===null?(i.next=i,qw(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=eR(t,e,i,r),n!==null&&(i=Rn(),Mr(n,t,r,i),wR(n,e,r))}}function vR(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function bR(t,e){bu=up=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,jw(t,n)}}var dp={readContext:yr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},mV={readContext:yr,useCallback:function(t,e){return Wr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:h2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kh(4194308,4,hR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return kh(4,2,t,e)},useMemo:function(t,e){var n=Wr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hV.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Wr();return t={current:t},e.memoizedState=t},useState:f2,useDebugValue:Zw,useDeferredValue:function(t){return Wr().memoizedState=t},useTransition:function(){var t=f2(!1),e=t[0];return t=fV.bind(null,t[1]),Wr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,i=Wr();if(gt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Kt===null)throw Error(le(349));Da&30||sR(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,h2(oR.bind(null,r,s,t),[t]),r.flags|=2048,Zu(9,aR.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Wr(),e=Kt.identifierPrefix;if(gt){var n=wi,r=bi;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dV++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gV={readContext:yr,useCallback:mR,useContext:yr,useEffect:Qw,useImperativeHandle:pR,useInsertionEffect:dR,useLayoutEffect:fR,useMemo:gR,useReducer:sx,useRef:uR,useState:function(){return sx(Qu)},useDebugValue:Zw,useDeferredValue:function(t){var e=vr();return xR(e,$t.memoizedState,t)},useTransition:function(){var t=sx(Qu)[0],e=vr().memoizedState;return[t,e]},useMutableSource:rR,useSyncExternalStore:iR,useId:yR,unstable_isNewReconciler:!1},xV={readContext:yr,useCallback:mR,useContext:yr,useEffect:Qw,useImperativeHandle:pR,useInsertionEffect:dR,useLayoutEffect:fR,useMemo:gR,useReducer:ax,useRef:uR,useState:function(){return ax(Qu)},useDebugValue:Zw,useDeferredValue:function(t){var e=vr();return $t===null?e.memoizedState=t:xR(e,$t.memoizedState,t)},useTransition:function(){var t=ax(Qu)[0],e=vr().memoizedState;return[t,e]},useMutableSource:rR,useSyncExternalStore:iR,useId:yR,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Oy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rg={isMounted:function(t){return(t=t._reactInternals)?Qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Ps(t),s=ki(r,i);s.payload=e,n!=null&&(s.callback=n),e=Cs(t,s,i),e!==null&&(Mr(e,t,i,r),Th(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Ps(t),s=ki(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Cs(t,s,i),e!==null&&(Mr(e,t,i,r),Th(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Ps(t),i=ki(n,r);i.tag=2,e!=null&&(i.callback=e),e=Cs(t,i,r),e!==null&&(Mr(e,t,r,n),Th(e,t,r))}};function p2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Gu(n,r)||!Gu(i,s):!0}function _R(t,e,n){var r=!1,i=Fs,s=e.contextType;return typeof s=="object"&&s!==null?s=yr(s):(i=qn(e)?Ma:_n.current,r=e.contextTypes,s=(r=r!=null)?ol(t,i):Fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function m2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rg.enqueueReplaceState(e,e.state,null)}function Dy(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yr(s):(s=qn(e)?Ma:_n.current,i.context=ol(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Oy(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rg.enqueueReplaceState(i,i.state,null),lp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=G$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ox(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ly(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yV=typeof WeakMap=="function"?WeakMap:Map;function NR(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hp||(hp=!0,Wy=r),Ly(t,e)},n}function SR(t,e,n){n=ki(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ly(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ly(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function g2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IV.bind(null,t,e,n),e.then(t,t))}function x2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function y2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,Cs(n,e,1))),n.lanes|=1),t)}var vV=Wi.ReactCurrentOwner,Un=!1;function kn(t,e,n,r){e.child=t===null?ZI(e,null,n,r):cl(e,t.child,n,r)}function v2(t,e,n,r,i){n=n.render;var s=e.ref;return qo(e,i),r=Yw(t,e,n,r,s,i),n=Xw(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(gt&&n&&$w(e),e.flags|=1,kn(t,e,r,i),e.child)}function b2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!o1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ER(t,e,s,r,i)):(t=Ih(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Gu,n(o,r)&&t.ref===e.ref)return Oi(t,e,i)}return e.flags|=1,t=Is(s,r),t.ref=e.ref,t.return=e,e.child=t}function ER(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Gu(s,r)&&t.ref===e.ref)if(Un=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Un=!0);else return e.lanes=t.lanes,Oi(t,e,i)}return $y(t,e,n,r,i)}function TR(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(jo,Yn),Yn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(jo,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(jo,Yn),Yn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(jo,Yn),Yn|=r;return kn(t,e,i,n),e.child}function AR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $y(t,e,n,r,i){var s=qn(n)?Ma:_n.current;return s=ol(e,s),qo(e,i),n=Yw(t,e,n,r,s,i),r=Xw(),t!==null&&!Un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Oi(t,e,i)):(gt&&r&&$w(e),e.flags|=1,kn(t,e,n,i),e.child)}function w2(t,e,n,r,i){if(qn(n)){var s=!0;rp(e)}else s=!1;if(qo(e,i),e.stateNode===null)Ch(t,e),_R(e,n,r),Dy(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yr(u):(u=qn(n)?Ma:_n.current,u=ol(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&m2(e,o,r,u),cs=!1;var h=e.memoizedState;o.state=h,lp(e,r,o,i),c=e.memoizedState,l!==r||h!==c||zn.current||cs?(typeof d=="function"&&(Oy(e,n,d,r),c=e.memoizedState),(l=cs||p2(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:kr(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=yr(c):(c=qn(n)?Ma:_n.current,c=ol(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&m2(e,o,r,c),cs=!1,h=e.memoizedState,o.state=h,lp(e,r,o,i);var y=e.memoizedState;l!==f||h!==y||zn.current||cs?(typeof x=="function"&&(Oy(e,n,x,r),y=e.memoizedState),(u=cs||p2(e,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,s,i)}function Vy(t,e,n,r,i,s){AR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&a2(e,n,!1),Oi(t,e,s);r=e.stateNode,vV.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=cl(e,t.child,null,s),e.child=cl(e,null,l,s)):kn(t,e,l,s),e.memoizedState=r.state,i&&a2(e,n,!0),e.child}function kR(t){var e=t.stateNode;e.pendingContext?s2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&s2(t,e.context,!1),Hw(t,e.containerInfo)}function _2(t,e,n,r,i){return ll(),Fw(i),e.flags|=256,kn(t,e,n,r),e.child}var Fy={dehydrated:null,treeContext:null,retryLane:0};function Uy(t){return{baseLanes:t,cachePool:null,transitions:null}}function CR(t,e,n){var r=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(yt,i&1),t===null)return Ry(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ag(o,r,0,null),t=Aa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Uy(n),e.memoizedState=Fy,t):e1(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return bV(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Is(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Is(l,s):(s=Aa(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Uy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fy,r}return s=t.child,t=s.sibling,r=Is(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e1(t,e){return e=ag({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wf(t,e,n,r){return r!==null&&Fw(r),cl(e,t.child,null,n),t=e1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bV(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ox(Error(le(422))),Wf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ag({mode:"visible",children:r.children},i,0,null),s=Aa(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&cl(e,t.child,null,o),e.child.memoizedState=Uy(o),e.memoizedState=Fy,s);if(!(e.mode&1))return Wf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(le(419)),r=ox(s,r,void 0),Wf(t,e,o,r)}if(l=(o&t.childLanes)!==0,Un||l){if(r=Kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Mi(t,i),Mr(r,t,i,-1))}return a1(),r=ox(Error(le(421))),Wf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zn=ks(i.nextSibling),er=e,gt=!0,Pr=null,t!==null&&(ur[dr++]=bi,ur[dr++]=wi,ur[dr++]=Oa,bi=t.id,wi=t.overflow,Oa=e),e=e1(e,r.children),e.flags|=4096,e)}function N2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),My(t.return,e,n)}function lx(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jR(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(kn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N2(t,n,e);else if(t.tag===19)N2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(yt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&cp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lx(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&cp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lx(e,!0,n,null,s);break;case"together":lx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ch(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Is(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Is(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wV(t,e,n){switch(e.tag){case 3:kR(e),ll();break;case 5:nR(e);break;case 1:qn(e.type)&&rp(e);break;case 4:Hw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(ap,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?CR(t,e,n):(lt(yt,yt.current&1),t=Oi(t,e,n),t!==null?t.sibling:null);lt(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return jR(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,TR(t,e,n)}return Oi(t,e,n)}var PR,By,IR,RR;PR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};By=function(){};IR=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,va(ei.current);var s=null;switch(n){case"input":i=uy(t,i),r=uy(t,r),s=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),s=[];break;case"textarea":i=hy(t,i),r=hy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=tp)}my(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($u.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($u.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&dt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bc(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _V(t,e,n){var r=e.pendingProps;switch(Vw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return qn(e.type)&&np(),hn(e),null;case 3:return r=e.stateNode,ul(),pt(zn),pt(_n),Kw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pr!==null&&(Yy(Pr),Pr=null))),By(t,e),hn(e),null;case 5:Ww(e);var i=va(Yu.current);if(n=e.type,t!==null&&e.stateNode!=null)IR(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return hn(e),null}if(t=va(ei.current),Gf(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kr]=e,r[Ku]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<ou.length;i++)dt(ou[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":IS(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":MS(r,s),dt("invalid",r)}my(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&qf(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&qf(r.textContent,l,t),i=["children",""+l]):$u.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":Df(r),RS(r,s,!0);break;case"textarea":Df(r),OS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=tp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Kr]=e,t[Ku]=r,PR(t,e,!1,!1),e.stateNode=t;e:{switch(o=gy(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<ou.length;i++)dt(ou[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":IS(t,r),i=uy(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),dt("invalid",t);break;case"textarea":MS(t,r),i=hy(t,r),dt("invalid",t);break;default:i=r}my(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?uI(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lI(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vu(t,c):typeof c=="number"&&Vu(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&($u.hasOwnProperty(s)?c!=null&&s==="onScroll"&&dt("scroll",t):c!=null&&Sw(t,s,c,o))}switch(n){case"input":Df(t),RS(t,r,!1);break;case"textarea":Df(t),OS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)RR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=va(Yu.current),va(ei.current),Gf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kr]=e,(s=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:qf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kr]=e,e.stateNode=r}return hn(e),null;case 13:if(pt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Zn!==null&&e.mode&1&&!(e.flags&128))XI(),ll(),e.flags|=98560,s=!1;else if(s=Gf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Kr]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),s=!1}else Pr!==null&&(Yy(Pr),Pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Ft===0&&(Ft=3):a1())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return ul(),By(t,e),t===null&&Hu(e.stateNode.containerInfo),hn(e),null;case 10:return zw(e.type._context),hn(e),null;case 17:return qn(e.type)&&np(),hn(e),null;case 19:if(pt(yt),s=e.memoizedState,s===null)return hn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Bc(s,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=cp(t),o!==null){for(e.flags|=128,Bc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ct()>fl&&(e.flags|=128,r=!0,Bc(s,!1),e.lanes=4194304)}else{if(!r)if(t=cp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return hn(e),null}else 2*Ct()-s.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,Bc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,n=yt.current,lt(yt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return s1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function NV(t,e){switch(Vw(e),e.tag){case 1:return qn(e.type)&&np(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ul(),pt(zn),pt(_n),Kw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ww(e),null;case 13:if(pt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(yt),null;case 4:return ul(),null;case 10:return zw(e.type._context),null;case 22:case 23:return s1(),null;case 24:return null;default:return null}}var Kf=!1,xn=!1,SV=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function zy(t,e,n){try{n()}catch(r){St(t,e,r)}}var S2=!1;function EV(t,e){if(Ty=Qh,t=$I(),Lw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===i&&(l=o),h===s&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ay={focusedElem:t,selectionRange:n},Qh=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,v=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:kr(e.type,b),v);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(C){St(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=S2,S2=!1,y}function wu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&zy(e,n,s)}i=i.next}while(i!==r)}}function ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function MR(t){var e=t.alternate;e!==null&&(t.alternate=null,MR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kr],delete e[Ku],delete e[jy],delete e[oV],delete e[lV])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function OR(t){return t.tag===5||t.tag===3||t.tag===4}function E2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||OR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=tp));else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}function Hy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hy(t,e,n),t=t.sibling;t!==null;)Hy(t,e,n),t=t.sibling}var en=null,Cr=!1;function ss(t,e,n){for(n=n.child;n!==null;)DR(t,e,n),n=n.sibling}function DR(t,e,n){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(Ym,n)}catch{}switch(n.tag){case 5:xn||Co(n,e);case 6:var r=en,i=Cr;en=null,ss(t,e,n),en=r,Cr=i,en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(Cr?(t=en,n=n.stateNode,t.nodeType===8?tx(t.parentNode,n):t.nodeType===1&&tx(t,n),zu(t)):tx(en,n.stateNode));break;case 4:r=en,i=Cr,en=n.stateNode.containerInfo,Cr=!0,ss(t,e,n),en=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&zy(n,e,o),i=i.next}while(i!==r)}ss(t,e,n);break;case 1:if(!xn&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){St(n,e,l)}ss(t,e,n);break;case 21:ss(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,ss(t,e,n),xn=r):ss(t,e,n);break;default:ss(t,e,n)}}function T2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SV),e.forEach(function(r){var i=MV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:en=l.stateNode,Cr=!1;break e;case 3:en=l.stateNode.containerInfo,Cr=!0;break e;case 4:en=l.stateNode.containerInfo,Cr=!0;break e}l=l.return}if(en===null)throw Error(le(160));DR(s,o,i),en=null,Cr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){St(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LR(e,t),e=e.sibling}function LR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tr(e,t),Hr(t),r&4){try{wu(3,t,t.return),ig(3,t)}catch(b){St(t,t.return,b)}try{wu(5,t,t.return)}catch(b){St(t,t.return,b)}}break;case 1:Tr(e,t),Hr(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Tr(e,t),Hr(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var i=t.stateNode;try{Vu(i,"")}catch(b){St(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&sI(i,s),gy(l,o);var u=gy(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?uI(i,f):d==="dangerouslySetInnerHTML"?lI(i,f):d==="children"?Vu(i,f):Sw(i,d,f,u)}switch(l){case"input":dy(i,s);break;case"textarea":aI(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Fo(i,!!s.multiple,x,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ku]=s}catch(b){St(t,t.return,b)}}break;case 6:if(Tr(e,t),Hr(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){St(t,t.return,b)}}break;case 3:if(Tr(e,t),Hr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zu(e.containerInfo)}catch(b){St(t,t.return,b)}break;case 4:Tr(e,t),Hr(t);break;case 13:Tr(e,t),Hr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(r1=Ct())),r&4&&T2(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||d,Tr(e,t),xn=u):Tr(e,t),Hr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(h=xe,x=h.child,h.tag){case 0:case 11:case 14:case 15:wu(4,h,h.return);break;case 1:Co(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){St(r,n,b)}}break;case 5:Co(h,h.return);break;case 22:if(h.memoizedState!==null){k2(f);continue}}x!==null?(x.return=h,xe=x):k2(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cI("display",o))}catch(b){St(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){St(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tr(e,t),Hr(t),r&4&&T2(t);break;case 21:break;default:Tr(e,t),Hr(t)}}function Hr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(OR(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vu(i,""),r.flags&=-33);var s=E2(t);Hy(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=E2(t);Gy(t,l,o);break;default:throw Error(le(161))}}catch(c){St(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TV(t,e,n){xe=t,$R(t)}function $R(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var i=xe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Kf;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Kf;var u=xn;if(Kf=o,(xn=c)&&!u)for(xe=i;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?C2(i):c!==null?(c.return=o,xe=c):C2(i);for(;s!==null;)xe=s,$R(s),s=s.sibling;xe=i,Kf=l,xn=u}A2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xe=s):A2(t)}}function A2(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||ig(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&d2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}d2(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}xn||e.flags&512&&qy(e)}catch(h){St(e,e.return,h)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function k2(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function C2(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ig(4,e)}catch(c){St(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){St(e,i,c)}}var s=e.return;try{qy(e)}catch(c){St(e,s,c)}break;case 5:var o=e.return;try{qy(e)}catch(c){St(e,o,c)}}}catch(c){St(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var AV=Math.ceil,fp=Wi.ReactCurrentDispatcher,t1=Wi.ReactCurrentOwner,mr=Wi.ReactCurrentBatchConfig,ze=0,Kt=null,Rt=null,nn=0,Yn=0,jo=Ks(0),Ft=0,ed=null,La=0,sg=0,n1=0,_u=null,Vn=null,r1=0,fl=1/0,xi=null,hp=!1,Wy=null,js=null,Jf=!1,vs=null,pp=0,Nu=0,Ky=null,jh=-1,Ph=0;function Rn(){return ze&6?Ct():jh!==-1?jh:jh=Ct()}function Ps(t){return t.mode&1?ze&2&&nn!==0?nn&-nn:uV.transition!==null?(Ph===0&&(Ph=_I()),Ph):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:CI(t.type)),t):1}function Mr(t,e,n,r){if(50<Nu)throw Nu=0,Ky=null,Error(le(185));Yd(t,n,r),(!(ze&2)||t!==Kt)&&(t===Kt&&(!(ze&2)&&(sg|=n),Ft===4&&fs(t,nn)),Gn(t,r),n===1&&ze===0&&!(e.mode&1)&&(fl=Ct()+500,tg&&Js()))}function Gn(t,e){var n=t.callbackNode;u3(t,e);var r=Xh(t,t===Kt?nn:0);if(r===0)n!==null&&$S(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$S(n),e===1)t.tag===0?cV(j2.bind(null,t)):KI(j2.bind(null,t)),sV(function(){!(ze&6)&&Js()}),n=null;else{switch(NI(r)){case 1:n=Cw;break;case 4:n=bI;break;case 16:n=Yh;break;case 536870912:n=wI;break;default:n=Yh}n=HR(n,VR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VR(t,e){if(jh=-1,Ph=0,ze&6)throw Error(le(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=Xh(t,t===Kt?nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=mp(t,r);else{e=r;var i=ze;ze|=2;var s=UR();(Kt!==t||nn!==e)&&(xi=null,fl=Ct()+500,Ta(t,e));do try{jV();break}catch(l){FR(t,l)}while(!0);Bw(),fp.current=s,ze=i,Rt!==null?e=0:(Kt=null,nn=0,e=Ft)}if(e!==0){if(e===2&&(i=wy(t),i!==0&&(r=i,e=Jy(t,i))),e===1)throw n=ed,Ta(t,0),fs(t,r),Gn(t,Ct()),n;if(e===6)fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!kV(i)&&(e=mp(t,r),e===2&&(s=wy(t),s!==0&&(r=s,e=Jy(t,s))),e===1))throw n=ed,Ta(t,0),fs(t,r),Gn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:ca(t,Vn,xi);break;case 3:if(fs(t,r),(r&130023424)===r&&(e=r1+500-Ct(),10<e)){if(Xh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Cy(ca.bind(null,t,Vn,xi),e);break}ca(t,Vn,xi);break;case 4:if(fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AV(r/1960))-r,10<r){t.timeoutHandle=Cy(ca.bind(null,t,Vn,xi),r);break}ca(t,Vn,xi);break;case 5:ca(t,Vn,xi);break;default:throw Error(le(329))}}}return Gn(t,Ct()),t.callbackNode===n?VR.bind(null,t):null}function Jy(t,e){var n=_u;return t.current.memoizedState.isDehydrated&&(Ta(t,e).flags|=256),t=mp(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&Yy(e)),t}function Yy(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function kV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Vr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fs(t,e){for(e&=~n1,e&=~sg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function j2(t){if(ze&6)throw Error(le(327));Go();var e=Xh(t,0);if(!(e&1))return Gn(t,Ct()),null;var n=mp(t,e);if(t.tag!==0&&n===2){var r=wy(t);r!==0&&(e=r,n=Jy(t,r))}if(n===1)throw n=ed,Ta(t,0),fs(t,e),Gn(t,Ct()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ca(t,Vn,xi),Gn(t,Ct()),null}function i1(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(fl=Ct()+500,tg&&Js())}}function $a(t){vs!==null&&vs.tag===0&&!(ze&6)&&Go();var e=ze;ze|=1;var n=mr.transition,r=Qe;try{if(mr.transition=null,Qe=1,t)return t()}finally{Qe=r,mr.transition=n,ze=e,!(ze&6)&&Js()}}function s1(){Yn=jo.current,pt(jo)}function Ta(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iV(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Vw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&np();break;case 3:ul(),pt(zn),pt(_n),Kw();break;case 5:Ww(r);break;case 4:ul();break;case 13:pt(yt);break;case 19:pt(yt);break;case 10:zw(r.type._context);break;case 22:case 23:s1()}n=n.return}if(Kt=t,Rt=t=Is(t.current,null),nn=Yn=e,Ft=0,ed=null,n1=sg=La=0,Vn=_u=null,ya!==null){for(e=0;e<ya.length;e++)if(n=ya[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ya=null}return t}function FR(t,e){do{var n=Rt;try{if(Bw(),Ah.current=dp,up){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}up=!1}if(Da=0,Ht=$t=bt=null,bu=!1,Xu=0,t1.current=null,n===null||n.return===null){Ft=1,ed=e,Rt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=x2(o);if(x!==null){x.flags&=-257,y2(x,o,l,s,e),x.mode&1&&g2(s,u,e),e=x,c=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(c),e.updateQueue=b}else y.add(c);break e}else{if(!(e&1)){g2(s,u,e),a1();break e}c=Error(le(426))}}else if(gt&&l.mode&1){var v=x2(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),y2(v,o,l,s,e),Fw(dl(c,l));break e}}s=c=dl(c,l),Ft!==4&&(Ft=2),_u===null?_u=[s]:_u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=NR(s,c,e);u2(s,_);break e;case 1:l=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(js===null||!js.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=SR(s,l,e);u2(s,C);break e}}s=s.return}while(s!==null)}zR(n)}catch(T){e=T,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function UR(){var t=fp.current;return fp.current=dp,t===null?dp:t}function a1(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Kt===null||!(La&268435455)&&!(sg&268435455)||fs(Kt,nn)}function mp(t,e){var n=ze;ze|=2;var r=UR();(Kt!==t||nn!==e)&&(xi=null,Ta(t,e));do try{CV();break}catch(i){FR(t,i)}while(!0);if(Bw(),ze=n,fp.current=r,Rt!==null)throw Error(le(261));return Kt=null,nn=0,Ft}function CV(){for(;Rt!==null;)BR(Rt)}function jV(){for(;Rt!==null&&!t3();)BR(Rt)}function BR(t){var e=GR(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?zR(t):Rt=e,t1.current=null}function zR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NV(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Rt=null;return}}else if(n=_V(n,e,Yn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ft===0&&(Ft=5)}function ca(t,e,n){var r=Qe,i=mr.transition;try{mr.transition=null,Qe=1,PV(t,e,n,r)}finally{mr.transition=i,Qe=r}return null}function PV(t,e,n,r){do Go();while(vs!==null);if(ze&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(d3(t,s),t===Kt&&(Rt=Kt=null,nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jf||(Jf=!0,HR(Yh,function(){return Go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var o=Qe;Qe=1;var l=ze;ze|=4,t1.current=null,EV(t,n),LR(n,t),X3(Ay),Qh=!!Ty,Ay=Ty=null,t.current=n,TV(n),n3(),ze=l,Qe=o,mr.transition=s}else t.current=n;if(Jf&&(Jf=!1,vs=t,pp=i),s=t.pendingLanes,s===0&&(js=null),s3(n.stateNode),Gn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hp)throw hp=!1,t=Wy,Wy=null,t;return pp&1&&t.tag!==0&&Go(),s=t.pendingLanes,s&1?t===Ky?Nu++:(Nu=0,Ky=t):Nu=0,Js(),null}function Go(){if(vs!==null){var t=NI(pp),e=mr.transition,n=Qe;try{if(mr.transition=null,Qe=16>t?16:t,vs===null)var r=!1;else{if(t=vs,vs=null,pp=0,ze&6)throw Error(le(331));var i=ze;for(ze|=4,xe=t.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:wu(8,d,s)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var h=d.sibling,x=d.return;if(MR(d),d===u){xe=null;break}if(h!==null){h.return=x,xe=h;break}xe=x}}}var y=s.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:wu(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,xe=_;break e}xe=s.return}}var w=t.current;for(xe=w;xe!==null;){o=xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,xe=S;else e:for(o=w;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ig(9,l)}}catch(T){St(l,l.return,T)}if(l===o){xe=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,xe=C;break e}xe=l.return}}if(ze=i,Js(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(Ym,t)}catch{}r=!0}return r}finally{Qe=n,mr.transition=e}}return!1}function P2(t,e,n){e=dl(n,e),e=NR(t,e,1),t=Cs(t,e,1),e=Rn(),t!==null&&(Yd(t,1,e),Gn(t,e))}function St(t,e,n){if(t.tag===3)P2(t,t,n);else for(;e!==null;){if(e.tag===3){P2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=dl(n,t),t=SR(e,t,1),e=Cs(e,t,1),t=Rn(),e!==null&&(Yd(e,1,t),Gn(e,t));break}}e=e.return}}function IV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Kt===t&&(nn&n)===n&&(Ft===4||Ft===3&&(nn&130023424)===nn&&500>Ct()-r1?Ta(t,0):n1|=n),Gn(t,e)}function qR(t,e){e===0&&(t.mode&1?(e=Vf,Vf<<=1,!(Vf&130023424)&&(Vf=4194304)):e=1);var n=Rn();t=Mi(t,e),t!==null&&(Yd(t,e,n),Gn(t,n))}function RV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qR(t,n)}function MV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),qR(t,n)}var GR;GR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zn.current)Un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Un=!1,wV(t,e,n);Un=!!(t.flags&131072)}else Un=!1,gt&&e.flags&1048576&&JI(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ch(t,e),t=e.pendingProps;var i=ol(e,_n.current);qo(e,n),i=Yw(null,e,r,t,i,n);var s=Xw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qn(r)?(s=!0,rp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gw(e),i.updater=rg,e.stateNode=i,i._reactInternals=e,Dy(e,r,t,n),e=Vy(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&$w(e),kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ch(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=DV(r),t=kr(r,t),i){case 0:e=$y(null,e,r,t,n);break e;case 1:e=w2(null,e,r,t,n);break e;case 11:e=v2(null,e,r,t,n);break e;case 14:e=b2(null,e,r,kr(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),$y(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),w2(t,e,r,i,n);case 3:e:{if(kR(e),t===null)throw Error(le(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tR(t,e),lp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=dl(Error(le(423)),e),e=_2(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(le(424)),e),e=_2(t,e,r,n,i);break e}else for(Zn=ks(e.stateNode.containerInfo.firstChild),er=e,gt=!0,Pr=null,n=ZI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){e=Oi(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return nR(e),t===null&&Ry(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ky(r,i)?o=null:s!==null&&ky(r,s)&&(e.flags|=32),AR(t,e),kn(t,e,o,n),e.child;case 6:return t===null&&Ry(e),null;case 13:return CR(t,e,n);case 4:return Hw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=cl(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),v2(t,e,r,i,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(ap,r._currentValue),r._currentValue=o,s!==null)if(Vr(s.value,o)){if(s.children===i.children&&!zn.current){e=Oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ki(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),My(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),My(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,qo(e,n),i=yr(i),r=r(i),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),b2(t,e,r,i,n);case 15:return ER(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),Ch(t,e),e.tag=1,qn(r)?(t=!0,rp(e)):t=!1,qo(e,n),_R(e,r,i),Dy(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return jR(t,e,n);case 22:return TR(t,e,n)}throw Error(le(156,e.tag))};function HR(t,e){return vI(t,e)}function OV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,e,n,r){return new OV(t,e,n,r)}function o1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DV(t){if(typeof t=="function")return o1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tw)return 11;if(t===Aw)return 14}return 2}function Is(t,e){var n=t.alternate;return n===null?(n=hr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ih(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")o1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bo:return Aa(n.children,i,s,e);case Ew:o=8,i|=8;break;case ay:return t=hr(12,n,e,i|2),t.elementType=ay,t.lanes=s,t;case oy:return t=hr(13,n,e,i),t.elementType=oy,t.lanes=s,t;case ly:return t=hr(19,n,e,i),t.elementType=ly,t.lanes=s,t;case nI:return ag(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:o=10;break e;case tI:o=9;break e;case Tw:o=11;break e;case Aw:o=14;break e;case ls:o=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=hr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Aa(t,e,n,r){return t=hr(7,t,r,e),t.lanes=n,t}function ag(t,e,n,r){return t=hr(22,t,r,e),t.elementType=nI,t.lanes=n,t.stateNode={isHidden:!1},t}function cx(t,e,n){return t=hr(6,t,null,e),t.lanes=n,t}function ux(t,e,n){return e=hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=q0(0),this.expirationTimes=q0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=q0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l1(t,e,n,r,i,s,o,l,c){return t=new LV(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gw(s),t}function $V(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function WR(t){if(!t)return Fs;t=t._reactInternals;e:{if(Qa(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(qn(n))return WI(t,n,e)}return e}function KR(t,e,n,r,i,s,o,l,c){return t=l1(n,r,!0,t,i,s,o,l,c),t.context=WR(null),n=t.current,r=Rn(),i=Ps(n),s=ki(r,i),s.callback=e??null,Cs(n,s,i),t.current.lanes=i,Yd(t,i,r),Gn(t,r),t}function og(t,e,n,r){var i=e.current,s=Rn(),o=Ps(i);return n=WR(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Cs(i,e,o),t!==null&&(Mr(t,i,o,s),Th(t,i,o)),o}function gp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function I2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c1(t,e){I2(t,e),(t=t.alternate)&&I2(t,e)}function VV(){return null}var JR=typeof reportError=="function"?reportError:function(t){console.error(t)};function u1(t){this._internalRoot=t}lg.prototype.render=u1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));og(t,e,null,null)};lg.prototype.unmount=u1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$a(function(){og(null,t,null,null)}),e[Ri]=null}};function lg(t){this._internalRoot=t}lg.prototype.unstable_scheduleHydration=function(t){if(t){var e=TI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ds.length&&e!==0&&e<ds[n].priority;n++);ds.splice(n,0,t),n===0&&kI(t)}};function d1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R2(){}function FV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gp(o);s.call(u)}}var o=KR(e,r,t,0,null,!1,!1,"",R2);return t._reactRootContainer=o,t[Ri]=o.current,Hu(t.nodeType===8?t.parentNode:t),$a(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=gp(c);l.call(u)}}var c=l1(t,0,!1,null,null,!1,!1,"",R2);return t._reactRootContainer=c,t[Ri]=c.current,Hu(t.nodeType===8?t.parentNode:t),$a(function(){og(e,c,n,r)}),c}function ug(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=gp(o);l.call(c)}}og(e,o,t,i)}else o=FV(n,e,t,i,r);return gp(o)}SI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=au(e.pendingLanes);n!==0&&(jw(e,n|1),Gn(e,Ct()),!(ze&6)&&(fl=Ct()+500,Js()))}break;case 13:$a(function(){var r=Mi(t,1);if(r!==null){var i=Rn();Mr(r,t,1,i)}}),c1(t,1)}};Pw=function(t){if(t.tag===13){var e=Mi(t,134217728);if(e!==null){var n=Rn();Mr(e,t,134217728,n)}c1(t,134217728)}};EI=function(t){if(t.tag===13){var e=Ps(t),n=Mi(t,e);if(n!==null){var r=Rn();Mr(n,t,e,r)}c1(t,e)}};TI=function(){return Qe};AI=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};yy=function(t,e,n){switch(e){case"input":if(dy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eg(r);if(!i)throw Error(le(90));iI(r),dy(r,i)}}}break;case"textarea":aI(t,n);break;case"select":e=n.value,e!=null&&Fo(t,!!n.multiple,e,!1)}};hI=i1;pI=$a;var UV={usingClientEntryPoint:!1,Events:[Qd,So,eg,dI,fI,i1]},zc={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},BV={bundleType:zc.bundleType,version:zc.version,rendererPackageName:zc.rendererPackageName,rendererConfig:zc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xI(t),t===null?null:t.stateNode},findFiberByHostInstance:zc.findFiberByHostInstance||VV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{Ym=Yf.inject(BV),Zr=Yf}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UV;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d1(e))throw Error(le(200));return $V(t,e,null,n)};sr.createRoot=function(t,e){if(!d1(t))throw Error(le(299));var n=!1,r="",i=JR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l1(t,1,!1,null,null,n,!1,r,i),t[Ri]=e.current,Hu(t.nodeType===8?t.parentNode:t),new u1(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=xI(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return $a(t)};sr.hydrate=function(t,e,n){if(!cg(e))throw Error(le(200));return ug(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!d1(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=JR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KR(e,null,t,1,n??null,i,!1,s,o),t[Ri]=e.current,Hu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lg(e)};sr.render=function(t,e,n){if(!cg(e))throw Error(le(200));return ug(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!cg(t))throw Error(le(40));return t._reactRootContainer?($a(function(){ug(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1};sr.unstable_batchedUpdates=i1;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cg(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return ug(t,e,n,!1,r)};sr.version="18.3.1-next-f1338f8080-20240426";function YR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YR)}catch(t){console.error(t)}}YR(),YP.exports=sr;var zV=YP.exports,M2=zV;iy.createRoot=M2.createRoot,iy.hydrateRoot=M2.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...qV,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${GV(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=te("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=te("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=te("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=te("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=te("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=te("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=te("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=te("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=te("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=te("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=te("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=te("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=te("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=te("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=te("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=te("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=te("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=te("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=te("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=te("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=te("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=te("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=te("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=te("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=te("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=te("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=te("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=te("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=te("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=te("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=te("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=te("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),AF=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{const[s,o]=D.useState([]);U.useEffect(()=>{o(c.map(u=>u.name))},[]);const l=u=>{o(d=>d.includes(u)?d.filter(f=>f!==u):[...d,u])},c=[{name:"Principal",icon:sF,items:[{id:"dashboard",label:"Dashboard",icon:aF}]},{name:"Comercial",icon:V2,items:[{id:"sales",label:"Ventas",icon:V2},{id:"remitos",label:"Remitos",icon:tM},{id:"quotes",label:"Cotizaciones",icon:_p},{id:"orders",label:"Pedidos",icon:Rh},{id:"clients",label:"Clientes",icon:_r},{id:"loyalty",label:"Fidelizacin",icon:tv},{id:"ecommerce",label:"E-Commerce",icon:Ms}]},{name:"Productos & Abastecimiento",icon:Qy,items:[{id:"inventory",label:"Inventario",icon:Qy},{id:"missing-items",label:"Faltantes",icon:eM},{id:"stock-adjustment",label:"Ajuste de Stock",icon:pl},{id:"bulk-modification",label:"Modificacin Masiva",icon:h1},{id:"warehouse",label:"Depsito",icon:rv},{id:"purchase-orders",label:"Pedidos Compra",icon:lF},{id:"suppliers",label:"Proveedores",icon:oi},{id:"prices",label:"Lista Precios",icon:Eu},{id:"bulk-import",label:"Importar Datos",icon:ev}]},{name:"Administracin & Finanzas",icon:id,items:[{id:"cashier",label:"Cajas y Pagos",icon:id},{id:"purchases",label:"Compras & IA",icon:ml},{id:"balances",label:"Saldos y Deudas",icon:rd},{id:"installments",label:"Cuotas Internas",icon:Rs},{id:"finance",label:"Finanzas",icon:Fr},{id:"reports",label:"Informes e IVA",icon:JV}]},{name:"Configuracin",icon:Us,items:[{id:"branches",label:"Sucursales",icon:Po},{id:"users",label:"Usuarios",icon:TF},{id:"settings",label:"Configuracin",icon:Us},{id:"data",label:"Gestin de Datos",icon:Xy}]},{name:"Integraciones",icon:Su,items:[{id:"integrations",label:"Conexiones Externas",icon:Su}]}];return a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n.logo&&n.showLogoInSidebar?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Mh,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:n.name})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar text-left overscroll-contain",children:c.map(u=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>l(u.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(u.icon,{className:"w-4 h-4"}),u.name]}),a.jsx(ZR,{className:`w-4 h-4 transition-transform ${s.includes(u.name)?"rotate-0":"-rotate-90"}`})]}),s.includes(u.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:u.items.map(d=>a.jsxs("button",{onClick:()=>e(d.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===d.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(d.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:d.label})]},d.id))})]},u.name))}),a.jsxs("div",{className:"p-4 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[" ",a.jsx("img",{src:"https://picsum.photos/40/40",className:"w-10 h-10 rounded-full border border-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(cF,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]})]})};function lM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Oe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lM(t))&&(r&&(r+=" "),r+=e);return r}var kF=Array.isArray,Wn=kF,CF=typeof Rf=="object"&&Rf&&Rf.Object===Object&&Rf,cM=CF,jF=cM,PF=typeof self=="object"&&self&&self.Object===Object&&self,IF=jF||PF||Function("return this")(),di=IF,RF=di,MF=RF.Symbol,tf=MF,G2=tf,uM=Object.prototype,OF=uM.hasOwnProperty,DF=uM.toString,qc=G2?G2.toStringTag:void 0;function LF(t){var e=OF.call(t,qc),n=t[qc];try{t[qc]=void 0;var r=!0}catch{}var i=DF.call(t);return r&&(e?t[qc]=n:delete t[qc]),i}var $F=LF,VF=Object.prototype,FF=VF.toString;function UF(t){return FF.call(t)}var BF=UF,H2=tf,zF=$F,qF=BF,GF="[object Null]",HF="[object Undefined]",W2=H2?H2.toStringTag:void 0;function WF(t){return t==null?t===void 0?HF:GF:W2&&W2 in Object(t)?zF(t):qF(t)}var Ki=WF;function KF(t){return t!=null&&typeof t=="object"}var Ji=KF,JF=Ki,YF=Ji,XF="[object Symbol]";function QF(t){return typeof t=="symbol"||YF(t)&&JF(t)==XF}var ec=QF,ZF=Wn,eU=ec,tU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nU=/^\w*$/;function rU(t,e){if(ZF(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||eU(t)?!0:nU.test(t)||!tU.test(t)||e!=null&&t in Object(e)}var w1=rU;function iU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ys=iU;const tc=Ze(Ys);var sU=Ki,aU=Ys,oU="[object AsyncFunction]",lU="[object Function]",cU="[object GeneratorFunction]",uU="[object Proxy]";function dU(t){if(!aU(t))return!1;var e=sU(t);return e==lU||e==cU||e==oU||e==uU}var _1=dU;const ke=Ze(_1);var fU=di,hU=fU["__core-js_shared__"],pU=hU,px=pU,K2=function(){var t=/[^.]+$/.exec(px&&px.keys&&px.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function mU(t){return!!K2&&K2 in t}var gU=mU,xU=Function.prototype,yU=xU.toString;function vU(t){if(t!=null){try{return yU.call(t)}catch{}try{return t+""}catch{}}return""}var dM=vU,bU=_1,wU=gU,_U=Ys,NU=dM,SU=/[\\^$.*+?()[\]{}|]/g,EU=/^\[object .+?Constructor\]$/,TU=Function.prototype,AU=Object.prototype,kU=TU.toString,CU=AU.hasOwnProperty,jU=RegExp("^"+kU.call(CU).replace(SU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function PU(t){if(!_U(t)||wU(t))return!1;var e=bU(t)?jU:EU;return e.test(NU(t))}var IU=PU;function RU(t,e){return t==null?void 0:t[e]}var MU=RU,OU=IU,DU=MU;function LU(t,e){var n=DU(t,e);return OU(n)?n:void 0}var Za=LU,$U=Za,VU=$U(Object,"create"),fg=VU,J2=fg;function FU(){this.__data__=J2?J2(null):{},this.size=0}var UU=FU;function BU(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var zU=BU,qU=fg,GU="__lodash_hash_undefined__",HU=Object.prototype,WU=HU.hasOwnProperty;function KU(t){var e=this.__data__;if(qU){var n=e[t];return n===GU?void 0:n}return WU.call(e,t)?e[t]:void 0}var JU=KU,YU=fg,XU=Object.prototype,QU=XU.hasOwnProperty;function ZU(t){var e=this.__data__;return YU?e[t]!==void 0:QU.call(e,t)}var e8=ZU,t8=fg,n8="__lodash_hash_undefined__";function r8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=t8&&e===void 0?n8:e,this}var i8=r8,s8=UU,a8=zU,o8=JU,l8=e8,c8=i8;function nc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}nc.prototype.clear=s8;nc.prototype.delete=a8;nc.prototype.get=o8;nc.prototype.has=l8;nc.prototype.set=c8;var u8=nc;function d8(){this.__data__=[],this.size=0}var f8=d8;function h8(t,e){return t===e||t!==t&&e!==e}var N1=h8,p8=N1;function m8(t,e){for(var n=t.length;n--;)if(p8(t[n][0],e))return n;return-1}var hg=m8,g8=hg,x8=Array.prototype,y8=x8.splice;function v8(t){var e=this.__data__,n=g8(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():y8.call(e,n,1),--this.size,!0}var b8=v8,w8=hg;function _8(t){var e=this.__data__,n=w8(e,t);return n<0?void 0:e[n][1]}var N8=_8,S8=hg;function E8(t){return S8(this.__data__,t)>-1}var T8=E8,A8=hg;function k8(t,e){var n=this.__data__,r=A8(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var C8=k8,j8=f8,P8=b8,I8=N8,R8=T8,M8=C8;function rc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rc.prototype.clear=j8;rc.prototype.delete=P8;rc.prototype.get=I8;rc.prototype.has=R8;rc.prototype.set=M8;var pg=rc,O8=Za,D8=di,L8=O8(D8,"Map"),S1=L8,Y2=u8,$8=pg,V8=S1;function F8(){this.size=0,this.__data__={hash:new Y2,map:new(V8||$8),string:new Y2}}var U8=F8;function B8(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var z8=B8,q8=z8;function G8(t,e){var n=t.__data__;return q8(e)?n[typeof e=="string"?"string":"hash"]:n.map}var mg=G8,H8=mg;function W8(t){var e=H8(this,t).delete(t);return this.size-=e?1:0,e}var K8=W8,J8=mg;function Y8(t){return J8(this,t).get(t)}var X8=Y8,Q8=mg;function Z8(t){return Q8(this,t).has(t)}var eB=Z8,tB=mg;function nB(t,e){var n=tB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var rB=nB,iB=U8,sB=K8,aB=X8,oB=eB,lB=rB;function ic(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ic.prototype.clear=iB;ic.prototype.delete=sB;ic.prototype.get=aB;ic.prototype.has=oB;ic.prototype.set=lB;var E1=ic,fM=E1,cB="Expected a function";function T1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(cB);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(T1.Cache||fM),n}T1.Cache=fM;var hM=T1;const uB=Ze(hM);var dB=hM,fB=500;function hB(t){var e=dB(t,function(r){return n.size===fB&&n.clear(),r}),n=e.cache;return e}var pB=hB,mB=pB,gB=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xB=/\\(\\)?/g,yB=mB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(gB,function(n,r,i,s){e.push(i?s.replace(xB,"$1"):r||n)}),e}),vB=yB;function bB(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var A1=bB,X2=tf,wB=A1,_B=Wn,NB=ec,Q2=X2?X2.prototype:void 0,Z2=Q2?Q2.toString:void 0;function pM(t){if(typeof t=="string")return t;if(_B(t))return wB(t,pM)+"";if(NB(t))return Z2?Z2.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var SB=pM,EB=SB;function TB(t){return t==null?"":EB(t)}var mM=TB,AB=Wn,kB=w1,CB=vB,jB=mM;function PB(t,e){return AB(t)?t:kB(t,e)?[t]:CB(jB(t))}var gM=PB,IB=ec;function RB(t){if(typeof t=="string"||IB(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var gg=RB,MB=gM,OB=gg;function DB(t,e){e=MB(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[OB(e[n++])];return n&&n==r?t:void 0}var k1=DB,LB=k1;function $B(t,e,n){var r=t==null?void 0:LB(t,e);return r===void 0?n:r}var xM=$B;const tr=Ze(xM);function VB(t){return t==null}var FB=VB;const Ie=Ze(FB);var UB=Ki,BB=Wn,zB=Ji,qB="[object String]";function GB(t){return typeof t=="string"||!BB(t)&&zB(t)&&UB(t)==qB}var HB=GB;const Fa=Ze(HB);var yM={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1=Symbol.for("react.element"),j1=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),WB=Symbol.for("react.server_context"),_g=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Sg=Symbol.for("react.suspense_list"),Eg=Symbol.for("react.memo"),Tg=Symbol.for("react.lazy"),KB=Symbol.for("react.offscreen"),vM;vM=Symbol.for("react.module.reference");function Nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case C1:switch(t=t.type,t){case xg:case vg:case yg:case Ng:case Sg:return t;default:switch(t=t&&t.$$typeof,t){case WB:case wg:case _g:case Tg:case Eg:case bg:return t;default:return e}}case j1:return e}}}et.ContextConsumer=wg;et.ContextProvider=bg;et.Element=C1;et.ForwardRef=_g;et.Fragment=xg;et.Lazy=Tg;et.Memo=Eg;et.Portal=j1;et.Profiler=vg;et.StrictMode=yg;et.Suspense=Ng;et.SuspenseList=Sg;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return Nr(t)===wg};et.isContextProvider=function(t){return Nr(t)===bg};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===C1};et.isForwardRef=function(t){return Nr(t)===_g};et.isFragment=function(t){return Nr(t)===xg};et.isLazy=function(t){return Nr(t)===Tg};et.isMemo=function(t){return Nr(t)===Eg};et.isPortal=function(t){return Nr(t)===j1};et.isProfiler=function(t){return Nr(t)===vg};et.isStrictMode=function(t){return Nr(t)===yg};et.isSuspense=function(t){return Nr(t)===Ng};et.isSuspenseList=function(t){return Nr(t)===Sg};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xg||t===vg||t===yg||t===Ng||t===Sg||t===KB||typeof t=="object"&&t!==null&&(t.$$typeof===Tg||t.$$typeof===Eg||t.$$typeof===bg||t.$$typeof===wg||t.$$typeof===_g||t.$$typeof===vM||t.getModuleId!==void 0)};et.typeOf=Nr;yM.exports=et;var JB=yM.exports,YB=Ki,XB=Ji,QB="[object Number]";function ZB(t){return typeof t=="number"||XB(t)&&YB(t)==QB}var bM=ZB;const e9=Ze(bM);var t9=bM;function n9(t){return t9(t)&&t!=+t}var r9=n9;const sc=Ze(r9);var jn=function(e){return e===0?0:e>0?1:-1},ba=function(e){return Fa(e)&&e.indexOf("%")===e.length-1},oe=function(e){return e9(e)&&!sc(e)},i9=function(e){return Ie(e)},Ut=function(e){return oe(e)||Fa(e)},s9=0,ac=function(e){var n=++s9;return"".concat(e||"").concat(n)},Pn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!Fa(e))return r;var s;if(ba(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return sc(s)&&(s=r),i&&s>n&&(s=n),s},hs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},a9=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Fn=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function kp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):tr(r,e))===n})}var o9=function(e,n){return oe(e)&&oe(n)?e-n:Fa(e)&&Fa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Wo(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iv(t){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iv(t)}var l9=["viewBox","children"],c9=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eE=["points","pathLength"],mx={svg:l9,polygon:eE,polyline:eE},P1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!tc(r))return null;var i={};return Object.keys(r).forEach(function(s){P1.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},u9=function(e,n,r){return function(i){return e(n,r,i),null}},Ua=function(e,n,r){if(!tc(e)||iv(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];P1.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=u9(o,n,r))}),i},d9=["children"],f9=["children"];function tE(t,e){if(t==null)return{};var n=h9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}var nE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ci=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rE=null,gx=null,I1=function t(e){if(e===rE&&Array.isArray(gx))return gx;var n=[];return D.Children.forEach(e,function(r){Ie(r)||(JB.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),gx=n,rE=e,n};function gr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ci(i)}):r=[Ci(e)],I1(t).forEach(function(i){var s=tr(i,"type.displayName")||tr(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Xn(t,e){var n=gr(t,e);return n&&n[0]}var iE=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},p9=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m9=function(e){return e&&e.type&&Fa(e.type)&&p9.indexOf(e.type)>=0},g9=function(e){return e&&sv(e)==="object"&&"clipDot"in e},x9=function(e,n,r,i){var s,o=(s=mx==null?void 0:mx[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!ke(e)&&(i&&o.includes(n)||c9.includes(n))||r&&P1.includes(n)},Ne=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!tc(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;x9((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},av=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return sE(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!sE(s,o))return!1}return!0},sE=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,s=tE(r,d9),o=n.props||{},l=o.children,c=tE(o,f9);return i&&l?Wo(s,c)&&av(i,l):!i&&!l?Wo(s,c):!1}return!1},aE=function(e,n){var r=[],i={};return I1(e).forEach(function(s,o){if(m9(s))r.push(s);else if(s){var l=Ci(s.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);r.push(f),i[l]=!0}}}),r},y9=function(e){var n=e&&e.type;return n&&nE[n]?nE[n]:null},v9=function(e,n){return I1(n).indexOf(e)},b9=["children","width","height","viewBox","className","style","title","desc"];function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function w9(t,e){if(t==null)return{};var n=_9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lv(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=w9(t,b9),d=i||{width:n,height:r,x:0,y:0},f=Oe("recharts-surface",s);return U.createElement("svg",ov({},Ne(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),e)}var N9=["children","className"];function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function S9(t,e){if(t==null)return{};var n=E9(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E9(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Fe=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=S9(t,N9),s=Oe("recharts-layer",r);return U.createElement("g",cv({className:s},Ne(i,!0),{ref:e}),n)}),Or=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function T9(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var A9=T9,k9=A9;function C9(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:k9(t,e,n)}var j9=C9,P9="\\ud800-\\udfff",I9="\\u0300-\\u036f",R9="\\ufe20-\\ufe2f",M9="\\u20d0-\\u20ff",O9=I9+R9+M9,D9="\\ufe0e\\ufe0f",L9="\\u200d",$9=RegExp("["+L9+P9+O9+D9+"]");function V9(t){return $9.test(t)}var wM=V9;function F9(t){return t.split("")}var U9=F9,_M="\\ud800-\\udfff",B9="\\u0300-\\u036f",z9="\\ufe20-\\ufe2f",q9="\\u20d0-\\u20ff",G9=B9+z9+q9,H9="\\ufe0e\\ufe0f",W9="["+_M+"]",uv="["+G9+"]",dv="\\ud83c[\\udffb-\\udfff]",K9="(?:"+uv+"|"+dv+")",NM="[^"+_M+"]",SM="(?:\\ud83c[\\udde6-\\uddff]){2}",EM="[\\ud800-\\udbff][\\udc00-\\udfff]",J9="\\u200d",TM=K9+"?",AM="["+H9+"]?",Y9="(?:"+J9+"(?:"+[NM,SM,EM].join("|")+")"+AM+TM+")*",X9=AM+TM+Y9,Q9="(?:"+[NM+uv+"?",uv,SM,EM,W9].join("|")+")",Z9=RegExp(dv+"(?="+dv+")|"+Q9+X9,"g");function ez(t){return t.match(Z9)||[]}var tz=ez,nz=U9,rz=wM,iz=tz;function sz(t){return rz(t)?iz(t):nz(t)}var az=sz,oz=j9,lz=wM,cz=az,uz=mM;function dz(t){return function(e){e=uz(e);var n=lz(e)?cz(e):void 0,r=n?n[0]:e.charAt(0),i=n?oz(n,1).join(""):e.slice(1);return r[t]()+i}}var fz=dz,hz=fz,pz=hz("toUpperCase"),mz=pz;const Ag=Ze(mz);function ot(t){return function(){return t}}const kM=Math.cos,jp=Math.sin,qr=Math.sqrt,Pp=Math.PI,kg=2*Pp,fv=Math.PI,hv=2*fv,ua=1e-6,gz=hv-ua;function CM(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CM;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CM:xz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ua)if(!(Math.abs(f*c-u*d)>ua)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,y=i-l,b=c*c+u*u,v=x*x+y*y,_=Math.sqrt(b),w=Math.sqrt(h),S=s*Math.tan((fv-Math.acos((b+h-v)/(2*_*w)))/2),C=S/w,T=S/_;Math.abs(C-1)>ua&&this._append`L${e+C*d},${n+C*f}`,this._append`A${s},${s},0,0,${+(f*x>d*y)},${this._x1=e+T*c},${this._y1=n+T*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,d=n+c,f=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ua||Math.abs(this._y1-d)>ua)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%hv+hv),h>gz?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>ua&&this._append`A${r},${r},0,${+(h>=fv)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function R1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yz(e)}function M1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jM(t){this._context=t}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Cg(t){return new jM(t)}function PM(t){return t[0]}function IM(t){return t[1]}function RM(t,e){var n=ot(!0),r=null,i=Cg,s=null,o=R1(l);t=typeof t=="function"?t:t===void 0?PM:ot(t),e=typeof e=="function"?e:e===void 0?IM:ot(e);function l(c){var u,d=(c=M1(c)).length,f,h=!1,x;for(r==null&&(s=i(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(f,u,c),+e(f,u,c));if(x)return s=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Xf(t,e,n){var r=null,i=ot(!0),s=null,o=Cg,l=null,c=R1(u);t=typeof t=="function"?t:t===void 0?PM:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?IM:ot(+n);function u(f){var h,x,y,b=(f=M1(f)).length,v,_=!1,w,S=new Array(b),C=new Array(b);for(s==null&&(l=o(w=c())),h=0;h<=b;++h){if(!(h<b&&i(v=f[h],h,f))===_)if(_=!_)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=x;--y)l.point(S[y],C[y]);l.lineEnd(),l.areaEnd()}_&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),l.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(w)return l=null,w+""||null}function d(){return RM().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ot(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class MM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vz(t){return new MM(t,!0)}function bz(t){return new MM(t,!1)}const O1={draw(t,e){const n=qr(e/Pp);t.moveTo(n,0),t.arc(0,0,n,0,kg)}},wz={draw(t,e){const n=qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OM=qr(1/3),_z=OM*2,Nz={draw(t,e){const n=qr(e/_z),r=n*OM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Sz={draw(t,e){const n=qr(e),r=-n/2;t.rect(r,r,n,n)}},Ez=.8908130915292852,DM=jp(Pp/10)/jp(7*Pp/10),Tz=jp(kg/10)*DM,Az=-kM(kg/10)*DM,kz={draw(t,e){const n=qr(e*Ez),r=Tz*n,i=Az*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=kg*s/5,l=kM(o),c=jp(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},xx=qr(3),Cz={draw(t,e){const n=-qr(e/(xx*3));t.moveTo(0,n*2),t.lineTo(-xx*n,-n),t.lineTo(xx*n,-n),t.closePath()}},or=-.5,lr=qr(3)/2,pv=1/qr(12),jz=(pv/2+1)*3,Pz={draw(t,e){const n=qr(e/jz),r=n/2,i=n*pv,s=r,o=n*pv+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(or*r-lr*i,lr*r+or*i),t.lineTo(or*s-lr*o,lr*s+or*o),t.lineTo(or*l-lr*c,lr*l+or*c),t.lineTo(or*r+lr*i,or*i-lr*r),t.lineTo(or*s+lr*o,or*o-lr*s),t.lineTo(or*l+lr*c,or*c-lr*l),t.closePath()}};function Iz(t,e){let n=null,r=R1(i);t=typeof t=="function"?t:ot(t||O1),e=typeof e=="function"?e:ot(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ot(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ip(){}function Rp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function LM(t){this._context=t}LM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rz(t){return new LM(t)}function $M(t){this._context=t}$M.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Mz(t){return new $M(t)}function VM(t){this._context=t}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Oz(t){return new VM(t)}function FM(t){this._context=t}FM.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Dz(t){return new FM(t)}function oE(t){return t<0?-1:1}function lE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(oE(s)+oE(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function cE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function yx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Mp(t){this._context=t}Mp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,cE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,cE(this,n=lE(this,t,e)),n);break;default:yx(this,this._t0,n=lE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function UM(t){this._context=new BM(t)}(UM.prototype=Object.create(Mp.prototype)).point=function(t,e){Mp.prototype.point.call(this,e,t)};function BM(t){this._context=t}BM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Lz(t){return new Mp(t)}function $z(t){return new UM(t)}function zM(t){this._context=t}zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uE(t),i=uE(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uE(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Vz(t){return new zM(t)}function jg(t,e){this._context=t,this._t=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Fz(t){return new jg(t,.5)}function Uz(t){return new jg(t,0)}function Bz(t){return new jg(t,1)}function gl(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zz(t,e){return t[e]}function qz(t){const e=[];return e.key=t,e}function Gz(){var t=ot([]),e=mv,n=gl,r=zz;function i(s){var o=Array.from(t.apply(this,arguments),qz),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,d=M1(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ot(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?mv:typeof s=="function"?s:ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??gl,i):n},i}function Hz(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}gl(t,e)}}function Wz(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}gl(t,e)}}function Kz(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,y=0;y<l;++y){var b=t[e[y]],v=b[r][1]||0,_=b[r-1][1]||0;x+=v-_}c+=f,u+=x*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,gl(t,e)}}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var Jz=["type","size","sizeType"];function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(this,arguments)}function dE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dE(Object(n),!0).forEach(function(r){Yz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yz(t,e,n){return e=Xz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xz(t){var e=Qz(t,"string");return sd(e)=="symbol"?e:e+""}function Qz(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zz(t,e){if(t==null)return{};var n=eq(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qM={symbolCircle:O1,symbolCross:wz,symbolDiamond:Nz,symbolSquare:Sz,symbolStar:kz,symbolTriangle:Cz,symbolWye:Pz},tq=Math.PI/180,nq=function(e){var n="symbol".concat(Ag(e));return qM[n]||O1},rq=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*tq;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iq=function(e,n){qM["symbol".concat(Ag(e))]=n},D1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=Zz(e,Jz),u=fE(fE({},c),{},{type:r,size:s,sizeType:l}),d=function(){var v=nq(r),_=Iz().type(v).size(rq(s,l,r));return _()},f=u.className,h=u.cx,x=u.cy,y=Ne(u,!0);return h===+h&&x===+x&&s===+s?U.createElement("path",gv({},y,{className:Oe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};D1.registerSymbol=iq;function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(this,arguments)}function hE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hE(Object(n),!0).forEach(function(r){ad(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HM(r.key),r)}}function lq(t,e,n){return e&&oq(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cq(t,e,n){return e=Op(e),uq(t,GM()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function uq(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dq(t)}function dq(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function fq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yv(t,e)}function ad(t,e,n){return e=HM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HM(t){var e=hq(t,"string");return xl(e)=="symbol"?e:e+""}function hq(t,e){if(xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cr=32,L1=function(t){function e(){return aq(this,e),cq(this,e,arguments)}return fq(e,t),lq(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=cr/2,o=cr/6,l=cr/3,c=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:cr,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(cr,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(cr/8,"h").concat(cr,"v").concat(cr*3/4,"h").concat(-cr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=sq({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(D1,{fill:c,cx:s,cy:s,size:cr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:cr,height:cr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,y){var b=x.formatter||c,v=Oe(ad(ad({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",x.inactive));if(x.type==="none")return null;var _=ke(x.value)?null:x.value;Or(!ke(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=x.inactive?u:x.color;return U.createElement("li",xv({className:v,style:f,key:"legend-item-".concat(y)},Ua(r.props,x,y)),U.createElement(lv,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(_,x,y):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);ad(L1,"displayName","Legend");ad(L1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pq=pg;function mq(){this.__data__=new pq,this.size=0}var gq=mq;function xq(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yq=xq;function vq(t){return this.__data__.get(t)}var bq=vq;function wq(t){return this.__data__.has(t)}var _q=wq,Nq=pg,Sq=S1,Eq=E1,Tq=200;function Aq(t,e){var n=this.__data__;if(n instanceof Nq){var r=n.__data__;if(!Sq||r.length<Tq-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Eq(r)}return n.set(t,e),this.size=n.size,this}var kq=Aq,Cq=pg,jq=gq,Pq=yq,Iq=bq,Rq=_q,Mq=kq;function oc(t){var e=this.__data__=new Cq(t);this.size=e.size}oc.prototype.clear=jq;oc.prototype.delete=Pq;oc.prototype.get=Iq;oc.prototype.has=Rq;oc.prototype.set=Mq;var WM=oc,Oq="__lodash_hash_undefined__";function Dq(t){return this.__data__.set(t,Oq),this}var Lq=Dq;function $q(t){return this.__data__.has(t)}var Vq=$q,Fq=E1,Uq=Lq,Bq=Vq;function Dp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Fq;++e<n;)this.add(t[e])}Dp.prototype.add=Dp.prototype.push=Uq;Dp.prototype.has=Bq;var KM=Dp;function zq(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var JM=zq;function qq(t,e){return t.has(e)}var YM=qq,Gq=KM,Hq=JM,Wq=YM,Kq=1,Jq=2;function Yq(t,e,n,r,i,s){var o=n&Kq,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&Jq?new Gq:void 0;for(s.set(t,e),s.set(e,t);++f<l;){var y=t[f],b=e[f];if(r)var v=o?r(b,y,f,e,t,s):r(y,b,f,t,e,s);if(v!==void 0){if(v)continue;h=!1;break}if(x){if(!Hq(e,function(_,w){if(!Wq(x,w)&&(y===_||i(y,_,n,r,s)))return x.push(w)})){h=!1;break}}else if(!(y===b||i(y,b,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var XM=Yq,Xq=di,Qq=Xq.Uint8Array,Zq=Qq;function e7(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var t7=e7;function n7(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var $1=n7,pE=tf,mE=Zq,r7=N1,i7=XM,s7=t7,a7=$1,o7=1,l7=2,c7="[object Boolean]",u7="[object Date]",d7="[object Error]",f7="[object Map]",h7="[object Number]",p7="[object RegExp]",m7="[object Set]",g7="[object String]",x7="[object Symbol]",y7="[object ArrayBuffer]",v7="[object DataView]",gE=pE?pE.prototype:void 0,vx=gE?gE.valueOf:void 0;function b7(t,e,n,r,i,s,o){switch(n){case v7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case y7:return!(t.byteLength!=e.byteLength||!s(new mE(t),new mE(e)));case c7:case u7:case h7:return r7(+t,+e);case d7:return t.name==e.name&&t.message==e.message;case p7:case g7:return t==e+"";case f7:var l=s7;case m7:var c=r&o7;if(l||(l=a7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=l7,o.set(t,e);var d=i7(l(t),l(e),r,i,s,o);return o.delete(t),d;case x7:if(vx)return vx.call(t)==vx.call(e)}return!1}var w7=b7;function _7(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var QM=_7,N7=QM,S7=Wn;function E7(t,e,n){var r=e(t);return S7(t)?r:N7(r,n(t))}var T7=E7;function A7(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var k7=A7;function C7(){return[]}var j7=C7,P7=k7,I7=j7,R7=Object.prototype,M7=R7.propertyIsEnumerable,xE=Object.getOwnPropertySymbols,O7=xE?function(t){return t==null?[]:(t=Object(t),P7(xE(t),function(e){return M7.call(t,e)}))}:I7,D7=O7;function L7(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var $7=L7,V7=Ki,F7=Ji,U7="[object Arguments]";function B7(t){return F7(t)&&V7(t)==U7}var z7=B7,yE=z7,q7=Ji,ZM=Object.prototype,G7=ZM.hasOwnProperty,H7=ZM.propertyIsEnumerable,W7=yE(function(){return arguments}())?yE:function(t){return q7(t)&&G7.call(t,"callee")&&!H7.call(t,"callee")},V1=W7,Lp={exports:{}};function K7(){return!1}var J7=K7;Lp.exports;(function(t,e){var n=di,r=J7,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(Lp,Lp.exports);var e4=Lp.exports,Y7=9007199254740991,X7=/^(?:0|[1-9]\d*)$/;function Q7(t,e){var n=typeof t;return e=e??Y7,!!e&&(n=="number"||n!="symbol"&&X7.test(t))&&t>-1&&t%1==0&&t<e}var F1=Q7,Z7=9007199254740991;function eG(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Z7}var U1=eG,tG=Ki,nG=U1,rG=Ji,iG="[object Arguments]",sG="[object Array]",aG="[object Boolean]",oG="[object Date]",lG="[object Error]",cG="[object Function]",uG="[object Map]",dG="[object Number]",fG="[object Object]",hG="[object RegExp]",pG="[object Set]",mG="[object String]",gG="[object WeakMap]",xG="[object ArrayBuffer]",yG="[object DataView]",vG="[object Float32Array]",bG="[object Float64Array]",wG="[object Int8Array]",_G="[object Int16Array]",NG="[object Int32Array]",SG="[object Uint8Array]",EG="[object Uint8ClampedArray]",TG="[object Uint16Array]",AG="[object Uint32Array]",ft={};ft[vG]=ft[bG]=ft[wG]=ft[_G]=ft[NG]=ft[SG]=ft[EG]=ft[TG]=ft[AG]=!0;ft[iG]=ft[sG]=ft[xG]=ft[aG]=ft[yG]=ft[oG]=ft[lG]=ft[cG]=ft[uG]=ft[dG]=ft[fG]=ft[hG]=ft[pG]=ft[mG]=ft[gG]=!1;function kG(t){return rG(t)&&nG(t.length)&&!!ft[tG(t)]}var CG=kG;function jG(t){return function(e){return t(e)}}var t4=jG,$p={exports:{}};$p.exports;(function(t,e){var n=cM,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})($p,$p.exports);var PG=$p.exports,IG=CG,RG=t4,vE=PG,bE=vE&&vE.isTypedArray,MG=bE?RG(bE):IG,n4=MG,OG=$7,DG=V1,LG=Wn,$G=e4,VG=F1,FG=n4,UG=Object.prototype,BG=UG.hasOwnProperty;function zG(t,e){var n=LG(t),r=!n&&DG(t),i=!n&&!r&&$G(t),s=!n&&!r&&!i&&FG(t),o=n||r||i||s,l=o?OG(t.length,String):[],c=l.length;for(var u in t)(e||BG.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||VG(u,c)))&&l.push(u);return l}var qG=zG,GG=Object.prototype;function HG(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||GG;return t===n}var WG=HG;function KG(t,e){return function(n){return t(e(n))}}var r4=KG,JG=r4,YG=JG(Object.keys,Object),XG=YG,QG=WG,ZG=XG,eH=Object.prototype,tH=eH.hasOwnProperty;function nH(t){if(!QG(t))return ZG(t);var e=[];for(var n in Object(t))tH.call(t,n)&&n!="constructor"&&e.push(n);return e}var rH=nH,iH=_1,sH=U1;function aH(t){return t!=null&&sH(t.length)&&!iH(t)}var nf=aH,oH=qG,lH=rH,cH=nf;function uH(t){return cH(t)?oH(t):lH(t)}var Pg=uH,dH=T7,fH=D7,hH=Pg;function pH(t){return dH(t,hH,fH)}var mH=pH,wE=mH,gH=1,xH=Object.prototype,yH=xH.hasOwnProperty;function vH(t,e,n,r,i,s){var o=n&gH,l=wE(t),c=l.length,u=wE(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:yH.call(e,h)))return!1}var x=s.get(t),y=s.get(e);if(x&&y)return x==e&&y==t;var b=!0;s.set(t,e),s.set(e,t);for(var v=o;++f<c;){h=l[f];var _=t[h],w=e[h];if(r)var S=o?r(w,_,h,e,t,s):r(_,w,h,t,e,s);if(!(S===void 0?_===w||i(_,w,n,r,s):S)){b=!1;break}v||(v=h=="constructor")}if(b&&!v){var C=t.constructor,T=e.constructor;C!=T&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(b=!1)}return s.delete(t),s.delete(e),b}var bH=vH,wH=Za,_H=di,NH=wH(_H,"DataView"),SH=NH,EH=Za,TH=di,AH=EH(TH,"Promise"),kH=AH,CH=Za,jH=di,PH=CH(jH,"Set"),i4=PH,IH=Za,RH=di,MH=IH(RH,"WeakMap"),OH=MH,vv=SH,bv=S1,wv=kH,_v=i4,Nv=OH,s4=Ki,lc=dM,_E="[object Map]",DH="[object Object]",NE="[object Promise]",SE="[object Set]",EE="[object WeakMap]",TE="[object DataView]",LH=lc(vv),$H=lc(bv),VH=lc(wv),FH=lc(_v),UH=lc(Nv),da=s4;(vv&&da(new vv(new ArrayBuffer(1)))!=TE||bv&&da(new bv)!=_E||wv&&da(wv.resolve())!=NE||_v&&da(new _v)!=SE||Nv&&da(new Nv)!=EE)&&(da=function(t){var e=s4(t),n=e==DH?t.constructor:void 0,r=n?lc(n):"";if(r)switch(r){case LH:return TE;case $H:return _E;case VH:return NE;case FH:return SE;case UH:return EE}return e});var BH=da,bx=WM,zH=XM,qH=w7,GH=bH,AE=BH,kE=Wn,CE=e4,HH=n4,WH=1,jE="[object Arguments]",PE="[object Array]",Qf="[object Object]",KH=Object.prototype,IE=KH.hasOwnProperty;function JH(t,e,n,r,i,s){var o=kE(t),l=kE(e),c=o?PE:AE(t),u=l?PE:AE(e);c=c==jE?Qf:c,u=u==jE?Qf:u;var d=c==Qf,f=u==Qf,h=c==u;if(h&&CE(t)){if(!CE(e))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new bx),o||HH(t)?zH(t,e,n,r,i,s):qH(t,e,c,n,r,i,s);if(!(n&WH)){var x=d&&IE.call(t,"__wrapped__"),y=f&&IE.call(e,"__wrapped__");if(x||y){var b=x?t.value():t,v=y?e.value():e;return s||(s=new bx),i(b,v,n,r,s)}}return h?(s||(s=new bx),GH(t,e,n,r,i,s)):!1}var YH=JH,XH=YH,RE=Ji;function a4(t,e,n,r,i){return t===e?!0:t==null||e==null||!RE(t)&&!RE(e)?t!==t&&e!==e:XH(t,e,n,r,a4,i)}var B1=a4,QH=WM,ZH=B1,eW=1,tW=2;function nW(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var l=n[i];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<s;){l=n[i];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new QH;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?ZH(d,u,eW|tW,r,f):h))return!1}}return!0}var rW=nW,iW=Ys;function sW(t){return t===t&&!iW(t)}var o4=sW,aW=o4,oW=Pg;function lW(t){for(var e=oW(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,aW(i)]}return e}var cW=lW;function uW(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var l4=uW,dW=rW,fW=cW,hW=l4;function pW(t){var e=fW(t);return e.length==1&&e[0][2]?hW(e[0][0],e[0][1]):function(n){return n===t||dW(n,t,e)}}var mW=pW;function gW(t,e){return t!=null&&e in Object(t)}var xW=gW,yW=gM,vW=V1,bW=Wn,wW=F1,_W=U1,NW=gg;function SW(t,e,n){e=yW(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=NW(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&_W(i)&&wW(o,i)&&(bW(t)||vW(t)))}var EW=SW,TW=xW,AW=EW;function kW(t,e){return t!=null&&AW(t,e,TW)}var CW=kW,jW=B1,PW=xM,IW=CW,RW=w1,MW=o4,OW=l4,DW=gg,LW=1,$W=2;function VW(t,e){return RW(t)&&MW(e)?OW(DW(t),e):function(n){var r=PW(n,t);return r===void 0&&r===e?IW(n,t):jW(e,r,LW|$W)}}var FW=VW;function UW(t){return t}var cc=UW;function BW(t){return function(e){return e==null?void 0:e[t]}}var zW=BW,qW=k1;function GW(t){return function(e){return qW(e,t)}}var HW=GW,WW=zW,KW=HW,JW=w1,YW=gg;function XW(t){return JW(t)?WW(YW(t)):KW(t)}var QW=XW,ZW=mW,eK=FW,tK=cc,nK=Wn,rK=QW;function iK(t){return typeof t=="function"?t:t==null?tK:typeof t=="object"?nK(t)?eK(t[0],t[1]):ZW(t):rK(t)}var fi=iK;function sK(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var c4=sK;function aK(t){return t!==t}var oK=aK;function lK(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var cK=lK,uK=c4,dK=oK,fK=cK;function hK(t,e,n){return e===e?fK(t,e,n):uK(t,dK,n)}var pK=hK,mK=pK;function gK(t,e){var n=t==null?0:t.length;return!!n&&mK(t,e,0)>-1}var xK=gK;function yK(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var vK=yK;function bK(){}var wK=bK,wx=i4,_K=wK,NK=$1,SK=1/0,EK=wx&&1/NK(new wx([,-0]))[1]==SK?function(t){return new wx(t)}:_K,TK=EK,AK=KM,kK=xK,CK=vK,jK=YM,PK=TK,IK=$1,RK=200;function MK(t,e,n){var r=-1,i=kK,s=t.length,o=!0,l=[],c=l;if(n)o=!1,i=CK;else if(s>=RK){var u=e?null:PK(t);if(u)return IK(u);o=!1,i=jK,c=new AK}else c=e?[]:l;e:for(;++r<s;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var OK=MK,DK=fi,LK=OK;function $K(t,e){return t&&t.length?LK(t,DK(e)):[]}var VK=$K;const ME=Ze(VK);function u4(t,e,n){return e===!0?ME(t,n):ke(e)?ME(t,e):t}function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}var FK=["ref"];function OE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OE(Object(n),!0).forEach(function(r){Ig(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f4(r.key),r)}}function BK(t,e,n){return e&&DE(t.prototype,e),n&&DE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zK(t,e,n){return e=Vp(e),qK(t,d4()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function qK(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GK(t)}function GK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d4=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function HK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sv(t,e)}function Sv(t,e){return Sv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sv(t,e)}function Ig(t,e,n){return e=f4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f4(t){var e=WK(t,"string");return yl(e)=="symbol"?e:e+""}function WK(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KK(t,e){if(t==null)return{};var n=JK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YK(t){return t.value}function XK(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=KK(e,FK);return U.createElement(L1,n)}var LE=1,ka=function(t){function e(){var n;UK(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zK(this,e,[].concat(i)),Ig(n,"lastBoundingBox",{width:-1,height:-1}),n}return HK(e,t),BK(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>LE||Math.abs(i.height-this.lastBoundingBox.height)>LE)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?gi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return gi(gi({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=gi(gi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},XK(s,gi(gi({},this.props),{},{payload:u4(d,u,YK)})))}}],[{key:"getWithHeight",value:function(r,i){var s=gi(gi({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Ig(ka,"displayName","Legend");Ig(ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $E=tf,QK=V1,ZK=Wn,VE=$E?$E.isConcatSpreadable:void 0;function eJ(t){return ZK(t)||QK(t)||!!(VE&&t&&t[VE])}var tJ=eJ,nJ=QM,rJ=tJ;function h4(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=rJ),i||(i=[]);++s<o;){var l=t[s];e>0&&n(l)?e>1?h4(l,e-1,n,r,i):nJ(i,l):r||(i[i.length]=l)}return i}var p4=h4;function iJ(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++i];if(n(s[c],c,s)===!1)break}return e}}var sJ=iJ,aJ=sJ,oJ=aJ(),lJ=oJ,cJ=lJ,uJ=Pg;function dJ(t,e){return t&&cJ(t,e,uJ)}var m4=dJ,fJ=nf;function hJ(t,e){return function(n,r){if(n==null)return n;if(!fJ(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var pJ=hJ,mJ=m4,gJ=pJ,xJ=gJ(mJ),z1=xJ,yJ=z1,vJ=nf;function bJ(t,e){var n=-1,r=vJ(t)?Array(t.length):[];return yJ(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var g4=bJ;function wJ(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var _J=wJ,FE=ec;function NJ(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=FE(t),o=e!==void 0,l=e===null,c=e===e,u=FE(e);if(!l&&!u&&!s&&t>e||s&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!s&&!u&&t<e||u&&n&&i&&!r&&!s||l&&n&&i||!o&&i||!c)return-1}return 0}var SJ=NJ,EJ=SJ;function TJ(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,l=n.length;++r<o;){var c=EJ(i[r],s[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var AJ=TJ,_x=A1,kJ=k1,CJ=fi,jJ=g4,PJ=_J,IJ=t4,RJ=AJ,MJ=cc,OJ=Wn;function DJ(t,e,n){e.length?e=_x(e,function(s){return OJ(s)?function(o){return kJ(o,s.length===1?s[0]:s)}:s}):e=[MJ];var r=-1;e=_x(e,IJ(CJ));var i=jJ(t,function(s,o,l){var c=_x(e,function(u){return u(s)});return{criteria:c,index:++r,value:s}});return PJ(i,function(s,o){return RJ(s,o,n)})}var LJ=DJ;function $J(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var VJ=$J,FJ=VJ,UE=Math.max;function UJ(t,e,n){return e=UE(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=UE(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(o),FJ(t,this,l)}}var BJ=UJ;function zJ(t){return function(){return t}}var qJ=zJ,GJ=Za,HJ=function(){try{var t=GJ(Object,"defineProperty");return t({},"",{}),t}catch{}}(),x4=HJ,WJ=qJ,BE=x4,KJ=cc,JJ=BE?function(t,e){return BE(t,"toString",{configurable:!0,enumerable:!1,value:WJ(e),writable:!0})}:KJ,YJ=JJ,XJ=800,QJ=16,ZJ=Date.now;function eY(t){var e=0,n=0;return function(){var r=ZJ(),i=QJ-(r-n);if(n=r,i>0){if(++e>=XJ)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var tY=eY,nY=YJ,rY=tY,iY=rY(nY),sY=iY,aY=cc,oY=BJ,lY=sY;function cY(t,e){return lY(oY(t,e,aY),t+"")}var uY=cY,dY=N1,fY=nf,hY=F1,pY=Ys;function mY(t,e,n){if(!pY(n))return!1;var r=typeof e;return(r=="number"?fY(n)&&hY(e,n.length):r=="string"&&e in n)?dY(n[e],t):!1}var Rg=mY,gY=p4,xY=LJ,yY=uY,zE=Rg,vY=yY(function(t,e){if(t==null)return[];var n=e.length;return n>1&&zE(t,e[0],e[1])?e=[]:n>2&&zE(e[0],e[1],e[2])&&(e=[e[0]]),xY(t,gY(e,1),[])}),bY=vY;const q1=Ze(bY);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Ev(){return Ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ev.apply(this,arguments)}function wY(t,e){return EY(t)||SY(t,e)||NY(t,e)||_Y()}function _Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NY(t,e){if(t){if(typeof t=="string")return qE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qE(t,e)}}function qE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function EY(t){if(Array.isArray(t))return t}function GE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(n),!0).forEach(function(r){TY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TY(t,e,n){return e=AY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AY(t){var e=kY(t,"string");return od(e)=="symbol"?e:e+""}function kY(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CY(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var jY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,y=e.labelClassName,b=e.label,v=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,S=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?q1(d,h):d).map(function(z,F){if(z.type==="none")return null;var $=Nx({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),B=z.formatter||f||CY,V=z.value,H=z.name,J=V,W=H;if(B&&J!=null&&W!=null){var Y=B(V,H,z,F,d);if(Array.isArray(Y)){var re=wY(Y,2);J=re[0],W=re[1]}else J=Y}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},Ut(W)?U.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Ut(W)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},J),U.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},C=Nx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),T=Nx({margin:0},u),N=!Ie(b),E=N?b:"",A=Oe("recharts-default-tooltip",x),j=Oe("recharts-tooltip-label",y);N&&v&&d!==void 0&&d!==null&&(E=v(b,d));var M=w?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",Ev({className:A,style:C},M),U.createElement("p",{className:j,style:T},U.isValidElement(E)?E:"".concat(E)),S())};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function Zf(t,e,n){return e=PY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PY(t){var e=IY(t,"string");return ld(e)=="symbol"?e:e+""}function IY(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gc="recharts-tooltip-wrapper",RY={visibility:"hidden"};function MY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Oe(Gc,Zf(Zf(Zf(Zf({},"".concat(Gc,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(Gc,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(Gc,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(Gc,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function HE(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&oe(s[r]))return s[r];var d=n[r]-l-i,f=n[r]+i;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,b=c[r]+u;return y>b?Math.max(d,c[r]):Math.max(f,c[r])}function OY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function DY(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=HE({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=HE({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=OY({translateX:d,translateY:f,useTranslate3d:l})):u=RY,{cssProperties:u,cssClasses:MY({translateX:d,translateY:f,coordinate:n})}}function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function WE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WE(Object(n),!0).forEach(function(r){Av(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function VY(t,e,n){return e&&$Y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FY(t,e,n){return e=Fp(e),UY(t,y4()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function UY(t,e){if(e&&(vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BY(t)}function BY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function zY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tv(t,e)}function Tv(t,e){return Tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Tv(t,e)}function Av(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=qY(t,"string");return vl(e)=="symbol"?e:e+""}function qY(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JE=1,GY=function(t){function e(){var n;LY(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=FY(this,e,[].concat(i)),Av(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Av(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return zY(e,t),VY(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>JE||Math.abs(r.height-this.state.lastBoundingBox.height)>JE)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,x=i.offset,y=i.position,b=i.reverseDirection,v=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,S=DY({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),C=S.cssClasses,T=S.cssProperties,N=KE(KE({transition:h&&s?"transform ".concat(l,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return U.createElement("div",{tabIndex:-1,className:C,style:N,ref:function(A){r.wrapperNode=A}},u)}}])}(D.PureComponent),HY=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},eo={isSsr:HY()};function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function YE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YE(Object(n),!0).forEach(function(r){G1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w4(r.key),r)}}function JY(t,e,n){return e&&KY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YY(t,e,n){return e=Up(e),XY(t,b4()?Reflect.construct(e,n||[],Up(t).constructor):e.apply(t,n))}function XY(t,e){if(e&&(bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QY(t)}function QY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b4=function(){return!!t})()}function Up(t){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Up(t)}function ZY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kv(t,e)}function kv(t,e){return kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kv(t,e)}function G1(t,e,n){return e=w4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w4(t){var e=eX(t,"string");return bl(e)=="symbol"?e:e+""}function eX(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tX(t){return t.dataKey}function nX(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(jY,e)}var $n=function(t){function e(){return WY(this,e),YY(this,e,arguments)}return ZY(e,t),JY(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,x=i.offset,y=i.payload,b=i.payloadUniqBy,v=i.position,_=i.reverseDirection,w=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,T=y??[];f&&T.length&&(T=u4(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,tX));var N=T.length>0;return U.createElement(GY,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:s,coordinate:d,hasPayload:N,offset:x,position:v,reverseDirection:_,useTranslate3d:w,viewBox:S,wrapperStyle:C},nX(u,XE(XE({},this.props),{},{payload:T})))}}])}(D.PureComponent);G1($n,"displayName","Tooltip");G1($n,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!eo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rX=di,iX=function(){return rX.Date.now()},sX=iX,aX=/\s/;function oX(t){for(var e=t.length;e--&&aX.test(t.charAt(e)););return e}var lX=oX,cX=lX,uX=/^\s+/;function dX(t){return t&&t.slice(0,cX(t)+1).replace(uX,"")}var fX=dX,hX=fX,QE=Ys,pX=ec,ZE=NaN,mX=/^[-+]0x[0-9a-f]+$/i,gX=/^0b[01]+$/i,xX=/^0o[0-7]+$/i,yX=parseInt;function vX(t){if(typeof t=="number")return t;if(pX(t))return ZE;if(QE(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=QE(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hX(t);var n=gX.test(t);return n||xX.test(t)?yX(t.slice(2),n?2:8):mX.test(t)?ZE:+t}var _4=vX,bX=Ys,Sx=sX,eT=_4,wX="Expected a function",_X=Math.max,NX=Math.min;function SX(t,e,n){var r,i,s,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(wX);e=eT(e)||0,bX(n)&&(d=!!n.leading,f="maxWait"in n,s=f?_X(eT(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function x(N){var E=r,A=i;return r=i=void 0,u=N,o=t.apply(A,E),o}function y(N){return u=N,l=setTimeout(_,e),d?x(N):o}function b(N){var E=N-c,A=N-u,j=e-E;return f?NX(j,s-A):j}function v(N){var E=N-c,A=N-u;return c===void 0||E>=e||E<0||f&&A>=s}function _(){var N=Sx();if(v(N))return w(N);l=setTimeout(_,b(N))}function w(N){return l=void 0,h&&r?x(N):(r=i=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function C(){return l===void 0?o:w(Sx())}function T(){var N=Sx(),E=v(N);if(r=arguments,i=this,c=N,E){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(_,e),x(c)}return l===void 0&&(l=setTimeout(_,e)),o}return T.cancel=S,T.flush=C,T}var EX=SX,TX=EX,AX=Ys,kX="Expected a function";function CX(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(kX);return AX(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),TX(t,e,{leading:r,maxWait:e,trailing:i})}var jX=CX;const N4=Ze(jX);function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function tT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(n),!0).forEach(function(r){PX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PX(t,e,n){return e=IX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IX(t){var e=RX(t,"string");return cd(e)=="symbol"?e:e+""}function RX(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MX(t,e){return $X(t)||LX(t,e)||DX(t,e)||OX()}function OX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DX(t,e){if(t){if(typeof t=="string")return nT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nT(t,e)}}function nT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $X(t){if(Array.isArray(t))return t}var Tu=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,y=t.debounce,b=y===void 0?0:y,v=t.id,_=t.className,w=t.onResize,S=t.style,C=S===void 0?{}:S,T=D.useRef(null),N=D.useRef();N.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=D.useState({containerWidth:i.width,containerHeight:i.height}),A=MX(E,2),j=A[0],M=A[1],P=D.useCallback(function(R,z){M(function(F){var $=Math.round(R),B=Math.round(z);return F.containerWidth===$&&F.containerHeight===B?F:{containerWidth:$,containerHeight:B}})},[]);D.useEffect(function(){var R=function(H){var J,W=H[0].contentRect,Y=W.width,re=W.height;P(Y,re),(J=N.current)===null||J===void 0||J.call(N,Y,re)};b>0&&(R=N4(R,b,{trailing:!0,leading:!1}));var z=new ResizeObserver(R),F=T.current.getBoundingClientRect(),$=F.width,B=F.height;return P($,B),z.observe(T.current),function(){z.disconnect()}},[P,b]);var O=D.useMemo(function(){var R=j.containerWidth,z=j.containerHeight;if(R<0||z<0)return null;Or(ba(o)||ba(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Or(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=ba(o)?R:o,$=ba(c)?z:c;n&&n>0&&(F?$=F/n:$&&(F=$*n),h&&$>h&&($=h)),Or(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,o,c,d,f,n);var B=!Array.isArray(x)&&Ci(x.type).endsWith("Chart");return U.Children.map(x,function(V){return U.isValidElement(V)?D.cloneElement(V,eh({width:F,height:$},B?{style:eh({height:"100%",width:"100%",maxHeight:$,maxWidth:F},V.props.style)}:{})):V})},[n,x,c,h,f,d,j,o]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Oe("recharts-responsive-container",_),style:eh(eh({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:T},O)}),Mg=function(e){return null};Mg.displayName="Cell";function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function rT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rT(Object(n),!0).forEach(function(r){VX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VX(t,e,n){return e=FX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FX(t){var e=UX(t,"string");return ud(e)=="symbol"?e:e+""}function UX(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fo={widthCache:{},cacheCount:0},BX=2e3,zX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iT="recharts_measurement_span";function qX(t){var e=Cv({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Au=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||eo.isSsr)return{width:0,height:0};var r=qX(n),i=JSON.stringify({text:e,copyStyle:r});if(fo.widthCache[i])return fo.widthCache[i];try{var s=document.getElementById(iT);s||(s=document.createElement("span"),s.setAttribute("id",iT),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Cv(Cv({},zX),r);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return fo.widthCache[i]=c,++fo.cacheCount>BX&&(fo.cacheCount=0,fo.widthCache={}),c}catch{return{width:0,height:0}}},GX=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Bp(t,e){return JX(t)||KX(t,e)||WX(t,e)||HX()}function HX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WX(t,e){if(t){if(typeof t=="string")return sT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sT(t,e)}}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function JX(t){if(Array.isArray(t))return t}function YX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QX(r.key),r)}}function XX(t,e,n){return e&&aT(t.prototype,e),n&&aT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QX(t){var e=ZX(t,"string");return dd(e)=="symbol"?e:e+""}function ZX(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,S4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nQ=Object.keys(S4),Io="NaN";function rQ(t,e){return t*S4[e]}var th=function(){function t(e,n){YX(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!eQ.test(n)&&(this.num=NaN,this.unit=""),nQ.includes(n)&&(this.num=rQ(e,n),this.unit="px")}return XX(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=tQ.exec(n))!==null&&r!==void 0?r:[],s=Bp(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function E4(t){if(t.includes(Io))return Io;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=oT.exec(e))!==null&&n!==void 0?n:[],i=Bp(r,4),s=i[1],o=i[2],l=i[3],c=th.parse(s??""),u=th.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Io;e=e.replace(oT,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=lT.exec(e))!==null&&f!==void 0?f:[],x=Bp(h,4),y=x[1],b=x[2],v=x[3],_=th.parse(y??""),w=th.parse(v??""),S=b==="+"?_.add(w):_.subtract(w);if(S.isNaN())return Io;e=e.replace(lT,S.toString())}return e}var cT=/\(([^()]*)\)/;function iQ(t){for(var e=t;e.includes("(");){var n=cT.exec(e),r=Bp(n,2),i=r[1];e=e.replace(cT,E4(i))}return e}function sQ(t){var e=t.replace(/\s+/g,"");return e=iQ(e),e=E4(e),e}function aQ(t){try{return sQ(t)}catch{return Io}}function Ex(t){var e=aQ(t.slice(5,-1));return e===Io?"":e}var oQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lQ=["dx","dy","angle","className","breakAll"];function jv(){return jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jv.apply(this,arguments)}function uT(t,e){if(t==null)return{};var n=cQ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dT(t,e){return hQ(t)||fQ(t,e)||dQ(t,e)||uQ()}function uQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dQ(t,e){if(t){if(typeof t=="string")return fT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fT(t,e)}}function fT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function hQ(t){if(Array.isArray(t))return t}var T4=/[ \f\n\r\t\v\u2028\u2029]+/,A4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Ie(n)||(r?s=n.toString().split(""):s=n.toString().split(T4));var o=s.map(function(c){return{word:c,width:Au(c,i).width}}),l=r?0:Au("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},pQ=function(e,n,r,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=oe(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,B){var V=B.word,H=B.width,J=$[$.length-1];if(J&&(i==null||s||J.width+H+r<Number(i)))J.words.push(V),J.width+=H+r;else{var W={words:[V],width:H};$.push(W)}return $},[])},x=h(n),y=function(F){return F.reduce(function($,B){return $.width>B.width?$:B})};if(!d)return x;for(var b="",v=function(F){var $=f.slice(0,F),B=A4({breakAll:u,style:c,children:$+b}).wordsWithComputedWidth,V=h(B),H=V.length>o||y(V).width>Number(i);return[H,V]},_=0,w=f.length-1,S=0,C;_<=w&&S<=f.length-1;){var T=Math.floor((_+w)/2),N=T-1,E=v(N),A=dT(E,2),j=A[0],M=A[1],P=v(T),O=dT(P,1),R=O[0];if(!j&&!R&&(_=T+1),j&&R&&(w=T-1),!j&&R){C=M;break}S++}return C||x},hT=function(e){var n=Ie(e)?[]:e.toString().split(T4);return[{words:n}]},mQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!eo.isSsr){var c,u,d=A4({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return hT(i);return pQ({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return hT(i)},pT="#808080",Ba=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,y=e.verticalAnchor,b=y===void 0?"end":y,v=e.fill,_=v===void 0?pT:v,w=uT(e,oQ),S=D.useMemo(function(){return mQ({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,T=w.dy,N=w.angle,E=w.className,A=w.breakAll,j=uT(w,lQ);if(!Ut(r)||!Ut(s))return null;var M=r+(oe(C)?C:0),P=s+(oe(T)?T:0),O;switch(b){case"start":O=Ex("calc(".concat(u,")"));break;case"middle":O=Ex("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Ex("calc(".concat(S.length-1," * -").concat(l,")"));break}var R=[];if(f){var z=S[0].width,F=w.width;R.push("scale(".concat((oe(F)?F/z:1)/z,")"))}return N&&R.push("rotate(".concat(N,", ").concat(M,", ").concat(P,")")),R.length&&(j.transform=R.join(" ")),U.createElement("text",jv({},Ne(j,!0),{x:M,y:P,className:Oe("recharts-text",E),textAnchor:x,fill:_.includes("url")?pT:_}),S.map(function($,B){var V=$.words.join(A?"":" ");return U.createElement("tspan",{x:M,dy:B===0?O:l,key:"".concat(V,"-").concat(B)},V)}))};function Os(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function H1(t){let e,n,r;t.length!==2?(e=Os,n=(l,c)=>Os(t(l),c),r=(l,c)=>t(l)-c):(e=t===Os||t===gQ?t:xQ,n=t,r=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function xQ(){return 0}function k4(t){return t===null?NaN:+t}function*yQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vQ=H1(Os),rf=vQ.right;H1(k4).center;class mT extends Map{constructor(e,n=_Q){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(gT(this,e))}has(e){return super.has(gT(this,e))}set(e,n){return super.set(bQ(this,e),n)}delete(e){return super.delete(wQ(this,e))}}function gT({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function wQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function _Q(t){return t!==null&&typeof t=="object"?t.valueOf():t}function NQ(t=Os){if(t===Os)return C4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function C4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SQ=Math.sqrt(50),EQ=Math.sqrt(10),TQ=Math.sqrt(2);function zp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=SQ?10:s>=EQ?5:s>=TQ?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?zp(t,e,n*2):[l,c,u]}function Pv(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?zp(e,t,n):zp(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function Iv(t,e,n){return e=+e,t=+t,n=+n,zp(t,e,n)[2]}function Rv(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Iv(e,t,n):Iv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function xT(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yT(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function j4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?C4:NQ(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));j4(t,e,x,y,i)}const s=t[e];let o=n,l=r;for(Hc(t,n,e),i(t[r],s)>0&&Hc(t,n,r);o<l;){for(Hc(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Hc(t,n,l):(++l,Hc(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Hc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AQ(t,e,n){if(t=Float64Array.from(yQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yT(t);if(e>=1)return xT(t);var r,i=(r-1)*e,s=Math.floor(i),o=xT(j4(t,s).subarray(0,s+1)),l=yT(t.subarray(s+1));return o+(l-o)*(i-s)}}function kQ(t,e,n=k4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function CQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Sr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Yi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Mv=Symbol("implicit");function W1(){var t=new mT,e=[],n=[],r=Mv;function i(s){let o=t.get(s);if(o===void 0){if(r!==Mv)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new mT;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return W1(e,n).unknown(r)},Sr.apply(i,arguments),i}function fd(){var t=W1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=i<r,y=x?i:r,b=x?r:i;s=(b-y)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),y+=(b-y-s*(h-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=CQ(h).map(function(_){return y+s*_});return n(x?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return fd(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Sr.apply(f(),arguments)}function P4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return P4(e())},t}function ku(){return P4(fd.apply(null,arguments).paddingInner(1))}function K1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function I4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sf(){}var hd=.7,qp=1/hd,Ko="\\s*([+-]?\\d+)\\s*",pd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jQ=/^#([0-9a-f]{3,8})$/,PQ=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),IQ=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),RQ=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${pd}\\)$`),MQ=new RegExp(`^rgba\\(${ti},${ti},${ti},${pd}\\)$`),OQ=new RegExp(`^hsl\\(${pd},${ti},${ti}\\)$`),DQ=new RegExp(`^hsla\\(${pd},${ti},${ti},${pd}\\)$`),vT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};K1(sf,md,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:bT,formatHex:bT,formatHex8:LQ,formatHsl:$Q,formatRgb:wT,toString:wT});function bT(){return this.rgb().formatHex()}function LQ(){return this.rgb().formatHex8()}function $Q(){return R4(this).formatHsl()}function wT(){return this.rgb().formatRgb()}function md(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?_T(e):n===3?new Bn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PQ.exec(t))?new Bn(e[1],e[2],e[3],1):(e=IQ.exec(t))?new Bn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RQ.exec(t))?nh(e[1],e[2],e[3],e[4]):(e=MQ.exec(t))?nh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=OQ.exec(t))?ET(e[1],e[2]/100,e[3]/100,1):(e=DQ.exec(t))?ET(e[1],e[2]/100,e[3]/100,e[4]):vT.hasOwnProperty(t)?_T(vT[t]):t==="transparent"?new Bn(NaN,NaN,NaN,0):null}function _T(t){return new Bn(t>>16&255,t>>8&255,t&255,1)}function nh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bn(t,e,n,r)}function VQ(t){return t instanceof sf||(t=md(t)),t?(t=t.rgb(),new Bn(t.r,t.g,t.b,t.opacity)):new Bn}function Ov(t,e,n,r){return arguments.length===1?VQ(t):new Bn(t,e,n,r??1)}function Bn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}K1(Bn,Ov,I4(sf,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hd:Math.pow(hd,t),new Bn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bn(Ca(this.r),Ca(this.g),Ca(this.b),Gp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NT,formatHex:NT,formatHex8:FQ,formatRgb:ST,toString:ST}));function NT(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}`}function FQ(){return`#${wa(this.r)}${wa(this.g)}${wa(this.b)}${wa((isNaN(this.opacity)?1:this.opacity)*255)}`}function ST(){const t=Gp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ca(this.r)}, ${Ca(this.g)}, ${Ca(this.b)}${t===1?")":`, ${t})`}`}function Gp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ca(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wa(t){return t=Ca(t),(t<16?"0":"")+t.toString(16)}function ET(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function R4(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof sf||(t=md(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Ir(o,l,c,t.opacity)}function UQ(t,e,n,r){return arguments.length===1?R4(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}K1(Ir,UQ,I4(sf,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hd:Math.pow(hd,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bn(Tx(t>=240?t-240:t+120,i,r),Tx(t,i,r),Tx(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(TT(this.h),rh(this.s),rh(this.l),Gp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gp(this.opacity);return`${t===1?"hsl(":"hsla("}${TT(this.h)}, ${rh(this.s)*100}%, ${rh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function TT(t){return t=(t||0)%360,t<0?t+360:t}function rh(t){return Math.max(0,Math.min(1,t||0))}function Tx(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const J1=t=>()=>t;function BQ(t,e){return function(n){return t+n*e}}function zQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qQ(t){return(t=+t)==1?M4:function(e,n){return n-e?zQ(e,n,t):J1(isNaN(e)?n:e)}}function M4(t,e){var n=e-t;return n?BQ(t,n):J1(isNaN(t)?e:t)}const AT=function t(e){var n=qQ(e);function r(i,s){var o=n((i=Ov(i)).r,(s=Ov(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=M4(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function GQ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function HQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function WQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=uc(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function KQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Hp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function JQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=uc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Dv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ax=new RegExp(Dv.source,"g");function YQ(t){return function(){return t}}function XQ(t){return function(e){return t(e)+""}}function QQ(t,e){var n=Dv.lastIndex=Ax.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=Dv.exec(t))&&(i=Ax.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Hp(r,i)})),n=Ax.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?XQ(c[0].x):YQ(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function uc(t,e){var n=typeof e,r;return e==null||n==="boolean"?J1(e):(n==="number"?Hp:n==="string"?(r=md(e))?(e=r,AT):QQ:e instanceof md?AT:e instanceof Date?KQ:HQ(e)?GQ:Array.isArray(e)?WQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?JQ:Hp)(t,e)}function Y1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZQ(t,e){e===void 0&&(e=t,t=uc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function eZ(t){return function(){return t}}function Wp(t){return+t}var kT=[0,1];function In(t){return t}function Lv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eZ(isNaN(e)?NaN:.5)}function tZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nZ(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Lv(i,r),s=n(o,s)):(r=Lv(r,i),s=n(s,o)),function(l){return s(r(l))}}function rZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Lv(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=rf(t,l,1,r)-1;return s[c](i[c](l))}}function af(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Og(){var t=kT,e=kT,n=uc,r,i,s,o=In,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==In&&(o=tZ(t[0],t[h-1])),l=h>2?rZ:nZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=l(e,t.map(r),Hp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Wp),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=Y1,d()},f.clamp=function(h){return arguments.length?(o=h?!0:In,d()):o!==In},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,x){return r=h,i=x,d()}}function X1(){return Og()(In,In)}function iZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wl(t){return t=Kp(Math.abs(t)),t?t[1]:NaN}function sZ(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function aZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gd(t){if(!(e=oZ.exec(t)))throw new Error("invalid format: "+t);var e;return new Q1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}gd.prototype=Q1.prototype;function Q1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Q1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Jp;function cZ(t,e){var n=Kp(t,e);if(!n)return Jp=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(Jp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Kp(t,Math.max(0,e+s-1))[0]}function CT(t,e){var n=Kp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jT={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>CT(t*100,e),r:CT,s:cZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PT(t){return t}var IT=Array.prototype.map,RT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uZ(t){var e=t.grouping===void 0||t.thousands===void 0?PT:sZ(IT.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?PT:aZ(IT.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=gd(f);var x=f.fill,y=f.align,b=f.sign,v=f.symbol,_=f.zero,w=f.width,S=f.comma,C=f.precision,T=f.trim,N=f.type;N==="n"?(S=!0,N="g"):jT[N]||(C===void 0&&(C=12),T=!0,N="g"),(_||x==="0"&&y==="=")&&(_=!0,x="0",y="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),A=(v==="$"?r:/[%p]/.test(N)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),j=jT[N],M=/[defgprs%]/.test(N);C=C===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(O){var R=E,z=A,F,$,B;if(N==="c")z=j(O)+z,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:j(Math.abs(O),C),T&&(O=lZ(O)),V&&+O==0&&b!=="+"&&(V=!1),R=(V?b==="("?b:l:b==="-"||b==="("?"":b)+R,z=(N==="s"&&!isNaN(O)&&Jp!==void 0?RT[8+Jp/3]:"")+z+(V&&b==="("?")":""),M){for(F=-1,$=O.length;++F<$;)if(B=O.charCodeAt(F),48>B||B>57){z=(B===46?i+O.slice(F+1):O.slice(F))+z,O=O.slice(0,F);break}}}S&&!_&&(O=e(O,1/0));var H=R.length+O.length+z.length,J=H<w?new Array(w-H+1).join(x):"";switch(S&&_&&(O=e(J+O,J.length?w-z.length:1/0),J=""),y){case"<":O=R+O+z+J;break;case"=":O=R+J+O+z;break;case"^":O=J.slice(0,H=J.length>>1)+R+O+z+J.slice(H);break;default:O=J+R+O+z;break}return s(O)}return P.toString=function(){return f+""},P}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(wl(h)/3)))*3,y=Math.pow(10,-x),b=u((f=gd(f),f.type="f",f),{suffix:RT[8+x/3]});return function(v){return b(y*v)}}return{format:u,formatPrefix:d}}var ih,Z1,O4;dZ({thousands:",",grouping:[3],currency:["$",""]});function dZ(t){return ih=uZ(t),Z1=ih.format,O4=ih.formatPrefix,ih}function fZ(t){return Math.max(0,-wl(Math.abs(t)))}function hZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wl(e)/3)))*3-wl(Math.abs(t)))}function pZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wl(e)-wl(t))+1}function D4(t,e,n,r){var i=Rv(t,e,n),s;switch(r=gd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=hZ(i,o))&&(r.precision=s),O4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=pZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fZ(i))&&(r.precision=s-(r.type==="%")*2);break}}return Z1(r)}function Xs(t){var e=t.domain;return t.ticks=function(n){var r=e();return Pv(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return D4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Iv(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function Yp(){var t=X1();return t.copy=function(){return af(t,Yp())},Sr.apply(t,arguments),Xs(t)}function L4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Wp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return L4(t).unknown(e)},t=arguments.length?Array.from(t,Wp):[0,1],Xs(n)}function $4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function MT(t){return Math.log(t)}function OT(t){return Math.exp(t)}function mZ(t){return-Math.log(-t)}function gZ(t){return-Math.exp(-t)}function xZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yZ(t){return t===10?xZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DT(t){return(e,n)=>-t(-e,n)}function e_(t){const e=t(MT,OT),n=e.domain;let r=10,i,s;function o(){return i=vZ(r),s=yZ(r),n()[0]<0?(i=DT(i),s=DT(s),t(mZ,gZ)):t(MT,OT),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),x=i(d),y,b;const v=l==null?10:+l;let _=[];if(!(r%1)&&x-h<v){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(y=1;y<r;++y)if(b=h<0?y/s(-h):y*s(h),!(b<u)){if(b>d)break;_.push(b)}}else for(;h<=x;++h)for(y=r-1;y>=1;--y)if(b=h>0?y/s(-h):y*s(h),!(b<u)){if(b>d)break;_.push(b)}_.length*2<v&&(_=Pv(u,d,v))}else _=Pv(h,x,Math.min(x-h,v)).map(s);return f?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=gd(c)).precision==null&&(c.trim=!0),c=Z1(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n($4(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function V4(){const t=e_(Og()).domain([1,10]);return t.copy=()=>af(t,V4()).base(t.base()),Sr.apply(t,arguments),t}function LT(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $T(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function t_(t){var e=1,n=t(LT(e),$T(e));return n.constant=function(r){return arguments.length?t(LT(e=+r),$T(e)):e},Xs(n)}function F4(){var t=t_(Og());return t.copy=function(){return af(t,F4()).constant(t.constant())},Sr.apply(t,arguments)}function VT(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wZ(t){return t<0?-t*t:t*t}function n_(t){var e=t(In,In),n=1;function r(){return n===1?t(In,In):n===.5?t(bZ,wZ):t(VT(n),VT(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Xs(e)}function r_(){var t=n_(Og());return t.copy=function(){return af(t,r_()).exponent(t.exponent())},Sr.apply(t,arguments),t}function _Z(){return r_.apply(null,arguments).exponent(.5)}function FT(t){return Math.sign(t)*t*t}function NZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function U4(){var t=X1(),e=[0,1],n=!1,r;function i(s){var o=NZ(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(FT(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Wp)).map(FT)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return U4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Sr.apply(i,arguments),Xs(i)}function B4(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=kQ(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[rf(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Os),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return B4().domain(t).range(e).unknown(r)},Sr.apply(s,arguments)}function z4(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[rf(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return z4().domain([t,e]).range(i).unknown(s)},Sr.apply(Xs(o),arguments)}function q4(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[rf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return q4().domain(t).range(e).unknown(n)},Sr.apply(i,arguments)}const kx=new Date,Cx=new Date;function Bt(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Bt(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(kx.setTime(+s),Cx.setTime(+o),t(kx),t(Cx),Math.floor(n(kx,Cx))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Xp=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Xp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Xp);Xp.range;const _i=1e3,pr=_i*60,Ni=pr*60,Vi=Ni*24,i_=Vi*7,UT=Vi*30,jx=Vi*365,_a=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCSeconds());_a.range;const s_=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getMinutes());s_.range;const a_=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*pr)},(t,e)=>(e-t)/pr,t=>t.getUTCMinutes());a_.range;const o_=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_i-t.getMinutes()*pr)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getHours());o_.range;const l_=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ni)},(t,e)=>(e-t)/Ni,t=>t.getUTCHours());l_.range;const of=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*pr)/Vi,t=>t.getDate()-1);of.range;const Dg=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>t.getUTCDate()-1);Dg.range;const G4=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vi,t=>Math.floor(t/Vi));G4.range;function to(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*pr)/i_)}const Lg=to(0),Qp=to(1),SZ=to(2),EZ=to(3),_l=to(4),TZ=to(5),AZ=to(6);Lg.range;Qp.range;SZ.range;EZ.range;_l.range;TZ.range;AZ.range;function no(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/i_)}const $g=no(0),Zp=no(1),kZ=no(2),CZ=no(3),Nl=no(4),jZ=no(5),PZ=no(6);$g.range;Zp.range;kZ.range;CZ.range;Nl.range;jZ.range;PZ.range;const c_=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());c_.range;const u_=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());u_.range;const Fi=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fi.range;const Ui=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ui.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ui.range;function H4(t,e,n,r,i,s){const o=[[_a,1,_i],[_a,5,5*_i],[_a,15,15*_i],[_a,30,30*_i],[s,1,pr],[s,5,5*pr],[s,15,15*pr],[s,30,30*pr],[i,1,Ni],[i,3,3*Ni],[i,6,6*Ni],[i,12,12*Ni],[r,1,Vi],[r,2,2*Vi],[n,1,i_],[e,1,UT],[e,3,3*UT],[t,1,jx]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),y=x?x.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,x=H1(([,,v])=>v).right(o,h);if(x===o.length)return t.every(Rv(u/jx,d/jx,f));if(x===0)return Xp.every(Math.max(Rv(u,d,f),1));const[y,b]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return y.every(b)}return[l,c]}const[IZ,RZ]=H4(Ui,u_,$g,G4,l_,a_),[MZ,OZ]=H4(Fi,c_,Lg,of,o_,s_);function Px(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ix(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function DZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Kc(i),d=Jc(i),f=Kc(s),h=Jc(s),x=Kc(o),y=Jc(o),b=Kc(l),v=Jc(l),_=Kc(c),w=Jc(c),S={a:B,A:V,b:H,B:J,c:null,d:WT,e:WT,f:see,g:mee,G:xee,H:nee,I:ree,j:iee,L:W4,m:aee,M:oee,p:W,q:Y,Q:YT,s:XT,S:lee,u:cee,U:uee,V:dee,w:fee,W:hee,x:null,X:null,y:pee,Y:gee,Z:yee,"%":JT},C={a:re,A:we,b:q,B:X,c:null,d:KT,e:KT,f:_ee,g:Iee,G:Mee,H:vee,I:bee,j:wee,L:J4,m:Nee,M:See,p:ee,q:ce,Q:YT,s:XT,S:Eee,u:Tee,U:Aee,V:kee,w:Cee,W:jee,x:null,X:null,y:Pee,Y:Ree,Z:Oee,"%":JT},T={a:M,A:P,b:O,B:R,c:z,d:GT,e:GT,f:QZ,g:qT,G:zT,H:HT,I:HT,j:KZ,L:XZ,m:WZ,M:JZ,p:j,q:HZ,Q:eee,s:tee,S:YZ,u:UZ,U:BZ,V:zZ,w:FZ,W:qZ,x:F,X:$,y:qT,Y:zT,Z:GZ,"%":ZZ};S.x=N(n,S),S.X=N(r,S),S.c=N(e,S),C.x=N(n,C),C.X=N(r,C),C.c=N(e,C);function N(G,se){return function(ue){var ie=[],De=-1,Se=0,Q=G.length,de,Me,mt;for(ue instanceof Date||(ue=new Date(+ue));++De<Q;)G.charCodeAt(De)===37&&(ie.push(G.slice(Se,De)),(Me=BT[de=G.charAt(++De)])!=null?de=G.charAt(++De):Me=de==="e"?" ":"0",(mt=se[de])&&(de=mt(ue,Me)),ie.push(de),Se=De+1);return ie.push(G.slice(Se,De)),ie.join("")}}function E(G,se){return function(ue){var ie=Wc(1900,void 0,1),De=A(ie,G,ue+="",0),Se,Q;if(De!=ue.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(se&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Se=Ix(Wc(ie.y,0,1)),Q=Se.getUTCDay(),Se=Q>4||Q===0?Zp.ceil(Se):Zp(Se),Se=Dg.offset(Se,(ie.V-1)*7),ie.y=Se.getUTCFullYear(),ie.m=Se.getUTCMonth(),ie.d=Se.getUTCDate()+(ie.w+6)%7):(Se=Px(Wc(ie.y,0,1)),Q=Se.getDay(),Se=Q>4||Q===0?Qp.ceil(Se):Qp(Se),Se=of.offset(Se,(ie.V-1)*7),ie.y=Se.getFullYear(),ie.m=Se.getMonth(),ie.d=Se.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Q="Z"in ie?Ix(Wc(ie.y,0,1)).getUTCDay():Px(Wc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Q+5)%7:ie.w+ie.U*7-(Q+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,Ix(ie)):Px(ie)}}function A(G,se,ue,ie){for(var De=0,Se=se.length,Q=ue.length,de,Me;De<Se;){if(ie>=Q)return-1;if(de=se.charCodeAt(De++),de===37){if(de=se.charAt(De++),Me=T[de in BT?se.charAt(De++):de],!Me||(ie=Me(G,ue,ie))<0)return-1}else if(de!=ue.charCodeAt(ie++))return-1}return ie}function j(G,se,ue){var ie=u.exec(se.slice(ue));return ie?(G.p=d.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function M(G,se,ue){var ie=x.exec(se.slice(ue));return ie?(G.w=y.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function P(G,se,ue){var ie=f.exec(se.slice(ue));return ie?(G.w=h.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function O(G,se,ue){var ie=_.exec(se.slice(ue));return ie?(G.m=w.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function R(G,se,ue){var ie=b.exec(se.slice(ue));return ie?(G.m=v.get(ie[0].toLowerCase()),ue+ie[0].length):-1}function z(G,se,ue){return A(G,e,se,ue)}function F(G,se,ue){return A(G,n,se,ue)}function $(G,se,ue){return A(G,r,se,ue)}function B(G){return o[G.getDay()]}function V(G){return s[G.getDay()]}function H(G){return c[G.getMonth()]}function J(G){return l[G.getMonth()]}function W(G){return i[+(G.getHours()>=12)]}function Y(G){return 1+~~(G.getMonth()/3)}function re(G){return o[G.getUTCDay()]}function we(G){return s[G.getUTCDay()]}function q(G){return c[G.getUTCMonth()]}function X(G){return l[G.getUTCMonth()]}function ee(G){return i[+(G.getUTCHours()>=12)]}function ce(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var se=N(G+="",S);return se.toString=function(){return G},se},parse:function(G){var se=E(G+="",!1);return se.toString=function(){return G},se},utcFormat:function(G){var se=N(G+="",C);return se.toString=function(){return G},se},utcParse:function(G){var se=E(G+="",!0);return se.toString=function(){return G},se}}}var BT={"-":"",_:" ",0:"0"},Yt=/^\s*\d+/,LZ=/^%/,$Z=/[\\^$*+?|[\]().{}]/g;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function VZ(t){return t.replace($Z,"\\$&")}function Kc(t){return new RegExp("^(?:"+t.map(VZ).join("|")+")","i")}function Jc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function FZ(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function UZ(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function BZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function zT(t,e,n){var r=Yt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function qT(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function GZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HZ(t,e,n){var r=Yt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function WZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GT(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function KZ(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function HT(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=Yt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=Yt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=Yt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZZ(t,e,n){var r=LZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eee(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tee(t,e,n){var r=Yt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function WT(t,e){return We(t.getDate(),e,2)}function nee(t,e){return We(t.getHours(),e,2)}function ree(t,e){return We(t.getHours()%12||12,e,2)}function iee(t,e){return We(1+of.count(Fi(t),t),e,3)}function W4(t,e){return We(t.getMilliseconds(),e,3)}function see(t,e){return W4(t,e)+"000"}function aee(t,e){return We(t.getMonth()+1,e,2)}function oee(t,e){return We(t.getMinutes(),e,2)}function lee(t,e){return We(t.getSeconds(),e,2)}function cee(t){var e=t.getDay();return e===0?7:e}function uee(t,e){return We(Lg.count(Fi(t)-1,t),e,2)}function K4(t){var e=t.getDay();return e>=4||e===0?_l(t):_l.ceil(t)}function dee(t,e){return t=K4(t),We(_l.count(Fi(t),t)+(Fi(t).getDay()===4),e,2)}function fee(t){return t.getDay()}function hee(t,e){return We(Qp.count(Fi(t)-1,t),e,2)}function pee(t,e){return We(t.getFullYear()%100,e,2)}function mee(t,e){return t=K4(t),We(t.getFullYear()%100,e,2)}function gee(t,e){return We(t.getFullYear()%1e4,e,4)}function xee(t,e){var n=t.getDay();return t=n>=4||n===0?_l(t):_l.ceil(t),We(t.getFullYear()%1e4,e,4)}function yee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+We(e/60|0,"0",2)+We(e%60,"0",2)}function KT(t,e){return We(t.getUTCDate(),e,2)}function vee(t,e){return We(t.getUTCHours(),e,2)}function bee(t,e){return We(t.getUTCHours()%12||12,e,2)}function wee(t,e){return We(1+Dg.count(Ui(t),t),e,3)}function J4(t,e){return We(t.getUTCMilliseconds(),e,3)}function _ee(t,e){return J4(t,e)+"000"}function Nee(t,e){return We(t.getUTCMonth()+1,e,2)}function See(t,e){return We(t.getUTCMinutes(),e,2)}function Eee(t,e){return We(t.getUTCSeconds(),e,2)}function Tee(t){var e=t.getUTCDay();return e===0?7:e}function Aee(t,e){return We($g.count(Ui(t)-1,t),e,2)}function Y4(t){var e=t.getUTCDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function kee(t,e){return t=Y4(t),We(Nl.count(Ui(t),t)+(Ui(t).getUTCDay()===4),e,2)}function Cee(t){return t.getUTCDay()}function jee(t,e){return We(Zp.count(Ui(t)-1,t),e,2)}function Pee(t,e){return We(t.getUTCFullYear()%100,e,2)}function Iee(t,e){return t=Y4(t),We(t.getUTCFullYear()%100,e,2)}function Ree(t,e){return We(t.getUTCFullYear()%1e4,e,4)}function Mee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Nl(t):Nl.ceil(t),We(t.getUTCFullYear()%1e4,e,4)}function Oee(){return"+0000"}function JT(){return"%"}function YT(t){return+t}function XT(t){return Math.floor(+t/1e3)}var ho,X4,Q4;Dee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dee(t){return ho=DZ(t),X4=ho.format,ho.parse,Q4=ho.utcFormat,ho.utcParse,ho}function Lee(t){return new Date(t)}function $ee(t){return t instanceof Date?+t:+new Date(+t)}function d_(t,e,n,r,i,s,o,l,c,u){var d=X1(),f=d.invert,h=d.domain,x=u(".%L"),y=u(":%S"),b=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),w=u("%b %d"),S=u("%B"),C=u("%Y");function T(N){return(c(N)<N?x:l(N)<N?y:o(N)<N?b:s(N)<N?v:r(N)<N?i(N)<N?_:w:n(N)<N?S:C)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,$ee)):h().map(Lee)},d.ticks=function(N){var E=h();return t(E[0],E[E.length-1],N??10)},d.tickFormat=function(N,E){return E==null?T:u(E)},d.nice=function(N){var E=h();return(!N||typeof N.range!="function")&&(N=e(E[0],E[E.length-1],N??10)),N?h($4(E,N)):d},d.copy=function(){return af(d,d_(t,e,n,r,i,s,o,l,c,u))},d}function Vee(){return Sr.apply(d_(MZ,OZ,Fi,c_,Lg,of,o_,s_,_a,X4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fee(){return Sr.apply(d_(IZ,RZ,Ui,u_,$g,Dg,l_,a_,_a,Q4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vg(){var t=0,e=1,n,r,i,s,o=In,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,y;return arguments.length?([x,y]=h,o=f(x,y),u):[o(0),o(1)]}}return u.range=d(uc),u.rangeRound=d(Y1),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Qs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Z4(){var t=Xs(Vg()(In));return t.copy=function(){return Qs(t,Z4())},Yi.apply(t,arguments)}function eO(){var t=e_(Vg()).domain([1,10]);return t.copy=function(){return Qs(t,eO()).base(t.base())},Yi.apply(t,arguments)}function tO(){var t=t_(Vg());return t.copy=function(){return Qs(t,tO()).constant(t.constant())},Yi.apply(t,arguments)}function f_(){var t=n_(Vg());return t.copy=function(){return Qs(t,f_()).exponent(t.exponent())},Yi.apply(t,arguments)}function Uee(){return f_.apply(null,arguments).exponent(.5)}function nO(){var t=[],e=In;function n(r){if(r!=null&&!isNaN(r=+r))return e((rf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Os),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>AQ(t,s/r))},n.copy=function(){return nO(e).domain(t)},Yi.apply(n,arguments)}function Fg(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=In,d,f=!1,h;function x(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-s)*(r*b<r*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),s=d(e=+e),o=d(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x):[t,e,n]},x.clamp=function(b){return arguments.length?(f=!!b,x):f},x.interpolator=function(b){return arguments.length?(u=b,x):u};function y(b){return function(v){var _,w,S;return arguments.length?([_,w,S]=v,u=ZQ(b,[_,w,S]),x):[u(0),u(.5),u(1)]}}return x.range=y(uc),x.rangeRound=y(Y1),x.unknown=function(b){return arguments.length?(h=b,x):h},function(b){return d=b,i=b(t),s=b(e),o=b(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x}}function rO(){var t=Xs(Fg()(In));return t.copy=function(){return Qs(t,rO())},Yi.apply(t,arguments)}function iO(){var t=e_(Fg()).domain([.1,1,10]);return t.copy=function(){return Qs(t,iO()).base(t.base())},Yi.apply(t,arguments)}function sO(){var t=t_(Fg());return t.copy=function(){return Qs(t,sO()).constant(t.constant())},Yi.apply(t,arguments)}function h_(){var t=n_(Fg());return t.copy=function(){return Qs(t,h_()).exponent(t.exponent())},Yi.apply(t,arguments)}function Bee(){return h_.apply(null,arguments).exponent(.5)}const QT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fd,scaleDiverging:rO,scaleDivergingLog:iO,scaleDivergingPow:h_,scaleDivergingSqrt:Bee,scaleDivergingSymlog:sO,scaleIdentity:L4,scaleImplicit:Mv,scaleLinear:Yp,scaleLog:V4,scaleOrdinal:W1,scalePoint:ku,scalePow:r_,scaleQuantile:B4,scaleQuantize:z4,scaleRadial:U4,scaleSequential:Z4,scaleSequentialLog:eO,scaleSequentialPow:f_,scaleSequentialQuantile:nO,scaleSequentialSqrt:Uee,scaleSequentialSymlog:tO,scaleSqrt:_Z,scaleSymlog:F4,scaleThreshold:q4,scaleTime:Vee,scaleUtc:Fee,tickFormat:D4},Symbol.toStringTag,{value:"Module"}));var zee=ec;function qee(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(l===void 0?o===o&&!zee(o):n(o,l)))var l=o,c=s}return c}var Ug=qee;function Gee(t,e){return t>e}var aO=Gee,Hee=Ug,Wee=aO,Kee=cc;function Jee(t){return t&&t.length?Hee(t,Kee,Wee):void 0}var Yee=Jee;const bs=Ze(Yee);function Xee(t,e){return t<e}var oO=Xee,Qee=Ug,Zee=oO,ete=cc;function tte(t){return t&&t.length?Qee(t,ete,Zee):void 0}var nte=tte;const Bg=Ze(nte);var rte=A1,ite=fi,ste=g4,ate=Wn;function ote(t,e){var n=ate(t)?rte:ste;return n(t,ite(e))}var lte=ote,cte=p4,ute=lte;function dte(t,e){return cte(ute(t,e),1)}var fte=dte;const hte=Ze(fte);var pte=B1;function mte(t,e){return pte(t,e)}var gte=mte;const Sl=Ze(gte);var dc=1e9,xte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},m_,xt=!0,br="[DecimalError] ",ja=br+"Invalid argument: ",p_=br+"Exponent out of range: ",fc=Math.floor,fa=Math.pow,yte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,qt=1e7,ht=7,lO=9007199254740991,em=fc(lO/ht),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return ji(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return st(ji(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Ot(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qn))throw Error(br+"NaN");if(n.s<1)throw Error(br+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(xt=!1,e=ji(xd(n,s),xd(t,s),s),xt=!0,st(e,i))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?dO(e,t):cO(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(br+"NaN");return n.s?(xt=!1,e=ji(n,t,0,1).times(t),xt=!0,n.minus(e)):st(new r(n),i)};ye.naturalExponential=ye.exp=function(){return uO(this)};ye.naturalLogarithm=ye.ln=function(){return xd(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cO(e,t):dO(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ja+t);if(e=Ot(i)+1,r=i.d.length-1,n=r*ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(br+"NaN")}for(t=Ot(l),xt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Xr(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(ji(l,s,o+2)).times(.5),Xr(s.d).slice(0,o)===(e=Xr(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(st(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return xt=!0,st(r,n)};ye.times=ye.mul=function(t){var e,n,r,i,s,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(s=h,h=x,x=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+x[r]*h[i-r-1]+e,s[i--]=l%qt|0,e=l/qt|0;s[i]=(s[i]+e)%qt|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,xt?st(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(li(t,0,dc),e===void 0?e=r.rounding:li(e,0,8),st(n,t+Ot(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=za(r,!0):(li(t,0,dc),e===void 0?e=i.rounding:li(e,0,8),r=st(new i(r),t+1,e),n=za(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?za(i):(li(t,0,dc),e===void 0?e=s.rounding:li(e,0,8),r=st(new s(i),t+Ot(i)+1,e),n=za(r.abs(),!1,t+Ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return st(new e(t),Ot(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(Qn);if(l=new c(l),!l.s){if(t.s<1)throw Error(br+"Infinity");return l}if(l.eq(Qn))return l;if(r=c.precision,t.eq(Qn))return st(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=d<0?-d:d)<=lO){for(i=new c(Qn),e=Math.ceil(r/ht+4),xt=!1;n%2&&(i=i.times(l),eA(i.d,e)),n=fc(n/2),n!==0;)l=l.times(l),eA(l.d,e);return xt=!0,t.s<0?new c(Qn).div(i):st(i,r)}}else if(s<0)throw Error(br+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,xt=!1,i=t.times(xd(l,r+u)),xt=!0,i=uO(i),i.s=s,i};ye.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ot(i),r=za(i,n<=s.toExpNeg||n>=s.toExpPos)):(li(t,1,dc),e===void 0?e=s.rounding:li(e,0,8),i=st(new s(i),t,e),n=Ot(i),r=za(i,t<=n||n<=s.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(li(t,1,dc),e===void 0?e=r.rounding:li(e,0,8)),st(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return za(t,e<=n.toExpNeg||e>=n.toExpPos)};function cO(t,e){var n,r,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),xt?st(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/ht),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/qt|0,c[s]%=qt;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,xt?st(e,f):e}function li(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ja+t)}function Xr(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=ht-r.length,n&&(s+=us(n)),s+=r;o=t[e],r=o+"",n=ht-r.length,n&&(s+=us(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ji=function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%qt|0,o=s/qt|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*qt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,d,f,h,x,y,b,v,_,w,S,C,T,N,E,A,j=r.constructor,M=r.s==i.s?1:-1,P=r.d,O=i.d;if(!r.s)return new j(r);if(!i.s)throw Error(br+"Division by zero");for(c=r.e-i.e,E=O.length,T=P.length,x=new j(M),y=x.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,s==null?w=s=j.precision:o?w=s+(Ot(r)-Ot(i))+1:w=s,w<0)return new j(0);if(w=w/ht+2|0,u=0,E==1)for(d=0,O=O[0],w++;(u<T||d)&&w--;u++)S=d*qt+(P[u]||0),y[u]=S/O|0,d=S%O|0;else{for(d=qt/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),E=O.length,T=P.length),C=E,b=P.slice(0,E),v=b.length;v<E;)b[v++]=0;A=O.slice(),A.unshift(0),N=O[0],O[1]>=qt/2&&++N;do d=0,l=e(O,b,E,v),l<0?(_=b[0],E!=v&&(_=_*qt+(b[1]||0)),d=_/N|0,d>1?(d>=qt&&(d=qt-1),f=t(O,d),h=f.length,v=b.length,l=e(f,b,h,v),l==1&&(d--,n(f,E<h?A:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(b,f,v),l==-1&&(v=b.length,l=e(O,b,E,v),l<1&&(d++,n(b,E<v?A:O,v))),v=b.length):l===0&&(d++,b=[0]),y[u++]=d,l&&b[0]?b[v++]=P[C]||0:(b=[P[C]],v=1);while((C++<T||b[0]!==void 0)&&w--)}return y[0]||y.shift(),x.e=c,st(x,o?s+Ot(x)+1:s)}}();function uO(t,e){var n,r,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Ot(t)>16)throw Error(p_+Ot(t));if(!t.s)return new d(Qn);for(xt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(fa(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new d(Qn),d.precision=l;;){if(i=st(i.times(t),l),n=n.times(++c),o=s.plus(ji(i,n,l)),Xr(o.d).slice(0,l)===Xr(s.d).slice(0,l)){for(;u--;)s=st(s.times(s),l);return d.precision=f,e==null?(xt=!0,st(s,f)):s}s=o}}function Ot(t){for(var e=t.e*ht,n=t.d[0];n>=10;n/=10)e++;return e}function Rx(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(br+"LN10 precision limit exceeded");return st(new t(t.LN10),e)}function us(t){for(var e="";t--;)e+="0";return e}function xd(t,e){var n,r,i,s,o,l,c,u,d,f=1,h=10,x=t,y=x.d,b=x.constructor,v=b.precision;if(x.s<1)throw Error(br+(x.s?"NaN":"-Infinity"));if(x.eq(Qn))return new b(0);if(e==null?(xt=!1,u=v):u=e,x.eq(10))return e==null&&(xt=!0),Rx(b,u);if(u+=h,b.precision=u,n=Xr(y),r=n.charAt(0),s=Ot(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Xr(x.d),r=n.charAt(0),f++;s=Ot(x),r>1?(x=new b("0."+n),s++):x=new b(r+"."+n.slice(1))}else return c=Rx(b,u+2,v).times(s+""),x=xd(new b(r+"."+n.slice(1)),u-h).plus(c),b.precision=v,e==null?(xt=!0,st(x,v)):x;for(l=o=x=ji(x.minus(Qn),x.plus(Qn),u),d=st(x.times(x),u),i=3;;){if(o=st(o.times(d),u),c=l.plus(ji(o,new b(i),u)),Xr(c.d).slice(0,u)===Xr(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Rx(b,u+2,v).times(s+""))),l=ji(l,new b(f),u),b.precision=v,e==null?(xt=!0,st(l,v)):l;l=c,i+=2}}function ZT(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=fc(n/ht),t.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ht;r<i;)t.d.push(+e.slice(r,r+=ht));e=e.slice(r),r=ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>em||t.e<-em))throw Error(p_+n)}else t.s=0,t.e=0,t.d=[0];return t}function st(t,e,n){var r,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=ht,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/ht),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;r%=ht,i=r-ht+o}if(n!==void 0&&(s=fa(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/fa(10,o-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=Ot(t),f.length=1,e=e-s-1,f[0]=fa(10,(ht-e%ht)%ht),t.e=fc(-e/ht)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,s=1,d--):(f.length=d+1,s=fa(10,ht-r),f[d]=i>0?(u/fa(10,o-i)%fa(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==qt&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=qt)break;f[d--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(xt&&(t.e>em||t.e<-em))throw Error(p_+Ot(t));return t}function dO(t,e){var n,r,i,s,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),xt?st(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(x/ht),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=qt-1;--c[s],c[i]+=qt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,xt?st(e,x):e):new h(0)}function za(t,e,n){var r,i=Ot(t),s=Xr(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+us(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+us(-i-1)+s,n&&(r=n-o)>0&&(s+=us(r))):i>=o?(s+=us(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+us(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=us(r))),t.s<0?"-"+s:s}function eA(t,e){if(t.length>e)return t.length=e,!0}function fO(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ja+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return ZT(o,s.toString())}else if(typeof s!="string")throw Error(ja+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,yte.test(s))ZT(o,s);else throw Error(ja+s)}if(i.prototype=ye,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=fO,i.config=i.set=vte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function vte(t){if(!t||typeof t!="object")throw Error(br+"Object expected");var e,n,r,i=["precision",1,dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(fc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ja+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ja+n+": "+r);return this}var m_=fO(xte);Qn=new m_(1);const tt=m_;function bte(t){return Ste(t)||Nte(t)||_te(t)||wte()}function wte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _te(t,e){if(t){if(typeof t=="string")return $v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $v(t,e)}}function Nte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ste(t){if(Array.isArray(t))return $v(t)}function $v(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ete=function(e){return e},hO={},pO=function(e){return e===hO},tA=function(e){return function n(){return arguments.length===0||arguments.length===1&&pO(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Tte=function t(e,n){return e===1?n:tA(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==hO}).length;return o>=e?n.apply(void 0,i):t(e-o,tA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return pO(f)?c.shift():f});return n.apply(void 0,bte(d).concat(c))}))})},zg=function(e){return Tte(e.length,e)},Vv=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Ate=zg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),kte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ete;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},Fv=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},mO=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=e.apply(void 0,s)),r}};function Cte(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function jte(t,e,n){for(var r=new tt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Pte=zg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ite=zg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Rte=zg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const qg={rangeStep:jte,getDigitCount:Cte,interpolateNumber:Pte,uninterpolateNumber:Ite,uninterpolateTruncation:Rte};function Uv(t){return Dte(t)||Ote(t)||gO(t)||Mte()}function Mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Dte(t){if(Array.isArray(t))return Bv(t)}function yd(t,e){return Vte(t)||$te(t,e)||gO(t,e)||Lte()}function Lte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gO(t,e){if(t){if(typeof t=="string")return Bv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(t,e)}}function Bv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $te(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function Vte(t){if(Array.isArray(t))return t}function xO(t){var e=yd(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function yO(t,e,n){if(t.lte(0))return new tt(0);var r=qg.getDigitCount(t.toNumber()),i=new tt(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new tt(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?c:new tt(Math.ceil(c))}function Fte(t,e,n){var r=1,i=new tt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new tt(10).pow(qg.getDigitCount(t)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):n||(i=new tt(Math.floor(t)));var o=Math.floor((e-1)/2),l=kte(Ate(function(c){return i.add(new tt(c-o).mul(r)).toNumber()}),Vv);return l(0,e)}function vO(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var s=yO(new tt(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new tt(0):(o=new tt(t).add(e).div(2),o=o.sub(new tt(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new tt(e).sub(o).div(s).toNumber()),u=l+c+1;return u>n?vO(t,e,n,r,i+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:s,tickMin:o.sub(new tt(l).mul(s)),tickMax:o.add(new tt(c).mul(s))})}function Ute(t){var e=yd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=xO([n,r]),c=yd(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Uv(Vv(0,i-1).map(function(){return 1/0}))):[].concat(Uv(Vv(0,i-1).map(function(){return-1/0})),[d]);return n>r?Fv(f):f}if(u===d)return Fte(u,i,s);var h=vO(u,d,o,s),x=h.step,y=h.tickMin,b=h.tickMax,v=qg.rangeStep(y,b.add(new tt(.1).mul(x)),x);return n>r?Fv(v):v}function Bte(t,e){var n=yd(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=xO([r,i]),l=yd(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(e,2),f=yO(new tt(u).sub(c).div(d-1),s,0),h=[].concat(Uv(qg.rangeStep(new tt(c),new tt(u).sub(new tt(.99).mul(f)),f)),[u]);return r>i?Fv(h):h}var zte=mO(Ute),qte=mO(Bte),Gte="Invariant failed";function qa(t,e){throw new Error(Gte)}var Hte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function Wte(t,e){return Xte(t)||Yte(t,e)||Jte(t,e)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return nA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nA(t,e)}}function nA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Xte(t){if(Array.isArray(t))return t}function Qte(t,e){if(t==null)return{};var n=Zte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ene(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_O(r.key),r)}}function nne(t,e,n){return e&&tne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rne(t,e,n){return e=nm(e),ine(t,bO()?Reflect.construct(e,n||[],nm(t).constructor):e.apply(t,n))}function ine(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sne(t)}function sne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function nm(t){return nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nm(t)}function ane(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zv(t,e)}function zv(t,e){return zv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zv(t,e)}function wO(t,e,n){return e=_O(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _O(t){var e=one(t,"string");return El(e)=="symbol"?e:e+""}function one(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gg=function(t){function e(){return ene(this,e),rne(this,e,arguments)}return ane(e,t),nne(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Qte(r,Hte),x=Ne(h,!1);this.props.direction==="x"&&d.type!=="number"&&qa();var y=c.map(function(b){var v=u(b,l),_=v.x,w=v.y,S=v.value,C=v.errorVal;if(!C)return null;var T=[],N,E;if(Array.isArray(C)){var A=Wte(C,2);N=A[0],E=A[1]}else N=E=C;if(s==="vertical"){var j=d.scale,M=w+i,P=M+o,O=M-o,R=j(S-N),z=j(S+E);T.push({x1:z,y1:P,x2:z,y2:O}),T.push({x1:R,y1:M,x2:z,y2:M}),T.push({x1:R,y1:P,x2:R,y2:O})}else if(s==="horizontal"){var F=f.scale,$=_+i,B=$-o,V=$+o,H=F(S-N),J=F(S+E);T.push({x1:B,y1:J,x2:V,y2:J}),T.push({x1:$,y1:H,x2:$,y2:J}),T.push({x1:B,y1:H,x2:V,y2:H})}return U.createElement(Fe,tm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),T.map(function(W){return U.createElement("line",tm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return U.createElement(Fe,{className:"recharts-errorBars"},y)}}])}(U.Component);wO(Gg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});wO(Gg,"displayName","ErrorBar");function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function rA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(n),!0).forEach(function(r){lne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e,n){return e=cne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cne(t){var e=une(t,"string");return vd(e)=="symbol"?e:e+""}function une(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NO=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Xn(n,ka);if(!o)return null;var l=ka.defaultProps,c=l!==void 0?sa(sa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,y=x.sectors||x.data||[];return d.concat(y.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?sa(sa({},h),f.props):{},y=x.dataKey,b=x.name,v=x.legendType,_=x.hide;return{inactive:_,dataKey:y,type:c.iconType||v||"square",color:g_(f),value:b||y,payload:x}}),sa(sa(sa({},c),ka.getWithHeight(o,i)),{},{payload:u,item:o})};function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function iA(t){return pne(t)||hne(t)||fne(t)||dne()}function dne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fne(t,e){if(t){if(typeof t=="string")return qv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qv(t,e)}}function hne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pne(t){if(Array.isArray(t))return qv(t)}function qv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sA(Object(n),!0).forEach(function(r){Jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jo(t,e,n){return e=mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return bd(e)=="symbol"?e:e+""}function gne(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vt(t,e,n){return Ie(t)||Ie(e)?n:Ut(e)?tr(t,e,n):ke(e)?e(t):n}function Cu(t,e,n,r){var i=hte(t,function(l){return Vt(l,e)});if(n==="number"){var s=i.filter(function(l){return oe(l)||parseFloat(l)});return s.length?[Bg(s),bs(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!Ie(l)}):i;return o.map(function(l){return Ut(l)||l instanceof Date?l:""})}var xne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,h=u>=l-1?i[0].coordinate:i[u+1].coordinate,x=void 0;if(jn(f-d)!==jn(h-f)){var y=[];if(jn(h-f)===jn(c[1]-c[0])){x=h;var b=f+c[1]-c[0];y[0]=Math.min(b,(b+d)/2),y[1]=Math.max(b,(b+d)/2)}else{x=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var w=Math.min(d,h),S=Math.max(d,h);if(e>(w+f)/2&&e<=(S+f)/2){o=i[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},g_=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},yne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var y=d[f[h]],b=y.items,v=y.cateAxisId,_=b.filter(function(E){return Ci(E.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,S=w!==void 0?Et(Et({},w),_[0].props):_[0].props,C=S.barSize,T=S[v];o[T]||(o[T]=[]);var N=Ie(C)?n:C;o[T].push({item:_[0],stackList:_.slice(1),barSize:Ie(N)?void 0:Pn(N,r,0)})}}return o},vne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Pn(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=i/c,y=o.reduce(function(C,T){return C+T.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&x>0&&(h=!0,x*=.9,y=c*x);var b=(i-y)/2>>0,v={offset:b-u,size:0};d=o.reduce(function(C,T){var N={item:T.item,position:{offset:v.offset+v.size+u,size:h?x:T.barSize}},E=[].concat(iA(C),[N]);return v=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:v})}),E},f)}else{var _=Pn(r,i,0,!0);i-2*_-(c-1)*u<=0&&(u=0);var w=(i-2*_-(c-1)*u)/c;w>1&&(w>>=0);var S=l===+l?Math.min(w,l):w;d=o.reduce(function(C,T,N){var E=[].concat(iA(C),[{item:T.item,position:{offset:_+(w+u)*N+(w-S)/2,size:S}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},bne=function(e,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=NO({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,x=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&x!=="center"&&oe(e[x]))return Et(Et({},e),{},Jo({},x,e[x]+(f||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&y!=="middle"&&oe(e[y]))return Et(Et({},e),{},Jo({},y,e[y]+(h||0)))}return e},wne=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},SO=function(e,n,r,i,s){var o=n.props.children,l=gr(o,Gg).filter(function(u){return wne(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Vt(d,r);if(Ie(f))return u;var h=Array.isArray(f)?[Bg(f),bs(f)]:[f,f],x=c.reduce(function(y,b){var v=Vt(d,b,0),_=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,y[0]),Math.max(w,y[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},_ne=function(e,n,r,i,s){var o=n.map(function(l){return SO(e,l,r,s,i)}).filter(function(l){return!Ie(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},EO=function(e,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&SO(e,c,u,i)||Cu(e,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},TO=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},AO=function(e,n,r,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Si=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?jn(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=s?s.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!sc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:s?s[f]:f,index:h,offset:u}})},Mx=new WeakMap,sh=function(e,n){if(typeof n!="function")return e;Mx.has(e)||Mx.set(e,new WeakMap);var r=Mx.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},kO=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:fd(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Yp(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ku(),realScaleType:"point"}:s==="category"?{scale:fd(),realScaleType:"band"}:{scale:Yp(),realScaleType:"linear"};if(Fa(i)){var c="scale".concat(Ag(i));return{scale:(QT[c]||ku)(),realScaleType:QT[c]?c:"point"}}return ke(i)?{scale:i}:{scale:ku(),realScaleType:"point"}},aA=1e-4,CO=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-aA,o=Math.max(i[0],i[1])+aA,l=e(n[0]),c=e(n[r-1]);(l<s||l>o||c<s||c>o)&&e.domain([n[0],n[r-1]])}},Nne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Sne=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(s[0]=r),(!oe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Ene=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=sc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},Tne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=sc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Ane={sign:Ene,expand:Hz,none:gl,silhouette:Wz,wiggle:Kz,positive:Tne},kne=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),s=Ane[r],o=Gz().keys(i).value(function(l,c){return+Vt(l,c,0)}).order(mv).offset(s);return o(e)},Cne=function(e,n,r,i,s,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,y=(x=h.type)!==null&&x!==void 0&&x.defaultProps?Et(Et({},h.type.defaultProps),h.props):h.props,b=y.stackId,v=y.hide;if(v)return f;var _=y[r],w=f[_]||{hasStack:!1,stackGroups:{}};if(Ut(b)){var S=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};S.items.push(h),w.hasStack=!0,w.stackGroups[b]=S}else w.stackGroups[ac("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Et(Et({},f),{},Jo({},_,w))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var y={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,v){var _=x.stackGroups[v];return Et(Et({},b),{},Jo({},v,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:kne(e,_.items,s)}))},y)}return Et(Et({},f),{},Jo({},h,x))},d)},jO=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=zte(u,s,l);return e.domain([Bg(d),bs(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),h=qte(f,s,l);return{niceTicks:h}}return null};function oA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var l=kp(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Vt(i,Ie(o)?e.dataKey:o);return Ie(c)?null:e.scale(c)}var lA=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Vt(o,n.dataKey,n.domain[l]);return Ie(c)?null:n.scale(c)-s/2+i},jne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Pne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Ut(s)){var o=n[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Ine=function(e){return e.reduce(function(n,r){return[Bg(r.concat([n[0]]).filter(oe)),bs(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},PO=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=Ine(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},cA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Gv=function(e,n,r){if(ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(cA.test(e[0])){var s=+cA.exec(e[0])[1];i[0]=n[0]-s}else ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uA.test(e[1])){var o=+uA.exec(e[1])[1];i[1]=n[1]+o}else ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},rm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=q1(n,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},dA=function(e,n,r){return!e||!e.length||Sl(e,tr(r,"type.defaultProps.domain"))?n:e},IO=function(e,n){var r=e.type.defaultProps?Et(Et({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return Et(Et({},Ne(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:g_(e),value:Vt(n,i),type:c,payload:n,chartType:u,hide:d})};function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function fA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fA(Object(n),!0).forEach(function(r){RO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RO(t,e,n){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Mne(t,"string");return wd(e)=="symbol"?e:e+""}function Mne(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){return Vne(t)||$ne(t,e)||Lne(t,e)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lne(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Vne(t){if(Array.isArray(t))return t}var im=Math.PI/180,Fne=function(e){return e*180/Math.PI},ct=function(e,n,r,i){return{x:e+Math.cos(-im*i)*r,y:n+Math.sin(-im*i)*r}},MO=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Une=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Pn(e.cx,o,o/2),f=Pn(e.cy,l,l/2),h=MO(o,l,r),x=Pn(e.innerRadius,h,0),y=Pn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(v,_){var w=n[_],S=w.domain,C=w.reversed,T;if(Ie(w.range))i==="angleAxis"?T=[c,u]:i==="radiusAxis"&&(T=[x,y]),C&&(T=[T[1],T[0]]);else{T=w.range;var N=T,E=One(N,2);c=E[0],u=E[1]}var A=kO(w,s),j=A.realScaleType,M=A.scale;M.domain(S).range(T),CO(M);var P=jO(M,yi(yi({},w),{},{realScaleType:j})),O=yi(yi(yi({},w),P),{},{range:T,radius:y,realScaleType:j,scale:M,cx:d,cy:f,innerRadius:x,outerRadius:y,startAngle:c,endAngle:u});return yi(yi({},v),{},RO({},_,O))},{})},Bne=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},zne=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,l=Bne({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:Fne(u),angleInRadian:u}},qne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},Gne=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},pA=function(e,n){var r=e.x,i=e.y,s=zne({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=qne(n),f=d.startAngle,h=d.endAngle,x=l,y;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;y=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;y=x>=h&&x<=f}return y?yi(yi({},n),{},{radius:o,angle:Gne(x,n)}):null},OO=function(e){return!D.isValidElement(e)&&!ke(e)&&typeof e!="boolean"?e.className:""};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}var Hne=["offset"];function Wne(t){return Xne(t)||Yne(t)||Jne(t)||Kne()}function Kne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jne(t,e){if(t){if(typeof t=="string")return Hv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hv(t,e)}}function Yne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xne(t){if(Array.isArray(t))return Hv(t)}function Hv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qne(t,e){if(t==null)return{};var n=Zne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mA(Object(n),!0).forEach(function(r){ere(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ere(t,e,n){return e=tre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tre(t){var e=nre(t,"string");return _d(e)=="symbol"?e:e+""}function nre(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}var rre=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return ke(r)?r(i):i},ire=function(e,n){var r=jn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},sre=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,y=c.endAngle,b=c.clockWise,v=(f+h)/2,_=ire(x,y),w=_>=0?1:-1,S,C;i==="insideStart"?(S=x+w*o,C=b):i==="insideEnd"?(S=y-w*o,C=!b):i==="end"&&(S=y+w*o,C=b),C=_<=0?C:!C;var T=ct(u,d,v,S),N=ct(u,d,v,S+(C?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(N.x,",").concat(N.y),A=Ie(e.id)?ac("recharts-radial-line-"):e.id;return U.createElement("text",Nd({},r,{dominantBaseline:"central",className:Oe("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:A,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(A)},n))},are=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,h=(d+f)/2;if(i==="outside"){var x=ct(o,l,u+r,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,_=ct(o,l,v,h),w=_.x,S=_.y;return{x:w,y:S,textAnchor:"middle",verticalAnchor:"middle"}},ore=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,x=f>0?"end":"start",y=f>0?"start":"end",b=u>=0?1:-1,v=b*i,_=b>0?"end":"start",w=b>0?"start":"end";if(s==="top"){var S={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:x};return Lt(Lt({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return Lt(Lt({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(s==="left"){var T={x:l-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Lt(Lt({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(s==="right"){var N={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Lt(Lt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return s==="insideLeft"?Lt({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},E):s==="insideRight"?Lt({x:l+u-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):s==="insideTop"?Lt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},E):s==="insideBottom"?Lt({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},E):s==="insideTopLeft"?Lt({x:l+v,y:c+h,textAnchor:w,verticalAnchor:y},E):s==="insideTopRight"?Lt({x:l+u-v,y:c+h,textAnchor:_,verticalAnchor:y},E):s==="insideBottomLeft"?Lt({x:l+v,y:c+d-h,textAnchor:w,verticalAnchor:x},E):s==="insideBottomRight"?Lt({x:l+u-v,y:c+d-h,textAnchor:_,verticalAnchor:x},E):tc(s)&&(oe(s.x)||ba(s.x))&&(oe(s.y)||ba(s.y))?Lt({x:l+Pn(s.x,u),y:c+Pn(s.y,d),textAnchor:"end",verticalAnchor:"end"},E):Lt({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},lre=function(e){return"cx"in e&&oe(e.cx)};function Wt(t){var e=t.offset,n=e===void 0?5:e,r=Qne(t,Hne),i=Lt({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!s||Ie(l)&&Ie(c)&&!D.isValidElement(u)&&!ke(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var x;if(ke(u)){if(x=D.createElement(u,i),D.isValidElement(x))return x}else x=rre(i);var y=lre(s),b=Ne(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return sre(i,x,b);var v=y?are(i):ore(i);return U.createElement(Ba,Nd({className:Oe("recharts-label",f)},b,v,{breakAll:h}),x)}Wt.displayName="Label";var DO=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,y=e.left,b=e.width,v=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(oe(b)&&oe(v)){if(oe(f)&&oe(h))return{x:f,y:h,width:b,height:v};if(oe(x)&&oe(y))return{x,y,width:b,height:v}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},cre=function(e,n){return e?e===!0?U.createElement(Wt,{key:"label-implicit",viewBox:n}):Ut(e)?U.createElement(Wt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===Wt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Wt,{key:"label-implicit",content:e,viewBox:n}):ke(e)?U.createElement(Wt,{key:"label-implicit",content:e,viewBox:n}):tc(e)?U.createElement(Wt,Nd({viewBox:n},e,{key:"label-implicit"})):null:null},ure=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=DO(e),o=gr(i,Wt).map(function(c,u){return D.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=cre(e.label,n||s);return[l].concat(Wne(o))};Wt.parseViewBox=DO;Wt.renderCallByParent=ure;function dre(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var fre=dre;const hre=Ze(fre);function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}var pre=["valueAccessor"],mre=["data","dataKey","clockWise","id","textBreakAll"];function gre(t){return bre(t)||vre(t)||yre(t)||xre()}function xre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return Wv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wv(t,e)}}function vre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bre(t){if(Array.isArray(t))return Wv(t)}function Wv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function gA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gA(Object(n),!0).forEach(function(r){wre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wre(t,e,n){return e=_re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=Nre(t,"string");return Sd(e)=="symbol"?e:e+""}function Nre(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yA(t,e){if(t==null)return{};var n=Sre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ere=function(e){return Array.isArray(e.value)?hre(e.value):e.value};function Pi(t){var e=t.valueAccessor,n=e===void 0?Ere:e,r=yA(t,pre),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=yA(r,mre);return!i||!i.length?null:U.createElement(Fe,{className:"recharts-label-list"},i.map(function(d,f){var h=Ie(s)?n(d,f):Vt(d&&d.payload,s),x=Ie(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Wt,sm({},Ne(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Wt.parseViewBox(Ie(o)?d:xA(xA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Pi.displayName="LabelList";function Tre(t,e){return t?t===!0?U.createElement(Pi,{key:"labelList-implicit",data:e}):U.isValidElement(t)||ke(t)?U.createElement(Pi,{key:"labelList-implicit",data:e,content:t}):tc(t)?U.createElement(Pi,sm({data:e},t,{key:"labelList-implicit"})):null:null}function Are(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=gr(r,Pi).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var s=Tre(t.label,e);return[s].concat(gre(i))}Pi.renderCallByParent=Are;function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function vA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vA(Object(n),!0).forEach(function(r){kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e,n){return e=Cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cre(t){var e=jre(t,"string");return Ed(e)=="symbol"?e:e+""}function jre(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pre=function(e,n){var r=jn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ah=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/im,h=u?s:s+o*f,x=ct(n,r,d,h),y=ct(n,r,i,h),b=u?s-o*f:s,v=ct(n,r,d*Math.cos(f*im),b);return{center:x,circleTangency:y,lineTangency:v,theta:f}},LO=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Pre(o,l),u=o+c,d=ct(n,r,s,o),f=ct(n,r,s,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var x=ct(n,r,i,o),y=ct(n,r,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ire=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=jn(d-u),h=ah({cx:n,cy:r,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,y=h.lineTangency,b=h.theta,v=ah({cx:n,cy:r,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,w=v.lineTangency,S=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-b-S;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):LO({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var N=ah({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=N.circleTangency,A=N.lineTangency,j=N.theta,M=ah({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=M.circleTangency,O=M.lineTangency,R=M.theta,z=c?Math.abs(u-d):Math.abs(u-d)-j-R;if(z<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},Rre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$O=function(e){var n=bA(bA({},Rre),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<s||d===f)return null;var x=Oe("recharts-sector",h),y=o-s,b=Pn(l,y,0,!0),v;return b>0&&Math.abs(d-f)<360?v=Ire({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=LO({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",Kv({},Ne(n,!0),{className:x,d:v,role:"img"}))};function Td(t){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(this,arguments)}function wA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _A(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wA(Object(n),!0).forEach(function(r){Mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mre(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Dre(t,"string");return Td(e)=="symbol"?e:e+""}function Dre(t,e){if(Td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NA={curveBasisClosed:Mz,curveBasisOpen:Oz,curveBasis:Rz,curveBumpX:vz,curveBumpY:bz,curveLinearClosed:Dz,curveLinear:Cg,curveMonotoneX:Lz,curveMonotoneY:$z,curveNatural:Vz,curveStep:Fz,curveStepAfter:Bz,curveStepBefore:Uz},oh=function(e){return e.x===+e.x&&e.y===+e.y},Yc=function(e){return e.x},Xc=function(e){return e.y},Lre=function(e,n){if(ke(e))return e;var r="curve".concat(Ag(e));return(r==="curveMonotone"||r==="curveBump")&&n?NA["".concat(r).concat(n==="vertical"?"Y":"X")]:NA[r]||Cg},$re=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Lre(r,l),f=u?s.filter(function(b){return oh(b)}):s,h;if(Array.isArray(o)){var x=u?o.filter(function(b){return oh(b)}):o,y=f.map(function(b,v){return _A(_A({},b),{},{base:x[v]})});return l==="vertical"?h=Xf().y(Xc).x1(Yc).x0(function(b){return b.base.x}):h=Xf().x(Yc).y1(Xc).y0(function(b){return b.base.y}),h.defined(oh).curve(d),h(y)}return l==="vertical"&&oe(o)?h=Xf().y(Xc).x1(Yc).x0(o):oe(o)?h=Xf().x(Yc).y1(Xc).y0(o):h=RM().x(Yc).y(Xc),h.defined(oh).curve(d),h(f)},Yo=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?$re(e):i;return D.createElement("path",Jv({},Ne(e,!1),Cp(e),{className:Oe("recharts-curve",n),d:o,ref:s}))},VO={exports:{}},Vre="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fre=Vre,Ure=Fre;function FO(){}function UO(){}UO.resetWarningCache=FO;var Bre=function(){function t(r,i,s,o,l,c){if(c!==Ure){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UO,resetWarningCache:FO};return n.PropTypes=n,n};VO.exports=Bre();var zre=VO.exports;const Xe=Ze(zre),{getOwnPropertyNames:qre,getOwnPropertySymbols:Gre}=Object,{hasOwnProperty:Hre}=Object.prototype;function Ox(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function lh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:s}=i,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);const c=t(n,r,i);return s.delete(n),s.delete(r),c}}function Wre(t){return t!=null?t[Symbol.toStringTag]:void 0}function SA(t){return qre(t).concat(Gre(t))}const Kre=Object.hasOwn||((t,e)=>Hre.call(t,e));function ro(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Jre="__v",Yre="__o",Xre="_owner",{getOwnPropertyDescriptor:EA,keys:TA}=Object;function Qre(t,e){return t.byteLength===e.byteLength&&am(new Uint8Array(t),new Uint8Array(e))}function Zre(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function eie(t,e){return t.byteLength===e.byteLength&&am(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function tie(t,e){return ro(t.getTime(),e.getTime())}function nie(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function rie(t,e){return t===e}function AA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.entries();let o,l,c=0;for(;(o=s.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const iie=ro;function sie(t,e,n){const r=TA(t);let i=r.length;if(TA(e).length!==i)return!1;for(;i-- >0;)if(!BO(t,e,n,r[i]))return!1;return!0}function Qc(t,e,n){const r=SA(t);let i=r.length;if(SA(e).length!==i)return!1;let s,o,l;for(;i-- >0;)if(s=r[i],!BO(t,e,n,s)||(o=EA(t,s),l=EA(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function aie(t,e){return ro(t.valueOf(),e.valueOf())}function oie(t,e){return t.source===e.source&&t.flags===e.flags}function kA(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=t.values();let o,l;for(;(o=s.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function am(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function lie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function BO(t,e,n,r){return(r===Xre||r===Yre||r===Jre)&&(t.$$typeof||e.$$typeof)?!0:Kre(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const cie="[object ArrayBuffer]",uie="[object Arguments]",die="[object Boolean]",fie="[object DataView]",hie="[object Date]",pie="[object Error]",mie="[object Map]",gie="[object Number]",xie="[object Object]",yie="[object RegExp]",vie="[object Set]",bie="[object String]",wie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},_ie="[object URL]",Nie=Object.prototype.toString;function Sie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:y}){return function(v,_,w){if(v===_)return!0;if(v==null||_==null)return!1;const S=typeof v;if(S!==typeof _)return!1;if(S!=="object")return S==="number"?l(v,_,w):S==="function"?s(v,_,w):!1;const C=v.constructor;if(C!==_.constructor)return!1;if(C===Object)return c(v,_,w);if(Array.isArray(v))return e(v,_,w);if(C===Date)return r(v,_,w);if(C===RegExp)return d(v,_,w);if(C===Map)return o(v,_,w);if(C===Set)return f(v,_,w);const T=Nie.call(v);if(T===hie)return r(v,_,w);if(T===yie)return d(v,_,w);if(T===mie)return o(v,_,w);if(T===vie)return f(v,_,w);if(T===xie)return typeof v.then!="function"&&typeof _.then!="function"&&c(v,_,w);if(T===_ie)return x(v,_,w);if(T===pie)return i(v,_,w);if(T===uie)return c(v,_,w);if(wie[T])return h(v,_,w);if(T===cie)return t(v,_,w);if(T===fie)return n(v,_,w);if(T===die||T===gie||T===bie)return u(v,_,w);if(y){let N=y[T];if(!N){const E=Wre(v);E&&(N=y[E])}if(N)return N(v,_,w)}return!1}}function Eie({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Qre,areArraysEqual:n?Qc:Zre,areDataViewsEqual:eie,areDatesEqual:tie,areErrorsEqual:nie,areFunctionsEqual:rie,areMapsEqual:n?Ox(AA,Qc):AA,areNumbersEqual:iie,areObjectsEqual:n?Qc:sie,arePrimitiveWrappersEqual:aie,areRegExpsEqual:oie,areSetsEqual:n?Ox(kA,Qc):kA,areTypedArraysEqual:n?Ox(am,Qc):am,areUrlsEqual:lie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=lh(r.areArraysEqual),s=lh(r.areMapsEqual),o=lh(r.areObjectsEqual),l=lh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return r}function Tie(t){return function(e,n,r,i,s,o,l){return t(e,n,l)}}function Aie({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,s)}}const kie=Zs();Zs({strict:!0});Zs({circular:!0});Zs({circular:!0,strict:!0});Zs({createInternalComparator:()=>ro});Zs({strict:!0,createInternalComparator:()=>ro});Zs({circular:!0,createInternalComparator:()=>ro});Zs({circular:!0,createInternalComparator:()=>ro,strict:!0});function Zs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,s=Eie(t),o=Sie(s),l=n?n(o):Tie(o);return Aie({circular:e,comparator:o,createState:r,equals:l,strict:i})}function Cie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function CA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Cie(i)};requestAnimationFrame(r)}function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function jie(t){return Mie(t)||Rie(t)||Iie(t)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iie(t,e){if(t){if(typeof t=="string")return jA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jA(t,e)}}function jA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mie(t){if(Array.isArray(t))return t}function Oie(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=jie(o),c=l[0],u=l.slice(1);if(typeof c=="number"){CA(i.bind(null,u),c);return}i(c),CA(i.bind(null,u));return}Yv(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function PA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PA(Object(n),!0).forEach(function(r){zO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zO(t,e,n){return e=Die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Lie(t,"string");return Ad(e)==="symbol"?e:String(e)}function Lie(t,e){if(Ad(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ad(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $ie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Vie=function(e){return e},Fie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ju=function(e,n){return Object.keys(n).reduce(function(r,i){return IA(IA({},r),{},zO({},i,e(i,n[i])))},{})},RA=function(e,n,r){return e.map(function(i){return"".concat(Fie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Uie(t,e){return qie(t)||zie(t,e)||qO(t,e)||Bie()}function Bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qie(t){if(Array.isArray(t))return t}function Gie(t){return Kie(t)||Wie(t)||qO(t)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qO(t,e){if(t){if(typeof t=="string")return Xv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xv(t,e)}}function Wie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kie(t){if(Array.isArray(t))return Xv(t)}function Xv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var om=1e-4,GO=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},HO=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},MA=function(e,n){return function(r){var i=GO(e,n);return HO(i,r)}},Jie=function(e,n){return function(r){var i=GO(e,n),s=[].concat(Gie(i.map(function(o,l){return o*l}).slice(1)),[0]);return HO(s,r)}},OA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Uie(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=MA(i,o),h=MA(s,l),x=Jie(i,o),y=function(_){return _>1?1:_<0?0:_},b=function(_){for(var w=_>1?1:_,S=w,C=0;C<8;++C){var T=f(S)-w,N=x(S);if(Math.abs(T-w)<om||N<om)return h(S);S=y(S-T/N)}return h(S)};return b.isStepper=!1,b},Yie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,y=h*s,b=h+(x-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<om&&Math.abs(b)<om?[f,0]:[v,b]};return c.isStepper=!0,c.dt=l,c},Xie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OA(i);case"spring":return Yie();default:if(i.split("(")[0]==="cubic-bezier")return OA(i)}return typeof i=="function"?i:null};function kd(t){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kd(t)}function DA(t){return ese(t)||Zie(t)||WO(t)||Qie()}function Qie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ese(t){if(Array.isArray(t))return Zv(t)}function LA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LA(Object(n),!0).forEach(function(r){Qv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qv(t,e,n){return e=tse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tse(t){var e=nse(t,"string");return kd(e)==="symbol"?e:String(e)}function nse(t,e){if(kd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rse(t,e){return ase(t)||sse(t,e)||WO(t,e)||ise()}function ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WO(t,e){if(t){if(typeof t=="string")return Zv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zv(t,e)}}function Zv(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ase(t){if(Array.isArray(t))return t}var lm=function(e,n,r){return e+(n-e)*r},eb=function(e){var n=e.from,r=e.to;return n!==r},ose=function t(e,n,r){var i=ju(function(s,o){if(eb(o)){var l=e(o.from,o.to,o.velocity),c=rse(l,2),u=c[0],d=c[1];return Zt(Zt({},o),{},{from:u,velocity:d})}return o},n);return r<1?ju(function(s,o){return eb(o)?Zt(Zt({},o),{},{velocity:lm(o.velocity,i[s].velocity,r),from:lm(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const lse=function(t,e,n,r,i){var s=$ie(t,e),o=s.reduce(function(v,_){return Zt(Zt({},v),{},Qv({},_,[t[_],e[_]]))},{}),l=s.reduce(function(v,_){return Zt(Zt({},v),{},Qv({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return ju(function(_,w){return w.from},l)},x=function(){return!Object.values(l).filter(eb).length},y=function(_){u||(u=_);var w=_-u,S=w/n.dt;l=ose(n,l,S),i(Zt(Zt(Zt({},t),e),h())),u=_,x()||(c=requestAnimationFrame(f))},b=function(_){d||(d=_);var w=(_-d)/r,S=ju(function(T,N){return lm.apply(void 0,DA(N).concat([n(w)]))},o);if(i(Zt(Zt(Zt({},t),e),S)),w<1)c=requestAnimationFrame(f);else{var C=ju(function(T,N){return lm.apply(void 0,DA(N).concat([n(1)]))},o);i(Zt(Zt(Zt({},t),e),C))}};return f=n.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var cse=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function use(t,e){if(t==null)return{};var n=dse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dse(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dx(t){return mse(t)||pse(t)||hse(t)||fse()}function fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function pse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mse(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){cu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cu(t,e,n){return e=KO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KO(r.key),r)}}function yse(t,e,n){return e&&xse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KO(t){var e=vse(t,"string");return Tl(e)==="symbol"?e:String(e)}function vse(t,e){if(Tl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nb(t,e)}function wse(t){var e=_se();return function(){var r=cm(t),i;if(e){var s=cm(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rb(this,i)}}function rb(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ib(t)}function ib(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}var ci=function(t){bse(n,t);var e=wse(n);function n(r,i){var s;gse(this,n),s=e.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ib(s)),s.changeStyle=s.changeStyle.bind(ib(s)),!l||x<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:d}),rb(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof h=="function")return s.state={style:u},rb(s);s.state={style:c?cu({},c,u):u}}else s.state={style:{}};return s}return yse(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,h=this.state.style;if(l){if(!o){var x={style:c?cu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(kie(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?f:i.to;if(this.state&&h){var v={style:c?cu({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(v)}this.runAnimation(Ar(Ar({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,x=lse(o,l,Xie(u),c,this.changeStyle),y=function(){s.stopJSAnimation=x()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(b,v,_){if(_===0)return b;var w=v.duration,S=v.easing,C=S===void 0?"ease":S,T=v.style,N=v.properties,E=v.onAnimationEnd,A=_>0?o[_-1]:v,j=N||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(Dx(b),[s.runJSAnimation.bind(s,{from:A.style,to:T,duration:w,easing:C}),w]);var M=RA(j,w,C),P=Ar(Ar(Ar({},A.style),T),{},{transition:M});return[].concat(Dx(b),[P,w,E]).filter(Vie)};return this.manager.start([c].concat(Dx(o.reduce(x,[d,Math.max(h,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Oie());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,x=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=l?cu({},l,c):c,v=RA(Object.keys(b),o,u);y.start([d,s,Ar(Ar({},b),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=use(i,cse),u=D.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(x){var y=x.props,b=y.style,v=b===void 0?{}:b,_=y.className,w=D.cloneElement(x,Ar(Ar({},c),{},{style:Ar(Ar({},v),d),className:_}));return w};return u===1?f(D.Children.only(s)):U.createElement("div",null,D.Children.map(s,function(h){return f(h)}))}}]),n}(D.PureComponent);ci.displayName="Animate";ci.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ci.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function Nse(t,e){return Ase(t)||Tse(t,e)||Ese(t,e)||Sse()}function Sse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ese(t,e){if(t){if(typeof t=="string")return VA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(t,e)}}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ase(t){if(Array.isArray(t))return t}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){kse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kse(t,e,n){return e=Cse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=jse(t,"string");return Cd(e)=="symbol"?e:e+""}function jse(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BA=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=s[h]>o?o:s[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+i)),d+="L ".concat(e+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+i,`
            L `).concat(e+c*y,",").concat(n+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+i-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},Pse=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=h}return!1},Ise={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},x_=function(e){var n=UA(UA({},Ise),e),r=D.useRef(),i=D.useState(-1),s=Nse(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,y=n.animationEasing,b=n.animationDuration,v=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=Oe("recharts-rectangle",x);return w?U.createElement(ci,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:y,isActive:w},function(C){var T=C.width,N=C.height,E=C.x,A=C.y;return U.createElement(ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:_,easing:y},U.createElement("path",um({},Ne(n,!0),{className:S,d:BA(E,A,T,N,h),ref:r})))}):U.createElement("path",um({},Ne(n,!0),{className:S,d:BA(c,u,d,f,h)}))},Rse=["points","className","baseLinePoints","connectNulls"];function Ro(){return Ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ro.apply(this,arguments)}function Mse(t,e){if(t==null)return{};var n=Ose(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ose(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zA(t){return Vse(t)||$se(t)||Lse(t)||Dse()}function Dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function $se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vse(t){if(Array.isArray(t))return sb(t)}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var qA=function(e){return e&&e.x===+e.x&&e.y===+e.y},Fse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){qA(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),qA(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Pu=function(e,n){var r=Fse(e);n&&(r=[r.reduce(function(s,o){return[].concat(zA(s),zA(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Use=function(e,n,r){var i=Pu(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Pu(n.reverse(),r).slice(1))},Bse=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=Mse(e,Rse);if(!n||!n.length)return null;var l=Oe("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Use(n,i,s);return U.createElement("g",{className:l},U.createElement("path",Ro({},Ne(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",Ro({},Ne(o,!0),{fill:"none",d:Pu(n,s)})):null,c?U.createElement("path",Ro({},Ne(o,!0),{fill:"none",d:Pu(i,s)})):null)}var d=Pu(n,s);return U.createElement("path",Ro({},Ne(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}var Hg=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Oe("recharts-dot",s);return n===+n&&r===+r&&i===+i?D.createElement("circle",ab({},Ne(e,!1),Cp(e),{className:o,cx:n,cy:r,r:i})):null};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}var zse=["x","y","top","left","width","height","className"];function ob(){return ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ob.apply(this,arguments)}function GA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GA(Object(n),!0).forEach(function(r){Gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gse(t,e,n){return e=Hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hse(t){var e=Wse(t,"string");return jd(e)=="symbol"?e:e+""}function Wse(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kse(t,e){if(t==null)return{};var n=Jse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yse=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Xse=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,y=e.className,b=Kse(e,zse),v=qse({x:r,y:s,top:l,left:u,width:f,height:x},b);return!oe(r)||!oe(s)||!oe(f)||!oe(x)||!oe(l)||!oe(u)?null:U.createElement("path",ob({},Ne(v,!0),{className:Oe("recharts-cross",y),d:Yse(r,s,f,x,l,u)}))},Qse=Ug,Zse=aO,eae=fi;function tae(t,e){return t&&t.length?Qse(t,eae(e),Zse):void 0}var nae=tae;const rae=Ze(nae);var iae=Ug,sae=fi,aae=oO;function oae(t,e){return t&&t.length?iae(t,sae(e),aae):void 0}var lae=oae;const cae=Ze(lae);var uae=["cx","cy","angle","ticks","axisLine"],dae=["ticks","tick","angle","tickFormatter","stroke"];function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){Wg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WA(t,e){if(t==null)return{};var n=fae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YO(r.key),r)}}function pae(t,e,n){return e&&KA(t.prototype,e),n&&KA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mae(t,e,n){return e=dm(e),gae(t,JO()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function gae(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xae(t)}function xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JO=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lb(t,e)}function lb(t,e){return lb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lb(t,e)}function Wg(t,e,n){return e=YO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YO(t){var e=vae(t,"string");return Al(e)=="symbol"?e:e+""}function vae(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kg=function(t){function e(){return hae(this,e),mae(this,e,arguments)}return yae(e,t),pae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return ct(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=rae(l,function(d){return d.coordinate||0}),u=cae(l,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=WA(r,uae),d=l.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),f=ct(i,s,d[0],o),h=ct(i,s,d[1],o),x=aa(aa(aa({},Ne(u,!1)),{},{fill:"none"},Ne(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",Iu({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=WA(i,dae),f=this.getTickTextAnchor(),h=Ne(d,!1),x=Ne(o,!1),y=s.map(function(b,v){var _=r.getTickValueCoord(b),w=aa(aa(aa(aa({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:v},_),{},{payload:b});return U.createElement(Fe,Iu({className:Oe("recharts-polar-radius-axis-tick",OO(o)),key:"tick-".concat(b.coordinate)},Ua(r.props,b,v)),e.renderTickItem(o,w,c?c(b.value,v):b.value))});return U.createElement(Fe,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:U.createElement(Fe,{className:Oe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Wt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):ke(r)?o=r(i):o=U.createElement(Ba,Iu({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(D.PureComponent);Wg(Kg,"displayName","PolarRadiusAxis");Wg(Kg,"axisType","radiusAxis");Wg(Kg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ga(){return ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ga.apply(this,arguments)}function JA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JA(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QO(r.key),r)}}function wae(t,e,n){return e&&YA(t.prototype,e),n&&YA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ae(t,e,n){return e=fm(e),Nae(t,XO()?Reflect.construct(e,n||[],fm(t).constructor):e.apply(t,n))}function Nae(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sae(t)}function Sae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XO=function(){return!!t})()}function fm(t){return fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fm(t)}function Eae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cb(t,e)}function cb(t,e){return cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cb(t,e)}function Jg(t,e,n){return e=QO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QO(t){var e=Tae(t,"string");return kl(e)=="symbol"?e:e+""}function Tae(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aae=Math.PI/180,XA=1e-5,Yg=function(t){function e(){return bae(this,e),_ae(this,e,arguments)}return Eae(e,t),wae(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=ct(s,o,l,r.coordinate),h=ct(s,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Aae),o;return s>XA?o=i==="outer"?"start":"end":s<-XA?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=oa(oa({},Ne(this.props,!1)),{},{fill:"none"},Ne(l,!1));if(c==="circle")return U.createElement(Hg,ga({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var d=this.props.ticks,f=d.map(function(h){return ct(i,s,o,h.coordinate)});return U.createElement(Bse,ga({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ne(this.props,!1),f=Ne(o,!1),h=oa(oa({},d),{},{fill:"none"},Ne(l,!1)),x=s.map(function(y,b){var v=r.getTickLineCoord(y),_=r.getTickTextAnchor(y),w=oa(oa(oa({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:y,x:v.x2,y:v.y2});return U.createElement(Fe,ga({className:Oe("recharts-polar-angle-axis-tick",OO(o)),key:"tick-".concat(y.coordinate)},Ua(r.props,y,b)),l&&U.createElement("line",ga({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,w,c?c(y.value,b):y.value))});return U.createElement(Fe,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:U.createElement(Fe,{className:Oe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):ke(r)?o=r(i):o=U.createElement(Ba,ga({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(D.PureComponent);Jg(Yg,"displayName","PolarAngleAxis");Jg(Yg,"axisType","angleAxis");Jg(Yg,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var kae=r4,Cae=kae(Object.getPrototypeOf,Object),jae=Cae,Pae=Ki,Iae=jae,Rae=Ji,Mae="[object Object]",Oae=Function.prototype,Dae=Object.prototype,ZO=Oae.toString,Lae=Dae.hasOwnProperty,$ae=ZO.call(Object);function Vae(t){if(!Rae(t)||Pae(t)!=Mae)return!1;var e=Iae(t);if(e===null)return!0;var n=Lae.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZO.call(n)==$ae}var Fae=Vae;const Uae=Ze(Fae);var Bae=Ki,zae=Ji,qae="[object Boolean]";function Gae(t){return t===!0||t===!1||zae(t)&&Bae(t)==qae}var Hae=Gae;const Wae=Ze(Hae);function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function Kae(t,e){return Qae(t)||Xae(t,e)||Yae(t,e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(t,e){if(t){if(typeof t=="string")return QA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QA(t,e)}}function QA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Qae(t){if(Array.isArray(t))return t}function ZA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ek(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZA(Object(n),!0).forEach(function(r){Zae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zae(t,e,n){return e=eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return Pd(e)=="symbol"?e:e+""}function toe(t,e){if(Pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tk=function(e,n,r,i,s){var o=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+s),l+="L ".concat(e+r-o/2-i,",").concat(n+s),l+="L ".concat(e,",").concat(n," Z"),l},noe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},roe=function(e){var n=ek(ek({},noe),e),r=D.useRef(),i=D.useState(-1),s=Kae(i,2),o=s[0],l=s[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,y=n.animationEasing,b=n.animationDuration,v=n.animationBegin,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Oe("recharts-trapezoid",x);return _?U.createElement(ci,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:b,animationEasing:y,isActive:_},function(S){var C=S.upperWidth,T=S.lowerWidth,N=S.height,E=S.x,A=S.y;return U.createElement(ci,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:y},U.createElement("path",hm({},Ne(n,!0),{className:w,d:tk(E,A,C,T,N),ref:r})))}):U.createElement("g",null,U.createElement("path",hm({},Ne(n,!0),{className:w,d:tk(c,u,d,f,h)})))},ioe=["option","shapeType","propTransformer","activeClassName","isActive"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function soe(t,e){if(t==null)return{};var n=aoe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ooe(t,e,n){return e=loe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function loe(t){var e=coe(t,"string");return Id(e)=="symbol"?e:e+""}function coe(t,e){if(Id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uoe(t,e){return pm(pm({},e),t)}function doe(t,e){return t==="symbols"}function rk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(x_,n);case"trapezoid":return U.createElement(roe,n);case"sector":return U.createElement($O,n);case"symbols":if(doe(e))return U.createElement(D1,n);break;default:return null}}function foe(t){return D.isValidElement(t)?t.props:t}function e5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?uoe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=soe(t,ioe),u;if(D.isValidElement(e))u=D.cloneElement(e,pm(pm({},c),foe(e)));else if(ke(e))u=e(c);else if(Uae(e)&&!Wae(e)){var d=i(e,c);u=U.createElement(rk,{shapeType:n,elementProps:d})}else{var f=c;u=U.createElement(rk,{shapeType:n,elementProps:f})}return l?U.createElement(Fe,{className:o},u):u}function Xg(t,e){return e!=null&&"trapezoids"in t.props}function Qg(t,e){return e!=null&&"sectors"in t.props}function Rd(t,e){return e!=null&&"points"in t.props}function hoe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function poe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function moe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function goe(t,e){var n;return Xg(t,e)?n=hoe:Qg(t,e)?n=poe:Rd(t,e)&&(n=moe),n}function xoe(t,e){var n;return Xg(t,e)?n="trapezoids":Qg(t,e)?n="sectors":Rd(t,e)&&(n="points"),n}function yoe(t,e){if(Xg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Qg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Rd(t,e)?e.payload:{}}function voe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=xoe(n,e),s=yoe(n,e),o=r.filter(function(c,u){var d=Sl(s,c),f=n.props[i].filter(function(y){var b=goe(n,e);return b(y,e)}),h=n.props[i].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var Oh;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Mo(){return Mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mo.apply(this,arguments)}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){fr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function woe(t,e,n){return e&&sk(t.prototype,e),n&&sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _oe(t,e,n){return e=mm(e),Noe(t,t5()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function Noe(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Soe(t)}function Soe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function fr(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=Toe(t,"string");return Cl(e)=="symbol"?e:e+""}function Toe(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xi=function(t){function e(n){var r;return boe(this,e),r=_oe(this,e,[n]),fr(r,"pieRef",null),fr(r,"sectorRefs",[]),fr(r,"id",ac("recharts-pie-")),fr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ke(i)&&i()}),fr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ke(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Eoe(e,t),woe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Ne(this.props,!1),f=Ne(o,!1),h=Ne(l,!1),x=o&&o.offsetRadius||20,y=r.map(function(b,v){var _=(b.startAngle+b.endAngle)/2,w=ct(b.cx,b.cy,b.outerRadius+x,_),S=at(at(at(at({},d),b),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(w.x,b.cx)},w),C=at(at(at(at({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[ct(b.cx,b.cy,b.outerRadius,_),w]}),T=c;return Ie(c)&&Ie(u)?T="value":Ie(c)&&(T=u),U.createElement(Fe,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,S,Vt(b,T)))});return U.createElement(Fe,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,x=f?o:h,y=at(at({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(Fe,Mo({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ua(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(e5,Mo({option:x,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return U.createElement(ci,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,v=[],_=s&&s[0],w=_.startAngle;return s.forEach(function(S,C){var T=h&&h[C],N=C>0?tr(S,"paddingAngle",0):0;if(T){var E=Fn(T.endAngle-T.startAngle,S.endAngle-S.startAngle),A=at(at({},S),{},{startAngle:w+N,endAngle:w+E(b)+N});v.push(A),w=A.endAngle}else{var j=S.endAngle,M=S.startAngle,P=Fn(0,j-M),O=P(b),R=at(at({},S),{},{startAngle:w+N,endAngle:w+O+N});v.push(R),w=R.endAngle}}),U.createElement(Fe,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Sl(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,x=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!oe(u)||!oe(d)||!oe(f)||!oe(h))return null;var b=Oe("recharts-pie",l);return U.createElement(Fe,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),c&&this.renderLabels(o),Wt.renderCallByParent(this.props,null,!1),(!x||y)&&Pi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);if(ke(r))return r(i);var o=Oe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(Yo,Mo({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(U.isValidElement(r))return U.cloneElement(r,i);var o=s;if(ke(r)&&(o=r(i),U.isValidElement(o)))return o;var l=Oe("recharts-pie-label-text",typeof r!="boolean"&&!ke(r)?r.className:"");return U.createElement(Ba,Mo({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Oh=Xi;fr(Xi,"displayName","Pie");fr(Xi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!eo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});fr(Xi,"parseDeltaAngle",function(t,e){var n=jn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});fr(Xi,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ne(t,!1),i=gr(n,Mg);return e&&e.length?e.map(function(s,o){return at(at(at({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return at(at({},r),s.props)}):[]});fr(Xi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=MO(i,s),l=r+Pn(t.cx,i,i/2),c=n+Pn(t.cy,s,s/2),u=Pn(t.innerRadius,o,0),d=Pn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});fr(Xi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?at(at({},e.type.defaultProps),e.props):e.props,i=Oh.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),y=Oh.parseCoordinateOfPie(r,n),b=Oh.parseDeltaAngle(o,l),v=Math.abs(b),_=u;Ie(u)&&Ie(f)?(Or(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ie(u)&&(Or(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var w=i.filter(function(A){return Vt(A,_,0)!==0}).length,S=(v>=360?w:w-1)*c,C=v-w*x-S,T=i.reduce(function(A,j){var M=Vt(j,_,0);return A+(oe(M)?M:0)},0),N;if(T>0){var E;N=i.map(function(A,j){var M=Vt(A,_,0),P=Vt(A,d,j),O=(oe(M)?M:0)/T,R;j?R=E.endAngle+jn(b)*c*(M!==0?1:0):R=o;var z=R+jn(b)*((M!==0?x:0)+O*C),F=(R+z)/2,$=(y.innerRadius+y.outerRadius)/2,B=[{name:P,value:M,payload:A,dataKey:_,type:h}],V=ct(y.cx,y.cy,$,F);return E=at(at(at({percent:O,cornerRadius:s,name:P,tooltipPayload:B,midAngle:F,middleRadius:$,tooltipPosition:V},A),y),{},{value:Vt(A,_),startAngle:R,endAngle:z,payload:A,paddingAngle:jn(b)*c}),E})}return at(at({},y),{},{sectors:N,data:i})});var Aoe=Math.ceil,koe=Math.max;function Coe(t,e,n,r){for(var i=-1,s=koe(Aoe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var joe=Coe,Poe=_4,ak=1/0,Ioe=17976931348623157e292;function Roe(t){if(!t)return t===0?t:0;if(t=Poe(t),t===ak||t===-ak){var e=t<0?-1:1;return e*Ioe}return t===t?t:0}var r5=Roe,Moe=joe,Ooe=Rg,Lx=r5;function Doe(t){return function(e,n,r){return r&&typeof r!="number"&&Ooe(e,n,r)&&(n=r=void 0),e=Lx(e),n===void 0?(n=e,e=0):n=Lx(n),r=r===void 0?e<n?1:-1:Lx(r),Moe(e,n,r,t)}}var Loe=Doe,$oe=Loe,Voe=$oe(),Foe=Voe;const gm=Ze(Foe);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){i5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i5(t,e,n){return e=Uoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=Boe(t,"string");return Md(e)=="symbol"?e:e+""}function Boe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zoe=["Webkit","Moz","O","ms"],qoe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=zoe.reduce(function(s,o){return lk(lk({},s),{},i5({},o+r,n))},{});return i[e]=n,i};function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){Jn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a5(r.key),r)}}function Hoe(t,e,n){return e&&uk(t.prototype,e),n&&uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Woe(t,e,n){return e=ym(e),Koe(t,s5()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function Koe(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function Yoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&db(t,e)}function db(t,e){return db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},db(t,e)}function Jn(t,e,n){return e=a5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a5(t){var e=Xoe(t,"string");return jl(e)=="symbol"?e:e+""}function Xoe(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qoe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=ku().domain(gm(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},dk=function(e){return e.changedTouches&&!!e.changedTouches.length},Pl=function(t){function e(n){var r;return Goe(this,e),r=Woe(this,e,[n]),Jn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Jn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Jn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),Jn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Jn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Jn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Jn(r,"handleSlideDragStart",function(i){var s=dk(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yoe(e,t),Hoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),h=Math.max(i,s),x=e.getIndexInRange(o,f),y=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Vt(s[r],l,r);return ke(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,y=c.onChange,b=r.pageX-s;b>0?b=Math.min(b,u+d-f-l,u+d-f-o):b<0&&(b=Math.max(b,u-o,u-l));var v=this.getIndex({startX:o+b,endX:l+b});(v.startIndex!==h||v.endIndex!==x)&&y&&y(v),this.setState({startX:o+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=dk(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,y=d.onChange,b=d.gap,v=d.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+h-x-u):w<0&&(w=Math.max(w,f-u)),_[o]=u+w;var S=this.getIndex(_),C=S.startIndex,T=S.endIndex,N=function(){var A=v.length-1;return o==="startX"&&(l>c?C%b===0:T%b===0)||l<c&&T===A||o==="endX"&&(l>c?T%b===0:C%b===0)||l>c&&T===A};this.setState(Jn(Jn({},o,u+w),"brushMoveStartX",r.pageX),function(){y&&N()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];i==="startX"&&x>=u||i==="endX"&&x<=c||this.setState(Jn({},i,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?U.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,y=c.data,b=c.startIndex,v=c.endIndex,_=Math.max(r,this.props.x),w=$x($x({},Ne(this.props,!1)),{},{x:_,y:u,width:d,height:f}),S=x||"Min value: ".concat((s=y[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return U.createElement(Fe,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,y={pointerEvents:"none",fill:u};return U.createElement(Fe,{className:"recharts-brush-texts"},U.createElement(Ba,xm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},y),this.getTextOfTick(i)),U.createElement(Ba,xm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,y=h.endX,b=h.isTextActive,v=h.isSlideMoving,_=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!oe(l)||!oe(c)||!oe(u)||!oe(d)||u<=0||d<=0)return null;var S=Oe("recharts-brush",s),C=U.Children.count(o)===1,T=qoe("userSelect","none");return U.createElement(Fe,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,y),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(y,"endX"),(b||v||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):ke(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return $x({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Qoe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var h=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(D.PureComponent);Jn(Pl,"displayName","Brush");Jn(Pl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Zoe=z1;function ele(t,e){var n;return Zoe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var tle=ele,nle=JM,rle=fi,ile=tle,sle=Wn,ale=Rg;function ole(t,e,n){var r=sle(t)?nle:ile;return n&&ale(t,e,n)&&(e=void 0),r(t,rle(e))}var lle=ole;const cle=Ze(lle);var ni=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},fk=x4;function ule(t,e,n){e=="__proto__"&&fk?fk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var dle=ule,fle=dle,hle=m4,ple=fi;function mle(t,e){var n={};return e=ple(e),hle(t,function(r,i,s){fle(n,i,e(r,i,s))}),n}var gle=mle;const xle=Ze(gle);function yle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var vle=yle,ble=z1;function wle(t,e){var n=!0;return ble(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var _le=wle,Nle=vle,Sle=_le,Ele=fi,Tle=Wn,Ale=Rg;function kle(t,e,n){var r=Tle(t)?Nle:Sle;return n&&Ale(t,e,n)&&(e=void 0),r(t,Ele(e))}var Cle=kle;const o5=Ze(Cle);var jle=["x","y"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function fb(){return fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fb.apply(this,arguments)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ple(t,e,n){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Rle(t,"string");return Od(e)=="symbol"?e:e+""}function Rle(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mle(t,e){if(t==null)return{};var n=Ole(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ole(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dle(t,e){var n=t.x,r=t.y,i=Mle(t,jle),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Zc(Zc(Zc(Zc(Zc({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function pk(t){return U.createElement(e5,fb({shapeType:"rectangle",propTransformer:Dle,activeClassName:"recharts-active-bar"},t))}var Lle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=oe(r)||i9(r);return s?e(r,i):(s||qa(),n)}},$le=["value","background"],l5;function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Vle(t,e){if(t==null)return{};var n=Fle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){ws(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function Ble(t,e,n){return e&&gk(t.prototype,e),n&&gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zle(t,e,n){return e=bm(e),qle(t,c5()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function qle(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(t)}function Gle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c5=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Hle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function ws(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=Wle(t,"string");return Il(e)=="symbol"?e:e+""}function Wle(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dr=function(t){function e(){var n;Ule(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zle(this,e,[].concat(i)),ws(n,"state",{isAnimationFinished:!1}),ws(n,"id",ac("recharts-bar-")),ws(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ws(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Hle(e,t),Ble(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Ne(this.props,!1);return r&&r.map(function(f,h){var x=h===c,y=x?u:o,b=It(It(It({},d),f),{},{isActive:x,option:y,index:h,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(Fe,vm({className:"recharts-bar-rectangle"},Ua(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(pk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(ci,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t,b=s.map(function(v,_){var w=h&&h[_];if(w){var S=Fn(w.x,v.x),C=Fn(w.y,v.y),T=Fn(w.width,v.width),N=Fn(w.height,v.height);return It(It({},v),{},{x:S(y),y:C(y),width:T(y),height:N(y)})}if(o==="horizontal"){var E=Fn(0,v.height),A=E(y);return It(It({},v),{},{y:v.y+v.height-A,height:A})}var j=Fn(0,v.width),M=j(y);return It(It({},v),{},{width:M})});return U.createElement(Fe,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Sl(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Ne(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,h=Vle(u,$le);if(!f)return null;var x=It(It(It(It(It({},h),{},{fill:"#eee"},f),c),Ua(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(pk,vm({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=gr(d,Gg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(v,_){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Vt(v,_)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(Fe,y,f.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,y=r.background,b=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,_=Oe("recharts-bar",o),w=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,C=w||S,T=Ie(b)?this.id:b;return U.createElement(Fe,{className:_},w||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:w?u:u-f/2,y:S?d:d-h/2,width:w?f:f*2,height:S?h:h*2}))):null,U.createElement(Fe,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!x||v)&&Pi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);l5=Dr;ws(Dr,"displayName","Bar");ws(Dr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!eo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ws(Dr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=Nne(r,n);if(!x)return null;var y=e.layout,b=n.type.defaultProps,v=b!==void 0?It(It({},b),n.props):n.props,_=v.dataKey,w=v.children,S=v.minPointSize,C=y==="horizontal"?o:s,T=u?C.scale.domain():null,N=jne({numericAxis:C}),E=gr(w,Mg),A=f.map(function(j,M){var P,O,R,z,F,$;u?P=Sne(u[d+M],T):(P=Vt(j,_),Array.isArray(P)||(P=[N,P]));var B=Lle(S,l5.defaultProps.minPointSize)(P[1],M);if(y==="horizontal"){var V,H=[o.scale(P[0]),o.scale(P[1])],J=H[0],W=H[1];O=lA({axis:s,ticks:l,bandSize:i,offset:x.offset,entry:j,index:M}),R=(V=W??J)!==null&&V!==void 0?V:void 0,z=x.size;var Y=J-W;if(F=Number.isNaN(Y)?0:Y,$={x:O,y:o.y,width:z,height:o.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var re=jn(F||B)*(Math.abs(B)-Math.abs(F));R-=re,F+=re}}else{var we=[s.scale(P[0]),s.scale(P[1])],q=we[0],X=we[1];if(O=q,R=lA({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:j,index:M}),z=X-q,F=x.size,$={x:s.x,y:R,width:s.width,height:F},Math.abs(B)>0&&Math.abs(z)<Math.abs(B)){var ee=jn(z||B)*(Math.abs(B)-Math.abs(z));z+=ee}}return It(It(It({},j),{},{x:O,y:R,width:z,height:F,value:u?P:P[1],payload:j,background:$},E&&E[M]&&E[M].props),{},{tooltipPayload:[IO(n,j)],tooltipPosition:{x:O+z/2,y:R+F/2}})});return It({data:A,layout:y},h)});function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d5(r.key),r)}}function Jle(t,e,n){return e&&xk(t.prototype,e),n&&xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zg(t,e,n){return e=d5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5(t){var e=Yle(t,"string");return Dd(e)=="symbol"?e:e+""}function Yle(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f5=function(e,n,r,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!Xn(u,Dr);return d.reduce(function(x,y){var b=n[y],v=b.orientation,_=b.domain,w=b.padding,S=w===void 0?{}:w,C=b.mirror,T=b.reversed,N="".concat(v).concat(C?"Mirror":""),E,A,j,M,P;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=_[1]-_[0],R=1/0,z=b.categoricalDomain.sort(o9);if(z.forEach(function(we,q){q>0&&(R=Math.min((we||0)-(z[q-1]||0),R))}),Number.isFinite(R)){var F=R/O,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=F*$/2),b.padding==="no-gap"){var B=Pn(e.barCategoryGap,F*$),V=F*$/2;E=V-B-(V-B)/$*B}}}i==="xAxis"?A=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:i==="yAxis"?A=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:A=b.range,T&&(A=[A[1],A[0]]);var H=kO(b,s,h),J=H.scale,W=H.realScaleType;J.domain(_).range(A),CO(J);var Y=jO(J,jr(jr({},b),{},{realScaleType:W}));i==="xAxis"?(P=v==="top"&&!C||v==="bottom"&&C,j=r.left,M=f[N]-P*b.height):i==="yAxis"&&(P=v==="left"&&!C||v==="right"&&C,j=f[N]-P*b.width,M=r.top);var re=jr(jr(jr({},b),Y),{},{realScaleType:W,x:j,y:M,scale:J,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return re.bandSize=rm(re,Y),!b.hide&&i==="xAxis"?f[N]+=(P?-1:1)*re.height:b.hide||(f[N]+=(P?-1:1)*re.width),jr(jr({},x),{},Zg({},y,re))},{})},h5=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},Xle=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return h5({x:n,y:r},{x:i,y:s})},p5=function(){function t(e){Kle(this,t),this.scale=e}return Jle(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Zg(p5,"EPS",1e-4);var y_=function(e){var n=Object.keys(e).reduce(function(r,i){return jr(jr({},r),{},Zg({},i,p5.create(e[i])))},{});return jr(jr({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return xle(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return o5(i,function(s,o){return n[o].isInRange(s)})}})};function Qle(t){return(t%180+180)%180}var Zle=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Qle(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},ece=fi,tce=nf,nce=Pg;function rce(t){return function(e,n,r){var i=Object(e);if(!tce(e)){var s=ece(n);e=nce(e),n=function(l){return s(i[l],l,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var ice=rce,sce=r5;function ace(t){var e=sce(t),n=e%1;return e===e?n?e-n:e:0}var oce=ace,lce=c4,cce=fi,uce=oce,dce=Math.max;function fce(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:uce(n);return i<0&&(i=dce(r+i,0)),lce(t,cce(e),i)}var hce=fce,pce=ice,mce=hce,gce=pce(mce),xce=gce;const yce=Ze(xce);var vce=uB(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),v_=D.createContext(void 0),b_=D.createContext(void 0),m5=D.createContext(void 0),g5=D.createContext({}),x5=D.createContext(void 0),y5=D.createContext(0),v5=D.createContext(0),vk=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=vce(s);return U.createElement(v_.Provider,{value:r},U.createElement(b_.Provider,{value:i},U.createElement(g5.Provider,{value:s},U.createElement(m5.Provider,{value:d},U.createElement(x5.Provider,{value:o},U.createElement(y5.Provider,{value:u},U.createElement(v5.Provider,{value:c},l)))))))},bce=function(){return D.useContext(x5)},b5=function(e){var n=D.useContext(v_);n==null&&qa();var r=n[e];return r==null&&qa(),r},wce=function(){var e=D.useContext(v_);return hs(e)},_ce=function(){var e=D.useContext(b_),n=yce(e,function(r){return o5(r.domain,Number.isFinite)});return n||hs(e)},w5=function(e){var n=D.useContext(b_);n==null&&qa();var r=n[e];return r==null&&qa(),r},Nce=function(){var e=D.useContext(m5);return e},Sce=function(){return D.useContext(g5)},w_=function(){return D.useContext(v5)},__=function(){return D.useContext(y5)};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N5(r.key),r)}}function Ace(t,e,n){return e&&Tce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kce(t,e,n){return e=wm(e),Cce(t,_5()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Cce(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jce(t)}function jce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_5=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function Pce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(n),!0).forEach(function(r){N_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N_(t,e,n){return e=N5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N5(t){var e=Ice(t,"string");return Rl(e)=="symbol"?e:e+""}function Ice(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rce(t,e){return Lce(t)||Dce(t,e)||Oce(t,e)||Mce()}function Mce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oce(t,e){if(t){if(typeof t=="string")return _k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _k(t,e)}}function _k(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Lce(t){if(Array.isArray(t))return t}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}var $ce=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):ke(e)?r=e(n):r=U.createElement("line",mb({},n,{className:"recharts-reference-line-line"})),r},Vce=function(e,n,r,i,s,o,l,c,u){var d=s.x,f=s.y,h=s.width,x=s.height;if(r){var y=u.y,b=e.y.apply(y,{position:o});if(ni(u,"discard")&&!e.y.isInRange(b))return null;var v=[{x:d+h,y:b},{x:d,y:b}];return c==="left"?v.reverse():v}if(n){var _=u.x,w=e.x.apply(_,{position:o});if(ni(u,"discard")&&!e.x.isInRange(w))return null;var S=[{x:w,y:f+x},{x:w,y:f}];return l==="top"?S.reverse():S}if(i){var C=u.segment,T=C.map(function(N){return e.apply(N,{position:o})});return ni(u,"discard")&&cle(T,function(N){return!e.isInRange(N)})?null:T}return null};function Fce(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=bce(),d=b5(i),f=w5(s),h=Nce();if(!u||!h)return null;Or(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=y_({x:d.scale,y:f.scale}),y=Ut(e),b=Ut(n),v=r&&r.length===2,_=Vce(x,y,b,v,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var w=Rce(_,2),S=w[0],C=S.x,T=S.y,N=w[1],E=N.x,A=N.y,j=ni(t,"hidden")?"url(#".concat(u,")"):void 0,M=wk(wk({clipPath:j},Ne(t,!0)),{},{x1:C,y1:T,x2:E,y2:A});return U.createElement(Fe,{className:Oe("recharts-reference-line",l)},$ce(o,M),Wt.renderCallByParent(t,Xle({x1:C,y1:T,x2:E,y2:A})))}var S_=function(t){function e(){return Ece(this,e),kce(this,e,arguments)}return Pce(e,t),Ace(e,[{key:"render",value:function(){return U.createElement(Fce,this.props)}}])}(U.Component);N_(S_,"displayName","ReferenceLine");N_(S_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nk(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E5(r.key),r)}}function zce(t,e,n){return e&&Bce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qce(t,e,n){return e=_m(e),Gce(t,S5()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function Gce(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hce(t)}function Hce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function Wce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function e0(t,e,n){return e=E5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E5(t){var e=Kce(t,"string");return Ml(e)=="symbol"?e:e+""}function Kce(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jce=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=y_({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return ni(e,"discard")&&!o.isInRange(l)?null:l},t0=function(t){function e(){return Uce(this,e),qce(this,e,arguments)}return Wce(e,t),zce(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Ut(i),d=Ut(s);if(Or(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Jce(this.props);if(!f)return null;var h=f.x,x=f.y,y=this.props,b=y.shape,v=y.className,_=ni(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=Sk(Sk({clipPath:_},Ne(this.props,!0)),{},{cx:h,cy:x});return U.createElement(Fe,{className:Oe("recharts-reference-dot",v)},e.renderDot(b,w),Wt.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(U.Component);e0(t0,"displayName","ReferenceDot");e0(t0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});e0(t0,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):ke(t)?n=t(e):n=U.createElement(Hg,gb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function yb(){return yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yb.apply(this,arguments)}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function Qce(t,e,n){return e&&Xce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zce(t,e,n){return e=Nm(e),eue(t,T5()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function eue(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tue(t)}function tue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T5=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function n0(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=rue(t,"string");return Ol(e)=="symbol"?e:e+""}function rue(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iue=function(e,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var h=y_({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ni(s,"discard")&&(!h.isInRange(x)||!h.isInRange(y))?null:h5(x,y)},r0=function(t){function e(){return Yce(this,e),Zce(this,e,arguments)}return nue(e,t),Qce(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Or(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ut(i),h=Ut(s),x=Ut(o),y=Ut(l),b=this.props.shape;if(!f&&!h&&!x&&!y&&!b)return null;var v=iue(f,h,x,y,this.props);if(!v&&!b)return null;var _=ni(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Fe,{className:Oe("recharts-reference-area",c)},e.renderRect(b,Tk(Tk({clipPath:_},Ne(this.props,!0)),v)),Wt.renderCallByParent(this.props,v))}}])}(U.Component);n0(r0,"displayName","ReferenceArea");n0(r0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});n0(r0,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):ke(t)?n=t(e):n=U.createElement(x_,yb({},e,{className:"recharts-reference-area-rect"})),n});function k5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function sue(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Zle(r,n)}function aue(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function Sm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function oue(t,e){return k5(t,e+1)}function lue(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:k5(r,u)};var b=c,v,_=function(){return v===void 0&&(v=n(y,b)),v},w=y.coordinate,S=c===0||Sm(t,w,_,d,l);S||(c=0,d=o,u+=1),S&&(d=w+t*(_()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=uue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uue(t){var e=due(t,"string");return Ld(e)=="symbol"?e:e+""}function due(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fue(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(h){var x=s[h],y,b=function(){return y===void 0&&(y=n(x,h)),y};if(h===o-1){var v=t*(x.coordinate+t*b()/2-c);s[h]=x=mn(mn({},x),{},{tickCoord:v>0?x.coordinate-v*t:x.coordinate})}else s[h]=x=mn(mn({},x),{},{tickCoord:x.coordinate});var _=Sm(t,x.tickCoord,b,l,c);_&&(c=x.tickCoord-t*(b()/2+i),s[h]=mn(mn({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function hue(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=mn(mn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=Sm(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+i),o[l-1]=mn(mn({},d),{},{isShow:!0}))}for(var y=s?l-1:l,b=function(w){var S=o[w],C,T=function(){return C===void 0&&(C=n(S,w)),C};if(w===0){var N=t*(S.coordinate-t*T()/2-c);o[w]=S=mn(mn({},S),{},{tickCoord:N<0?S.coordinate-N*t:S.coordinate})}else o[w]=S=mn(mn({},S),{},{tickCoord:S.coordinate});var E=Sm(t,S.tickCoord,T,c,u);E&&(c=S.tickCoord+t*(T()/2+i),o[w]=mn(mn({},S),{},{isShow:!0}))},v=0;v<y;v++)b(v);return o}function E_(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(c)||eo.isSsr)return oue(i,typeof c=="number"&&oe(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",y=d&&x==="width"?Au(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,C){var T=ke(u)?u(S.value,C):S.value;return x==="width"?sue(Au(T,{fontSize:e,letterSpacing:n}),y,f):Au(T,{fontSize:e,letterSpacing:n})[x]},v=i.length>=2?jn(i[1].coordinate-i[0].coordinate):1,_=aue(s,v,x);return c==="equidistantPreserveStart"?lue(v,_,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=hue(v,_,b,i,o,c==="preserveStartEnd"):h=fue(v,_,b,i,o),h.filter(function(w){return w.isShow}))}var pue=["viewBox"],mue=["viewBox"],gue=["ticks"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Oo(){return Oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oo.apply(this,arguments)}function kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(n),!0).forEach(function(r){T_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vx(t,e){if(t==null)return{};var n=xue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j5(r.key),r)}}function vue(t,e,n){return e&&Ck(t.prototype,e),n&&Ck(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bue(t,e,n){return e=Em(e),wue(t,C5()?Reflect.construct(e,n||[],Em(t).constructor):e.apply(t,n))}function wue(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ue(t)}function _ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!t})()}function Em(t){return Em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Em(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function T_(t,e,n){return e=j5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j5(t){var e=Sue(t,"string");return Dl(e)=="symbol"?e:e+""}function Sue(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hc=function(t){function e(n){var r;return yue(this,e),r=bue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Nue(e,t),vue(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=Vx(r,pue),l=this.props,c=l.viewBox,u=Vx(l,mue);return!Wo(s,c)||!Wo(o,u)||!Wo(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,x,y,b,v,_,w,S=f?-1:1,C=r.tickSize||d,T=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=y=r.coordinate,v=o+ +!f*c,b=v-S*C,w=b-S*h,_=T;break;case"left":b=v=r.coordinate,y=s+ +!f*l,x=y-S*C,_=x-S*h,w=T;break;case"right":b=v=r.coordinate,y=s+ +f*l,x=y+S*C,_=x+S*h,w=T;break;default:x=y=r.coordinate,v=o+ +f*c,b=v+S*C,w=b+S*h,_=T;break}return{line:{x1:x,y1:b,x2:y,y2:v},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Dt(Dt(Dt({},Ne(this.props,!1)),Ne(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dt(Dt({},f),{},{x1:i,y1:s+h*l,x2:i+o,y2:s+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=Dt(Dt({},f),{},{x1:i+x*o,y1:s,x2:i+x*o,y2:s+l})}return U.createElement("line",Oo({},f,{className:Oe("recharts-cartesian-axis-line",tr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=E_(Dt(Dt({},this.props),{},{ticks:r}),i,s),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=Ne(this.props,!1),_=Ne(d,!1),w=Dt(Dt({},v),{},{fill:"none"},Ne(c,!1)),S=x.map(function(C,T){var N=o.getTickLineCoord(C),E=N.line,A=N.tick,j=Dt(Dt(Dt(Dt({textAnchor:y,verticalAnchor:b},v),{},{stroke:"none",fill:u},_),A),{},{index:T,payload:C,visibleTicksCount:x.length,tickFormatter:f});return U.createElement(Fe,Oo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Ua(o.props,C,T)),c&&U.createElement("line",Oo({},w,E,{className:Oe("recharts-cartesian-axis-tick-line",tr(c,"className"))})),d&&e.renderTickItem(d,j,"".concat(ke(f)?f(C.value,T):C.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,x=Vx(f,gue),y=h;return ke(c)&&(y=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!y||!y.length?null:U.createElement(Fe,{className:Oe("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Wt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=Oe(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,Dt(Dt({},i),{},{className:l})):ke(r)?o=r(Dt(Dt({},i),{},{className:l})):o=U.createElement(Ba,Oo({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(D.Component);T_(hc,"displayName","CartesianAxis");T_(hc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Eue=["x1","y1","x2","y2","key"],Tue=["offset"];function Ga(t){"@babel/helpers - typeof";return Ga=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ga(t)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){Aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aue(t,e,n){return e=kue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Cue(t,"string");return Ga(e)=="symbol"?e:e+""}function Cue(t,e){if(Ga(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ga(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Na(){return Na=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Na.apply(this,arguments)}function Pk(t,e){if(t==null)return{};var n=jue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Pue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return U.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function P5(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=Pk(e,Eue),u=Ne(c,!1);u.offset;var d=Pk(u,Tue);n=U.createElement("line",Na({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function Iue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=yn(yn({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return P5(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Rue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=yn(yn({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return P5(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Mue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var y=!d[x+1],b=y?i+o-h:d[x+1]-h;if(b<=0)return null;var v=x%e.length;return U.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:b,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Oue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var y=!d[x+1],b=y?s+l-h:d[x+1]-h;if(b<=0)return null;var v=x%r.length;return U.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:b,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Due=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return AO(E_(yn(yn(yn({},hc.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},Lue=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return AO(E_(yn(yn(yn({},hc.defaultProps),r),{},{ticks:Si(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},po={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function $d(t){var e,n,r,i,s,o,l=w_(),c=__(),u=Sce(),d=yn(yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:po.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:po.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:po.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:po.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:po.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:po.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,y=d.height,b=d.syncWithTicks,v=d.horizontalValues,_=d.verticalValues,w=wce(),S=_ce();if(!oe(x)||x<=0||!oe(y)||y<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||Due,T=d.horizontalCoordinatesGenerator||Lue,N=d.horizontalPoints,E=d.verticalPoints;if((!N||!N.length)&&ke(T)){var A=v&&v.length,j=T({yAxis:S?yn(yn({},S),{},{ticks:A?v:S.ticks}):void 0,width:l,height:c,offset:u},A?!0:b);Or(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(j),"]")),Array.isArray(j)&&(N=j)}if((!E||!E.length)&&ke(C)){var M=_&&_.length,P=C({xAxis:w?yn(yn({},w),{},{ticks:M?_:w.ticks}):void 0,width:l,height:c,offset:u},M?!0:b);Or(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ga(P),"]")),Array.isArray(P)&&(E=P)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Pue,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(Iue,Na({},d,{offset:u,horizontalPoints:N,xAxis:w,yAxis:S})),U.createElement(Rue,Na({},d,{offset:u,verticalPoints:E,xAxis:w,yAxis:S})),U.createElement(Mue,Na({},d,{horizontalPoints:N})),U.createElement(Oue,Na({},d,{verticalPoints:E})))}$d.displayName="CartesianGrid";var $ue=["layout","type","stroke","connectNulls","isRange","ref"],Vue=["key"],I5;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function R5(t,e){if(t==null)return{};var n=Fue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function Ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ik(Object(n),!0).forEach(function(r){Qr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function Bue(t,e,n){return e&&Rk(t.prototype,e),n&&Rk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zue(t,e,n){return e=Tm(e),que(t,M5()?Reflect.construct(e,n||[],Tm(t).constructor):e.apply(t,n))}function que(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gue(t)}function Gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!t})()}function Tm(t){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tm(t)}function Hue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function Qr(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=Wue(t,"string");return Ll(e)=="symbol"?e:e+""}function Wue(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ur=function(t){function e(){var n;Uue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zue(this,e,[].concat(i)),Qr(n,"state",{isAnimationFinished:!0}),Qr(n,"id",ac("recharts-area-")),Qr(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ke(o)&&o()}),Qr(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ke(o)&&o()}),n}return Hue(e,t),Bue(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ne(this.props,!1),x=Ne(u,!0),y=d.map(function(v,_){var w=os(os(os({key:"dot-".concat(_),r:3},h),x),{},{index:_,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return U.createElement(Fe,Sa({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=bs(o.map(function(h){return h.y||0}));return oe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bs(s.map(function(h){return h.y||0})),f)),oe(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=bs(o.map(function(h){return h.x||0}));return oe(s)&&typeof s=="number"?f=Math.max(s,f):s&&Array.isArray(s)&&s.length&&(f=Math.max(bs(s.map(function(h){return h.x||0})),f)),oe(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=R5(l,$ue);return U.createElement(Fe,{clipPath:s?"url(#clipPath-".concat(o,")"):null},U.createElement(Yo,Sa({},Ne(x,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(Yo,Sa({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&U.createElement(Yo,Sa({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,y=this.state,b=y.prevPoints,v=y.prevBaseLine;return U.createElement(ci,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var S=b.length/l.length,C=l.map(function(A,j){var M=Math.floor(j*S);if(b[M]){var P=b[M],O=Fn(P.x,A.x),R=Fn(P.y,A.y);return os(os({},A),{},{x:O(w),y:R(w)})}return A}),T;if(oe(c)&&typeof c=="number"){var N=Fn(v,c);T=N(w)}else if(Ie(c)||sc(c)){var E=Fn(v,0);T=E(w)}else T=c.map(function(A,j){var M=Math.floor(j*S);if(v[M]){var P=v[M],O=Fn(P.x,A.x),R=Fn(P.y,A.y);return os(os({},A),{},{x:O(w),y:R(w)})}return A});return s.renderAreaStatically(C,T,r,i)}return U.createElement(Fe,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(w))),U.createElement(Fe,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Sl(d,o)||!Sl(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,x=i.width,y=i.height,b=i.isAnimationActive,v=i.id;if(s||!l||!l.length)return null;var _=this.state.isAnimationFinished,w=l.length===1,S=Oe("recharts-area",c),C=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,N=C||T,E=Ie(v)?this.id:v,A=(r=Ne(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=A.r,M=j===void 0?3:j,P=A.strokeWidth,O=P===void 0?2:P,R=g9(o)?o:{},z=R.clipDot,F=z===void 0?!0:z,$=M*2+O;return U.createElement(Fe,{className:S},C||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:C?d:d-x/2,y:T?u:u-y/2,width:C?x:x*2,height:T?y:y*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:d-$/2,y:u-$/2,width:x+$,height:y+$}))):null,w?null:this.renderArea(N,E),(o||w)&&this.renderDots(N,F,E),(!b||_)&&Pi.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);I5=Ur;Qr(Ur,"displayName","Area");Qr(Ur,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!eo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Qr(Ur,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(oe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Qr(Ur,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,y=u&&u.length,b=I5.getBaseValue(e,n,r,i),v=x==="horizontal",_=!1,w=f.map(function(C,T){var N;y?N=u[d+T]:(N=Vt(C,c),Array.isArray(N)?_=!0:N=[b,N]);var E=N[1]==null||y&&Vt(C,c)==null;return v?{x:oA({axis:r,ticks:s,bandSize:l,entry:C,index:T}),y:E?null:i.scale(N[1]),value:N,payload:C}:{x:E?null:r.scale(N[1]),y:oA({axis:i,ticks:o,bandSize:l,entry:C,index:T}),value:N,payload:C}}),S;return y||_?S=w.map(function(C){var T=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:T!=null&&C.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:C.y}}):S=v?i.scale(b):r.scale(b),os({points:w,baseLine:S,layout:x,isRange:_},h)});Qr(Ur,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(ke(t))n=t(e);else{var r=Oe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=R5(e,Vue);n=U.createElement(Hg,Sa({},s,{key:i,className:r}))}return n});function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Kue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$5(r.key),r)}}function Yue(t,e,n){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xue(t,e,n){return e=Am(e),Que(t,D5()?Reflect.construct(e,n||[],Am(t).constructor):e.apply(t,n))}function Que(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zue(t)}function Zue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function Am(t){return Am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Am(t)}function ede(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function L5(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=tde(t,"string");return $l(e)=="symbol"?e:e+""}function tde(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function nde(t){var e=t.xAxisId,n=w_(),r=__(),i=b5(e);return i==null?null:D.createElement(hc,Nb({},i,{className:Oe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Si(o,!0)}}))}var Bs=function(t){function e(){return Kue(this,e),Xue(this,e,arguments)}return ede(e,t),Yue(e,[{key:"render",value:function(){return D.createElement(nde,this.props)}}])}(D.Component);L5(Bs,"displayName","XAxis");L5(Bs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ide(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U5(r.key),r)}}function sde(t,e,n){return e&&ide(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,e,n){return e=km(e),ode(t,V5()?Reflect.construct(e,n||[],km(t).constructor):e.apply(t,n))}function ode(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lde(t)}function lde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V5=function(){return!!t})()}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function F5(t,e,n){return e=U5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5(t){var e=ude(t,"string");return Vl(e)=="symbol"?e:e+""}function ude(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}var dde=function(e){var n=e.yAxisId,r=w_(),i=__(),s=w5(n);return s==null?null:D.createElement(hc,Eb({},s,{className:Oe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Si(l,!0)}}))},zs=function(t){function e(){return rde(this,e),ade(this,e,arguments)}return cde(e,t),sde(e,[{key:"render",value:function(){return D.createElement(dde,this.props)}}])}(D.Component);F5(zs,"displayName","YAxis");F5(zs,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Mk(t){return mde(t)||pde(t)||hde(t)||fde()}function fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hde(t,e){if(t){if(typeof t=="string")return Tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tb(t,e)}}function pde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mde(t){if(Array.isArray(t))return Tb(t)}function Tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ab=function(e,n,r,i,s){var o=gr(e,S_),l=gr(e,t0),c=[].concat(Mk(o),Mk(l)),u=gr(e,r0),d="".concat(i,"Id"),f=i[0],h=n;if(c.length&&(h=c.reduce(function(b,v){if(v.props[d]===r&&ni(v.props,"extendDomain")&&oe(v.props[f])){var _=v.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},h)),u.length){var x="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(b,v){if(v.props[d]===r&&ni(v.props,"extendDomain")&&oe(v.props[x])&&oe(v.props[y])){var _=v.props[x],w=v.props[y];return[Math.min(b[0],_,w),Math.max(b[1],_,w)]}return b},h)}return s&&s.length&&(h=s.reduce(function(b,v){return oe(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},h)),h},B5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],x]:c._events[y].push(x):(c._events[y]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,y=new Array(x);h<x;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,y){var b=n?n+u:u;if(!this._events[b])return!1;var v=this._events[b],_=arguments.length,w,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,x),!0;case 6:return v.fn.call(v.context,d,f,h,x,y),!0}for(S=1,w=new Array(_-1);S<_;S++)w[S-1]=arguments[S];v.fn.apply(v.context,w)}else{var C=v.length,T;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),_){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!w)for(T=1,w=new Array(_-1);T<_;T++)w[T-1]=arguments[T];v[S].fn.apply(v[S].context,w)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,x);else{for(var b=0,v=[],_=y.length;b<_;b++)(y[b].fn!==d||h&&!y[b].once||f&&y[b].context!==f)&&v.push(y[b]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(B5);var gde=B5.exports;const xde=Ze(gde);var Fx=new xde,Ux="recharts.syncMouseEvents";function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function yde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z5(r.key),r)}}function bde(t,e,n){return e&&vde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bx(t,e,n){return e=z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5(t){var e=wde(t,"string");return Vd(e)=="symbol"?e:e+""}function wde(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _de=function(){function t(){yde(this,t),Bx(this,"activeIndex",0),Bx(this,"coordinateList",[]),Bx(this,"layout","horizontal")}return bde(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Nde(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function Sde(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function q5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=ct(e,n,r,i),l=ct(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Ede(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=ct(l,c,u,f),x=ct(l,c,d,f);r=h.x,i=h.y,s=x.x,o=x.y}else return q5(e);return[{x:r,y:i},{x:s,y:o}]}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(n),!0).forEach(function(r){Tde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tde(t,e,n){return e=Ade(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ade(t){var e=kde(t,"string");return Fd(e)=="symbol"?e:e+""}function kde(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cde(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,b=Yo;if(h==="ScatterChart")y=o,b=Xse;else if(h==="BarChart")y=Sde(f,o,c,d),b=x_;else if(f==="radial"){var v=q5(o),_=v.cx,w=v.cy,S=v.radius,C=v.startAngle,T=v.endAngle;y={cx:_,cy:w,startAngle:C,endAngle:T,innerRadius:S,outerRadius:S},b=$O}else y={points:Ede(f,o,c)},b=Yo;var N=ch(ch(ch(ch({stroke:"#ccc",pointerEvents:"none"},c),y),Ne(x,!1)),{},{payload:l,payloadIndex:u,className:Oe("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,N):D.createElement(b,N)}var jde=["item"],Pde=["children","className","width","height","style","compact","title","desc"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Do(){return Do=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Do.apply(this,arguments)}function Dk(t,e){return Mde(t)||Rde(t,e)||H5(t,e)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Mde(t){if(Array.isArray(t))return t}function Lk(t,e){if(t==null)return{};var n=Ode(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W5(r.key),r)}}function $de(t,e,n){return e&&Lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vde(t,e,n){return e=Cm(e),Fde(t,G5()?Reflect.construct(e,n||[],Cm(t).constructor):e.apply(t,n))}function Fde(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(t)}function Ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G5=function(){return!!t})()}function Cm(t){return Cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cm(t)}function Bde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kb(t,e)}function Ul(t){return Gde(t)||qde(t)||H5(t)||zde()}function zde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gde(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Te(t,e,n){return e=W5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W5(t){var e=Hde(t,"string");return Fl(e)=="symbol"?e:e+""}function Hde(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wde={xAxis:["bottom","top"],yAxis:["left","right"]},Kde={width:"100%",height:"100%"},K5={x:0,y:0};function uh(t){return t}var Jde=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Yde=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return ne(ne(ne({},i),ct(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return ne(ne(ne({},i),ct(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return K5},i0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ul(l),Ul(u)):l},[]);return o.length>0?o:e&&e.length&&oe(i)&&oe(s)?e.slice(i,s+1):[]};function J5(t){return t==="number"?[0,"auto"]:void 0}var jb=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,l=i0(n,e);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=kp(x,o.dataKey,i)}else h=f&&f[r]||l[r];return h?[].concat(Ul(c),[IO(u,h)]):c},[])},Vk=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=Jde(s,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=xne(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=jb(e,n,d,f),x=Yde(r,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},Xde=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=TO(d,s);return r.reduce(function(y,b){var v,_=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=_.type,S=_.dataKey,C=_.allowDataOverflow,T=_.allowDuplicatedCategory,N=_.scale,E=_.ticks,A=_.includeHidden,j=_[o];if(y[j])return y;var M=i0(e.data,{graphicalItems:i.filter(function(Y){var re,we=o in Y.props?Y.props[o]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[o];return we===j}),dataStartIndex:c,dataEndIndex:u}),P=M.length,O,R,z;Nde(_.domain,C,w)&&(O=Gv(_.domain,null,C),x&&(w==="number"||N!=="auto")&&(z=Cu(M,S,"category")));var F=J5(w);if(!O||O.length===0){var $,B=($=_.domain)!==null&&$!==void 0?$:F;if(S){if(O=Cu(M,S,w),w==="category"&&x){var V=a9(O);T&&V?(R=O,O=gm(0,P)):T||(O=dA(B,O,b).reduce(function(Y,re){return Y.indexOf(re)>=0?Y:[].concat(Ul(Y),[re])},[]))}else if(w==="category")T?O=O.filter(function(Y){return Y!==""&&!Ie(Y)}):O=dA(B,O,b).reduce(function(Y,re){return Y.indexOf(re)>=0||re===""||Ie(re)?Y:[].concat(Ul(Y),[re])},[]);else if(w==="number"){var H=_ne(M,i.filter(function(Y){var re,we,q=o in Y.props?Y.props[o]:(re=Y.type.defaultProps)===null||re===void 0?void 0:re[o],X="hide"in Y.props?Y.props.hide:(we=Y.type.defaultProps)===null||we===void 0?void 0:we.hide;return q===j&&(A||!X)}),S,s,d);H&&(O=H)}x&&(w==="number"||N!=="auto")&&(z=Cu(M,S,"category"))}else x?O=gm(0,P):l&&l[j]&&l[j].hasStack&&w==="number"?O=h==="expand"?[0,1]:PO(l[j].stackGroups,c,u):O=EO(M,i.filter(function(Y){var re=o in Y.props?Y.props[o]:Y.type.defaultProps[o],we="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return re===j&&(A||!we)}),w,d,!0);if(w==="number")O=Ab(f,O,j,s,E),B&&(O=Gv(B,O,C));else if(w==="category"&&B){var J=B,W=O.every(function(Y){return J.indexOf(Y)>=0});W&&(O=J)}}return ne(ne({},y),{},Te({},j,ne(ne({},_),{},{axisType:s,domain:O,categoricalDomain:z,duplicateDomain:R,originalDomain:(v=_.domain)!==null&&v!==void 0?v:F,isCategorical:x,layout:d})))},{})},Qde=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=i0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,y=TO(d,s),b=-1;return r.reduce(function(v,_){var w=_.type.defaultProps!==void 0?ne(ne({},_.type.defaultProps),_.props):_.props,S=w[o],C=J5("number");if(!v[S]){b++;var T;return y?T=gm(0,x):l&&l[S]&&l[S].hasStack?(T=PO(l[S].stackGroups,c,u),T=Ab(f,T,S,s)):(T=Gv(C,EO(h,r.filter(function(N){var E,A,j=o in N.props?N.props[o]:(E=N.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in N.props?N.props.hide:(A=N.type.defaultProps)===null||A===void 0?void 0:A.hide;return j===S&&!M}),"number",d),i.defaultProps.allowDataOverflow),T=Ab(f,T,S,s)),ne(ne({},v),{},Te({},S,ne(ne({axisType:s},i.defaultProps),{},{hide:!0,orientation:tr(Wde,"".concat(s,".").concat(b%2),null),domain:T,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},Zde=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=gr(d,s),x={};return h&&h.length?x=Xde(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=Qde(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},efe=function(e){var n=hs(e),r=Si(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:q1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:rm(n,r)}},Fk=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xn(n,Pl),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},tfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ci(n&&n.type);return r&&r.indexOf("Bar")>=0})},Uk=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nfe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=Xn(f,Pl),y=Xn(f,ka),b=Object.keys(c).reduce(function(T,N){var E=c[N],A=E.orientation;return!E.mirror&&!E.hide?ne(ne({},T),{},Te({},A,T[A]+E.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,N){var E=o[N],A=E.orientation;return!E.mirror&&!E.hide?ne(ne({},T),{},Te({},A,tr(T,"".concat(A))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=ne(ne({},v),b),w=_.bottom;x&&(_.bottom+=x.props.height||Pl.defaultProps.height),y&&n&&(_=bne(_,i,r,n));var S=u-_.left-_.right,C=d-_.top-_.bottom;return ne(ne({brushBottom:w},_),{},{width:Math.max(S,0),height:Math.max(C,0)})},rfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},A_=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,w){var S=w.graphicalItems,C=w.stackGroups,T=w.offset,N=w.updateId,E=w.dataStartIndex,A=w.dataEndIndex,j=_.barSize,M=_.layout,P=_.barGap,O=_.barCategoryGap,R=_.maxBarSize,z=Uk(M),F=z.numericAxisName,$=z.cateAxisName,B=tfe(S),V=[];return S.forEach(function(H,J){var W=i0(_.data,{graphicalItems:[H],dataStartIndex:E,dataEndIndex:A}),Y=H.type.defaultProps!==void 0?ne(ne({},H.type.defaultProps),H.props):H.props,re=Y.dataKey,we=Y.maxBarSize,q=Y["".concat(F,"Id")],X=Y["".concat($,"Id")],ee={},ce=c.reduce(function(cn,fe){var ge=w["".concat(fe.axisType,"Map")],Ee=Y["".concat(fe.axisType,"Id")];ge&&ge[Ee]||fe.axisType==="zAxis"||qa();var _e=ge[Ee];return ne(ne({},cn),{},Te(Te({},fe.axisType,_e),"".concat(fe.axisType,"Ticks"),Si(_e)))},ee),G=ce[$],se=ce["".concat($,"Ticks")],ue=C&&C[q]&&C[q].hasStack&&Pne(H,C[q].stackGroups),ie=Ci(H.type).indexOf("Bar")>=0,De=rm(G,se),Se=[],Q=B&&yne({barSize:j,stackGroups:C,totalSize:rfe(ce,$)});if(ie){var de,Me,mt=Ie(we)?R:we,ln=(de=(Me=rm(G,se,!0))!==null&&Me!==void 0?Me:mt)!==null&&de!==void 0?de:0;Se=vne({barGap:P,barCategoryGap:O,bandSize:ln!==De?ln:De,sizeList:Q[X],maxBarSize:mt}),ln!==De&&(Se=Se.map(function(cn){return ne(ne({},cn),{},{position:ne(ne({},cn.position),{},{offset:cn.position.offset-ln/2})})}))}var En=H&&H.type&&H.type.getComposedData;En&&V.push({props:ne(ne({},En(ne(ne({},ce),{},{displayedData:W,props:_,dataKey:re,item:H,bandSize:De,barPosition:Se,offset:T,stackedData:ue,layout:M,dataStartIndex:E,dataEndIndex:A}))),{},Te(Te(Te({key:H.key||"item-".concat(J)},F,ce[F]),$,ce[$]),"animationId",N)),childIndex:v9(H,_.children),item:H})}),V},x=function(_,w){var S=_.props,C=_.dataStartIndex,T=_.dataEndIndex,N=_.updateId;if(!iE({props:S}))return null;var E=S.children,A=S.layout,j=S.stackOffset,M=S.data,P=S.reverseStackOrder,O=Uk(A),R=O.numericAxisName,z=O.cateAxisName,F=gr(E,r),$=Cne(M,F,"".concat(R,"Id"),"".concat(z,"Id"),j,P),B=c.reduce(function(Y,re){var we="".concat(re.axisType,"Map");return ne(ne({},Y),{},Te({},we,Zde(S,ne(ne({},re),{},{graphicalItems:F,stackGroups:re.axisType===R&&$,dataStartIndex:C,dataEndIndex:T}))))},{}),V=nfe(ne(ne({},B),{},{props:S,graphicalItems:F}),w==null?void 0:w.legendBBox);Object.keys(B).forEach(function(Y){B[Y]=d(S,B[Y],V,Y.replace("Map",""),n)});var H=B["".concat(z,"Map")],J=efe(H),W=h(S,ne(ne({},B),{},{dataStartIndex:C,dataEndIndex:T,updateId:N,graphicalItems:F,stackGroups:$,offset:V}));return ne(ne({formattedGraphicalItems:W,graphicalItems:F,offset:V,stackGroups:$},J),B)},y=function(v){function _(w){var S,C,T;return Dde(this,_),T=Vde(this,_,[w]),Te(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(T,"accessibilityManager",new _de),Te(T,"handleLegendBBoxUpdate",function(N){if(N){var E=T.state,A=E.dataStartIndex,j=E.dataEndIndex,M=E.updateId;T.setState(ne({legendBBox:N},x({props:T.props,dataStartIndex:A,dataEndIndex:j,updateId:M},ne(ne({},T.state),{},{legendBBox:N}))))}}),Te(T,"handleReceiveSyncEvent",function(N,E,A){if(T.props.syncId===N){if(A===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),Te(T,"handleBrushChange",function(N){var E=N.startIndex,A=N.endIndex;if(E!==T.state.dataStartIndex||A!==T.state.dataEndIndex){var j=T.state.updateId;T.setState(function(){return ne({dataStartIndex:E,dataEndIndex:A},x({props:T.props,dataStartIndex:E,dataEndIndex:A,updateId:j},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Te(T,"handleMouseEnter",function(N){var E=T.getMouseInfo(N);if(E){var A=ne(ne({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var j=T.props.onMouseEnter;ke(j)&&j(A,N)}}),Te(T,"triggeredAfterMouseMove",function(N){var E=T.getMouseInfo(N),A=E?ne(ne({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(A),T.triggerSyncEvent(A);var j=T.props.onMouseMove;ke(j)&&j(A,N)}),Te(T,"handleItemMouseEnter",function(N){T.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Te(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Te(T,"handleMouseMove",function(N){N.persist(),T.throttleTriggeredAfterMouseMove(N)}),Te(T,"handleMouseLeave",function(N){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var A=T.props.onMouseLeave;ke(A)&&A(E,N)}),Te(T,"handleOuterEvent",function(N){var E=y9(N),A=tr(T.props,"".concat(E));if(E&&ke(A)){var j,M;/.*touch.*/i.test(E)?M=T.getMouseInfo(N.changedTouches[0]):M=T.getMouseInfo(N),A((j=M)!==null&&j!==void 0?j:{},N)}}),Te(T,"handleClick",function(N){var E=T.getMouseInfo(N);if(E){var A=ne(ne({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var j=T.props.onClick;ke(j)&&j(A,N)}}),Te(T,"handleMouseDown",function(N){var E=T.props.onMouseDown;if(ke(E)){var A=T.getMouseInfo(N);E(A,N)}}),Te(T,"handleMouseUp",function(N){var E=T.props.onMouseUp;if(ke(E)){var A=T.getMouseInfo(N);E(A,N)}}),Te(T,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Te(T,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&T.handleMouseDown(N.changedTouches[0])}),Te(T,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&T.handleMouseUp(N.changedTouches[0])}),Te(T,"handleDoubleClick",function(N){var E=T.props.onDoubleClick;if(ke(E)){var A=T.getMouseInfo(N);E(A,N)}}),Te(T,"handleContextMenu",function(N){var E=T.props.onContextMenu;if(ke(E)){var A=T.getMouseInfo(N);E(A,N)}}),Te(T,"triggerSyncEvent",function(N){T.props.syncId!==void 0&&Fx.emit(Ux,T.props.syncId,N,T.eventEmitterSymbol)}),Te(T,"applySyncEvent",function(N){var E=T.props,A=E.layout,j=E.syncMethod,M=T.state.updateId,P=N.dataStartIndex,O=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)T.setState(ne({dataStartIndex:P,dataEndIndex:O},x({props:T.props,dataStartIndex:P,dataEndIndex:O,updateId:M},T.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,z=N.chartY,F=N.activeTooltipIndex,$=T.state,B=$.offset,V=$.tooltipTicks;if(!B)return;if(typeof j=="function")F=j(V,N);else if(j==="value"){F=-1;for(var H=0;H<V.length;H++)if(V[H].value===N.activeLabel){F=H;break}}var J=ne(ne({},B),{},{x:B.left,y:B.top}),W=Math.min(R,J.x+J.width),Y=Math.min(z,J.y+J.height),re=V[F]&&V[F].value,we=jb(T.state,T.props.data,F),q=V[F]?{x:A==="horizontal"?V[F].coordinate:W,y:A==="horizontal"?Y:V[F].coordinate}:K5;T.setState(ne(ne({},N),{},{activeLabel:re,activeCoordinate:q,activePayload:we,activeTooltipIndex:F}))}else T.setState(N)}),Te(T,"renderCursor",function(N){var E,A=T.state,j=A.isTooltipActive,M=A.activeCoordinate,P=A.activePayload,O=A.offset,R=A.activeTooltipIndex,z=A.tooltipAxisBandSize,F=T.getTooltipEventType(),$=(E=N.props.active)!==null&&E!==void 0?E:j,B=T.props.layout,V=N.key||"_recharts-cursor";return U.createElement(Cde,{key:V,activeCoordinate:M,activePayload:P,activeTooltipIndex:R,chartName:n,element:N,isActive:$,layout:B,offset:O,tooltipAxisBandSize:z,tooltipEventType:F})}),Te(T,"renderPolarAxis",function(N,E,A){var j=tr(N,"type.axisType"),M=tr(T.state,"".concat(j,"Map")),P=N.type.defaultProps,O=P!==void 0?ne(ne({},P),N.props):N.props,R=M&&M[O["".concat(j,"Id")]];return D.cloneElement(N,ne(ne({},R),{},{className:Oe(j,R.className),key:N.key||"".concat(E,"-").concat(A),ticks:Si(R,!0)}))}),Te(T,"renderPolarGrid",function(N){var E=N.props,A=E.radialLines,j=E.polarAngles,M=E.polarRadius,P=T.state,O=P.radiusAxisMap,R=P.angleAxisMap,z=hs(O),F=hs(R),$=F.cx,B=F.cy,V=F.innerRadius,H=F.outerRadius;return D.cloneElement(N,{polarAngles:Array.isArray(j)?j:Si(F,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:Si(z,!0).map(function(J){return J.coordinate}),cx:$,cy:B,innerRadius:V,outerRadius:H,key:N.key||"polar-grid",radialLines:A})}),Te(T,"renderLegend",function(){var N=T.state.formattedGraphicalItems,E=T.props,A=E.children,j=E.width,M=E.height,P=T.props.margin||{},O=j-(P.left||0)-(P.right||0),R=NO({children:A,formattedGraphicalItems:N,legendWidth:O,legendContent:u});if(!R)return null;var z=R.item,F=Lk(R,jde);return D.cloneElement(z,ne(ne({},F),{},{chartWidth:j,chartHeight:M,margin:P,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Te(T,"renderTooltip",function(){var N,E=T.props,A=E.children,j=E.accessibilityLayer,M=Xn(A,$n);if(!M)return null;var P=T.state,O=P.isTooltipActive,R=P.activeCoordinate,z=P.activePayload,F=P.activeLabel,$=P.offset,B=(N=M.props.active)!==null&&N!==void 0?N:O;return D.cloneElement(M,{viewBox:ne(ne({},$),{},{x:$.left,y:$.top}),active:B,label:F,payload:B?z:[],coordinate:R,accessibilityLayer:j})}),Te(T,"renderBrush",function(N){var E=T.props,A=E.margin,j=E.data,M=T.state,P=M.offset,O=M.dataStartIndex,R=M.dataEndIndex,z=M.updateId;return D.cloneElement(N,{key:N.key||"_recharts-brush",onChange:sh(T.handleBrushChange,N.props.onChange),data:j,x:oe(N.props.x)?N.props.x:P.left,y:oe(N.props.y)?N.props.y:P.top+P.height+P.brushBottom-(A.bottom||0),width:oe(N.props.width)?N.props.width:P.width,startIndex:O,endIndex:R,updateId:"brush-".concat(z)})}),Te(T,"renderReferenceElement",function(N,E,A){if(!N)return null;var j=T,M=j.clipPathId,P=T.state,O=P.xAxisMap,R=P.yAxisMap,z=P.offset,F=N.type.defaultProps||{},$=N.props,B=$.xAxisId,V=B===void 0?F.xAxisId:B,H=$.yAxisId,J=H===void 0?F.yAxisId:H;return D.cloneElement(N,{key:N.key||"".concat(E,"-").concat(A),xAxis:O[V],yAxis:R[J],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:M})}),Te(T,"renderActivePoints",function(N){var E=N.item,A=N.activePoint,j=N.basePoint,M=N.childIndex,P=N.isRange,O=[],R=E.props.key,z=E.item.type.defaultProps!==void 0?ne(ne({},E.item.type.defaultProps),E.item.props):E.item.props,F=z.activeDot,$=z.dataKey,B=ne(ne({index:M,dataKey:$,cx:A.x,cy:A.y,r:4,fill:g_(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ne(F,!1)),Cp(F));return O.push(_.renderActiveDot(F,B,"".concat(R,"-activePoint-").concat(M))),j?O.push(_.renderActiveDot(F,ne(ne({},B),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(M))):P&&O.push(null),O}),Te(T,"renderGraphicChild",function(N,E,A){var j=T.filterFormatItem(N,E,A);if(!j)return null;var M=T.getTooltipEventType(),P=T.state,O=P.isTooltipActive,R=P.tooltipAxis,z=P.activeTooltipIndex,F=P.activeLabel,$=T.props.children,B=Xn($,$n),V=j.props,H=V.points,J=V.isRange,W=V.baseLine,Y=j.item.type.defaultProps!==void 0?ne(ne({},j.item.type.defaultProps),j.item.props):j.item.props,re=Y.activeDot,we=Y.hide,q=Y.activeBar,X=Y.activeShape,ee=!!(!we&&O&&B&&(re||q||X)),ce={};M!=="axis"&&B&&B.props.trigger==="click"?ce={onClick:sh(T.handleItemMouseEnter,N.props.onClick)}:M!=="axis"&&(ce={onMouseLeave:sh(T.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:sh(T.handleItemMouseEnter,N.props.onMouseEnter)});var G=D.cloneElement(N,ne(ne({},j.props),ce));function se(fe){return typeof R.dataKey=="function"?R.dataKey(fe.payload):null}if(ee)if(z>=0){var ue,ie;if(R.dataKey&&!R.allowDuplicatedCategory){var De=typeof R.dataKey=="function"?se:"payload.".concat(R.dataKey.toString());ue=kp(H,De,F),ie=J&&W&&kp(W,De,F)}else ue=H==null?void 0:H[z],ie=J&&W&&W[z];if(X||q){var Se=N.props.activeIndex!==void 0?N.props.activeIndex:z;return[D.cloneElement(N,ne(ne(ne({},j.props),ce),{},{activeIndex:Se})),null,null]}if(!Ie(ue))return[G].concat(Ul(T.renderActivePoints({item:j,activePoint:ue,basePoint:ie,childIndex:z,isRange:J})))}else{var Q,de=(Q=T.getItemByXY(T.state.activeCoordinate))!==null&&Q!==void 0?Q:{graphicalItem:G},Me=de.graphicalItem,mt=Me.item,ln=mt===void 0?N:mt,En=Me.childIndex,cn=ne(ne(ne({},j.props),ce),{},{activeIndex:En});return[D.cloneElement(ln,cn),null,null]}return J?[G,null,null]:[G,null]}),Te(T,"renderCustomized",function(N,E,A){return D.cloneElement(N,ne(ne({key:"recharts-customized-".concat(A)},T.props),T.state))}),Te(T,"renderMap",{CartesianGrid:{handler:uh,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:uh},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:uh},YAxis:{handler:uh},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((S=w.id)!==null&&S!==void 0?S:ac("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=N4(T.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return Bde(_,v),$de(_,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,T=S.data,N=S.height,E=S.layout,A=Xn(C,$n);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,P=jb(this.state,T,j,M),O=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+N)/2,z=E==="horizontal",F=z?{x:O,y:R}:{y:O,x:R},$=this.state.formattedGraphicalItems.find(function(V){var H=V.item;return H.type.name==="Scatter"});$&&(F=ne(ne({},F),$.props.points[j].tooltipPosition),P=$.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:M,activePayload:P,activeCoordinate:F};this.setState(B),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var T,N;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(S){av([Xn(S.children,$n)],[Xn(this.props.children,$n)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Xn(this.props.children,$n);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return l.indexOf(C)>=0?C:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),N=GX(T),E={chartX:Math.round(S.pageX-N.left),chartY:Math.round(S.pageY-N.top)},A=T.width/C.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var M=this.state,P=M.xAxisMap,O=M.yAxisMap,R=this.getTooltipEventType(),z=Vk(this.state,this.props.data,this.props.layout,j);if(R!=="axis"&&P&&O){var F=hs(P).scale,$=hs(O).scale,B=F&&F.invert?F.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return ne(ne({},E),{},{xValue:B,yValue:V},z)}return z?ne(ne({},E),z):null}},{key:"inRange",value:function(S,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,E=S/T,A=C/T;if(N==="horizontal"||N==="vertical"){var j=this.state.offset,M=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return M?{x:E,y:A}:null}var P=this.state,O=P.angleAxisMap,R=P.radiusAxisMap;if(O&&R){var z=hs(O);return pA({x:E,y:A},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),T=Xn(S,$n),N={};T&&C==="axis"&&(T.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Cp(this.props,this.handleOuterEvent);return ne(ne({},E),N)}},{key:"addListener",value:function(){Fx.on(Ux,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fx.removeListener(Ux,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,T){for(var N=this.state.formattedGraphicalItems,E=0,A=N.length;E<A;E++){var j=N[E];if(j.item===S||j.props.key===S.key||C===Ci(j.item.type)&&T===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,T=C.left,N=C.top,E=C.height,A=C.width;return U.createElement("defs",null,U.createElement("clipPath",{id:S},U.createElement("rect",{x:T,y:N,height:E,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,T){var N=Dk(T,2),E=N[0],A=N[1];return ne(ne({},C),{},Te({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,T){var N=Dk(T,2),E=N[0],A=N[1];return ne(ne({},C),{},Te({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,T=C.formattedGraphicalItems,N=C.activeItem;if(T&&T.length)for(var E=0,A=T.length;E<A;E++){var j=T[E],M=j.props,P=j.item,O=P.type.defaultProps!==void 0?ne(ne({},P.type.defaultProps),P.props):P.props,R=Ci(P.type);if(R==="Bar"){var z=(M.data||[]).find(function(V){return Pse(S,V)});if(z)return{graphicalItem:j,payload:z}}else if(R==="RadialBar"){var F=(M.data||[]).find(function(V){return pA(S,V)});if(F)return{graphicalItem:j,payload:F}}else if(Xg(j,N)||Qg(j,N)||Rd(j,N)){var $=voe({graphicalItem:j,activeTooltipItem:N,itemData:O.data}),B=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:ne(ne({},j),{},{childIndex:B}),payload:Rd(j,N)?O.data[$]:j.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!iE(this))return null;var C=this.props,T=C.children,N=C.className,E=C.width,A=C.height,j=C.style,M=C.compact,P=C.title,O=C.desc,R=Lk(C,Pde),z=Ne(R,!1);if(M)return U.createElement(vk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(lv,Do({},z,{width:E,height:A,title:P,desc:O}),this.renderClipPath(),aE(T,this.renderMap)));if(this.props.accessibilityLayer){var F,$;z.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,z.role=($=this.props.role)!==null&&$!==void 0?$:"application",z.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},z.onFocus=function(){S.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return U.createElement(vk,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Do({className:Oe("recharts-wrapper",N),style:ne({position:"relative",cursor:"default",width:E,height:A},j)},B,{ref:function(H){S.container=H}}),U.createElement(lv,Do({},z,{width:E,height:A,title:P,desc:O,style:Kde}),this.renderClipPath(),aE(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Te(y,"displayName",n),Te(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Te(y,"getDerivedStateFromProps",function(v,_){var w=v.dataKey,S=v.data,C=v.children,T=v.width,N=v.height,E=v.layout,A=v.stackOffset,j=v.margin,M=_.dataStartIndex,P=_.dataEndIndex;if(_.updateId===void 0){var O=Fk(v);return ne(ne(ne({},O),{},{updateId:0},x(ne(ne({props:v},O),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:S,prevWidth:T,prevHeight:N,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:C})}if(w!==_.prevDataKey||S!==_.prevData||T!==_.prevWidth||N!==_.prevHeight||E!==_.prevLayout||A!==_.prevStackOffset||!Wo(j,_.prevMargin)){var R=Fk(v),z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},F=ne(ne({},Vk(_,S,E)),{},{updateId:_.updateId+1}),$=ne(ne(ne({},R),z),F);return ne(ne(ne({},$),x(ne({props:v},$),_)),{},{prevDataKey:w,prevData:S,prevWidth:T,prevHeight:N,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:C})}if(!av(C,_.prevChildren)){var B,V,H,J,W=Xn(C,Pl),Y=W&&(B=(V=W.props)===null||V===void 0?void 0:V.startIndex)!==null&&B!==void 0?B:M,re=W&&(H=(J=W.props)===null||J===void 0?void 0:J.endIndex)!==null&&H!==void 0?H:P,we=Y!==M||re!==P,q=!Ie(S),X=q&&!we?_.updateId:_.updateId+1;return ne(ne({updateId:X},x(ne(ne({props:v},_),{},{updateId:X,dataStartIndex:Y,dataEndIndex:re}),_)),{},{prevChildren:C,dataStartIndex:Y,dataEndIndex:re})}return null}),Te(y,"renderActiveDot",function(v,_,w){var S;return D.isValidElement(v)?S=D.cloneElement(v,_):ke(v)?S=v(_):S=U.createElement(Hg,_),U.createElement(Fe,{className:"recharts-active-dot",key:w},S)});var b=D.forwardRef(function(_,w){return U.createElement(y,Do({},_,{ref:w}))});return b.displayName=y.displayName,b},Y5=A_({chartName:"BarChart",GraphicalChild:Dr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Bs},{axisType:"yAxis",AxisComp:zs}],formatAxisMap:f5}),ife=A_({chartName:"PieChart",GraphicalChild:Xi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Yg},{axisType:"radiusAxis",AxisComp:Kg}],formatAxisMap:Une,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),X5=A_({chartName:"AreaChart",GraphicalChild:Ur,axisComponents:[{axisType:"xAxis",AxisComp:Bs},{axisType:"yAxis",AxisComp:zs}],formatAxisMap:f5});const sfe=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],afe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control"}),a.jsx("p",{className:"text-slate-500",children:"Bienvenido de nuevo al sistema de gestin."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Fr,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:_r,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:ai,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:Mn,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((t,e)=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${t.bg} ${t.color}`,children:a.jsx(t.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.trend})]}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:t.label}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:t.value})]},e))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Flujo de Caja (Ventas vs Compras)"}),a.jsx("div",{className:"h-80",children:a.jsx(Tu,{width:"100%",height:"100%",children:a.jsxs(X5,{data:sfe,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx($d,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Bs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(zs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx($n,{}),a.jsx(Ur,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(Ur,{type:"monotone",dataKey:"compras",stroke:"#64748b",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Alertas Recientes"}),a.jsx("div",{className:"space-y-4",children:[{type:"stock",msg:"Stock bajo: Cemento Avellaneda (5 bolsas)",time:"Hace 10 min"},{type:"cheque",msg:"Cheque por vencer: Banco Galicia #4829",time:"Hace 1 hora"},{type:"deuda",msg:"Cliente Moroso: Ferretera Juan (Saldo $45k)",time:"Hace 3 horas"},{type:"price",msg:"Lista de Precios: Sinteplast actualiz +15%",time:"Ayer"}].map((t,e)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100",children:[a.jsx("div",{className:`p-2 rounded-lg ${t.type==="stock"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:t.type==="stock"?a.jsx(hl,{className:"w-5 h-5"}):a.jsx(ai,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:t.msg}),a.jsx("p",{className:"text-xs text-slate-500",children:t.time})]}),a.jsx("button",{className:"text-xs font-bold text-orange-600 hover:underline",children:"Ver"})]},e))})]})]})]}),Q5=D.createContext(void 0),ofe=[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",brand:"Stanley",category:"Herramientas",costPrice:4500,salePrice:5500,stock:15,primaryUnit:"unidad",saleUnit:"unidad",imageUrl:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150"},{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",brand:"Bosch",category:"Herramientas",costPrice:15e3,salePrice:18500,stock:8,primaryUnit:"unidad",saleUnit:"unidad",imageUrl:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=150"},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",brand:"Alba",category:"Pinturas",costPrice:3e3,salePrice:4200,stock:20,primaryUnit:"litro",saleUnit:"litro"}],lfe=[{id:"c1",name:"Juan Perez S.R.L.",cuit:"20-33445566-7",whatsapp:"5491155551234",email:"contacto@juanperez.com",specialDiscount:5,priceListId:"pl2",authorizedPersons:["Maria Lopez"],balance:-15e3,accumulatedPoints:120,pointsEnabled:!0,lastMovement:new Date().toISOString(),daysOverdue:10},{id:"c2",name:"Constructora del Centro",cuit:"30-11223344-9",whatsapp:"5491144445678",email:"info@cdc.com.ar",specialDiscount:10,priceListId:"pl3",authorizedPersons:["Pedro Garcia"],balance:2500,accumulatedPoints:0,pointsEnabled:!1}],cfe=[{id:"s1",name:"Sinteplast S.A.",cuit:"30-50001234-5",discounts:[10,5],balance:-150200,phone:"5491133339876",email:"ventas@sinteplast.com.ar",lastPurchase:new Date().toISOString()}],ufe=[{id:"pl1",name:"Pblico General",description:"Lista de precios para clientes minoristas.",modifierType:"margin",value:30,isBase:!0},{id:"pl2",name:"Mayorista A",description:"Descuentos especiales para compras de volumen.",modifierType:"margin",value:20,isBase:!1}],dfe=[{id:"b1",name:"Sucursal Central",address:"Av. Corrientes 1000",manager:"Gerente A",status:"online",dailySales:1e5,staffCount:10,phone:"111111111",email:"central@ferrogest.com"}],ffe=[{id:"mock-admin-uid-123",name:"Administrador Demo",email:"admin@ferrogest.com",role:"Administrador",status:"Activo",branchName:"Sucursal Central",modules:["sales","inventory","cashier","purchases","finance","ecommerce","reports","settings","branches","clients","suppliers","purchase-orders","stock-adjustment","bulk-modification","integrations","quotes","orders","installments","sales-zones"],salary:8e5,advances:[],joiningDate:"2022-01-01"}],hfe=({children:t})=>{const[e,n]=D.useState(ofe),[r,i]=D.useState(lfe),[s,o]=D.useState(cfe),[l,c]=D.useState([]),[u,d]=D.useState(ufe),[f,h]=D.useState(dfe),[x,y]=D.useState([]),[b,v]=D.useState([]),[_,w]=D.useState([]),[S,C]=D.useState(ffe),[T,N]=D.useState(!1),[E,A]=D.useState(null),j=async(fe,ge=300)=>{N(!0),await new Promise(Ee=>setTimeout(Ee,ge));try{fe(),A(null)}catch(Ee){A(Ee.message||"A mock error occurred.")}finally{N(!1)}},M=D.useCallback(async fe=>{let ge=e.filter(Ye=>fe.searchTerm?Ye.name.toLowerCase().includes(fe.searchTerm.toLowerCase())||Ye.sku.toLowerCase().includes(fe.searchTerm.toLowerCase()):!0);const Ee=fe.startAfterDoc?ge.indexOf(fe.startAfterDoc)+1:0,_e=ge.slice(Ee,Ee+fe.limit);return{products:_e,lastVisible:_e[_e.length-1]||null,hasMore:ge.length>Ee+_e.length}},[e]),P=D.useCallback(async fe=>e.find(ge=>ge.id===fe)||null,[e]),O=async fe=>j(()=>{n(ge=>[...ge,{...fe,id:`p${Date.now()}`}])}),R=async(fe,ge)=>j(()=>{n(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),z=async fe=>j(()=>{n(ge=>ge.filter(Ee=>Ee.id!==fe))}),F=async fe=>j(()=>{if(fe.docType!=="presupuesto"){const ge={id:`t${Date.now()}`,date:new Date().toISOString(),amount:fe.total,type:"ingreso",paymentDetails:fe.paymentDetails,description:`${fe.docType.toUpperCase()} a ${fe.clientName} de ${fe.items.length} items.`};c(_e=>[..._e,ge]),n(_e=>_e.map(Ye=>{const zt=fe.items.find(ts=>(ts.id===Ye.id||ts.productId===Ye.id)&&!ts.isManual);return zt?{...Ye,stock:Math.max(0,Ye.stock-zt.quantity)}:Ye}));const Ee=fe.paymentDetails.find(_e=>_e.method==="cuenta_corriente");Ee&&fe.clientId&&i(_e=>_e.map(Ye=>Ye.id===fe.clientId?{...Ye,balance:Ye.balance-Ee.amount,lastMovement:new Date().toISOString()}:Ye))}}),$=async fe=>j(()=>{i(ge=>[...ge,{...fe,id:`c${Date.now()}`,balance:0,accumulatedPoints:0}])}),B=async(fe,ge)=>j(()=>{i(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),V=async fe=>j(()=>{i(ge=>ge.filter(Ee=>Ee.id!==fe))}),H=async fe=>j(()=>{o(ge=>[...ge,{...fe,id:`s${Date.now()}`,balance:0}])}),J=async(fe,ge)=>j(()=>{o(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),W=async fe=>j(()=>{o(ge=>ge.filter(Ee=>Ee.id!==fe))}),Y=async fe=>j(()=>{c(ge=>[...ge,{...fe,id:`t${Date.now()}`}])}),re=async fe=>j(()=>{d(ge=>[...ge,{...fe,id:`pl${Date.now()}`}])}),we=async(fe,ge)=>j(()=>{d(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),q=async fe=>j(()=>{d(ge=>ge.filter(Ee=>Ee.id!==fe))}),X=async fe=>j(()=>{h(ge=>[...ge,{...fe,id:`b${Date.now()}`,dailySales:0,staffCount:0}])}),ee=async(fe,ge)=>j(()=>{h(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),ce=async fe=>j(()=>{h(ge=>ge.filter(Ee=>Ee.id!==fe))}),G=async fe=>j(()=>{y(ge=>[...ge,{...fe,id:`ord${Date.now()}`}])}),se=async(fe,ge)=>j(()=>{y(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),ue=async fe=>j(()=>{y(ge=>ge.filter(Ee=>Ee.id!==fe))}),ie=async fe=>j(()=>{v(ge=>[...ge,{...fe,id:`plan${Date.now()}`}])}),De=async(fe,ge)=>j(()=>{v(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),Se=async fe=>j(()=>{v(ge=>ge.filter(Ee=>Ee.id!==fe))}),Q=async fe=>j(()=>{w(ge=>[...ge,{...fe,id:`sz${Date.now()}`}])}),de=async(fe,ge)=>j(()=>{w(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),Me=async fe=>j(()=>{w(ge=>ge.filter(Ee=>Ee.id!==fe))}),mt=async()=>({products:e,clients:r,suppliers:s,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:b,users:S,salesZones:_}),ln=async fe=>{console.log("Mock: Deleting collection",fe)},En=async(fe,ge)=>j(()=>{C(Ee=>Ee.map(_e=>_e.id===fe?{..._e,...ge}:_e))}),cn=D.useMemo(()=>({products:e,clients:r,suppliers:s,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:b,users:S,loading:T,error:E,salesZones:_,fetchProductsPaginatedAndFiltered:M,getProductById:P,addProduct:O,updateProduct:R,deleteProduct:z,addSale:F,addClient:$,updateClient:B,deleteClient:V,addSupplier:H,updateSupplier:J,deleteSupplier:W,addPriceList:re,updatePriceList:we,deletePriceList:q,addBranch:X,updateBranch:ee,deleteBranch:ce,addOrder:G,updateOrder:se,deleteOrder:ue,addInstallmentPlan:ie,updateInstallmentPlan:De,deleteInstallmentPlan:Se,addTransaction:Y,exportAllData:mt,deleteAllDocumentsInCollection:ln,updateUser:En,addSalesZone:Q,updateSalesZone:de,deleteSalesZone:Me}),[e,r,s,l,u,f,x,b,S,T,E,_,M,P]);return a.jsx(Q5.Provider,{value:cn,children:t})},At=()=>{const t=D.useContext(Q5);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t},pfe=()=>{const{addSale:t,addOrder:e,fetchProductsPaginatedAndFiltered:n,clients:r}=At(),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState(!1),[h,x]=D.useState(!1),[y,b]=D.useState({name:"",price:0,quantity:1}),[v,_]=D.useState(null),[w,S]=D.useState(""),[C,T]=D.useState(!1),[N,E]=D.useState("ticket"),[A,j]=D.useState([]),[M,P]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""}),[O,R]=D.useState([]),[z,F]=D.useState(!1),$=D.useRef(),B=D.useCallback(X=>{$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(!(X.length<2)){F(!0);try{const{products:ee}=await n({limit:8,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});R(ee)}finally{F(!1)}}},300)},[n]),V=X=>{const ee=o.find(ce=>ce.id===X.id);l(ee?o.map(ce=>ce.id===X.id?{...ce,quantity:ce.quantity+1}:ce):[...o,{id:X.id,sku:X.sku,name:X.name,brand:X.brand,price:X.salePrice,quantity:1,stockBeforeSale:X.stock,selectedSaleUnit:X.saleUnit}]),s(""),R([])},H=()=>{if(!y.name||y.price<=0)return;const X={id:`manual-${Date.now()}`,sku:"MANUAL",name:y.name,brand:"Venta Libre",price:y.price,quantity:y.quantity,stockBeforeSale:9999,isManual:!0};l([...o,X]),f(!1),b({name:"",price:0,quantity:1})},J=o.reduce((X,ee)=>X+ee.price*ee.quantity,0),W=A.reduce((X,ee)=>X+ee.amount,0),Y=J-W,re=D.useMemo(()=>w?r.filter(X=>{var ee;return X.name.toLowerCase().includes(w.toLowerCase())||X.cuit.includes(w)||((ee=X.email)==null?void 0:ee.toLowerCase().includes(w.toLowerCase()))}).slice(0,5):[],[r,w]),we=()=>{if(!(M.amount<=0)){if((M.method==="cheque"||M.method==="echeq")&&(!M.bank||!M.checkNumber||!M.dueDate)){alert("Por favor, completa los datos del cheque (Banco, Nmero y Vencimiento).");return}j([...A,{...M,id:Date.now().toString()}]),P({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""})}},q=async()=>{if(N!=="presupuesto"&&Math.abs(Y)>.01){alert(`Falta cubrir $${Y.toLocaleString()} del total.`);return}x(!0);try{const X={clientName:(v==null?void 0:v.name)||"Mostrador",clientId:(v==null?void 0:v.id)||null,items:o,total:J,paymentDetails:A,docType:N,date:new Date().toISOString(),status:N==="presupuesto"?"pendiente":"completado"};N==="presupuesto"?(await e({clientId:(v==null?void 0:v.id)||"mostrador",clientName:(v==null?void 0:v.name)||"Mostrador",items:o.map(ee=>({productId:ee.id,sku:ee.sku,name:ee.name,brand:ee.brand,quantity:ee.quantity,unitPrice:ee.price,subtotal:ee.price*ee.quantity,originalProduct:null})),total:J,status:"pendiente_preparacion",dateCreated:new Date().toISOString()}),alert("Presupuesto guardado con xito.")):(await t(X),alert(`Operacin "${N.toUpperCase()}" finalizada con xito.`)),l([]),u(!1),j([]),_(null),S("")}catch(X){console.error(X),alert("Error al procesar la operacin.")}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Punto de venta integrado con stock y AFIP."})]}),a.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2 border border-slate-200",children:[a.jsx(pl,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por nombre, SKU o escanea cdigo...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:i,onChange:X=>{s(X.target.value),B(X.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[z&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),O.map(X=>a.jsxs("div",{onClick:()=>V(X),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(rM,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:X.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[X.sku,"  Stock: ",a.jsx("span",{className:X.stock<5?"text-red-500":"text-green-600",children:X.stock})]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",X.salePrice.toLocaleString()]})]},X.id)),!z&&i.length>2&&O.length===0&&a.jsx("div",{className:"col-span-2 py-10 text-center text-slate-400 font-medium italic",children:"No se encontraron productos."})]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Cliente de la Venta"}),a.jsx("div",{className:"relative",children:v?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(Yr,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:v.name}),a.jsx("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest truncate",children:v.cuit})]})]}),a.jsx("button",{onClick:()=>_(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(He,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente (Nombre o CUIT)...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:w,onChange:X=>{S(X.target.value),T(!0)},onFocus:()=>T(!0)}),C&&w.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden animate-in fade-in slide-in-from-top-2",children:a.jsxs("div",{className:"p-1 space-y-1",children:[re.map(X=>a.jsxs("button",{onClick:()=>{_(X),S(""),T(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between group transition-all text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-600 transition-colors",children:a.jsx(Yr,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-xs",children:X.name}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:X.cuit})]})]}),a.jsx(rr,{className:"w-3 h-3 text-slate-300 group-hover:text-orange-500"})]},X.id)),re.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron clientes"}),a.jsxs("button",{onClick:()=>{_(null),S(""),T(!1)},className:"w-full p-3 border-t border-slate-50 hover:bg-slate-50 rounded-xl flex items-center gap-3 text-slate-500 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-xs",children:"Usar Cliente Mostrador"})]})]})})]})})]}),a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ml,{className:"w-5 h-5 text-orange-600"})," Carrito"]}),a.jsx("button",{onClick:()=>l([]),className:"text-[10px] font-black uppercase text-red-500 hover:underline",children:"Vaciar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:o.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 space-y-4",children:[a.jsx(ml,{className:"w-16 h-16"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-widest text-center",children:"Sin artculos"})]}):o.map((X,ee)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:X.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:X.quantity,onChange:ce=>{const G=parseInt(ce.target.value)||1;l(o.map((se,ue)=>ue===ee?{...se,quantity:G}:se))},className:"w-12 bg-transparent font-black text-orange-600 outline-none"}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["x $",X.price.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",(X.price*X.quantity).toLocaleString()]}),a.jsx("button",{onClick:()=>l(o.filter((ce,G)=>G!==ee)),className:"p-1 text-slate-300 hover:text-red-500",children:a.jsx(an,{className:"w-4 h-4"})})]})]},X.id))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total Cobrar"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",J.toLocaleString()]})]}),a.jsxs("button",{disabled:o.length===0,onClick:()=>u(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl shadow-orange-600/20 hover:bg-orange-500 active:scale-95 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(rr,{className:"w-6 h-6"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Venta"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(He,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(Yr,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"text-xl font-black text-slate-800",children:(v==null?void 0:v.name)||"Mostrador"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:(v==null?void 0:v.cuit)||"Sin CUIT registrado"})]})]}),a.jsx("button",{onClick:()=>{u(!1),T(!0)},className:"text-blue-600 text-xs font-black uppercase hover:underline",children:"Cambiar"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Comprobante"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{id:"ticket",label:"Ticket",icon:iM},{id:"factura_a",label:"Fact. A",icon:U2},{id:"factura_b",label:"Fact. B",icon:U2},{id:"remito",label:"Remito",icon:tM},{id:"presupuesto",label:"Presup.",icon:_p}].map(X=>a.jsxs("button",{onClick:()=>E(X.id),className:`p-4 border-2 rounded-2xl flex flex-col items-center gap-2 transition-all ${N===X.id?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"}`,children:[a.jsx(X.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:X.label})]},X.id))})]}),N!=="presupuesto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:A.map(X=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Cn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:X.method.replace("_"," ")}),(X.method==="cheque"||X.method==="echeq")&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[X.bank," #",X.checkNumber," - Vence: ",X.dueDate]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",X.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>j(A.filter(ee=>ee.id!==X.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(an,{className:"w-4 h-4"})})]})]},X.id))}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-3 border border-slate-200 rounded-xl font-bold",value:M.method,onChange:X=>P({...M,method:X.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque Fsico"}),a.jsx("option",{value:"echeq",children:"E-Cheq"}),a.jsx("option",{value:"cuenta_corriente",disabled:!v,children:"Cta. Corriente"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",placeholder:"Monto",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold",value:M.amount||"",onChange:X=>P({...M,amount:parseFloat(X.target.value)||0})})]})]}),(M.method==="cheque"||M.method==="echeq")&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Banco"}),a.jsxs("div",{className:"relative",children:[a.jsx(ZV,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400"}),a.jsx("input",{placeholder:"Ej: Galicia",className:"w-full pl-8 pr-3 py-2 border rounded-lg text-xs font-bold",value:M.bank,onChange:X=>P({...M,bank:X.target.value})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"N Cheque"}),a.jsx("input",{placeholder:"000123",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:M.checkNumber,onChange:X=>P({...M,checkNumber:X.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Vencimiento"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:M.dueDate,onChange:X=>P({...M,dueDate:X.target.value})})]})]}),a.jsxs("button",{onClick:we,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Registrar Pago"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Resumen"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:N.replace("_"," ")})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"Neto Gravado"}),a.jsxs("span",{children:["$",(J/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",(J-J/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-4",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",J.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Pagado:"}),a.jsxs("span",{className:"text-green-400",children:["$",W.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center font-black text-lg",children:[a.jsx("span",{className:"text-slate-400 uppercase text-xs tracking-widest",children:"Restante:"}),a.jsxs("span",{className:Y>0?"text-red-500":"text-orange-500",children:["$",Y.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[Math.abs(Y)>.01&&N!=="presupuesto"&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[a.jsx(Di,{className:"w-5 h-5 text-red-500"}),a.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase leading-tight",children:"El pago debe cubrir el 100%."})]}),a.jsxs("button",{onClick:q,disabled:h||N!=="presupuesto"&&Math.abs(Y)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-orange-600/40 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[h?a.jsx(qe,{className:"w-6 h-6 animate-spin"}):a.jsx(Cn,{className:"w-6 h-6"}),h?"CONFIRMANDO...":"FINALIZAR"]})]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>f(!1),children:a.jsx(He,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:y.name,onChange:X=>b({...y,name:X.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Descripcin del servicio/item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:y.price||"",onChange:X=>b({...y,price:parseFloat(X.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cant."}),a.jsx("input",{type:"number",value:y.quantity,onChange:X=>b({...y,quantity:parseInt(X.target.value)||1}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsx("button",{onClick:H,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest mt-4 shadow-lg active:scale-95",children:"Aadir al Carrito"})]})]})})]})},mfe=()=>{var ce;const{addSale:t,getProductById:e,clients:n}=At(),[r,i]=D.useState(""),[s,o]=D.useState("todos"),[l,c]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,y]=D.useState(!1),[b,v]=D.useState(!1),[_,w]=D.useState(null),[S,C]=D.useState([]),[T,N]=D.useState({method:"efectivo",amount:0,notes:""}),[E,A]=D.useState("invoice"),[j,M]=D.useState(0),[P,O]=D.useState(""),[R,z]=D.useState([{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"}]),[F,$]=D.useState(!1),B=G=>{switch(G){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},V=R.filter(G=>{const se=G.client.toLowerCase().includes(r.toLowerCase())||G.id.toLowerCase().includes(r.toLowerCase()),ue=s==="todos"||G.status===s;return se&&ue}),H=G=>{c(se=>se.includes(G)?se.filter(ue=>ue!==G):[...se,G])},J=()=>{l.length===V.length&&V.length>0?c([]):c(V.map(G=>G.id))},W=R.filter(G=>l.includes(G.id)),Y=W.reduce((G,se)=>G+se.total,0),re=(_?_.total:Y)+j,we=S.reduce((G,se)=>G+se.amount,0),q=re-we,X=()=>{T.amount<=0||(C(G=>[...G,{...T,id:Date.now().toString()}]),N({method:"efectivo",amount:0,notes:""}))},ee=async()=>{var G;if(S.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(q)>.01){alert(`Falta asignar $${q.toLocaleString()}`);return}$(!0);try{const se=_?[_]:W;let ue=[];for(const De of se)for(const Se of De.itemsList){const Q=await e(Se.id),de=ue.findIndex(Me=>Me.id===Se.id);de!==-1?ue[de].quantity+=Se.quantity:ue.push({...Se})}const ie={client:(_==null?void 0:_.client)||((G=W[0])==null?void 0:G.client),items:ue,total:re,paymentDetails:S,docType:E,remitoIds:se.map(De=>De.id),seller:"Admin PC 01",date:new Date().toISOString()};await t(ie),z(De=>De.map(Se=>se.some(Q=>Q.id===Se.id)?{...Se,status:"entregado"}:Se)),alert(`Facturacin completada! Total: $${re.toLocaleString()}`),c([]),d(!1),C([]),w(null)}finally{$(!1)}};return a.jsxs("div",{className:"space-y-6 pb-24",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]})}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:r,onChange:G=>i(G.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado"].map(G=>a.jsx("button",{onClick:()=>o(G),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${s===G?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:G},G))})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:J,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:l.length===V.length&&V.length>0?a.jsx(yp,{className:"w-5 h-5 text-orange-600"}):a.jsx(Ep,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:V.map(G=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group cursor-pointer ${l.includes(G.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>H(G.id),children:l.includes(G.id)?a.jsx(yp,{className:"w-5 h-5 text-orange-600"}):a.jsx(Ep,{className:"w-5 h-5 text-slate-200"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:G.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:G.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:G.itemsCount}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${B(G.status)}`,children:G.status})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",G.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>{w(G),d(!0)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(F2,{className:"w-5 h-5"})})})]},G.id))})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(_==null?void 0:_.client)||((ce=W[0])==null?void 0:ce.client)})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"p-3 text-slate-400",children:a.jsx(He,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total: $",re.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:S.map(G=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:G.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",G.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(S.filter(se=>se.id!==G.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(an,{className:"w-4 h-4"})})]})]},G.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:T.method,onChange:G=>N({...T,method:G.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:T.amount||"",onChange:G=>N({...T,amount:parseFloat(G.target.value)||0})})]}),a.jsx("button",{onClick:X,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",re.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:F||Math.abs(q)>.01,onClick:ee,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(F2,{className:"w-5 h-5"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},gfe=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r}=At(),[i,s]=D.useState("lists"),[o,l]=D.useState(1),[c,u]=D.useState(""),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),v=[{id:1,name:"Seleccionar Proveedor",icon:Hn},{id:2,name:"Configurar Plantilla",icon:Us},{id:3,name:"Cargar Excel",icon:Tp},{id:4,name:"Previsualizacin",icon:Zy},{id:5,name:"Anlisis y Ejecucin",icon:yF}],_=async()=>{if(!y.name){alert("El nombre de la lista es obligatorio.");return}try{if(y.isBase){const N=t.find(E=>E.isBase&&E.id!==(h==null?void 0:h.id));N&&await n(N.id,{isBase:!1})}h!=null&&h.id?(await n(h.id,y),alert("Lista de precios actualizada con xito!")):(await e(y),alert("Lista de precios creada con xito!")),f(!1),x(null),b({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(N){alert("Error al guardar la lista de precios."),console.error(N)}},w=async N=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(N),alert("Lista de precios eliminada con xito.")}catch(E){alert("Error al eliminar la lista de precios."),console.error(E)}},S=N=>{x(N),b(N||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),f(!0)},C=()=>{switch(o){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["Sinteplast","Alba","Stanley","Bosch","Tramontina","Ferrum"].map(N=>a.jsxs("button",{onClick:()=>{u(N),l(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Hn,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:N})]},N))})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",c]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>l(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((N,E)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:N.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",N.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",N.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:N.diff})]},E))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Tp,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>l(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},T=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Mh,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(N=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${N.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[N.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${N.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:N.isBase?a.jsx(wp,{className:"w-6 h-6"}):a.jsx(p1,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>S(N),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx($i,{className:"w-4 h-4"})}),!N.isBase&&a.jsx("button",{onClick:()=>w(N.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(an,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:N.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:N.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:N.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(y1,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[N.value>0?"+":"",N.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${N.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:N.isBase?"Configuracin Base":"Ajustar Modificador"})]},N.id)),a.jsxs("button",{onClick:()=>S(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(nt,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(WV,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(Cn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Mh,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${i==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Eu,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>s("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${i==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Mh,{className:"w-5 h-5"})," Gestin de Listas de Venta"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:i==="update"?v.map((N,E)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${o===N.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${o>=N.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:o>N.id?a.jsx(Cn,{className:"w-6 h-6"}):a.jsx(N.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${o===N.id?"":"hidden md:block"}`,children:N.name})]}),E<v.length-1&&a.jsx(rr,{className:"w-5 h-5 text-slate-100"})]},N.id)):a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Us,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]})}),i==="update"?C():T(),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:y.name||"",onChange:N=>b({...y,name:N.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:y.description||"",onChange:N=>b({...y,description:N.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:y.modifierType,onChange:N=>b({...y,modifierType:N.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:y.value||"",onChange:N=>b({...y,value:parseFloat(N.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:y.isBase||!1,onChange:N=>b({...y,isBase:N.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:_,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[h?"Actualizar Lista":"Crear Lista"," ",a.jsx(Nn,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},xfe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(NF,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(_r,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(hx,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(v1,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(hx,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(hx,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),yfe=10,vfe=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],bfe=()=>{const{fetchProductsPaginatedAndFiltered:t}=At(),[e,n]=D.useState("dashboard"),[r,i]=D.useState([{id:"1",name:"Martillo Stanley 20oz",price:5500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650",price:18500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}]),[s,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState("login"),[x,y]=D.useState(null),[b,v]=D.useState(""),[_,w]=D.useState([]),[S,C]=D.useState(null),[T,N]=D.useState(!0),[E,A]=D.useState(!1),j=D.useRef(),M=D.useCallback(async(V=!1,H=b,J=S)=>{A(!0);try{const W={limit:yfe,searchTerm:H.toLowerCase().trim(),startAfterDoc:V?void 0:J,orderByField:"name",orderDirection:"asc"},{products:Y,lastVisible:re,hasMore:we}=await t(W);w(q=>V?Y:[...q,...Y]),C(re),N(we)}catch(W){console.error("Error loading products for picker:",W)}finally{A(!1)}},[b,S,t]),P=D.useCallback(V=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{M(!0,V,null)},300)},[M]);D.useEffect(()=>{s&&(w([]),C(null),N(!0),M(!0,b,null))},[b,s,M]);const O=()=>{c(!0)},R=V=>{i([...r,{id:V.id,name:V.name,price:V.salePrice||0,stock:V.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}])},z=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f==="login"?a.jsx(Yr,{className:"w-8 h-8"}):a.jsx(b1,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:f==="login"?"Hola de nuevo!":"Crea tu cuenta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa a Ferretera Norte para comprar."})]}),a.jsxs("div",{className:"px-8 pb-8 space-y-4",children:[f==="register"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"Tu nombre..."})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"email@ejemplo.com"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(m1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"password",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:""})]})]}),a.jsx("button",{onClick:()=>{y({name:"Cliente Demo"}),d(!1)},className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all mt-4",children:f==="login"?"Iniciar Sesin":"Registrarme ahora"}),a.jsxs("p",{className:"text-center text-xs font-bold text-slate-400 pt-4",children:[f==="login"?"No tienes cuenta?":"Ya eres cliente?",a.jsx("button",{onClick:()=>h(f==="login"?"register":"login"),className:"text-orange-600 ml-1 hover:underline",children:f==="login"?"Regstrate aqu":"Inicia sesin"})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-all",children:a.jsx(He,{className:"w-5 h-5"})})]})}),F=()=>a.jsxs("div",{className:"fixed inset-0 bg-white z-[200] overflow-y-auto animate-in fade-in duration-300 flex flex-col",children:[u&&z(),a.jsxs("div",{className:"bg-slate-100 p-3 flex justify-between items-center border-b sticky top-0 z-50",children:[a.jsxs("div",{className:"flex gap-1.5 ml-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),a.jsxs("div",{className:"bg-white border rounded-full px-8 py-1.5 text-xs text-slate-500 font-bold flex items-center gap-2",children:[a.jsx(Ms,{className:"w-3 h-3"})," https://ferreteria-norte.tiendafort.com"]}),a.jsxs("button",{onClick:()=>c(!1),className:"mr-4 p-2 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all flex items-center gap-2 px-4 py-2 font-black text-[10px] uppercase tracking-widest shadow-lg",children:[a.jsx(He,{className:"w-4 h-4"})," Salir de vista previa"]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 pb-20",children:[a.jsxs("header",{className:"p-8 flex justify-between items-center bg-white border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg text-white",children:a.jsx(ma,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsxs("nav",{className:"hidden md:flex gap-8 font-bold text-slate-500 uppercase text-xs tracking-widest",children:[a.jsx("a",{href:"#",className:"text-orange-600 border-b-2 border-orange-500 pb-1",children:"Inicio"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Productos"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contacto"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>x?y(null):d(!0),className:"flex items-center gap-2 font-bold text-slate-700 hover:text-orange-600 transition-colors",children:x?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center border border-slate-200",children:a.jsx(Yr,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:x.name})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yr,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:"Ingresar"})]})}),a.jsxs("button",{className:"relative",children:[a.jsx(ml,{className:"w-6 h-6 text-slate-700"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:"0"})]})]})]}),a.jsx("section",{className:"px-8 mt-8",children:a.jsxs("div",{className:"w-full h-[400px] bg-slate-900 rounded-[2.5rem] relative overflow-hidden flex items-center p-16 group",children:[a.jsxs("div",{className:"relative z-10 space-y-6 max-w-lg",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-[0.2em] shadow-lg",children:"Oferta de Lanzamiento"}),a.jsx("h1",{className:"text-5xl font-black text-white leading-tight",children:"Equip tu taller con lo mejor"}),a.jsx("p",{className:"text-slate-400 text-lg font-medium leading-relaxed",children:"Envos gratis en compras superiores a $50.000. Pag en 3 cuotas sin inters."}),a.jsx("button",{className:"bg-white text-slate-900 px-10 py-5 rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl shadow-white/5 active:scale-95",children:"Ver Ofertas"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=800",className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-1000",alt:"Banner"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/80 to-transparent"})]})}),a.jsx("section",{className:"px-8 mt-12 overflow-x-auto",children:a.jsx("div",{className:"flex gap-4",children:["Herramientas Elctricas","Pinturas","Bulonera","Electricidad","Jardn"].map(V=>a.jsx("button",{className:"px-6 py-3 bg-slate-50 border border-slate-100 rounded-2xl whitespace-nowrap text-xs font-black text-slate-500 uppercase tracking-widest hover:border-orange-500 hover:border-orange-600 transition-all shadow-sm",children:V},V))})}),a.jsxs("section",{className:"px-8 mt-16 space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Productos Destacados"}),a.jsxs("button",{className:"text-orange-600 font-black text-sm uppercase tracking-widest flex items-center gap-1 hover:underline",children:["Ver todo ",a.jsx(rr,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.filter(V=>V.status==="publicado").map(V=>a.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden border border-slate-100 group hover:shadow-2xl transition-all duration-300",children:[a.jsx("div",{className:"aspect-square relative overflow-hidden bg-slate-50",children:a.jsx("img",{src:V.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",alt:V.name})}),a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ferretera Norte"}),a.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight line-clamp-2 min-h-[3rem]",children:V.name}),a.jsxs("div",{className:"pt-2 flex justify-between items-center",children:[a.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("button",{className:"p-3 bg-orange-600 text-white rounded-2xl hover:bg-orange-700 transition-all shadow-lg active:scale-90",children:a.jsx(nt,{className:"w-5 h-5"})})]})]})]},V.id))})]}),a.jsxs("footer",{className:"mt-32 border-t pt-20 px-8 text-center space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-white",children:a.jsx(ma,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:" 2025 FerroGest Ecommerce. Todos los derechos reservados."})]})]})]}),$=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(ma,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]}),a.jsxs("div",{className:"relative w-72",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl text-xs font-bold",placeholder:"Buscar pedido..."})]})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:vfe.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(g1,{className:"inline w-3 h-3 mr-1"})," ",V.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:V.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",V.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(vp,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(oi,{className:"w-4 h-4"})})]})})]},V.id))})]})]})}),B=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(ma,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+14%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ventas Online (Mes)"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$840.500"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl",children:a.jsx(_r,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+5%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Visitas nicas"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"12.480"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-2xl",children:a.jsx(pF,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded-lg",children:"Estable"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conv. Checkout"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"3.2%"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1 relative z-10",children:"Estado del Dominio"}),a.jsx("h3",{className:"text-lg font-bold relative z-10",children:"ferreteria-norte.com"}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 relative z-10",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-500",children:"SSL Activo"})]}),a.jsx(Ms,{className:"absolute -bottom-6 -right-6 w-24 h-24 text-white/5 rotate-12"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-10 flex flex-col items-center justify-center gap-8 border border-slate-200",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"p-3 bg-white shadow-sm rounded-xl text-orange-600",children:a.jsx(q2,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(z2,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(_F,{className:"w-5 h-5"})})]}),a.jsxs("div",{onClick:O,className:"w-full aspect-video bg-white rounded-2xl shadow-2xl overflow-hidden border border-slate-200 group relative cursor-pointer",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),a.jsx("div",{className:"bg-white border rounded-lg px-4 py-0.5 text-[9px] text-slate-400 font-bold",children:"https://ferreteria-norte.com"}),a.jsx("div",{className:"w-4"})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx("div",{className:"w-full h-32 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-300 font-black text-xl uppercase tracking-widest",children:"Banner Oferta"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(V=>a.jsx("div",{className:"aspect-square bg-slate-50 rounded-xl"},V))})]}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(td,{className:"w-4 h-4"})," Previsualizar Tienda"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Acciones Rpidas"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>n("diseno"),className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(QR,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Subir Banners"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-yellow-50 border border-yellow-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-yellow-400 text-slate-900 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Ap,{className:"w-6 h-6 fill-current"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"MercadoLibre"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-blue-50 border border-blue-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-blue-400 text-white rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(oi,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Gestin de Envos"})]}),a.jsxs("button",{onClick:O,className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(vp,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ver mi Sitio"})]})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[l&&F(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Ms,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Multi-Channel Management"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Vende en tu propia tienda y MercadoLibre sincronizado."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:O,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(td,{className:"w-4 h-4"})," Ver Tienda"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"Dashboard",icon:z2},{id:"catalogo",label:"Catlogo Web",icon:Va},{id:"pedidos",label:"Pedidos Online",icon:ma},{id:"diseno",label:"Personalizacin UI",icon:Np}].map(V=>a.jsxs("button",{onClick:()=>n(V.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===V.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(V.icon,{className:"w-4 h-4"}),V.label]},V.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&B(),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>{o(!0),v(""),w([]),C(null),N(!0)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(nt,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:V.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:V.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:V.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:V.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Us,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(an,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),e==="pedidos"&&$(),e==="diseno"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Np,{className:"w-6 h-6 text-orange-600"})," Configuracin de Diseo"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color Principal"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-12 h-12 rounded-xl border-none p-0 cursor-pointer"}),a.jsx("input",{className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl font-bold uppercase",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Opciones de Cabecera"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Mostrar buscador prominente"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Habilitar Portal de Clientes"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-100 rounded-[2.5rem] p-8 border border-slate-200 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(q2,{className:"w-12 h-12 text-slate-300"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Los cambios se aplican globalmente al publicar."}),a.jsx("button",{onClick:O,className:"bg-white border border-slate-200 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all",children:"Abrir Previsualizador"})]})]})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:b,onChange:V=>{v(V.target.value),P(V.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E&&b.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):_.length>0?_.map(V=>{var H;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>R(V),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Va,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[V.sku,"  ",V.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(H=V.salePrice)==null?void 0:H.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",V.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},V.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(ir,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!E&&T&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>M(!1,b,S),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Li,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(nd,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>o(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})})]})},wfe=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(i,s,o)=>{const l=new Blob([i],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=s,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const i=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const i=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let s=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;i.forEach(c=>{s+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(s,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(lu,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(Tu,{width:"100%",height:"100%",children:a.jsxs(Y5,{data:t,children:[a.jsx($d,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Bs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(zs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx($n,{}),a.jsx(Dr,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(Dr,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(xp,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:ma},{label:"Ranking de Productos",icon:Fr},{label:"Libro IVA Ventas (AFIP)",icon:Hn},{label:"Libro IVA Compras",icon:Hn},{label:"CITI IVA Ventas (AFIP)",icon:lu,action:n},{label:"CITI IVA Compras (AFIP)",icon:lu,action:r}].map((i,s)=>a.jsxs("button",{onClick:i.action||(()=>alert(`Generar reporte: ${i.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(i.icon,{className:"w-4 h-4"}),i.label]}),i.action?a.jsx(lu,{className:"w-4 h-4 text-slate-400"}):a.jsx(ZR,{className:"w-4 h-4 text-slate-300"})]},s))]})]})]})]})},Bk=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:i,setCompanyInfo:s})=>{const o=D.useRef(null),[l,c]=D.useState(t),[u,d]=D.useState(!1),{exportAllData:f,deleteAllDocumentsInCollection:h}=At(),[x,y]=D.useState(!1),[b,v]=D.useState(!1),[_,w]=D.useState(""),[S,C]=D.useState(!1),T="BORRARTODO",[N,E]=D.useState("factura");D.useEffect(()=>{c(t)},[t]);const A=i.printConfigs[N],j=W=>{var re;const Y=(re=W.target.files)==null?void 0:re[0];if(Y){const we=new FileReader;we.onload=q=>{s(X=>{var ee;return{...X,logo:(ee=q.target)==null?void 0:ee.result}})},we.readAsDataURL(Y)}},M=W=>{const{name:Y,value:re,type:we}=W.target,q=W.target.checked;s(X=>({...X,[Y]:we==="checkbox"?q:re}))},P=W=>{const{name:Y,value:re,type:we}=W.target,q=W.target.checked;s(X=>({...X,arca:{...X.arca,[Y]:we==="checkbox"?q:re}}))},O=(W,Y)=>{s(re=>({...re,printConfigs:{...re.printConfigs,[N]:{...re.printConfigs[N],[W]:Y}}}))},R=(W,Y)=>{s(re=>({...re,printConfigs:{...re.printConfigs,[N]:{...re.printConfigs[N],margins:{...re.printConfigs[N].margins,[W]:Y}}}}))},z=()=>{d(!0),setTimeout(()=>{d(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},F=async()=>{y(!0);try{const Y=await f(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"]),re=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,we=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),q=URL.createObjectURL(we),X=document.createElement("a");X.href=q,X.download=re,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(q),alert("Backup de datos generado con xito.")}catch(W){console.error("Error al generar backup:",W),alert("Error al generar backup. Consulte la consola para ms detalles.")}finally{y(!1)}},$=async()=>{if(_!==T){alert("Contrasea de seguridad incorrecta.");return}v(!0),C(!1);try{const W=["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"];for(const Y of W)await h(Y);alert("Todos los datos han sido eliminados del sistema.")}catch(W){console.error("Error al eliminar todos los datos:",W),alert("Error al eliminar todos los datos. Consulte la consola para ms detalles.")}finally{v(!1),w("")}},B=()=>{let W=210,Y=297,re=1.2;switch(A.pageSize){case"A5":W=148,Y=210,re=1.6;break;case"A6":W=105,Y=148,re=2;break;case"80mm":W=80,Y=250,re=1.8;break}return A.orientation==="landscape"?{width:Y,height:W,scale:re*.8}:{width:W,height:Y,scale:re}},{width:V,height:H,scale:J}=B();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>c("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(QV,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>c("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(tF,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>c("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Sp,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>c("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Xy,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>c("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Np,{className:"w-5 h-5"})," Mdulos"]})]}),l==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Hn,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:i.name,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:i.cuit,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Condicin IVA"}),a.jsxs("select",{name:"ivaCondition",value:i.ivaCondition,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold bg-white",children:[a.jsx("option",{children:"Responsable Inscripto"}),a.jsx("option",{children:"Monotributista"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin"}),a.jsx("input",{name:"address",value:i.address,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[i.logo?a.jsx("img",{src:i.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx(QR,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var W;return(W=o.current)==null?void 0:W.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Tp,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:j})]})]})})]}),l==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(bF,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${i.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"}),a.jsxs("div",{className:"space-y-4 bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Certificado:"}),a.jsx("span",{className:"text-green-400 font-black",children:"VLIDO"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Vencimiento:"}),a.jsx("span",{className:"text-white font-bold",children:new Date(i.arca.crtValidUntil).toLocaleDateString()})]})]})]})]}),a.jsxs("button",{onClick:z,disabled:u,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(ef,{className:`w-6 h-6 ${u?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(rr,{className:"w-5 h-5 text-slate-300"})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Venta"}),a.jsx("input",{type:"number",name:"puntoVenta",value:i.arca.puntoVenta,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ingresos Brutos"}),a.jsx("input",{name:"iibb",value:i.arca.iibb,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-bold"})]})]})})})]})}),l==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(vF,{className:"w-4 h-4 text-purple-600"})," Comprobante a Configurar"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(W=>a.jsx("button",{onClick:()=>E(W),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${N===W?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:W},W))})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(uF,{className:"w-4 h-4 text-purple-600"})," Formato de Hoja"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tamao de Papel"}),a.jsxs("select",{value:A.pageSize,onChange:W=>O("pageSize",W.target.value),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-xl font-bold bg-white outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"A4",children:"A4 (Oficina)"}),a.jsx("option",{value:"A5",children:"A5 (Media Hoja)"}),a.jsx("option",{value:"A6",children:"A6 (1/4 A4 - Folleto)"}),a.jsx("option",{value:"80mm",children:"Ticket 80mm (Trmica)"}),a.jsx("option",{value:"58mm",children:"Ticket 58mm (Trmica)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Orientacin"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O("orientation","portrait"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="portrait"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Vertical"}),a.jsx("button",{onClick:()=>O("orientation","landscape"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="landscape"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Horizontal"})]})]})]})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(oF,{className:"w-4 h-4 text-purple-600"})," Mrgenes (mm)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["top","bottom","left","right"].map(W=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest capitalize",children:W}),a.jsx("input",{type:"number",value:A.margins[W],onChange:Y=>R(W,parseInt(Y.target.value)||0),className:"w-full px-4 py-2 border-2 border-slate-50 rounded-lg font-bold text-center outline-none focus:ring-2 focus:ring-purple-500"})]},W))})]})]}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(SF,{className:"w-6 h-6 text-purple-600"})," Informacin a Mostrar"]}),a.jsxs("div",{className:"space-y-4",children:[[{key:"showLogo",label:"Logo de Empresa"},{key:"showCuit",label:"CUIT y Datos Fiscales"},{key:"showAddress",label:"Domicilio Comercial"},{key:"showLegal",label:"Leyendas Legales / Pie"},{key:"showQr",label:"QR ARCA (Factura E)"},{key:"showPrices",label:"Mostrar Precios / Importes"}].map(W=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:W.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A[W.key],onChange:Y=>O(W.key,Y.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},W.key)),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nmero de Copias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"1",max:"5",value:A.copies,onChange:W=>O("copies",parseInt(W.target.value)),className:"flex-1 accent-purple-600"}),a.jsx("span",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-black",children:A.copies})]})]})]})]}),a.jsxs("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:[a.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 text-slate-400",children:[a.jsx(td,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest italic",children:["Simulacin: ",N]})]}),a.jsxs("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${V}px`,height:`${H}px`,transform:`scale(${J})`,paddingTop:`${A.margins.top/3}px`,paddingBottom:`${A.margins.bottom/3}px`,paddingLeft:`${A.margins.left/3}px`,paddingRight:`${A.margins.right/3}px`},children:[a.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[A.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),A.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]}),a.jsxs("div",{className:"text-[6px] font-black text-slate-300",children:["N ",N==="factura"?"0005-00001234":"RE-001234"]})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("div",{className:"w-full h-2 bg-slate-50 rounded"}),a.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[a.jsx("div",{className:"h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"h-1 bg-slate-100 rounded col-span-2"}),A.showPrices&&a.jsx("div",{className:"h-1 bg-slate-100 rounded text-right"})]}),[1,2,3,4,5].map(W=>a.jsxs("div",{className:"flex justify-between py-0.5 border-b border-slate-50 border-dotted",children:[a.jsx("div",{className:"w-20 h-1 bg-slate-50 rounded"}),A.showPrices&&a.jsx("div",{className:"w-4 h-1 bg-slate-50 rounded"})]},W))]}),a.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex flex-col gap-1 items-end",children:[A.showPrices&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"w-16 h-2 bg-purple-100 rounded"})]}),A.showQr&&a.jsx("div",{className:"w-6 h-6 bg-slate-900 self-start mt-1 rounded-sm flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full animate-pulse"})})]})]}),a.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center gap-1",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[A.pageSize,"  ",A.orientation==="portrait"?"Vertical":"Horizontal"]}),a.jsxs("button",{className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl opacity-0 group-hover:opacity-100 transition-all flex items-center gap-2",children:[a.jsx(Sp,{className:"w-4 h-4"})," Imprimir Prueba"]})]})]})]})})]}),l==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(rF,{className:"w-6 h-6 text-green-600"})," Exportar Datos (Backup)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Genera un archivo JSON con todos los datos de tu ferretera para guardarlo de forma segura."}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Este backup es un respaldo de datos. Para restaurar, se requerira una importacin manual o un proceso tcnico avanzado."})]})]}),a.jsxs("button",{onClick:F,disabled:x,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Xy,{className:"w-5 h-5"}),x?"Generando Backup...":"Generar Backup (JSON)"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(iF,{className:"w-6 h-6 text-red-600"})," Borrar Todos los Datos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Esta accin es **IRREVERSIBLE**. Eliminar todos los productos, clientes, proveedores, ventas, etc. de tu sistema."}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 flex items-start gap-4",children:[a.jsx(Di,{className:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:"ADVERTENCIA CRTICA:"}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"No hay marcha atrs. Asegrate de tener un backup reciente y de entender las consecuencias."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Confirmar con Contrasea de Seguridad"}),a.jsx("input",{type:"password",value:_,onChange:W=>w(W.target.value),placeholder:"Escribe 'BORRARTODO' para habilitar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-red-500 outline-none font-bold text-red-600",disabled:b})]}),a.jsxs("button",{onClick:()=>C(!0),disabled:_!==T||b,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-red-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(an,{className:"w-5 h-5"}),b?"Eliminando Datos...":"Borrar Todos los Datos"]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[150] flex items-center justify-center p-4 text-center",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl animate-in zoom-in duration-200",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/10",children:a.jsx(Di,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"ATENCIN! Eliminacin Irreversible"}),a.jsx("p",{className:"text-slate-500 font-medium mb-8 px-4",children:"Ests a punto de borrar **TODOS** los datos de tu empresa (productos, clientes, ventas, etc.). Esta accin no se puede deshacer. Ests absolutamente seguro?"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:$,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-red-600/20 hover:bg-red-500 transition-all",children:"S, ENTIENDO Y QUIERO BORRAR TODO"}),a.jsx("button",{onClick:()=>C(!1),className:"w-full py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-200 transition-all",children:"CANCELAR"})]})]})})]}),l==="system"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-left duration-500",children:r?a.jsxs("section",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Np,{className:"w-5 h-5 text-orange-500"})," Plan de Suscripcin Actual"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"basic",name:"Basic",price:"$15.000/mes",color:"bg-slate-50 border-slate-200"},{id:"premium",name:"Premium",price:"$25.000/mes",color:"bg-orange-50 border-orange-200"},{id:"enterprise",name:"Enterprise",price:"$45.000/mes",color:"bg-purple-50 border-purple-200"}].map(W=>a.jsxs("button",{onClick:()=>n(W.id),className:`p-6 rounded-2xl border-2 text-left transition-all group ${e===W.id?"ring-4 ring-orange-500/20 border-orange-500 "+W.color:"bg-white border-slate-100 opacity-60 hover:opacity-100"}`,children:[a.jsx("h4",{className:"font-bold text-xl text-slate-800",children:W.name}),a.jsx("p",{className:"text-slate-500 mb-4",children:W.price}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${e===W.id?"bg-orange-600 text-white":"bg-slate-200 text-slate-500"}`,children:e===W.id?"Activo":"Seleccionar"})]},W.id))})]}):a.jsxs("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center",children:[a.jsx(m1,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Control Restringido"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Solo administradores gestionan el plan."})]})}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada en FerroGest"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3 active:scale-95",children:[a.jsx(Nn,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})};var _fe={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Nfe,Sfe;function Efe(){return{geminiUrl:Nfe,vertexUrl:Sfe}}function Tfe(t,e,n,r){var i,s;if(!(t!=null&&t.baseUrl)){const o=Efe();return e?(i=o.vertexUrl)!==null&&i!==void 0?i:n:(s=o.geminiUrl)!==null&&s!==void 0?s:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qi{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let s=0;s<e.length-1;s++){const o=e[s];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(s+1),n[u])}else for(const u of c)g(u,e.slice(s+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(s+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const s=i.slice(0,-2);if(s in t){const o=t[s];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Afe(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),s=r.split("."),o=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&s.length>l)for(let c=l;c<s.length;c++){const u=s[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}Pb(t,i,s,0,o)}}function Pb(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const s=e[r];if(s.endsWith("[]")){const o=s.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])Pb(c,e,n,r+1,i)}else if(s==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!i.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;s in o&&Pb(o[s],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function k_(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kfe(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Cfe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],Pfe(o)),e}function jfe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],Ife(o)),e}function Pfe(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Rfe(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Ife(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>Mfe(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function Rfe(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],Ffe(n)),e}function Mfe(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],Ufe(n)),e}function Ofe(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Dfe(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function Lfe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],$fe(o)),e}function $fe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Z5(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],Vfe(o)),e}function Vfe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function Ffe(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],k_(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function Ufe(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],k_(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zk||(zk={}));var qk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(qk||(qk={}));var Gk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Gk||(Gk={}));var it;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(it||(it={}));var Hk;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hk||(Hk={}));var Wk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Wk||(Wk={}));var Kk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kk||(Kk={}));var Jk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Jk||(Jk={}));var Yk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Yk||(Yk={}));var Xk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Xk||(Xk={}));var Qk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Qk||(Qk={}));var Zk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Zk||(Zk={}));var eC;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(eC||(eC={}));var tC;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(tC||(tC={}));var nC;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(nC||(nC={}));var rC;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(rC||(rC={}));var iC;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(iC||(iC={}));var sC;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sC||(sC={}));var aC;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(aC||(aC={}));var oC;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(oC||(oC={}));var lC;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lC||(lC={}));var jm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(jm||(jm={}));var cC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(cC||(cC={}));var uC;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(uC||(uC={}));var dC;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(dC||(dC={}));var Ib;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ib||(Ib={}));var fC;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(fC||(fC={}));var hC;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(hC||(hC={}));var Rb;(function(t){t.COLLECTION="COLLECTION"})(Rb||(Rb={}));var pC;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(pC||(pC={}));var mC;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(mC||(mC={}));var gC;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(gC||(gC={}));var xC;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(xC||(xC={}));var yC;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(yC||(yC={}));var vC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(vC||(vC={}));var bC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(bC||(bC={}));var wC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wC||(wC={}));var _C;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_C||(_C={}));var NC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(NC||(NC={}));var SC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(SC||(SC={}));var EC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(EC||(EC={}));var TC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(TC||(TC={}));var AC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(AC||(AC={}));var kC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(kC||(kC={}));var CC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(CC||(CC={}));var jC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(jC||(jC={}));var PC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(PC||(PC={}));var IC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(IC||(IC={}));var RC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(RC||(RC={}));var MC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(MC||(MC={}));var OC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(OC||(OC={}));var DC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(DC||(DC={}));var LC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(LC||(LC={}));var $C;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})($C||($C={}));var VC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(VC||(VC={}));var FC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(FC||(FC={}));var Lo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class Mb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class eu{get text(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,y]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,s,o,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,s,o,l,c,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class UC{}class BC{}class Bfe{}class zfe{}class qfe{}class Gfe{}class zC{}class qC{}class GC{}class Hfe{}class Pm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Pm;let i;const s=e;return n?i=jfe(s):i=Cfe(s),Object.assign(r,i),r}}class HC{}class WC{}class KC{}class JC{}class Wfe{}class Kfe{}class Jfe{}class C_{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new C_,s=Lfe(e);return Object.assign(r,s),r}}class Yfe{}class Xfe{}class Qfe{}class YC{}class Zfe{get text(){var e,n,r;let i="",s=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;s=!0,i+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,n,r;let i="";const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&s.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(i+=atob(o.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ehe{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class j_{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new j_,s=Z5(e);return Object.assign(r,s),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function eD(t,e){const n=Ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function tD(t){return Array.isArray(t)?t.map(e=>Im(e)):[Im(t)]}function Im(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function nD(t){const e=Im(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function rD(t){const e=Im(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function iD(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>XC(e)):[XC(t)]}function Ob(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function QC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ZC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wn(t){if(t==null)throw new Error("ContentUnion is required");return Ob(t)?t:{role:"user",parts:iD(t)}}function P_(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wn(n)):[wn(e)]}function xr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(QC(t)||ZC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wn(t)]}const e=[],n=[],r=Ob(t[0]);for(const i of t){const s=Ob(i);if(s!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(QC(i)||ZC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:iD(n)}),e}function the(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(it).includes(n[0].toUpperCase())?n[0].toUpperCase():it.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(it).includes(r.toUpperCase())?r.toUpperCase():it.TYPE_UNSPECIFIED})}}function Xo(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&the(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(it).includes(l.toUpperCase())?l.toUpperCase():it.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=Xo(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(Xo(u))}e[o]=c}else if(i.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=Xo(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function I_(t){return Xo(t)}function R_(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function M_(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function pc(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xo(e.response));return t}function mc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function nhe(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Zi(t,e){if(typeof e!="string")throw new Error("name must be a string");return nhe(t,e,"cachedContents")}function sD(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ea(t){return k_(t)}function rhe(t){return t!=null&&typeof t=="object"&&"name"in t}function ihe(t){return t!=null&&typeof t=="object"&&"video"in t}function she(t){return t!=null&&typeof t=="object"&&"uri"in t}function aD(t){var e;let n;if(rhe(t)&&(n=t.name),!(she(t)&&(n=t.uri,n===void 0))&&!(ihe(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function oD(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function lD(t){for(const e of["models","tunedModels","publisherModels"])if(ahe(t,e))return t[e];return[]}function ahe(t,e){return t!==null&&typeof t=="object"&&e in t}function ohe(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function lhe(t,e={}){const n=[],r=new Set;for(const i of t){const s=i.name;if(r.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);r.add(s);const o=ohe(i,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function cD(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function che(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function uD(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let s=!1;for(const o of i){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function gc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function dD(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uhe(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>qhe(o))),g(e,["inlinedResponses"],s)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["inlinedEmbedContentResponses"],s)}return e}function dhe(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function fhe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dh(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],dD(i));const s=p(t,["metadata","createTime"]);s!=null&&g(e,["createTime"],s);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],uhe(uD(u))),e}function Db(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],dD(i));const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],hhe(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],dhe(uD(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function hhe(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function phe(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>zhe(t,o))),g(n,["requests","requests"],s)}return n}function mhe(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ghe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xhe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function yhe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function vhe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],bhe(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function bhe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function fD(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Xhe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function whe(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function _he(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],fhe(che(i))),n}function ej(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],phe(t,cD(t,i)));const s=p(e,["config"]);return s!=null&&whe(s,n),n}function Nhe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],mhe(cD(t,i)));const s=p(e,["config"]);return s!=null&&_he(s,n),n}function She(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Ehe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Ihe(t,i));const s=p(e,["config"]);return s!=null&&She(s,n),n}function The(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function Ahe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function khe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function Che(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);return s!=null&&g(e,["error"],s),e}function jhe(t,e){const n={},r=p(e,["contents"]);if(r!=null){let s=P_(t,r);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["requests[]","request","content"],s)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],Phe(i,n)),Afe(n,{"requests[].*":"requests[].request.*"})),n}function Phe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Ihe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],jhe(t,i)),n}function Rhe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Mhe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ohe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Dhe(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],fD(wn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],I_(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(z=>Qhe(z))),g(n,["safetySettings"],R)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let R=mc(C);Array.isArray(R)&&(R=R.map(z=>epe(pc(z)))),g(n,["tools"],R)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],Zhe(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],Zi(t,N));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],R_(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],Bhe(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Lhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>vhe(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function $he(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function Vhe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],gc(t,r)),n}function Fhe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Uhe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Bhe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function zhe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let l=xr(i);Array.isArray(l)&&(l=l.map(c=>fD(c))),g(n,["request","contents"],l)}const s=p(e,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],Dhe(t,o,p(n,["request"],{}))),n}function qhe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],Lhe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function Ghe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Hhe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),n}function Whe(t){const e={},n=p(t,["config"]);return n!=null&&Ghe(n,e),e}function Khe(t){const e={},n=p(t,["config"]);return n!=null&&Hhe(n,e),e}function Jhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Dh(o))),g(e,["batchJobs"],s)}return e}function Yhe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>Db(o))),g(e,["batchJobs"],s)}return e}function Xhe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],Rhe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Mhe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],ghe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Qhe(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Zhe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Ohe(r)),e}function epe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Fhe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Uhe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Bi||(Bi={}));class io{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,s;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(s=(i=o.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tpe extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Bi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=ej(this.apiClient,e),r=n._url,i=me("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const s=this.getGcsUri(e),o=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?r.dest=`${s.slice(0,-6)}/dest`:r.dest=`${s}_dest_${i}`;else if(o)r.dest=`${o}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Nhe(this.apiClient,e);return l=me("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Db(d))}else{const u=ej(this.apiClient,e);return l=me("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Dh(d))}}async createEmbeddingsInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ehe(this.apiClient,e);return s=me("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Dh(c))}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Vhe(this.apiClient,e);return l=me("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Db(d))}else{const u=$he(this.apiClient,e);return l=me("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Dh(d))}}async cancel(e){var n,r,i,s;let o="",l={};if(this.apiClient.isVertexAI()){const c=yhe(this.apiClient,e);o=me("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=xhe(this.apiClient,e);o=me("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Khe(e);return l=me("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Yhe(d),h=new YC;return Object.assign(h,f),h})}else{const u=Whe(e);return l=me("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Jhe(d),h=new YC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ahe(this.apiClient,e);return l=me("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Che(d))}else{const u=The(this.apiClient,e);return l=me("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>khe(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function npe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tj(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>Epe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function rpe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=xr(o);Array.isArray(d)&&(d=d.map(f=>tj(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],tj(wn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Ape(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Tpe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function ipe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=xr(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],wn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>kpe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function spe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],eD(t,r));const i=p(e,["config"]);return i!=null&&rpe(i,n),n}function ape(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],eD(t,r));const i=p(e,["config"]);return i!=null&&ipe(i,n),n}function ope(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zi(t,r)),n}function lpe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zi(t,r)),n}function cpe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function upe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dpe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function fpe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hpe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ppe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function mpe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zi(t,r)),n}function gpe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Zi(t,r)),n}function xpe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function ype(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function vpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function bpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function wpe(t){const e={},n=p(t,["config"]);return n!=null&&vpe(n,e),e}function _pe(t){const e={},n=p(t,["config"]);return n!=null&&bpe(n,e),e}function Npe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Spe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["cachedContents"],s)}return e}function Epe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],dpe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],fpe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],npe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Tpe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],hpe(r)),e}function Ape(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],xpe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],ype(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function kpe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>ppe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Cpe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function jpe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function Ppe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Zi(t,r));const i=p(e,["config"]);return i!=null&&Cpe(i,n),n}function Ipe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],Zi(t,r));const i=p(e,["config"]);return i!=null&&jpe(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rpe extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Bi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ape(this.apiClient,e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=spe(this.apiClient,e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=gpe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=mpe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=lpe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=upe(d),h=new KC;return Object.assign(h,f),h})}else{const u=ope(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=cpe(d),h=new KC;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ipe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Ppe(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=_pe(e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Spe(d),h=new JC;return Object.assign(h,f),h})}else{const u=wpe(e);return l=me("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Npe(d),h=new JC;return Object.assign(h,f),h})}}}function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nj(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(t){return this instanceof je?(this.v=t,this):new je(t)}function Lr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(x){return function(y){return Promise.resolve(y).then(x,f)}}function l(x,y){r[x]&&(i[x]=function(b){return new Promise(function(v,_){s.push([x,b,v,_])>1||c(x,b)})},y&&(i[x]=y(i[x])))}function c(x,y){try{u(r[x](y))}catch(b){h(s[0][3],b)}}function u(x){x.value instanceof je?Promise.resolve(x.value.v).then(d,f):h(s[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,y){x(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function $r(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nj=="function"?nj(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(l,c){o=t[s](o),i(l,c,o.done,o.value)})}}function i(s,o,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mpe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:hD(n)}function hD(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ope(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rj(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let s=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),s&&!hD(t[r])&&(s=!1),r++;s?e.push(...i):e.pop()}return e}class Dpe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Lpe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Lpe{constructor(e,n,r,i={},s=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),Ope(s)}async sendMessage(e){var n;await this.sendPromise;const r=wn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var s,o,l;const c=await i,u=(o=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=wn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,r)}getHistory(e=!1){const n=e?rj(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Lr(this,arguments,function*(){var i,s,o,l,c,u;const d=[];try{for(var f=!0,h=$r(e),x;x=yield je(h.next()),i=x.done,!i;f=!0){l=x.value,f=!1;const y=l;if(Mpe(y)){const b=(u=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield je(y)}}catch(y){s={error:y}}finally{try{!f&&!i&&(o=h.return)&&(yield je(o.call(h)))}finally{if(s)throw s.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(s=>s.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...rj(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ud extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ud.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $pe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function Vpe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Fpe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],aD(n)),e}function Upe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Bpe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],aD(n)),e}function zpe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function qpe(t){const e={},n=p(t,["config"]);return n!=null&&zpe(n,e),e}function Gpe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["files"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hpe extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Bi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=qpe(e);return s=me("files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Gpe(c),d=new Yfe;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$pe(e);return s=me("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Vpe(c),d=new Xfe;return Object.assign(d,u),d})}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Bpe(e);return s=me("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Fpe(e);return s=me("files/{file}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Upe(c),d=new Qfe;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lh(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Wpe(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>cme(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Kpe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Jpe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ype(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Xpe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const N=p(t,["topK"]);N!=null&&g(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Qpe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Zpe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function eme(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],M_(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],Wpe(wn(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let N=mc(b);Array.isArray(N)&&(N=N.map(E=>dme(pc(E)))),g(e,["setup","tools"],N)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],ume(v));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function tme(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],Xpe(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],M_(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],wn(y));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let E=mc(b);Array.isArray(E)&&(E=E.map(A=>fme(pc(A)))),g(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);e!==void 0&&T!=null&&g(e,["setup","proactivity"],T);const N=p(t,["explicitVadSignal"]);return e!==void 0&&N!=null&&g(e,["setup","explicitVadSignal"],N),n}function nme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],eme(i,n)),n}function rme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],tme(i,n)),n}function ime(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function sme(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function ame(t){const e={},n=p(t,["media"]);if(n!=null){let u=tD(n);Array.isArray(u)&&(u=u.map(d=>Lh(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Lh(rD(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],Lh(nD(s)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function ome(t){const e={},n=p(t,["media"]);if(n!=null){let u=tD(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],rD(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const s=p(t,["video"]);s!=null&&g(e,["video"],nD(s));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function lme(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const s=p(t,["toolCallCancellation"]);s!=null&&g(e,["toolCallCancellation"],s);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],hme(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],pme(d)),e}function cme(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],Kpe(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Jpe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Lh(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function ume(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function dme(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Qpe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Zpe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function fme(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Ype(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function hme(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const s=p(t,["toolUsePromptTokenCount"]);s!=null&&g(e,["toolUsePromptTokenCount"],s);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function pme(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mme(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function gme(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],xme(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const s=p(t,["finishReason"]);s!=null&&g(e,["finishReason"],s);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function xme(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function yme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let s=xr(i);Array.isArray(s)&&(s=s.map(o=>o)),g(n,["contents"],s)}return n}function vme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["tokensInfo"],i)}return e}function bme(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],wme(r)),e}function wme(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function s0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>jge(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function _me(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Nme(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Sme(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],wn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>xD(l))),g(e,["tools"],o)}const s=p(t,["generationConfig"]);return e!==void 0&&s!=null&&g(e,["generationConfig"],mge(s)),n}function Eme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(l=>s0(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Nme(s),n}function Tme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&Sme(s,n),n}function Ame(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function kme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Cme(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function jme(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function Pme(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Ime(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Rme(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const S=p(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function Mme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["referenceImages"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>Dge(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&Rme(o,n),n}function Ome(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>a0(s))),g(e,["generatedImages"],i)}return e}function Dme(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const s=p(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&g(e,["requests[]","outputDimensionality"],s),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Lme(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const s=p(t,["outputDimensionality"]);e!==void 0&&s!=null&&g(e,["parameters","outputDimensionality"],s);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function $me(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let l=P_(t,i);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const s=p(e,["config"]);s!=null&&Dme(s,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Ke(t,o)),n}function Vme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=P_(t,i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const s=p(e,["config"]);return s!=null&&Lme(s,n),n}function Fme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Ume(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>bme(o))),g(e,["embeddings"],s)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function Bme(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function zme(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qme(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gme(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hme(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const s=p(t,["parametersJsonSchema"]);s!=null&&g(e,["parametersJsonSchema"],s);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Wme(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],s0(wn(i)));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],I_(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(z=>Lge(z))),g(n,["safetySettings"],R)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let R=mc(C);Array.isArray(R)&&(R=R.map(z=>qge(pc(z)))),g(n,["tools"],R)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],zge(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],Zi(t,N));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],R_(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],bge(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function Kme(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],wn(i));const s=p(e,["temperature"]);s!=null&&g(r,["temperature"],s);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],I_(_));const w=p(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const S=p(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const T=p(e,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(V=>V)),g(n,["safetySettings"],B)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let B=mc(N);Array.isArray(B)&&(B=B.map(V=>xD(pc(V)))),g(n,["tools"],B)}const E=p(e,["toolConfig"]);n!==void 0&&E!=null&&g(n,["toolConfig"],E);const A=p(e,["labels"]);n!==void 0&&A!=null&&g(n,["labels"],A);const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],Zi(t,j));const M=p(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const P=p(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],R_(O));const R=p(e,["audioTimestamp"]);R!=null&&g(r,["audioTimestamp"],R);const z=p(e,["thinkingConfig"]);z!=null&&g(r,["thinkingConfig"],z);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],wge(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=p(e,["modelArmorConfig"]);return n!==void 0&&$!=null&&g(n,["modelArmorConfig"],$),r}function ij(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(l=>s0(l))),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],Wme(t,s,n)),n}function sj(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const s=p(e,["config"]);return s!=null&&g(n,["generationConfig"],Kme(t,s,n)),n}function aj(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>gme(u))),g(e,["candidates"],c)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function oj(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function Jme(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const s=p(t,["guidanceScale"]);if(e!==void 0&&s!=null&&g(e,["parameters","guidanceScale"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Yme(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const s=p(t,["numberOfImages"]);e!==void 0&&s!=null&&g(e,["parameters","sampleCount"],s);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const S=p(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function Xme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&Jme(s,n),n}function Qme(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["config"]);return s!=null&&Yme(s,n),n}function Zme(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>dge(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],mD(i)),e}function ege(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>a0(o))),g(e,["generatedImages"],s)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],gD(i)),e}function tge(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],o0(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>r0e(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function nge(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const s=p(t,["fps"]);e!==void 0&&s!=null&&g(e,["parameters","fps"],s);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&g(e,["parameters","generateAudio"],y);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Gr(b));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>i0e(C))),g(e,["instances[0]","referenceImages"],S)}const _=p(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],n0e(_));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function rge(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],oge(o)),e}function ige(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],lge(o)),e}function sge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],o0(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],yD(o));const l=p(e,["source"]);l!=null&&cge(l,n);const c=p(e,["config"]);return c!=null&&tge(c,n),n}function age(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],Gr(s));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],vD(o));const l=p(e,["source"]);l!=null&&uge(l,n);const c=p(e,["config"]);return c!=null&&nge(c,n),n}function oge(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>hge(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function lge(t){const e={},n=p(t,["videos"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(o=>pge(o))),g(e,["generatedVideos"],s)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function cge(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],o0(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],yD(s)),n}function uge(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Gr(i));const s=p(t,["video"]);return e!==void 0&&s!=null&&g(e,["instances[0]","video"],vD(s)),n}function dge(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],_ge(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],mD(i)),e}function a0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],pD(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],gD(i));const s=p(t,["prompt"]);return s!=null&&g(e,["enhancedPrompt"],s),e}function fge(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],pD(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(e,["labels"],i)}return e}function hge(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],e0e(n)),e}function pge(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],t0e(n)),e}function mge(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const s=p(t,["candidateCount"]);s!=null&&g(e,["candidateCount"],s);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const N=p(t,["topK"]);N!=null&&g(e,["topK"],N);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function gge(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function xge(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ke(t,r)),n}function yge(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function vge(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function bge(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function wge(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const s=p(t,["outputMimeType"]);s!=null&&g(e,["imageOutputOptions","mimeType"],s);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function _ge(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ea(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pD(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ea(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function o0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ea(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Gr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ea(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function Nge(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],oD(t,l)),r}function Sge(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const s=p(e,["pageToken"]);n!==void 0&&s!=null&&g(n,["_query","pageToken"],s);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],oD(t,l)),r}function Ege(t,e){const n={},r=p(e,["config"]);return r!=null&&Nge(t,r,n),n}function Tge(t,e){const n={},r=p(e,["config"]);return r!=null&&Sge(t,r,n),n}function Age(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=lD(i);Array.isArray(s)&&(s=s.map(o=>Lb(o))),g(e,["models"],s)}return e}function kge(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let s=lD(i);Array.isArray(s)&&(s=s.map(o=>$b(o))),g(e,["models"],s)}return e}function Cge(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function Lb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["version"]);s!=null&&g(e,["version"],s);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],Gge(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const y=p(t,["thinking"]);return y!=null&&g(e,["thinking"],y),e}function $b(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const s=p(t,["versionId"]);s!=null&&g(e,["version"],s);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Bme(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],Hge(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function jge(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],zme(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],qme(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],mme(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Pge(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Gr(n)),e}function Ige(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function Rge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["source"]);i!=null&&Oge(i,n);const s=p(e,["config"]);return s!=null&&Ige(s,n),n}function Mge(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>a0(i))),g(e,["generatedImages"],r)}return e}function Oge(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Gr(i));const s=p(t,["productImages"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Pge(l))),g(e,["instances[0]","productImages"],o)}return n}function Dge(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Gr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const s=p(t,["maskImageConfig"]);s!=null&&g(e,["maskImageConfig"],Cge(s));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],_me(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function mD(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function gD(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function Lge(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function $ge(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Gr(n)),e}function Vge(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const s=p(t,["confidenceThreshold"]);e!==void 0&&s!=null&&g(e,["parameters","confidenceThreshold"],s);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function Fge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["source"]);i!=null&&Bge(i,n);const s=p(e,["config"]);return s!=null&&Vge(s,n),n}function Uge(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fge(i))),g(e,["generatedMasks"],r)}return e}function Bge(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Gr(i));const s=p(t,["scribbleImage"]);return e!==void 0&&s!=null&&g(e,["instances[0]","scribble"],$ge(s)),n}function zge(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Gme(r)),e}function qge(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],yge(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],vge(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function xD(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const s=p(t,["enterpriseWebSearch"]);s!=null&&g(e,["enterpriseWebSearch"],s);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>Hme(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Gge(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function Hge(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function Wge(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function Kge(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const s=p(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&g(e,["defaultCheckpointId"],s),n}function Jge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Ke(t,r));const i=p(e,["config"]);return i!=null&&Wge(i,n),n}function Yge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&Kge(i,n),n}function Xge(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const s=p(t,["personGeneration"]);e!==void 0&&s!=null&&g(e,["parameters","personGeneration"],s);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function Qge(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ke(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Gr(i));const s=p(e,["upscaleFactor"]);s!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],s);const o=p(e,["config"]);return o!=null&&Xge(o,n),n}function Zge(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>a0(s))),g(e,["generatedImages"],i)}return e}function e0e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ea(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function t0e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ea(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function n0e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Gr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function r0e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],o0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function i0e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Gr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function yD(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ea(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function vD(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ea(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s0e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function a0e(t){const e={},n=p(t,["config"]);return n!=null&&s0e(n,e),e}function o0e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function l0e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&o0e(r,e),e}function c0e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function u0e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["customMetadata"],s)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function d0e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const s=p(t,["error"]);s!=null&&g(e,["error"],s);const o=p(t,["response"]);return o!=null&&g(e,["response"],h0e(o)),e}function f0e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&u0e(i,e),e}function h0e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function p0e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function m0e(t){const e={},n=p(t,["config"]);return n!=null&&p0e(n,e),e}function g0e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["fileSearchStores"],s)}return e}function bD(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const s=p(t,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function x0e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&bD(r,e),e}function y0e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v0e="Content-Type",b0e="X-Server-Timeout",w0e="User-Agent",Vb="x-goog-api-client",_0e="1.38.0",N0e=`google-genai-sdk/${_0e}`,S0e="v1beta1",E0e="v1beta";class T0e{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const s={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(s.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?s.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(s.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:S0e}else{if(!this.clientOptions.apiKey)throw new Ud({message:"API key must be set when using the Gemini API.",status:403});s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:E0e,s.baseUrl="https://generativelanguage.googleapis.com/"}s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Rb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))i.searchParams.append(o,String(l));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(n))typeof s=="object"?r[i]=Object.assign(Object.assign({},r[i]),s):s!==void 0&&(r[i]=s);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,n,i.toString(),e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const s=new AbortController,o=s.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>s.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{s.abort()}),e.signal=o}return n&&n.extraBody!==null&&A0e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lj(i),new Mb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await lj(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Lr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield je(i.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=s.decode(d,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const b=JSON.parse(JSON.stringify(y.error)),v=b.status,_=b.code,w=`got status: ${v}. ${JSON.stringify(y)}`;if(_>=400&&_<600)throw new Ud({message:w,status:_})}}catch(y){if(y.name==="ApiError")throw y}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const v of c){const _=o.indexOf(v);_!==-1&&(h===-1||_<h)&&(h=_,x=v.length)}if(h===-1)break;const y=o.substring(0,h);o=o.substring(h+x);const b=y.trim();if(b.startsWith(l)){const v=b.substring(l.length).trim();try{const _=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield je(new Mb(_))}catch(_){throw new Error(`exception parsing stream chunk ${v}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=N0e+" "+this.clientOptions.userAgentExtra;return e[w0e]=n,e[Vb]=n,e[v0e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,s]of Object.entries(e.headers))r.append(i,s);e.timeout&&e.timeout>0&&r.append(b0e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,o=await s.stat(e);i.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},u=this.getFileName(e),d=me("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,c,n==null?void 0:n.httpOptions);return s.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const s=this.clientOptions.uploader,o=await s.stat(n),l=String(o.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&bD(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return s.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,s,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(s),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function lj(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ud({message:i,status:n}):new Error(i)}}function A0e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))n=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(s,o){const l=Object.assign({},s);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k0e="mcp_used/unknown";let C0e=!1;function wD(t){for(const e of t)if(j0e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return C0e}function _D(t){var e;const n=(e=t[Vb])!==null&&e!==void 0?e:"";t[Vb]=(n+` ${k0e}`).trimStart()}function j0e(t){return t!==null&&typeof t=="object"&&t instanceof O_}function P0e(t){return Lr(this,arguments,function*(n,r=100){let i,s=0;for(;s<r;){const o=yield je(n.listTools({cursor:i}));for(const l of o.tools)yield yield je(l),s++;if(!o.nextCursor)break;i=o.nextCursor}})}class O_{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new O_(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const s={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,$r(P0e(d))),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const f=i;o.push(f);const h=f.name;if(s[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);s[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),lhe(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const o=await i.callTool({name:r.name,arguments:r.args},void 0,s);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function I0e(t,e,n){const r=new ehe;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class R0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),o=D0e(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},x=this.apiClient,y={onopen:h,onmessage:S=>{I0e(x,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(c,O0e(o),y);b.connect(),await d;const w={setup:{model:Ke(this.apiClient,e.model)}};return b.send(JSON.stringify(w)),new M0e(b,this.apiClient)}}class M0e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=sme(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=ime(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function O0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function D0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L0e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $0e(t,e,n){const r=new Zfe;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const s=JSON.parse(i);if(t.isVertexAI()){const o=lme(s);Object.assign(r,o)}else Object.assign(r,s);e(r)}class V0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new R0e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,s,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&wD(e.config.tools)&&_D(f);const h=z0e(f);if(this.apiClient.isVertexAI()){const j=this.apiClient.getProject(),M=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),O=!!j&&!!M||!!P;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const j=this.apiClient.getApiKey();let M="BidiGenerateContent",P="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${P}=${j}`}let x=()=>{};const y=new Promise(j=>{x=j}),b=e.callbacks,v=function(){var j;(j=b==null?void 0:b.onopen)===null||j===void 0||j.call(b),x({})},_=this.apiClient,w={onopen:v,onmessage:j=>{$0e(_,b.onmessage,j)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(j){}},S=this.webSocketFactory.create(d,B0e(h),w);S.connect(),await y;let C=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const j=this.apiClient.getProject(),M=this.apiClient.getLocation();j&&M&&(C=`projects/${j}/locations/${M}/`+C)}let T={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[jm.AUDIO]}:e.config.responseModalities=[jm.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const N=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],E=[];for(const j of N)if(this.isCallableTool(j)){const M=j;E.push(await M.tool())}else E.push(j);E.length>0&&(e.config.tools=E);const A={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=rme(this.apiClient,A):T=nme(this.apiClient,A),delete T.config,S.send(JSON.stringify(T)),new U0e(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const F0e={turnComplete:!0};class U0e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xr(n.turns),e.isVertexAI()||(r=r.map(i=>s0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const s of r){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(L0e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},F0e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ome(e)}:n={realtimeInput:ame(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function B0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function z0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cj=10;function uj(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Qo(o)){i=!0;break}if(!i)return!0;const s=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Qo(t){return"callTool"in t&&typeof t.callTool=="function"}function q0e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Qo(i)))!==null&&r!==void 0?r:!1}function dj(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Qo(r))return;const s=r;s.functionDeclarations&&s.functionDeclarations.length>0&&n.push(i)}),n}function fj(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G0e extends Qi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,s,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!q0e(n)||uj(n.config))return await this.generateContentInternal(c);const u=dj(n);if(u.length>0){const b=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,f;const h=xr(c.contents),x=(s=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:cj;let y=0;for(;y<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,v=[];for(const _ of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Qo(_)){const S=await _.callTool(d.functionCalls);v.push(...S)}y++,f={role:"user",parts:v},c.contents=xr(c.contents),c.contents.push(b),c.contents.push(f),fj(c.config)&&(h.push(b),h.push(f))}return fj(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,s,o,l;if(this.maybeMoveToResponseJsonSchem(n),uj(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=dj(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(s=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||s===void 0?void 0:s.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let s;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:o.push(c);let l;return s?l={generatedImages:o,positivePromptSafetyAttributes:s,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new io(Bi.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,s,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(s=n.source)===null||s===void 0?void 0:s.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const s=(n=e.config)===null||n===void 0?void 0:n.tools;if(!s)return e;const o=await Promise.all(s.map(async c=>Qo(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&wD(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),_D(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,i;const s=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Qo(o)){const l=o,c=await l.tool();for(const u of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(s.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);s.set(u.name,l)}}return s}async processAfcStream(e){var n,r,i;const s=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:cj;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return Lr(this,arguments,function*(){for(var h,x,y,b,v,_;l<s;){o&&(l++,o=!1);const T=yield je(u.processParamsMaybeAddMcpUsage(f)),N=yield je(u.generateContentStreamInternal(T)),E=[],A=[];try{for(var w=!0,S=(x=void 0,$r(N)),C;C=yield je(S.next()),h=C.done,!h;w=!0){b=C.value,w=!1;const j=b;if(yield yield je(j),j.candidates&&(!((v=j.candidates[0])===null||v===void 0)&&v.content)){A.push(j.candidates[0].content);for(const M of(_=j.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(l<s&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const P=yield je(d.get(M.functionCall.name).callTool([M.functionCall]));E.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(j){x={error:j}}finally{try{!w&&!h&&(y=S.return)&&(yield je(y.call(S)))}finally{if(x)throw x.error}}if(E.length>0){o=!0;const j=new eu;j.candidates=[{content:{role:"user",parts:E}}],yield yield je(j);const M=[];M.push(...A),M.push({role:"user",parts:E});const P=xr(f.contents).concat(M);f.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=sj(this.apiClient,e);return l=me("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=oj(d),h=new eu;return Object.assign(h,f),h})}else{const u=ij(this.apiClient,e);return l=me("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=aj(d),h=new eu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=sj(this.apiClient,e);return l=me("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Lr(this,arguments,function*(){var h,x,y,b;try{for(var v=!0,_=$r(f),w;w=yield je(_.next()),h=w.done,!h;v=!0){b=w.value,v=!1;const S=b,C=oj(yield je(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new eu;Object.assign(T,C),yield yield je(T)}}catch(S){x={error:S}}finally{try{!v&&!h&&(y=_.return)&&(yield je(y.call(_)))}finally{if(x)throw x.error}}})})}else{const u=ij(this.apiClient,e);return l=me("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),o.then(function(f){return Lr(this,arguments,function*(){var h,x,y,b;try{for(var v=!0,_=$r(f),w;w=yield je(_.next()),h=w.done,!h;v=!0){b=w.value,v=!1;const S=b,C=aj(yield je(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new eu;Object.assign(T,C),yield yield je(T)}}catch(S){x={error:S}}finally{try{!v&&!h&&(y=_.return)&&(yield je(y.call(_)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Vme(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ume(d),h=new UC;return Object.assign(h,f),h})}else{const u=$me(this.apiClient,e);return l=me("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Fme(d),h=new UC;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Qme(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ege(d),h=new BC;return Object.assign(h,f),h})}else{const u=Xme(this.apiClient,e);return l=me("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Zme(d),h=new BC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Mme(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Ome(c),d=new Bfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Qge(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=Zge(c),d=new zfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Rge(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Mge(c),d=new qfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=Fge(this.apiClient,e);return s=me("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=Uge(c),d=new Gfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=xge(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$b(d))}else{const u=gge(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Lb(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Tge(this.apiClient,e);return l=me("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=kge(d),h=new zC;return Object.assign(h,f),h})}else{const u=Ege(this.apiClient,e);return l=me("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Age(d),h=new zC;return Object.assign(h,f),h})}}async update(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Yge(this.apiClient,e);return l=me("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$b(d))}else{const u=Jge(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>Lb(d))}}async delete(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=jme(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ime(d),h=new qC;return Object.assign(h,f),h})}else{const u=Cme(this.apiClient,e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Pme(d),h=new qC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Tme(this.apiClient,e);return l=me("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=kme(d),h=new GC;return Object.assign(h,f),h})}else{const u=Eme(this.apiClient,e);return l=me("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Ame(d),h=new GC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=yme(this.apiClient,e);return s=me("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>{const u=vme(c),d=new Hfe;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=age(this.apiClient,e);return l=me("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=ige(d),h=new Pm;return Object.assign(h,f),h})}else{const u=sge(this.apiClient,e);return l=me("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o.then(d=>{const f=rge(d),h=new Pm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H0e extends Qi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let s;r&&"httpOptions"in r&&(s=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:s}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Dfe(e);return l=me("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=Ofe(e);return l=me("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=kfe(e);return s=me("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W0e(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function K0e(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>rxe(s))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function J0e(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const s=p(e,["newSessionExpireTime"]);n!==void 0&&s!=null&&g(n,["newSessionExpireTime"],s);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],nxe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function Y0e(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],J0e(t,r,n)),n}function X0e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Q0e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Z0e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function exe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function txe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const s=p(t,["temperature"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","temperature"],s);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],M_(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],K0e(wn(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let N=mc(b);Array.isArray(N)&&(N=N.map(E=>sxe(pc(E)))),g(e,["setup","tools"],N)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],ixe(v));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function nxe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ke(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],txe(i,n)),n}function rxe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const s=p(t,["fileData"]);s!=null&&g(e,["fileData"],X0e(s));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Q0e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],W0e(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function ixe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function sxe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=p(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Z0e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],exe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function axe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(s=>`${n}.${s}`);e.push(...i)}else e.push(n)}return e.join(",")}function oxe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const s=r.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,n=s):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const s=axe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];s&&c.push(s),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class lxe extends Qi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=Y0e(this.apiClient,e);s=me("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=oxe(l,e.config);return i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cxe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function uxe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&cxe(r,e),e}function dxe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function fxe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function hxe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&fxe(r,e),e}function pxe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>o)),g(e,["documents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mxe extends Qi{constructor(e){super(),this.apiClient=e,this.list=async n=>new io(Bi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dxe(e);return s=me("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uxe(e);i=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=hxe(e);return s=me("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=pxe(c),d=new Wfe;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gxe extends Qi{constructor(e,n=new mxe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new io(Bi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=a0e(e);return s=me("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=c0e(e);return s=me("{name}",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=l0e(e);i=me("{name}",o._url),s=o._query,delete o._url,delete o._query,await this.apiClient.request({path:i,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=m0e(e);return s=me("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=g0e(c),d=new Kfe;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=x0e(e);return s=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=y0e(c),d=new Jfe;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=f0e(e);return s=me("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const u=d0e(c),d=new C_;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ND=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return ND=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const xxe=()=>ND();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fb(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ub=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wr extends Error{}class On extends wr{constructor(e,n,r,i){super(`${On.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new l0({message:r,cause:Ub(n)});const s=n;return e===400?new ED(e,s,r,i):e===401?new TD(e,s,r,i):e===403?new AD(e,s,r,i):e===404?new kD(e,s,r,i):e===409?new CD(e,s,r,i):e===422?new jD(e,s,r,i):e===429?new PD(e,s,r,i):e>=500?new ID(e,s,r,i):new On(e,s,r,i)}}class Bb extends On{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class l0 extends On{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class SD extends l0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ED extends On{}class TD extends On{}class AD extends On{}class kD extends On{}class CD extends On{}class jD extends On{}class PD extends On{}class ID extends On{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yxe=/^[a-z][a-z0-9+.-]*:/i,vxe=t=>yxe.test(t);let zb=t=>(zb=Array.isArray,zb(t));const bxe=zb;let wxe=bxe;const hj=wxe;function _xe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Nxe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Sxe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new wr(`${t} must be an integer`);if(e<0)throw new wr(`${t} must be a positive integer`);return e},Exe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Txe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Axe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const kxe=()=>{var t,e,n,r,i;const s=Axe();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":mj(Deno.build.os),"X-Stainless-Arch":pj(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":mj((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":pj((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const o=Cxe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Cxe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,s=r[2]||0,o=r[3]||0;return{browser:e,version:`${i}.${s}.${o}`}}}return null}const pj=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",mj=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let dh;const jxe=()=>dh??(dh=kxe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pxe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function RD(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Ixe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return RD({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function MD(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function Rxe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mxe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OD=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function zx(t,e,n){return OD(),new File(t,e??"unknown_file",n)}function Oxe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Dxe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DD=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",Lxe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&DD(t),$xe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function Vxe(t,e,n){if(OD(),t=await t,Lxe(t))return t instanceof File?t:zx([await t.arrayBuffer()],t.name);if($xe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),zx(await qb(i),e,n)}const r=await qb(t);if(e||(e=Oxe(t)),!(n!=null&&n.type)){const i=r.find(s=>typeof s=="object"&&"type"in s&&s.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return zx(r,e,n)}async function qb(t){var e,n,r,i,s;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(DD(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(Dxe(t))try{for(var l=!0,c=$r(t),u;u=await c.next(),e=u.done,!e;l=!0){i=u.value,l=!1;const d=i;o.push(...await qb(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${Fxe(t)}`)}return o}function Fxe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LD{constructor(e){this._client=e}}LD._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $D(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const gj=Object.freeze(Object.create(null)),Uxe=(t=$D)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const s=[],o=n.reduce((d,f,h)=>{var x,y,b;/[?#]/.test(f)&&(i=!0);const v=r[h];let _=(i?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((b=Object.getPrototypeOf((y=Object.getPrototypeOf((x=v.hasOwnProperty)!==null&&x!==void 0?x:gj))!==null&&y!==void 0?y:gj))===null||b===void 0?void 0:b.toString))&&(_=v+"",s.push({start:d.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":_)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)s.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(s.sort((d,f)=>d.start-f.start),s.length>0){let d=0;const f=s.reduce((h,x)=>{const y=" ".repeat(x.start-d),b="^".repeat(x.length);return d=x.start+x.length,h+y+b},"");throw new wr(`Path parameters result in path with invalid segments:
${s.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},fh=Uxe($D);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VD extends LD{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,s=Rm(e,["api_version"]);if("model"in s&&"agent_config"in s)throw new wr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in s&&"generation_config"in s)throw new wr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(fh`/${i}/interactions`,Object.assign(Object.assign({body:s},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(fh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(fh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const s=n??{},{api_version:o=this._client.apiVersion}=s,l=Rm(s,["api_version"]);return this._client.get(fh`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}VD._key=Object.freeze(["interactions"]);class FD extends VD{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bxe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let hh;function D_(t){let e;return(hh??(e=new globalThis.TextEncoder,hh=e.encode.bind(e)))(t)}let ph;function xj(t){let e;return(ph??(e=new globalThis.TextDecoder,ph=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?D_(e):e;this.buffer=Bxe([this.buffer,n]);const r=[];let i;for(;(i=zxe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(xj(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const s=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,o=xj(this.buffer.subarray(0,s));r.push(o),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}c0.NEWLINE_CHARS=new Set([`
`,"\r"]);c0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function zxe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function qxe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mm={off:0,error:200,warn:300,info:400,debug:500},yj=(t,e,n)=>{if(t){if(Nxe(Mm,t))return t;An(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Mm))}`)}};function uu(){}function mh(t,e,n){return!e||Mm[t]>Mm[n]?uu:e[t].bind(e)}const Gxe={error:uu,warn:uu,info:uu,debug:uu};let vj=new WeakMap;function An(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return Gxe;const i=vj.get(n);if(i&&i[0]===r)return i[1];const s={error:mh("error",n,r),warn:mh("warn",n,r),info:mh("info",n,r),debug:mh("debug",n,r)};return vj.set(n,[r,s]),s}const ha=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $o{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const s=r?An(r):console;function o(){return Lr(this,arguments,function*(){var c,u,d,f;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var x=!0,y=$r(Hxe(e,n)),b;b=yield je(y.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield je(JSON.parse(v.data))}catch(_){throw s.error("Could not parse message into JSON:",v.data),s.error("From chunk:",v.raw),_}}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=y.return)&&(yield je(d.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Fb(v))return yield je(void 0);throw v}finally{h||n.abort()}})}return new $o(o,n,r)}static fromReadableStream(e,n,r){let i=!1;function s(){return Lr(this,arguments,function*(){var c,u,d,f;const h=new c0,x=MD(e);try{for(var y=!0,b=$r(x),v;v=yield je(b.next()),c=v.done,!c;y=!0){f=v.value,y=!1;const _=f;for(const w of h.decode(_))yield yield je(w)}}catch(_){u={error:_}}finally{try{!y&&!c&&(d=b.return)&&(yield je(d.call(b)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield je(_)})}function o(){return Lr(this,arguments,function*(){var c,u,d,f;if(i)throw new wr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var x=!0,y=$r(s()),b;b=yield je(y.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const v=f;h||v&&(yield yield je(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=y.return)&&(yield je(d.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Fb(v))return yield je(void 0);throw v}finally{h||n.abort()}})}return new $o(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=s=>({next:()=>{if(s.length===0){const o=r.next();e.push(o),n.push(o)}return s.shift()}});return[new $o(()=>i(e),this.controller,this.client),new $o(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return RD({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:s}=await n.next();if(s)return r.close();const o=D_(JSON.stringify(i)+`
`);r.enqueue(o)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Hxe(t,e){return Lr(this,arguments,function*(){var r,i,s,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new wr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new wr("Attempted to iterate over a response with no body");const l=new Kxe,c=new c0,u=MD(t.body);try{for(var d=!0,f=$r(Wxe(u)),h;h=yield je(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const y of c.decode(x)){const b=l.decode(y);b&&(yield yield je(b))}}}catch(x){i={error:x}}finally{try{!d&&!r&&(s=f.return)&&(yield je(s.call(f)))}finally{if(i)throw i.error}}for(const x of c.flush()){const y=l.decode(x);y&&(yield yield je(y))}})}function Wxe(t){return Lr(this,arguments,function*(){var n,r,i,s;let o=new Uint8Array;try{for(var l=!0,c=$r(t),u;u=yield je(c.next()),n=u.done,!n;l=!0){s=u.value,l=!1;const d=s;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?D_(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=qxe(o))!==-1;)yield yield je(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(i=c.return)&&(yield je(i.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield je(o))})}class Kxe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const s={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],s}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Jxe(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Jxe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Yxe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:s}=e,o=await(async()=>{var l;if(e.options.stream)return An(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):$o.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return An(t).debug(`[${r}] response parsed`,ha({retryOfRequestLogID:i,url:n.url,status:n.status,body:o,durationMs:Date.now()-s})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L_ extends Promise{constructor(e,n,r=Yxe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new L_(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UD=Symbol("brand.privateNullableHeaders");function*Xxe(t){if(!t)return;if(UD in t){const{values:r,nulls:i}=t;yield*r.entries();for(const s of i)yield[s,null];return}let e=!1,n;t instanceof Headers?n=t.entries():hj(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const s=hj(r[1])?r[1]:[r[1]];let o=!1;for(const l of s)l!==void 0&&(e&&!o&&(o=!0,yield[i,null]),yield[i,l])}}const tu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[s,o]of Xxe(r)){const l=s.toLowerCase();i.has(l)||(e.delete(s),i.add(l)),o===null?(e.delete(s),n.add(l)):(e.append(s,o),n.delete(l))}}return{[UD]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qx=t=>{var e,n,r,i,s,o;if(typeof globalThis.process<"u")return(r=(n=(e=_fe)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(s=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||s===void 0?void 0:s.call(i,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var BD;class u0{constructor(e){var n,r,i,s,o,l,c,{baseURL:u=qx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=qx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Rm(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:u0.DEFAULT_TIMEOUT,this.logger=(i=x.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(o=(s=yj(x.logLevel,"ClientOptions.logLevel",this))!==null&&s!==void 0?s:yj(qx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:y,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:Pxe(),this.encoder=Mxe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=tu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return tu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return tu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new wr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${mo}`}defaultIdempotencyKey(){return`stainless-node-retry-${xxe()}`}makeStatusError(e,n,r,i){return On.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,s=vxe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return _xe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new L_(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,s,o;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(An(this).debug(`[${h}] sending request`,ha({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((s=l.signal)===null||s===void 0)&&s.aborted)throw new Bb;const b=new AbortController,v=await this.fetchWithTimeout(d,u,f,b).catch(Ub),_=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new Bb;const C=Fb(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return An(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${S}`),An(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${S})`,ha({retryOfRequestLogID:r,url:d,durationMs:_-y,message:v.message})),this.retryRequest(l,n,r??h);throw An(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),An(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,ha({retryOfRequestLogID:r,url:d,durationMs:_-y,message:v.message})),C?new SD:new l0({cause:v})}const w=`[${h}${x}] ${u.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${_-y}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const j=`retrying, ${n} attempts remaining`;return await Rxe(v.body),An(this).info(`${w} - ${j}`),An(this).debug(`[${h}] response error (${j})`,ha({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:_-y})),this.retryRequest(l,n,r??h,v.headers)}const C=S?"error; no more retries left":"error; not retryable";An(this).info(`${w} - ${C}`);const T=await v.text().catch(j=>Ub(j).message),N=Exe(T),E=N?void 0:T;throw An(this).debug(`[${h}] response error (${C})`,ha({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:E,durationMs:Date.now()-y})),this.makeStatusError(v.status,N,E,v.headers)}return An(this).info(w),An(this).debug(`[${h}] response start`,ha({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:_-y})),{response:v,options:l,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const s=n||{},{signal:o,method:l}=s,c=Rm(s,["signal","method"]);o&&o.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var s;let o;const l=i==null?void 0:i.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=i==null?void 0:i.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(s=e.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Txe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const s=n-e,o=Math.min(.5*Math.pow(2,s),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,s;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&Sxe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),y=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:y},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(s=o.fetchOptions)!==null&&s!==void 0?s:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let s={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=tu([s,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),jxe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=tu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Ixe(e)}:this.encoder({body:e,headers:r})}}u0.DEFAULT_TIMEOUT=6e4;class Xt extends u0{constructor(){super(...arguments),this.interactions=new FD(this)}}BD=Xt;Xt.GeminiNextGenAPIClient=BD;Xt.GeminiNextGenAPIClientError=wr;Xt.APIError=On;Xt.APIConnectionError=l0;Xt.APIConnectionTimeoutError=SD;Xt.APIUserAbortError=Bb;Xt.NotFoundError=kD;Xt.ConflictError=CD;Xt.RateLimitError=PD;Xt.BadRequestError=ED;Xt.AuthenticationError=TD;Xt.InternalServerError=ID;Xt.PermissionDeniedError=AD;Xt.UnprocessableEntityError=jD;Xt.toFile=Vxe;Xt.Interactions=FD;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qxe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function Zxe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function eye(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function tye(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function nye(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const s=p(t,["epochCount"]);e!==void 0&&s!=null&&g(e,["tuningTask","hyperparameters","epochCount"],s);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function rye(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],bj(x))}else if(i==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],bj(x))}const s=p(t,["tunedModelDisplayName"]);e!==void 0&&s!=null&&g(e,["tunedModelDisplayName"],s);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function iye(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&mye(s);const o=p(t,["config"]);return o!=null&&nye(o,n),n}function sye(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const s=p(t,["trainingDataset"]);s!=null&&gye(s,n,e);const o=p(t,["config"]);return o!=null&&rye(o,n,e),n}function aye(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function oye(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function lye(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function cye(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function uye(t,e){const n={},r=p(t,["config"]);return r!=null&&lye(r,n),n}function dye(t,e){const n={},r=p(t,["config"]);return r!=null&&cye(r,n),n}function fye(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>zD(l))),g(n,["tuningJobs"],o)}return n}function hye(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const s=p(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Gb(l))),g(n,["tuningJobs"],o)}return n}function pye(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function mye(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(s=>s)),g(n,["examples","examples"],i)}return n}function gye(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function zD(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],sD(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],pye(h)),n}function Gb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["state"]);s!=null&&g(n,["state"],sD(s));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const y=p(t,["preTunedModel"]);y!=null&&g(n,["preTunedModel"],y);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const _=p(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const w=p(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const S=p(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const T=p(t,["experiment"]);T!=null&&g(n,["experiment"],T);const N=p(t,["labels"]);N!=null&&g(n,["labels"],N);const E=p(t,["outputUri"]);E!=null&&g(n,["outputUri"],E);const A=p(t,["pipelineJob"]);A!=null&&g(n,["pipelineJob"],A);const j=p(t,["serviceAccount"]);j!=null&&g(n,["serviceAccount"],j);const M=p(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const P=p(t,["veoTuningSpec"]);return P!=null&&g(n,["veoTuningSpec"],P),n}function xye(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const s=p(t,["metadata"]);s!=null&&g(n,["metadata"],s);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function bj(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yye extends Qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new io(Bi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const s=Object.assign(Object.assign({},n),{preTunedModel:i});return s.baseModel=void 0,await this.tuneInternal(s)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),s=await this.tuneMldevInternal(i);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:Ib.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=oye(e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Gb(d))}else{const u=aye(e);return l=me("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>zD(d))}}async listInternal(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=dye(e);return l=me("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=hye(d),h=new HC;return Object.assign(h,f),h})}else{const u=uye(e);return l=me("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=fye(d),h=new HC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,s;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Zxe(e);return l=me("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=tye(d),h=new WC;return Object.assign(h,f),h})}else{const u=Qxe(e);return l=me("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=eye(d),h=new WC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI()){const l=sye(e,e);return s=me("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>Gb(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,s="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=iye(e);return s=me("tunedModels",l._url),o=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),i.then(c=>xye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vye{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const bye=1024*1024*8,wye=3,_ye=1e3,Nye=2,Om="x-goog-upload-status";async function Sye(t,e,n){var r;const i=await qD(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return s.file}async function Eye(t,e,n){var r;const i=await qD(t,e,n),s=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Z5(s),l=new j_;return Object.assign(l,o),l}async function qD(t,e,n){var r,i;let s=0,o=0,l=new Mb(new Response),c="upload";for(s=t.size;o<s;){const u=Math.min(bye,s-o),d=t.slice(o,o+u);o+u>=s&&(c+=", finalize");let f=0,h=_ye;for(;f<wye&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Om]));)f++,await Aye(h),h=h*Nye;if(o+=u,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Om])!=="active")break;if(s<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function Tye(t){return{size:t.size,type:t.type}}function Aye(t){return new Promise(e=>setTimeout(e,t))}class kye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Sye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Eye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Tye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cye{create(e,n,r){return new jye(e,n,r)}}class jye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wj="x-goog-api-key";class Pye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(wj)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wj,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iye="gl-node/";class $_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Xt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Tfe(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new Pye(this.apiKey);this.apiClient=new T0e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Iye+"web",uploader:new kye,downloader:new vye}),this.models=new G0e(this.apiClient),this.live=new V0e(this.apiClient,i,new Cye),this.batches=new tpe(this.apiClient),this.chats=new Dpe(this.models,this.apiClient),this.caches=new Rpe(this.apiClient),this.files=new Hpe(this.apiClient),this.operations=new H0e(this.apiClient),this.authTokens=new lxe(this.apiClient),this.tunings=new yye(this.apiClient),this.fileSearchStores=new gxe(this.apiClient)}}var Rye={};const Mye=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=At(),[i,s]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=D.useMemo(()=>{const v=e.reduce((w,S)=>w+S.stock*S.costPrice,0),_=n.reduce((w,S)=>w+(S.balance>0?S.balance:0),0);return v+_+25e5},[e,n]),x=D.useMemo(()=>r.reduce((v,_)=>v+Math.abs(_.balance<0?_.balance:0),0),[r]),y=h-x,b=async()=>{l(!0);try{const v=new $_({apiKey:Rye.API_KEY}),_=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${h}, 
      Pasivos: $${x}, 
      Patrimonio Neto: $${y}. 
      Ventas proyectadas mes: $6M. 
      Dame un anlisis de solvencia y 3 recomendaciones estratgicas para mejorar el flujo de caja.`,w=await v.models.generateContent({model:"gemini-3-flash-preview",contents:_});u(w.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA. Verifique conexin.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:rd},{id:"cashflow",label:"Cash Flow",icon:O2},{id:"breakeven",label:"Punto de Equilibrio",icon:xp},{id:"accounting",label:"Libro Diario",icon:Hn}].map(v=>a.jsxs("button",{onClick:()=>s(v.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${i===v.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",h.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Li,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(bp,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(aM,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(oM,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",y.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(O2,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(Mn,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(Fr,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(xF,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),i==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Fr,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]}),a.jsxs("select",{className:"bg-slate-50 border-none text-xs font-bold rounded-xl px-4 py-2 outline-none",children:[a.jsx("option",{children:"ltimos 6 meses"}),a.jsx("option",{children:"Ao 2024"})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx(Tu,{width:"100%",height:"100%",children:a.jsxs(X5,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx($d,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Bs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(zs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx($n,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(Ur,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(Ur,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(XV,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Auditor de IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Analizo en tiempo real tu estructura de costos, stock y deuda para darte proyecciones de flujo de caja."}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(ef,{className:"w-4 h-4"}),o?"Analizando...":"Generar Reporte IA"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Desglose de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx(Tu,{width:"100%",height:"100%",children:a.jsxs(ife,{children:[a.jsx(Xi,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((v,_)=>a.jsx(Mg,{fill:v.color},`cell-${_}`))}),a.jsx($n,{})]})})}),a.jsx("div",{className:"space-y-2",children:f.map(v=>a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),a.jsx("span",{className:"text-slate-600",children:v.name})]}),a.jsxs("span",{className:"text-slate-900",children:[v.value,"%"]})]},v.name))})]})]})]}),i==="cashflow"&&a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx(Tu,{width:"100%",height:"100%",children:a.jsxs(Y5,{data:d,children:[a.jsx($d,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(Bs,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(zs,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx($n,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(ka,{iconType:"circle"}),a.jsx(Dr,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(Dr,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(Dr,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-green-50 p-8 rounded-[2.5rem] border border-green-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-green-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(HV,{className:"w-5 h-5"})," Principales Ingresos"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Ventas de Mostrador",amount:45e5,color:"bg-green-500"},{cat:"Cobranza Cta. Cte.",amount:12e5,color:"bg-green-400"},{cat:"Intereses / Otros",amount:3e5,color:"bg-green-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-green-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/6e6*100}%`}})})]},v.cat))})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-red-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Li,{className:"w-5 h-5"})," Principales Salidas"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Pagos a Proveedores",amount:38e5,color:"bg-red-500"},{cat:"Sueldos y Cargas",amount:5e5,color:"bg-red-400"},{cat:"Gastos de Estructura",amount:2e5,color:"bg-red-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-red-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-red-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/45e5*100}%`}})})]},v.cat))})]})]})]}),i==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales (Alquiler, Sueldos, Luz)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Contribucin Promedio (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx(y1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:35,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-bold text-blue-800 leading-relaxed",children:"El punto de equilibrio se calcula dividiendo tus costos fijos por el porcentaje de margen de contribucin. Mantener tus costos fijos bajos es la clave para reducir el riesgo operativo de tu ferretera."})]})]}),a.jsx("div",{className:"hidden md:block w-px bg-slate-100"}),a.jsxs("div",{className:"w-full md:w-80 space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Simulador de Metas"}),a.jsx("div",{className:"space-y-6",children:[{label:"Escenario Pesimista",sales:18e5,status:"Prdida",color:"text-red-600"},{label:"Escenario Base",sales:35e5,status:"Ganancia",color:"text-green-600"},{label:"Escenario Optimista",sales:5e6,status:"Excelente",color:"text-blue-600"}].map(v=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-2xl border border-slate-100 space-y-2 group hover:border-orange-200 transition-all",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:v.label}),a.jsxs("p",{className:"font-black text-slate-800 text-lg",children:["$",v.sales.toLocaleString()]}),a.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full bg-white border ${v.color}`,children:v.status})]},v.label))})]})]})}),i==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Hn,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(Ho,{className:"w-4 h-4"})," Mayo 2024"]}),a.jsx("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex items-center gap-2",children:"Exportar PDF"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5",children:"Descripcin de Operacin"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Ventas Mostrador",desc:"Facturacin diaria POS-01",debe:145e3,haber:0,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",desc:"Pago Factura #4829 - Sinteplast",debe:0,haber:85200,status:"Auditado"},{date:"19-05-24",ref:"AST-118",account:"Caja Central",desc:"Apertura de Caja inicial",debe:25e3,haber:0,status:"Auditado"},{date:"18-05-24",ref:"AST-115",account:"Banco Francs",desc:"Transferencia sueldos depsito",debe:0,haber:45e4,status:"Pendiente"}].map((v,_)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:v.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:v.account})}),a.jsx("td",{className:"px-8 py-5 text-sm font-medium text-slate-500",children:v.desc}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:v.debe>0?`$${v.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:v.haber>0?`$${v.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${v.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100 animate-pulse"}`,children:v.status})})]},_))})]})})]})]})};var _j={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Oye=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},HD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,f=(s&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Oye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||f==null)throw new Dye;const h=s<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lye=function(t){const e=GD(t);return HD.encodeByteArray(e,!0)},Dm=function(t){return Lye(t).replace(/\./g,"")},WD=function(t){try{return HD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vye=()=>$ye().__FIREBASE_DEFAULTS__,Fye=()=>{if(typeof process>"u"||typeof _j>"u")return;const t=_j.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WD(t[1]);return e&&JSON.parse(e)},d0=()=>{try{return Vye()||Fye()||Uye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KD=t=>{var e,n;return(n=(e=d0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bye=t=>{const e=KD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JD=()=>{var t;return(t=d0())===null||t===void 0?void 0:t.config},YD=t=>{var e;return(e=d0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qye(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dm(JSON.stringify(n)),Dm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Gye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function Hye(){var t;const e=(t=d0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Wye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Jye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yye(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xye(){return!Hye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qye(){try{return typeof indexedDB=="object"}catch{return!1}}function Zye(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eve="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eve,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tve(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new es(i,l,r)}}function tve(t,e){return t.replace(nve,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nve=/\{\$([^}]+)}/g;function rve(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Nj(s)&&Nj(o)){if(!Lm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ive(t,e){const n=new sve(t,e);return n.subscribe.bind(n)}class sve{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ave(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gx),i.error===void 0&&(i.error=Gx),i.complete===void 0&&(i.complete=Gx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ave(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ove{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zye;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cve(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lve(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lve(t){return t===pa?void 0:t}function cve(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ove(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const dve={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},fve=$e.INFO,hve={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},pve=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=hve[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V_{constructor(e){this.name=e,this._logLevel=fve,this._logHandler=pve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dve[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const mve=(t,e)=>e.some(n=>t instanceof n);let Sj,Ej;function gve(){return Sj||(Sj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xve(){return Ej||(Ej=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XD=new WeakMap,Hb=new WeakMap,QD=new WeakMap,Hx=new WeakMap,F_=new WeakMap;function yve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ds(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XD.set(n,t)}).catch(()=>{}),F_.set(e,t),e}function vve(t){if(Hb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hb.set(t,e)}let Wb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bve(t){Wb=t(Wb)}function wve(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Wx(this),e,...n);return QD.set(r,e.sort?e.sort():[e]),Ds(r)}:xve().includes(t)?function(...e){return t.apply(Wx(this),e),Ds(XD.get(this))}:function(...e){return Ds(t.apply(Wx(this),e))}}function _ve(t){return typeof t=="function"?wve(t):(t instanceof IDBTransaction&&vve(t),mve(t,gve())?new Proxy(t,Wb):t)}function Ds(t){if(t instanceof IDBRequest)return yve(t);if(Hx.has(t))return Hx.get(t);const e=_ve(t);return e!==t&&(Hx.set(t,e),F_.set(e,t)),e}const Wx=t=>F_.get(t);function Nve(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Ds(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ds(o.result),c.oldVersion,c.newVersion,Ds(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Sve=["get","getKey","getAll","getAllKeys","count"],Eve=["put","add","delete","clear"],Kx=new Map;function Tj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kx.get(e))return Kx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Eve.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sve.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&c.done]))[0]};return Kx.set(e,s),s}bve(t=>({...t,get:(e,n,r)=>Tj(e,n)||t.get(e,n,r),has:(e,n)=>!!Tj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ave(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ave(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kb="@firebase/app",Aj="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new V_("@firebase/app"),kve="@firebase/app-compat",Cve="@firebase/analytics-compat",jve="@firebase/analytics",Pve="@firebase/app-check-compat",Ive="@firebase/app-check",Rve="@firebase/auth",Mve="@firebase/auth-compat",Ove="@firebase/database",Dve="@firebase/data-connect",Lve="@firebase/database-compat",$ve="@firebase/functions",Vve="@firebase/functions-compat",Fve="@firebase/installations",Uve="@firebase/installations-compat",Bve="@firebase/messaging",zve="@firebase/messaging-compat",qve="@firebase/performance",Gve="@firebase/performance-compat",Hve="@firebase/remote-config",Wve="@firebase/remote-config-compat",Kve="@firebase/storage",Jve="@firebase/storage-compat",Yve="@firebase/firestore",Xve="@firebase/vertexai-preview",Qve="@firebase/firestore-compat",Zve="firebase",ebe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="[DEFAULT]",tbe={[Kb]:"fire-core",[kve]:"fire-core-compat",[jve]:"fire-analytics",[Cve]:"fire-analytics-compat",[Ive]:"fire-app-check",[Pve]:"fire-app-check-compat",[Rve]:"fire-auth",[Mve]:"fire-auth-compat",[Ove]:"fire-rtdb",[Dve]:"fire-data-connect",[Lve]:"fire-rtdb-compat",[$ve]:"fire-fn",[Vve]:"fire-fn-compat",[Fve]:"fire-iid",[Uve]:"fire-iid-compat",[Bve]:"fire-fcm",[zve]:"fire-fcm-compat",[qve]:"fire-perf",[Gve]:"fire-perf-compat",[Hve]:"fire-rc",[Wve]:"fire-rc-compat",[Kve]:"fire-gcs",[Jve]:"fire-gcs-compat",[Yve]:"fire-fst",[Qve]:"fire-fst-compat",[Xve]:"fire-vertex","fire-js":"fire-js",[Zve]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map,nbe=new Map,Yb=new Map;function kj(t,e){try{t.container.addComponent(e)}catch(n){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bl(t){const e=t.name;if(Yb.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Yb.set(e,t);for(const n of $m.values())kj(n,t);for(const n of nbe.values())kj(n,t);return!0}function U_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _s(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rbe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new lf("app","Firebase",rbe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ibe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=ebe;function ZD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(n||(n=JD()),!n)throw Ls.create("no-options");const s=$m.get(i);if(s){if(Lm(n,s.options)&&Lm(r,s.config))return s;throw Ls.create("duplicate-app",{appName:i})}const o=new uve(i);for(const c of Yb.values())o.addComponent(c);const l=new ibe(n,r,o);return $m.set(i,l),l}function eL(t=Jb){const e=$m.get(t);if(!e&&t===Jb&&JD())return ZD();if(!e)throw Ls.create("no-app",{appName:t});return e}function $s(t,e,n){var r;let i=(r=tbe[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(l.join(" "));return}Bl(new Ha(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sbe="firebase-heartbeat-database",abe=1,Bd="firebase-heartbeat-store";let Jx=null;function tL(){return Jx||(Jx=Nve(sbe,abe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Jx}async function obe(t){try{const n=(await tL()).transaction(Bd),r=await n.objectStore(Bd).get(nL(t));return await n.done,r}catch(e){if(e instanceof es)zi.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zi.warn(n.message)}}}async function Cj(t,e){try{const r=(await tL()).transaction(Bd,"readwrite");await r.objectStore(Bd).put(e,nL(t)),await r.done}catch(n){if(n instanceof es)zi.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zi.warn(r.message)}}}function nL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lbe=1024,cbe=30*24*60*60*1e3;class ube{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fbe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jj();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=cbe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jj(),{heartbeatsToSend:r,unsentEntries:i}=dbe(this._heartbeatsCache.heartbeats),s=Dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zi.warn(n),""}}}function jj(){return new Date().toISOString().substring(0,10)}function dbe(t,e=lbe){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Pj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fbe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qye()?Zye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await obe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cj(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Pj(t){return Dm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hbe(t){Bl(new Ha("platform-logger",e=>new Tve(e),"PRIVATE")),Bl(new Ha("heartbeat",e=>new ube(e),"PRIVATE")),$s(Kb,Aj,t),$s(Kb,Aj,"esm2017"),$s("fire-js","")}hbe("");var pbe="firebase",mbe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$s(pbe,mbe,"app");var Ij=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,rL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function j(){}j.prototype=A.prototype,E.D=A.prototype,E.prototype=new j,E.prototype.constructor=E,E.C=function(M,P,O){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return A.prototype[P].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,A,j){j||(j=0);var M=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)M[P]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(P=0;16>P;++P)M[P]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=E.g[0],j=E.g[1],P=E.g[2];var O=E.g[3],R=A+(O^j&(P^O))+M[0]+3614090360&4294967295;A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[1]+3905402710&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[2]+606105819&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[3]+3250441966&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[4]+4118548399&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[5]+1200080426&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[6]+2821735955&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[7]+4249261313&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[8]+1770035416&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[9]+2336552879&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[10]+4294925233&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[11]+2304563134&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[12]+1804603682&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[13]+4254626195&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[14]+2792965006&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[15]+1236535329&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(P^O&(j^P))+M[1]+4129170786&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[6]+3225465664&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[11]+643717713&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[0]+3921069994&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[5]+3593408605&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[10]+38016083&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[15]+3634488961&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[4]+3889429448&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[9]+568446438&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[14]+3275163606&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[3]+4107603335&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[8]+1163531501&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[13]+2850285829&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[2]+4243563512&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[7]+1735328473&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[12]+2368359562&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(j^P^O)+M[5]+4294588738&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[8]+2272392833&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[11]+1839030562&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[14]+4259657740&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[1]+2763975236&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[4]+1272893353&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[7]+4139469664&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[10]+3200236656&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[13]+681279174&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[0]+3936430074&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[3]+3572445317&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[6]+76029189&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[9]+3654602809&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[12]+3873151461&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[15]+530742520&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[2]+3299628645&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(P^(j|~O))+M[0]+4096336452&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[7]+1126891415&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[14]+2878612391&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[5]+4237533241&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[12]+1700485571&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[3]+2399980690&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[10]+4293915773&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[1]+2240044497&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[8]+1873313359&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[15]+4264355552&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[6]+2734768916&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[13]+1309151649&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[4]+4149444226&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[11]+3174756917&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[2]+718787259&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var j=A-this.blockSize,M=this.B,P=this.h,O=0;O<A;){if(P==0)for(;O<=j;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<A;)if(M[P++]=E.charCodeAt(O++),P==this.blockSize){i(this,M),P=0;break}}else for(;O<A;)if(M[P++]=E[O++],P==this.blockSize){i(this,M),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var j=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=j&255,j/=256;for(this.u(E),E=Array(16),A=j=0;4>A;++A)for(var M=0;32>M;M+=8)E[j++]=this.g[A]>>>M&255;return E};function s(E,A){var j=l;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=A(E)}function o(E,A){this.h=A;for(var j=[],M=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;M&&O==A||(j[P]=O,M=!1)}this.g=j}var l={};function c(E){return-128<=E&&128>E?s(E,function(A){return new o([A|0],0>A?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(u(-E));for(var A=[],j=1,M=0;E>=j;M++)A[M]=E/j|0,j*=4294967296;return new o(A,0)}function d(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return v(d(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(A,8)),M=f,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),R=parseInt(E.substring(P,P+O),A);8>O?(O=u(Math.pow(A,O)),M=M.j(O).add(u(R))):(M=M.j(j),M=M.add(u(R)))}return M}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-v(this).m();for(var E=0,A=1,j=0;j<this.g.length;j++){var M=this.i(j);E+=(0<=M?M:4294967296+M)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(b(this))return"-"+v(this).toString(E);for(var A=u(Math.pow(E,6)),j=this,M="";;){var P=C(j,A).g;j=_(j,P.j(A));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(E);if(j=P,y(j))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=_(this,E),b(E)?-1:y(E)?0:1};function v(E){for(var A=E.g.length,j=[],M=0;M<A;M++)j[M]=~E.g[M];return new o(j,~E.h).add(h)}t.abs=function(){return b(this)?v(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0,P=0;P<=A;P++){var O=M+(this.i(P)&65535)+(E.i(P)&65535),R=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);M=R>>>16,O&=65535,R&=65535,j[P]=R<<16|O}return new o(j,j[j.length-1]&-2147483648?-1:0)};function _(E,A){return E.add(v(A))}t.j=function(E){if(y(this)||y(E))return f;if(b(this))return b(E)?v(this).j(v(E)):v(v(this).j(E));if(b(E))return v(this.j(v(E)));if(0>this.l(x)&&0>E.l(x))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,j=[],M=0;M<2*A;M++)j[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<E.g.length;P++){var O=this.i(M)>>>16,R=this.i(M)&65535,z=E.i(P)>>>16,F=E.i(P)&65535;j[2*M+2*P]+=R*F,w(j,2*M+2*P),j[2*M+2*P+1]+=O*F,w(j,2*M+2*P+1),j[2*M+2*P+1]+=R*z,w(j,2*M+2*P+1),j[2*M+2*P+2]+=O*z,w(j,2*M+2*P+2)}for(M=0;M<A;M++)j[M]=j[2*M+1]<<16|j[2*M];for(M=A;M<2*A;M++)j[M]=0;return new o(j,0)};function w(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function S(E,A){this.g=E,this.h=A}function C(E,A){if(y(A))throw Error("division by zero");if(y(E))return new S(f,f);if(b(E))return A=C(v(E),A),new S(v(A.g),v(A.h));if(b(A))return A=C(E,v(A)),new S(v(A.g),A.h);if(30<E.g.length){if(b(E)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var j=h,M=A;0>=M.l(E);)j=T(j),M=T(M);var P=N(j,1),O=N(M,1);for(M=N(M,2),j=N(j,2);!y(M);){var R=O.add(M);0>=R.l(E)&&(P=P.add(j),O=R),M=N(M,1),j=N(j,1)}return A=_(E,P.j(A)),new S(P,A)}for(P=f;0<=E.l(A);){for(j=Math.max(1,Math.floor(E.m()/A.m())),M=Math.ceil(Math.log(j)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=u(j),R=O.j(A);b(R)||0<R.l(E);)j-=M,O=u(j),R=O.j(A);y(O)&&(O=h),P=P.add(O),E=_(E,R)}return new S(P,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)&E.i(M);return new o(j,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)|E.i(M);return new o(j,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)^E.i(M);return new o(j,this.h^E.h)};function T(E){for(var A=E.g.length+1,j=[],M=0;M<A;M++)j[M]=E.i(M)<<1|E.i(M-1)>>>31;return new o(j,E.h)}function N(E,A){var j=A>>5;A%=32;for(var M=E.g.length-j,P=[],O=0;O<M;O++)P[O]=0<A?E.i(O+j)>>>A|E.i(O+j+1)<<32-A:E.i(O+j);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rL=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Pa=o}).apply(typeof Ij<"u"?Ij:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iL,du,sL,$h,Xb,aL,oL,lL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,I){return m==Array.prototype||m==Object.prototype||(m[k]=I.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var k=0;k<m.length;++k){var I=m[k];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(m,k){if(k)e:{var I=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var K=m[L];if(!(K in I))break e;I=I[K]}m=m[m.length-1],L=I[m],k=k(L),k!=L&&k!=null&&e(I,m,{configurable:!0,writable:!0,value:k})}}function s(m,k){m instanceof String&&(m+="");var I=0,L=!1,K={next:function(){if(!L&&I<m.length){var Z=I++;return{value:k(Z,m[Z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(m){return m||function(){return s(this,function(k,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,I){return m.call.apply(m.bind,arguments)}function f(m,k,I){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),m.apply(k,K)}}return function(){return m.apply(k,arguments)}}function h(m,k,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,k){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function y(m,k){function I(){}I.prototype=k.prototype,m.aa=k.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(L,K,Z){for(var pe=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)pe[rt-2]=arguments[rt];return k.prototype[K].apply(L,pe)}}function b(m){const k=m.length;if(0<k){const I=Array(k);for(let L=0;L<k;L++)I[L]=m[L];return I}return[]}function v(m,k){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(c(L)){const K=m.length||0,Z=L.length||0;m.length=K+Z;for(let pe=0;pe<Z;pe++)m[K+pe]=L[pe]}else m.push(L)}}class _{constructor(k,I){this.i=k,this.j=I,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function w(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var T=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function N(m,k,I){for(const L in m)k.call(I,m[L],L,m)}function E(m,k){for(const I in m)k.call(void 0,m[I],I,m)}function A(m){const k={};for(const I in m)k[I]=m[I];return k}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,k){let I,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(I in L)m[I]=L[I];for(let Z=0;Z<j.length;Z++)I=j[Z],Object.prototype.hasOwnProperty.call(L,I)&&(m[I]=L[I])}}function P(m){var k=1;m=m.split(":");const I=[];for(;0<k&&m.length;)I.push(m.shift()),k--;return m.length&&I.push(m.join(":")),I}function O(m){l.setTimeout(()=>{throw m},0)}function R(){var m=H;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class z{constructor(){this.h=this.g=null}add(k,I){const L=F.get();L.set(k,I),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new _(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(k,I){this.h=k,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,H=new z,J=()=>{const m=l.Promise.resolve(void 0);B=()=>{m.then(W)}};var W=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(I){O(I)}var k=F;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}V=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var we=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};l.addEventListener("test",I,k),l.removeEventListener("test",I,k)}catch{}return m}();function q(m,k){if(re.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(T){e:{try{C(k.nodeName);var K=!0;break e}catch{}K=!1}K||(k=null)}}else I=="mouseover"?k=m.fromElement:I=="mouseout"&&(k=m.toElement);this.relatedTarget=k,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:X[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&q.aa.h.call(this)}}y(q,re);var X={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ce=0;function G(m,k,I,L,K){this.listener=m,this.proxy=null,this.src=k,this.type=I,this.capture=!!L,this.ha=K,this.key=++ce,this.da=this.fa=!1}function se(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,k,I,L,K){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var pe=De(m,k,L,K);return-1<pe?(k=m[pe],I||(k.fa=!1)):(k=new G(k,this.src,Z,!!L,K),k.fa=I,m.push(k)),k};function ie(m,k){var I=k.type;if(I in m.g){var L=m.g[I],K=Array.prototype.indexOf.call(L,k,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(L,K,1),Z&&(se(k),m.g[I].length==0&&(delete m.g[I],m.h--))}}function De(m,k,I,L){for(var K=0;K<m.length;++K){var Z=m[K];if(!Z.da&&Z.listener==k&&Z.capture==!!I&&Z.ha==L)return K}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Q={};function de(m,k,I,L,K){if(Array.isArray(k)){for(var Z=0;Z<k.length;Z++)de(m,k[Z],I,L,K);return null}return I=_e(I),m&&m[ee]?m.K(k,I,u(L)?!!L.capture:!1,K):Me(m,k,I,!1,L,K)}function Me(m,k,I,L,K,Z){if(!k)throw Error("Invalid event type");var pe=u(K)?!!K.capture:!!K,rt=ge(m);if(rt||(m[Se]=rt=new ue(m)),I=rt.add(k,I,L,pe,Z),I.proxy)return I;if(L=mt(),I.proxy=L,L.src=m,L.listener=I,m.addEventListener)we||(K=pe),K===void 0&&(K=!1),m.addEventListener(k.toString(),L,K);else if(m.attachEvent)m.attachEvent(cn(k.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function mt(){function m(I){return k.call(m.src,m.listener,I)}const k=fe;return m}function ln(m,k,I,L,K){if(Array.isArray(k))for(var Z=0;Z<k.length;Z++)ln(m,k[Z],I,L,K);else L=u(L)?!!L.capture:!!L,I=_e(I),m&&m[ee]?(m=m.i,k=String(k).toString(),k in m.g&&(Z=m.g[k],I=De(Z,I,L,K),-1<I&&(se(Z[I]),Array.prototype.splice.call(Z,I,1),Z.length==0&&(delete m.g[k],m.h--)))):m&&(m=ge(m))&&(k=m.g[k.toString()],m=-1,k&&(m=De(k,I,L,K)),(I=-1<m?k[m]:null)&&En(I))}function En(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[ee])ie(k.i,m);else{var I=m.type,L=m.proxy;k.removeEventListener?k.removeEventListener(I,L,m.capture):k.detachEvent?k.detachEvent(cn(I),L):k.addListener&&k.removeListener&&k.removeListener(L),(I=ge(k))?(ie(I,m),I.h==0&&(I.src=null,k[Se]=null)):se(m)}}}function cn(m){return m in Q?Q[m]:Q[m]="on"+m}function fe(m,k){if(m.da)m=!0;else{k=new q(k,this);var I=m.listener,L=m.ha||m.src;m.fa&&En(m),m=I.call(L,k)}return m}function ge(m){return m=m[Se],m instanceof ue?m:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(m){return typeof m=="function"?m:(m[Ee]||(m[Ee]=function(k){return m.handleEvent(k)}),m[Ee])}function Ye(){Y.call(this),this.i=new ue(this),this.M=this,this.F=null}y(Ye,Y),Ye.prototype[ee]=!0,Ye.prototype.removeEventListener=function(m,k,I,L){ln(this,m,k,I,L)};function zt(m,k){var I,L=m.F;if(L)for(I=[];L;L=L.F)I.push(L);if(m=m.M,L=k.type||k,typeof k=="string")k=new re(k,m);else if(k instanceof re)k.target=k.target||m;else{var K=k;k=new re(L,m),M(k,K)}if(K=!0,I)for(var Z=I.length-1;0<=Z;Z--){var pe=k.g=I[Z];K=ts(pe,L,!0,k)&&K}if(pe=k.g=m,K=ts(pe,L,!0,k)&&K,K=ts(pe,L,!1,k)&&K,I)for(Z=0;Z<I.length;Z++)pe=k.g=I[Z],K=ts(pe,L,!1,k)&&K}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var I=m.g[k],L=0;L<I.length;L++)se(I[L]);delete m.g[k],m.h--}}this.F=null},Ye.prototype.K=function(m,k,I,L){return this.i.add(String(m),k,!1,I,L)},Ye.prototype.L=function(m,k,I,L){return this.i.add(String(m),k,!0,I,L)};function ts(m,k,I,L){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var K=!0,Z=0;Z<k.length;++Z){var pe=k[Z];if(pe&&!pe.da&&pe.capture==I){var rt=pe.listener,Qt=pe.ha||pe.src;pe.fa&&ie(m.i,pe),K=rt.call(Qt,L)!==!1&&K}}return K&&!L.defaultPrevented}function PN(m,k,I){if(typeof m=="function")I&&(m=h(m,I));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(m,k||0)}function IN(m){m.g=PN(()=>{m.g=null,m.i&&(m.i=!1,IN(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class H6 extends Y{constructor(k,I){super(),this.m=k,this.l=I,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:IN(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nc(m){Y.call(this),this.h=m,this.g={}}y(Nc,Y);var RN=[];function MN(m){N(m.g,function(k,I){this.g.hasOwnProperty(I)&&En(k)},m),m.g={}}Nc.prototype.N=function(){Nc.aa.N.call(this),MN(this)},Nc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var N0=l.JSON.stringify,W6=l.JSON.parse,K6=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function S0(){}S0.prototype.h=null;function ON(m){return m.h||(m.h=m.i())}function DN(){}var Sc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function E0(){re.call(this,"d")}y(E0,re);function T0(){re.call(this,"c")}y(T0,re);var ta={},LN=null;function yf(){return LN=LN||new Ye}ta.La="serverreachability";function $N(m){re.call(this,ta.La,m)}y($N,re);function Ec(m){const k=yf();zt(k,new $N(k))}ta.STAT_EVENT="statevent";function VN(m,k){re.call(this,ta.STAT_EVENT,m),this.stat=k}y(VN,re);function Tn(m){const k=yf();zt(k,new VN(k,m))}ta.Ma="timingevent";function FN(m,k){re.call(this,ta.Ma,m),this.size=k}y(FN,re);function Tc(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function Ac(){this.g=!0}Ac.prototype.xa=function(){this.g=!1};function J6(m,k,I,L,K,Z){m.info(function(){if(m.g)if(Z)for(var pe="",rt=Z.split("&"),Qt=0;Qt<rt.length;Qt++){var Ge=rt[Qt].split("=");if(1<Ge.length){var un=Ge[0];Ge=Ge[1];var dn=un.split("_");pe=2<=dn.length&&dn[1]=="type"?pe+(un+"="+Ge+"&"):pe+(un+"=redacted&")}}else pe=null;else pe=Z;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+k+`
`+I+`
`+pe})}function Y6(m,k,I,L,K,Z,pe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+k+`
`+I+`
`+Z+" "+pe})}function ao(m,k,I,L){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+Q6(m,I)+(L?" "+L:"")})}function X6(m,k){m.info(function(){return"TIMEOUT: "+k})}Ac.prototype.info=function(){};function Q6(m,k){if(!m.g)return k;if(!k)return null;try{var I=JSON.parse(k);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var L=I[m];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var pe=1;pe<K.length;pe++)K[pe]=""}}}}return N0(I)}catch{return k}}var vf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},UN={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},A0;function bf(){}y(bf,S0),bf.prototype.g=function(){return new XMLHttpRequest},bf.prototype.i=function(){return{}},A0=new bf;function ns(m,k,I,L){this.j=m,this.i=k,this.l=I,this.R=L||1,this.U=new Nc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new BN}function BN(){this.i=null,this.g="",this.h=!1}var zN={},k0={};function C0(m,k,I){m.L=1,m.v=Sf(pi(k)),m.m=I,m.P=!0,qN(m,null)}function qN(m,k){m.F=Date.now(),wf(m),m.A=pi(m.v);var I=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),iS(I.i,"t",L),m.C=0,I=m.j.J,m.h=new BN,m.g=_S(m.j,I?k:null,!m.m),0<m.O&&(m.M=new H6(h(m.Y,m,m.g),m.O)),k=m.U,I=m.g,L=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(RN[0]=K.toString()),K=RN);for(var Z=0;Z<K.length;Z++){var pe=de(I,K[Z],L||k.handleEvent,!1,k.h||k);if(!pe)break;k.g[pe.key]=pe}k=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Ec(),J6(m.i,m.u,m.A,m.l,m.R,m.m)}ns.prototype.ca=function(m){m=m.target;const k=this.M;k&&mi(m)==3?k.j():this.Y(m)},ns.prototype.Y=function(m){try{if(m==this.g)e:{const dn=mi(this.g);var k=this.g.Ba();const co=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||dS(this.g)))){this.J||dn!=4||k==7||(k==8||0>=co?Ec(3):Ec(2)),j0(this);var I=this.g.Z();this.X=I;t:if(GN(this)){var L=dS(this.g);m="";var K=L.length,Z=mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),kc(this);var pe="";break t}this.h.i=new l.TextDecoder}for(k=0;k<K;k++)this.h.h=!0,m+=this.h.i.decode(L[k],{stream:!(Z&&k==K-1)});L.length=0,this.h.g+=m,this.C=0,pe=this.h.g}else pe=this.g.oa();if(this.o=I==200,Y6(this.i,this.u,this.A,this.l,this.R,dn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,Qt=this.g;if((rt=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var Ge=rt;break t}}Ge=null}if(I=Ge)ao(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,P0(this,I);else{this.o=!1,this.s=3,Tn(12),na(this),kc(this);break e}}if(this.P){I=!0;let Er;for(;!this.J&&this.C<pe.length;)if(Er=Z6(this,pe),Er==k0){dn==4&&(this.s=4,Tn(14),I=!1),ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==zN){this.s=4,Tn(15),ao(this.i,this.l,pe,"[Invalid Chunk]"),I=!1;break}else ao(this.i,this.l,Er,null),P0(this,Er);if(GN(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||pe.length!=0||this.h.h||(this.s=1,Tn(16),I=!1),this.o=this.o&&I,!I)ao(this.i,this.l,pe,"[Invalid Chunked Response]"),na(this),kc(this);else if(0<pe.length&&!this.W){this.W=!0;var un=this.j;un.g==this&&un.ba&&!un.M&&(un.j.info("Great, no buffering proxy detected. Bytes received: "+pe.length),L0(un),un.M=!0,Tn(11))}}else ao(this.i,this.l,pe,null),P0(this,pe);dn==4&&na(this),this.o&&!this.J&&(dn==4?yS(this.j,this):(this.o=!1,wf(this)))}else g$(this.g),I==400&&0<pe.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),na(this),kc(this)}}}catch{}finally{}};function GN(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Z6(m,k){var I=m.C,L=k.indexOf(`
`,I);return L==-1?k0:(I=Number(k.substring(I,L)),isNaN(I)?zN:(L+=1,L+I>k.length?k0:(k=k.slice(L,L+I),m.C=L+I,k)))}ns.prototype.cancel=function(){this.J=!0,na(this)};function wf(m){m.S=Date.now()+m.I,HN(m,m.I)}function HN(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Tc(h(m.ba,m),k)}function j0(m){m.B&&(l.clearTimeout(m.B),m.B=null)}ns.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(X6(this.i,this.A),this.L!=2&&(Ec(),Tn(17)),na(this),this.s=2,kc(this)):HN(this,this.S-m)};function kc(m){m.j.G==0||m.J||yS(m.j,m)}function na(m){j0(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,MN(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function P0(m,k){try{var I=m.j;if(I.G!=0&&(I.g==m||I0(I.h,m))){if(!m.K&&I0(I.h,m)&&I.G==3){try{var L=I.Da.g.parse(k)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)jf(I),kf(I);else break e;D0(I),Tn(18)}}else I.za=K[1],0<I.za-I.T&&37500>K[2]&&I.F&&I.v==0&&!I.C&&(I.C=Tc(h(I.Za,I),6e3));if(1>=JN(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else ia(I,11)}else if((m.K||I.g==m)&&jf(I),!w(k))for(K=I.Da.g.parse(k),k=0;k<K.length;k++){let Ge=K[k];if(I.T=Ge[0],Ge=Ge[1],I.G==2)if(Ge[0]=="c"){I.K=Ge[1],I.ia=Ge[2];const un=Ge[3];un!=null&&(I.la=un,I.j.info("VER="+I.la));const dn=Ge[4];dn!=null&&(I.Aa=dn,I.j.info("SVER="+I.Aa));const co=Ge[5];co!=null&&typeof co=="number"&&0<co&&(L=1.5*co,I.L=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const Er=m.g;if(Er){const If=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(If){var Z=L.h;Z.g||If.indexOf("spdy")==-1&&If.indexOf("quic")==-1&&If.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(R0(Z,Z.h),Z.h=null))}if(L.D){const $0=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;$0&&(L.ya=$0,ut(L.I,L.D,$0))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),L=I;var pe=m;if(L.qa=wS(L,L.J?L.ia:null,L.W),pe.K){YN(L.h,pe);var rt=pe,Qt=L.L;Qt&&(rt.I=Qt),rt.B&&(j0(rt),wf(rt)),L.g=pe}else gS(L);0<I.i.length&&Cf(I)}else Ge[0]!="stop"&&Ge[0]!="close"||ia(I,7);else I.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ia(I,7):O0(I):Ge[0]!="noop"&&I.l&&I.l.ta(Ge),I.v=0)}}Ec(4)}catch{}}var e$=class{constructor(m,k){this.g=m,this.map=k}};function WN(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function KN(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function JN(m){return m.h?1:m.g?m.g.size:0}function I0(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function R0(m,k){m.g?m.g.add(k):m.h=k}function YN(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}WN.prototype.cancel=function(){if(this.i=XN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function XN(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const I of m.g.values())k=k.concat(I.D);return k}return b(m.i)}function t$(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],I=m.length,L=0;L<I;L++)k.push(m[L]);return k}k=[],I=0;for(L in m)k[I++]=m[L];return k}function n$(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var I=0;I<m;I++)k.push(I);return k}k=[],I=0;for(const L in m)k[I++]=L;return k}}}function QN(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var I=n$(m),L=t$(m),K=L.length,Z=0;Z<K;Z++)k.call(void 0,L[Z],I&&I[Z],m)}var ZN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function r$(m,k){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var L=m[I].indexOf("="),K=null;if(0<=L){var Z=m[I].substring(0,L);K=m[I].substring(L+1)}else Z=m[I];k(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ra(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ra){this.h=m.h,_f(this,m.j),this.o=m.o,this.g=m.g,Nf(this,m.s),this.l=m.l;var k=m.i,I=new Pc;I.i=k.i,k.g&&(I.g=new Map(k.g),I.h=k.h),eS(this,I),this.m=m.m}else m&&(k=String(m).match(ZN))?(this.h=!1,_f(this,k[1]||"",!0),this.o=Cc(k[2]||""),this.g=Cc(k[3]||"",!0),Nf(this,k[4]),this.l=Cc(k[5]||"",!0),eS(this,k[6]||"",!0),this.m=Cc(k[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}ra.prototype.toString=function(){var m=[],k=this.j;k&&m.push(jc(k,tS,!0),":");var I=this.g;return(I||k=="file")&&(m.push("//"),(k=this.o)&&m.push(jc(k,tS,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(jc(I,I.charAt(0)=="/"?a$:s$,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",jc(I,l$)),m.join("")};function pi(m){return new ra(m)}function _f(m,k,I){m.j=I?Cc(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Nf(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function eS(m,k,I){k instanceof Pc?(m.i=k,c$(m.i,m.h)):(I||(k=jc(k,o$)),m.i=new Pc(k,m.h))}function ut(m,k,I){m.i.set(k,I)}function Sf(m){return ut(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Cc(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function jc(m,k,I){return typeof m=="string"?(m=encodeURI(m).replace(k,i$),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function i$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var tS=/[#\/\?@]/g,s$=/[#\?:]/g,a$=/[#\?]/g,o$=/[#\?@]/g,l$=/#/g;function Pc(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function rs(m){m.g||(m.g=new Map,m.h=0,m.i&&r$(m.i,function(k,I){m.add(decodeURIComponent(k.replace(/\+/g," ")),I)}))}t=Pc.prototype,t.add=function(m,k){rs(this),this.i=null,m=oo(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(k),this.h+=1,this};function nS(m,k){rs(m),k=oo(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function rS(m,k){return rs(m),k=oo(m,k),m.g.has(k)}t.forEach=function(m,k){rs(this),this.g.forEach(function(I,L){I.forEach(function(K){m.call(k,K,L,this)},this)},this)},t.na=function(){rs(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),I=[];for(let L=0;L<k.length;L++){const K=m[L];for(let Z=0;Z<K.length;Z++)I.push(k[L])}return I},t.V=function(m){rs(this);let k=[];if(typeof m=="string")rS(this,m)&&(k=k.concat(this.g.get(oo(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)k=k.concat(m[I])}return k},t.set=function(m,k){return rs(this),this.i=null,m=oo(this,m),rS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function iS(m,k,I){nS(m,k),0<I.length&&(m.i=null,m.g.set(oo(m,k),b(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var I=0;I<k.length;I++){var L=k[I];const Z=encodeURIComponent(String(L)),pe=this.V(L);for(L=0;L<pe.length;L++){var K=Z;pe[L]!==""&&(K+="="+encodeURIComponent(String(pe[L]))),m.push(K)}}return this.i=m.join("&")};function oo(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function c$(m,k){k&&!m.j&&(rs(m),m.i=null,m.g.forEach(function(I,L){var K=L.toLowerCase();L!=K&&(nS(this,L),iS(this,K,I))},m)),m.j=k}function u$(m,k){const I=new Ac;if(l.Image){const L=new Image;L.onload=x(is,I,"TestLoadImage: loaded",!0,k,L),L.onerror=x(is,I,"TestLoadImage: error",!1,k,L),L.onabort=x(is,I,"TestLoadImage: abort",!1,k,L),L.ontimeout=x(is,I,"TestLoadImage: timeout",!1,k,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else k(!1)}function d$(m,k){const I=new Ac,L=new AbortController,K=setTimeout(()=>{L.abort(),is(I,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:L.signal}).then(Z=>{clearTimeout(K),Z.ok?is(I,"TestPingServer: ok",!0,k):is(I,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(K),is(I,"TestPingServer: error",!1,k)})}function is(m,k,I,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(I)}catch{}}function f$(){this.g=new K6}function h$(m,k,I){const L=I||"";try{QN(m,function(K,Z){let pe=K;u(K)&&(pe=N0(K)),k.push(L+Z+"="+encodeURIComponent(pe))})}catch(K){throw k.push(L+"type="+encodeURIComponent("_badmap")),K}}function Ef(m){this.l=m.Ub||null,this.j=m.eb||!1}y(Ef,S0),Ef.prototype.g=function(){return new Tf(this.l,this.j)},Ef.prototype.i=function(m){return function(){return m}}({});function Tf(m,k){Ye.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Tf,Ye),t=Tf.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,Rc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ic(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Rc(this)),this.g&&(this.readyState=3,Rc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function sS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?Ic(this):Rc(this),this.readyState==3&&sS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ic(this))},t.Qa=function(m){this.g&&(this.response=m,Ic(this))},t.ga=function(){this.g&&Ic(this)};function Ic(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Rc(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var I=k.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=k.next();return m.join(`\r
`)};function Rc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function aS(m){let k="";return N(m,function(I,L){k+=L,k+=":",k+=I,k+=`\r
`}),k}function M0(m,k,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=aS(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):ut(m,k,I))}function Nt(m){Ye.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Nt,Ye);var p$=/^https?$/i,m$=["POST","PUT"];t=Nt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():A0.g(),this.v=this.o?ON(this.o):ON(A0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(Z){oS(this,Z);return}if(m=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)I.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())I.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(m$,k,void 0))||L||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pe]of I)this.g.setRequestHeader(Z,pe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{uS(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){oS(this,Z)}};function oS(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,lS(m),Af(m)}function lS(m){m.A||(m.A=!0,zt(m,"complete"),zt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,zt(this,"complete"),zt(this,"abort"),Af(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Af(this,!0)),Nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cS(this):this.bb())},t.bb=function(){cS(this)};function cS(m){if(m.h&&typeof o<"u"&&(!m.v[1]||mi(m)!=4||m.Z()!=2)){if(m.u&&mi(m)==4)PN(m.Ea,0,m);else if(zt(m,"readystatechange"),mi(m)==4){m.h=!1;try{const pe=m.Z();e:switch(pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var I;if(!(I=k)){var L;if(L=pe===0){var K=String(m.D).match(ZN)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),L=!p$.test(K?K.toLowerCase():"")}I=L}if(I)zt(m,"complete"),zt(m,"success");else{m.m=6;try{var Z=2<mi(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",lS(m)}}finally{Af(m)}}}}function Af(m,k){if(m.g){uS(m);const I=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||zt(m,"ready");try{I.onreadystatechange=L}catch{}}}function uS(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function mi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),W6(k)}};function dS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function g$(m){const k={};m=(m.g&&2<=mi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(w(m[L]))continue;var I=P(m[L]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Z=k[K]||[];k[K]=Z,Z.push(I)}E(k,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mc(m,k,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||k}function fS(m){this.Aa=0,this.i=[],this.j=new Ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mc("baseRetryDelayMs",5e3,m),this.cb=Mc("retryDelaySeedMs",1e4,m),this.Wa=Mc("forwardChannelMaxRetries",2,m),this.wa=Mc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new WN(m&&m.concurrentRequestLimit),this.Da=new f$,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fS.prototype,t.la=8,t.G=1,t.connect=function(m,k,I,L){Tn(0),this.W=m,this.H=k||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=wS(this,null,this.W),Cf(this)};function O0(m){if(hS(m),m.G==3){var k=m.U++,I=pi(m.I);if(ut(I,"SID",m.K),ut(I,"RID",k),ut(I,"TYPE","terminate"),Oc(m,I),k=new ns(m,m.j,k),k.L=2,k.v=Sf(pi(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=k.v,I=!0),I||(k.g=_S(k.j,null),k.g.ea(k.v)),k.F=Date.now(),wf(k)}bS(m)}function kf(m){m.g&&(L0(m),m.g.cancel(),m.g=null)}function hS(m){kf(m),m.u&&(l.clearTimeout(m.u),m.u=null),jf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Cf(m){if(!KN(m.h)&&!m.s){m.s=!0;var k=m.Ga;B||J(),V||(B(),V=!0),H.add(k,m),m.B=0}}function x$(m,k){return JN(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Tc(h(m.Ga,m,k),vS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new ns(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=A(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var k=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(k+=L,4096<k){k=I;break e}if(k===4096||I===this.i.length-1){k=I+1;break e}}k=1e3}else k=1e3;k=mS(this,K,k),I=pi(this.I),ut(I,"RID",m),ut(I,"CVER",22),this.D&&ut(I,"X-HTTP-Session-Id",this.D),Oc(this,I),Z&&(this.O?k="headers="+encodeURIComponent(String(aS(Z)))+"&"+k:this.m&&M0(I,this.m,Z)),R0(this.h,K),this.Ua&&ut(I,"TYPE","init"),this.P?(ut(I,"$req",k),ut(I,"SID","null"),K.T=!0,C0(K,I,null)):C0(K,I,k),this.G=2}}else this.G==3&&(m?pS(this,m):this.i.length==0||KN(this.h)||pS(this))};function pS(m,k){var I;k?I=k.l:I=m.U++;const L=pi(m.I);ut(L,"SID",m.K),ut(L,"RID",I),ut(L,"AID",m.T),Oc(m,L),m.m&&m.o&&M0(L,m.m,m.o),I=new ns(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),k&&(m.i=k.D.concat(m.i)),k=mS(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),R0(m.h,I),C0(I,L,k)}function Oc(m,k){m.H&&N(m.H,function(I,L){ut(k,L,I)}),m.l&&QN({},function(I,L){ut(k,L,I)})}function mS(m,k,I){I=Math.min(m.i.length,I);var L=m.l?h(m.l.Na,m.l,m):null;e:{var K=m.i;let Z=-1;for(;;){const pe=["count="+I];Z==-1?0<I?(Z=K[0].g,pe.push("ofs="+Z)):Z=0:pe.push("ofs="+Z);let rt=!0;for(let Qt=0;Qt<I;Qt++){let Ge=K[Qt].g;const un=K[Qt].map;if(Ge-=Z,0>Ge)Z=Math.max(0,K[Qt].g-100),rt=!1;else try{h$(un,pe,"req"+Ge+"_")}catch{L&&L(un)}}if(rt){L=pe.join("&");break e}}}return m=m.i.splice(0,I),k.D=m,L}function gS(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;B||J(),V||(B(),V=!0),H.add(k,m),m.v=0}}function D0(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Tc(h(m.Fa,m),vS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,xS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Tc(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),kf(this),xS(this))};function L0(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function xS(m){m.g=new ns(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=pi(m.qa);ut(k,"RID","rpc"),ut(k,"SID",m.K),ut(k,"AID",m.T),ut(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&ut(k,"TO",m.ja),ut(k,"TYPE","xmlhttp"),Oc(m,k),m.m&&m.o&&M0(k,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=Sf(pi(k)),I.m=null,I.P=!0,qN(I,m)}t.Za=function(){this.C!=null&&(this.C=null,kf(this),D0(this),Tn(19))};function jf(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function yS(m,k){var I=null;if(m.g==k){jf(m),L0(m),m.g=null;var L=2}else if(I0(m.h,k))I=k.D,YN(m.h,k),L=1;else return;if(m.G!=0){if(k.o)if(L==1){I=k.m?k.m.length:0,k=Date.now()-k.F;var K=m.B;L=yf(),zt(L,new FN(L,I)),Cf(m)}else gS(m);else if(K=k.s,K==3||K==0&&0<k.X||!(L==1&&x$(m,k)||L==2&&D0(m)))switch(I&&0<I.length&&(k=m.h,k.i=k.i.concat(I)),K){case 1:ia(m,5);break;case 4:ia(m,10);break;case 3:ia(m,6);break;default:ia(m,2)}}}function vS(m,k){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*k}function ia(m,k){if(m.j.info("Error code "+k),k==2){var I=h(m.fb,m),L=m.Xa;const K=!L;L=new ra(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||_f(L,"https"),Sf(L),K?u$(L.toString(),I):d$(L.toString(),I)}else Tn(2);m.G=0,m.l&&m.l.sa(k),bS(m),hS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function bS(m){if(m.G=0,m.ka=[],m.l){const k=XN(m.h);(k.length!=0||m.i.length!=0)&&(v(m.ka,k),v(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function wS(m,k,I){var L=I instanceof ra?pi(I):new ra(I);if(L.g!="")k&&(L.g=k+"."+L.g),Nf(L,L.s);else{var K=l.location;L=K.protocol,k=k?k+"."+K.hostname:K.hostname,K=+K.port;var Z=new ra(null);L&&_f(Z,L),k&&(Z.g=k),K&&Nf(Z,K),I&&(Z.l=I),L=Z}return I=m.D,k=m.ya,I&&k&&ut(L,I,k),ut(L,"VER",m.la),Oc(m,L),L}function _S(m,k,I){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new Nt(new Ef({eb:I})):new Nt(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function NS(){}t=NS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Pf(){}Pf.prototype.g=function(m,k){return new Kn(m,k)};function Kn(m,k){Ye.call(this),this.g=new fS(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!w(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!w(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new lo(this)}y(Kn,Ye),Kn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kn.prototype.close=function(){O0(this.g)},Kn.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=N0(m),m=I);k.i.push(new e$(k.Ya++,m)),k.G==3&&Cf(k)},Kn.prototype.N=function(){this.g.l=null,delete this.j,O0(this.g),delete this.g,Kn.aa.N.call(this)};function SS(m){E0.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const I in k){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}y(SS,E0);function ES(){T0.call(this),this.status=1}y(ES,T0);function lo(m){this.g=m}y(lo,NS),lo.prototype.ua=function(){zt(this.g,"a")},lo.prototype.ta=function(m){zt(this.g,new SS(m))},lo.prototype.sa=function(m){zt(this.g,new ES)},lo.prototype.ra=function(){zt(this.g,"b")},Pf.prototype.createWebChannel=Pf.prototype.g,Kn.prototype.send=Kn.prototype.o,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,lL=function(){return new Pf},oL=function(){return yf()},aL=ta,Xb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vf.NO_ERROR=0,vf.TIMEOUT=8,vf.HTTP_ERROR=6,$h=vf,UN.COMPLETE="complete",sL=UN,DN.EventType=Sc,Sc.OPEN="a",Sc.CLOSE="b",Sc.ERROR="c",Sc.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,du=DN,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,iL=Nt}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const Rj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new V_("@firebase/firestore");function nu(){return Wa.logLevel}function ve(t,...e){if(Wa.logLevel<=$e.DEBUG){const n=e.map(B_);Wa.debug(`Firestore (${yc}): ${t}`,...n)}}function qi(t,...e){if(Wa.logLevel<=$e.ERROR){const n=e.map(B_);Wa.error(`Firestore (${yc}): ${t}`,...n)}}function zl(t,...e){if(Wa.logLevel<=$e.WARN){const n=e.map(B_);Wa.warn(`Firestore (${yc}): ${t}`,...n)}}function B_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+t;throw qi(e),new Error(e)}function Tt(t,e){t||Re()}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gn.UNAUTHENTICATED))}shutdown(){}}class xbe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ybe{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Zo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Zo,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Zo)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string"),new cL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string"),new gn(e)}}class vbe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bbe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new vbe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wbe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _be{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Tt(this.o===void 0);const r=s=>{s.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string"),this.R=n.token,new wbe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nbe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sbe{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nbe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Je(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Jt(0,0))}static max(){return new Pe(new Jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends zd{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const Ebe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends zd{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return Ebe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new be(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(vt.fromString(e))}static fromName(e){return new Ae(vt.fromString(e).popFirst(5))}static empty(){return new Ae(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new vt(e.slice()))}}function Tbe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new qs(i,Ae.empty(),e)}function Abe(t){return new qs(t.readTime,t.key,-1)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(Pe.min(),Ae.empty(),-1)}static max(){return new qs(Pe.max(),Ae.empty(),-1)}}function kbe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Je(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z_(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==Cbe)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new ae((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Pbe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}q_.oe=-1;function f0(t){return t==null}function Vm(t){return t===0&&1/t==-1/0}function Ibe(t){return typeof t=="number"&&Number.isInteger(t)&&!Vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function df(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function uL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n){this.comparator=e,this.root=n||tn.EMPTY}insert(e,n){return new jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tn.RED,this.left=i??tn.EMPTY,this.right=s??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,r,i,s){return this}insert(e,n,r){return new tn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Oj(this.data.getIterator())}getIteratorFrom(e){return new Oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class Oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Ns([])}unionWith(e){let n=new rn(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ns(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dL("Invalid base64 string: "+s):s}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Rbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Tt(!!t),typeof t=="string"){let e=0;const n=Rbe.exec(t);if(Tt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ka(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H_(t){const e=t.mapValue.fields.__previous_value__;return G_(e)?H_(e):e}function qd(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(e,n,r,i,s,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Gd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh={mapValue:{}};function Ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:Dbe(t)?9007199254740991:Obe(t)?10:11:Re()}function ui(t,e){if(t===e)return!0;const n=Ja(t);if(n!==Ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gs(i.timestampValue),l=Gs(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ka(i.bytesValue).isEqual(Ka(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return kt(i.geoPointValue.latitude)===kt(s.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return kt(i.integerValue)===kt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=kt(i.doubleValue),l=kt(s.doubleValue);return o===l?Vm(o)===Vm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Mj(o)!==Mj(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ui(o[c],l[c])))return!1;return!0}(t,e);default:return Re()}}function Hd(t,e){return(t.values||[]).find(n=>ui(n,e))!==void 0}function Gl(t,e){if(t===e)return 0;const n=Ja(t),r=Ja(e);if(n!==r)return Je(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Je(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=kt(s.integerValue||s.doubleValue),c=kt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Dj(t.timestampValue,e.timestampValue);case 4:return Dj(qd(t),qd(e));case 5:return Je(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Ka(s),c=Ka(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Je(l[u],c[u]);if(d!==0)return d}return Je(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Je(kt(s.latitude),kt(o.latitude));return l!==0?l:Je(kt(s.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Lj(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,c,u,d;const f=s.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=(c=h.value)===null||c===void 0?void 0:c.arrayValue,b=Je(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:Lj(x,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===yh.mapValue&&o===yh.mapValue)return 0;if(s===yh.mapValue)return 1;if(o===yh.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Je(c[f],d[f]);if(h!==0)return h;const x=Gl(l[c[f]],u[d[f]]);if(x!==0)return x}return Je(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Re()}}function Dj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Je(t,e);const n=Gs(t),r=Gs(e),i=Je(n.seconds,r.seconds);return i!==0?i:Je(n.nanos,r.nanos)}function Lj(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Gl(n[i],r[i]);if(s)return s}return Je(n.length,r.length)}function Hl(t){return Qb(t)}function Qb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ka(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qb(n.fields[o])}`;return i+"}"}(t.mapValue):Re()}function $j(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zb(t){return!!t&&"integerValue"in t}function W_(t){return!!t&&"arrayValue"in t}function Vj(t){return!!t&&"nullValue"in t}function Fj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yx(t){return!!t&&"mapValue"in t}function Obe(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return df(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dbe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.value=e}static empty(){return new Jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yx(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Ru(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Yx(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){df(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Jr(Ru(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new vn(e,0,Pe.min(),Pe.min(),Pe.min(),Jr.empty(),0)}static newFoundDocument(e,n,r,i){return new vn(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new vn(e,2,n,Pe.min(),Pe.min(),Jr.empty(),0)}static newUnknownDocument(e,n){return new vn(e,3,n,Pe.min(),Pe.min(),Jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.position=e,this.inclusive=n}}function Uj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Ae.comparator(Ae.fromName(o.referenceValue),n.key):r=Gl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lbe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{}class Mt extends fL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vbe(e,n,r):n==="array-contains"?new Bbe(e,r):n==="in"?new zbe(e,r):n==="not-in"?new qbe(e,r):n==="array-contains-any"?new Gbe(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Fbe(e,r):new Ube(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gl(n,this.value)):n!==null&&Ja(this.value)===Ja(n)&&this.matchesComparison(Gl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends fL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zr(e,n)}matches(e){return hL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hL(t){return t.op==="and"}function pL(t){return $be(t)&&hL(t)}function $be(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function ew(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(pL(t))return t.filters.map(e=>ew(e)).join(",");{const e=t.filters.map(n=>ew(n)).join(",");return`${t.op}(${e})`}}function mL(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&ui(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&mL(o,i.filters[l]),!0):!1}(t,e):void Re()}function gL(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(gL).join(" ,")+"}"}(t):"Filter"}class Vbe extends Mt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class Fbe extends Mt{constructor(e,n){super(e,"in",n),this.keys=xL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ube extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=xL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class Bbe extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W_(n)&&Hd(n.arrayValue,this.value)}}class zbe extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hd(this.value.arrayValue,n)}}class qbe extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hd(this.value.arrayValue,n)}}class Gbe extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function zj(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Hbe(t,e,n,r,i,s,o)}function K_(t){const e=Ue(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ew(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),f0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.ue=n}return e.ue}function J_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lbe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bj(t.startAt,e.startAt)&&Bj(t.endAt,e.endAt)}function tw(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Wbe(t,e,n,r,i,s,o,l){return new vc(t,e,n,r,i,s,o,l)}function Y_(t){return new vc(t)}function qj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yL(t){return t.collectionGroup!==null}function Mu(t){const e=Ue(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new rn(bn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wd(s,r))}),n.has(bn.keyField().canonicalString())||e.ce.push(new Wd(bn.keyField(),r))}return e.ce}function ri(t){const e=Ue(t);return e.le||(e.le=Kbe(e,Mu(t))),e.le}function Kbe(t,e){if(t.limitType==="F")return zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wd(i.field,s)});const n=t.endAt?new Fm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fm(t.startAt.position,t.startAt.inclusive):null;return zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nw(t,e){const n=t.filters.concat([e]);return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rw(t,e,n){return new vc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function h0(t,e){return J_(ri(t),ri(e))&&t.limitType===e.limitType}function vL(t){return`${K_(ri(t))}|lt:${t.limitType}`}function go(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gL(i)).join(", ")}]`),f0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hl(i)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function p0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Mu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,c){const u=Uj(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Mu(r),i)||r.endAt&&!function(o,l,c){const u=Uj(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Mu(r),i))}(t,e)}function Jbe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bL(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const s=Ybe(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ybe(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(s,o,l){const c=o.data.field(s),u=l.data.field(s);return c!==null&&u!==null?Gl(c,u):Re()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){df(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return uL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xbe=new jt(Ae.comparator);function Hs(){return Xbe}const wL=new jt(Ae.comparator);function fu(...t){let e=wL;for(const n of t)e=e.insert(n.key,n);return e}function Qbe(t){let e=wL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ea(){return Ou()}function _L(){return Ou()}function Ou(){return new bc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zbe=new rn(Ae.comparator);function Be(...t){let e=Zbe;for(const n of t)e=e.add(n);return e}const ewe=new rn(Je);function twe(){return ewe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(e)?"-0":e}}function NL(t){return{integerValue:""+t}}function nwe(t,e){return Ibe(e)?NL(e):X_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this._=void 0}}function rwe(t,e,n){return t instanceof iw?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&G_(s)&&(s=H_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Um?SL(t,e):t instanceof Bm?EL(t,e):function(i,s){const o=swe(i,s),l=Gj(o)+Gj(i.Pe);return Zb(o)&&Zb(i.Pe)?NL(l):X_(i.serializer,l)}(t,e)}function iwe(t,e,n){return t instanceof Um?SL(t,e):t instanceof Bm?EL(t,e):n}function swe(t,e){return t instanceof sw?function(r){return Zb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class iw extends m0{}class Um extends m0{constructor(e){super(),this.elements=e}}function SL(t,e){const n=TL(e);for(const r of t.elements)n.some(i=>ui(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bm extends m0{constructor(e){super(),this.elements=e}}function EL(t,e){let n=TL(e);for(const r of t.elements)n=n.filter(i=>!ui(i,r));return{arrayValue:{values:n}}}class sw extends m0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Gj(t){return kt(t.integerValue||t.doubleValue)}function TL(t){return W_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function awe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Um&&i instanceof Um||r instanceof Bm&&i instanceof Bm?ql(r.elements,i.elements,ui):r instanceof sw&&i instanceof sw?ui(r.Pe,i.Pe):r instanceof iw&&i instanceof iw}(t.transform,e.transform)}class Ia{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ia}static exists(e){return new Ia(void 0,e)}static updateTime(e){return new Ia(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Q_{}function AL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lwe(t.key,Ia.none()):new Z_(t.key,t.data,Ia.none());{const n=t.data,r=Jr.empty();let i=new rn(bn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new g0(t.key,r,new Ns(i.toArray()),Ia.none())}}function owe(t,e,n){t instanceof Z_?function(i,s,o){const l=i.value.clone(),c=Wj(i.fieldTransforms,s,o.transformResults);l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof g0?function(i,s,o){if(!Vh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Wj(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(kL(i)),c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Du(t,e,n,r){return t instanceof Z_?function(s,o,l,c){if(!Vh(s.precondition,o))return l;const u=s.value.clone(),d=Kj(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof g0?function(s,o,l,c){if(!Vh(s.precondition,o))return l;const u=Kj(s.fieldTransforms,c,o),d=o.data;return d.setAll(kL(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,l){return Vh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Hj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(s,o)=>awe(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Z_ extends Q_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class g0 extends Q_{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Wj(t,e,n){const r=new Map;Tt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,iwe(o,l,n[i]))}return r}function Kj(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,rwe(s,o,e))}return r}class lwe extends Q_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cwe{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&owe(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_L();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const c=AL(o,l);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Be())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>Hj(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>Hj(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uwe{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ve;function CL(t){if(t===void 0)return qi("GRPC error has no .code"),he.UNKNOWN;switch(t){case Pt.OK:return he.OK;case Pt.CANCELLED:return he.CANCELLED;case Pt.UNKNOWN:return he.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return he.INTERNAL;case Pt.UNAVAILABLE:return he.UNAVAILABLE;case Pt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Pt.NOT_FOUND:return he.NOT_FOUND;case Pt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Pt.ABORTED:return he.ABORTED;case Pt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Pt.DATA_LOSS:return he.DATA_LOSS;default:return Re()}}(Ve=Pt||(Pt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fwe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hwe=new Pa([4294967295,4294967295],0);function Jj(t){const e=fwe().encode(t),n=new rL;return n.update(e),new Uint8Array(n.digest())}function Yj(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Pa([n,r],0),new Pa([i,s],0)]}class eN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hu(`Invalid padding: ${n}`);if(r<0)throw new hu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Pa.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Pa.fromNumber(r)));return i.compare(hwe)===1&&(i=new Pa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Jj(e),[r,i]=Yj(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new eN(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Jj(e),[r,i]=Yj(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ff.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new x0(Pe.min(),i,new jt(Je),Hs(),Be())}}class ff{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ff(r,n,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jL{constructor(e,n){this.targetId=e,this.me=n}}class PL{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xj{constructor(){this.fe=0,this.ge=Zj(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Be(),n=Be(),r=Be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new ff(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Zj()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Tt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class pwe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hs(),this.qe=Qj(),this.Qe=new jt(Je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(tw(s))if(r===0){const o=new Ae(s.path);this.Ue(n,o,vn.newNoDocument(o,Pe.min()))}else Tt(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Ka(r).toUint8Array()}catch(c){if(c instanceof dL)return zl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new eN(o,i,s)}catch(c){return zl(c instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&tw(l.target)){const c=new Ae(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,vn.newNoDocument(c,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Be();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new x0(e,n,this.Qe,this.ke,r);return this.ke=Hs(),this.qe=Qj(),this.Qe=new jt(Je),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Xj,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new rn(Je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Xj),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Qj(){return new jt(Ae.comparator)}function Zj(){return new jt(Ae.comparator)}const mwe={asc:"ASCENDING",desc:"DESCENDING"},gwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xwe={and:"AND",or:"OR"};class ywe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function aw(t,e){return t.useProto3Json||f0(e)?e:{value:e}}function ow(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function el(t){return Tt(!!t),Pe.fromTimestamp(function(n){const r=Gs(n);return new Jt(r.seconds,r.nanos)}(t))}function RL(t,e){return lw(t,e).canonicalString()}function lw(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ML(t){const e=vt.fromString(t);return Tt(VL(e)),e}function Xx(t,e){const n=ML(e);if(n.get(1)!==t.databaseId.projectId)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(DL(n))}function OL(t,e){return RL(t.databaseId,e)}function vwe(t){const e=ML(t);return e.length===4?vt.emptyPath():DL(e)}function eP(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DL(t){return Tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function bwe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Tt(d===void 0||typeof d=="string"),on.fromBase64String(d||"")):(Tt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),on.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?he.UNKNOWN:CL(u.code);return new be(d,u.message||"")}(o);n=new PL(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xx(t,r.document.name),s=el(r.document.updateTime),o=r.document.createTime?el(r.document.createTime):Pe.min(),l=new Jr({mapValue:{fields:r.document.fields}}),c=vn.newFoundDocument(i,s,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Fh(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xx(t,r.document),s=r.readTime?el(r.readTime):Pe.min(),o=vn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Fh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xx(t,r.document),s=r.removedTargetIds||[];n=new Fh([],s,i,null)}else{if(!("filter"in e))return Re();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new dwe(i,s),l=r.targetId;n=new jL(l,o)}}return n}function wwe(t,e){return{documents:[OL(t,e.path)]}}function _we(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OL(t,i);const s=function(u){if(u.length!==0)return $L(zr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:xo(h.field),direction:Ewe(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=aw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Nwe(t){let e=vwe(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Tt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const h=LL(f);return h instanceof zr&&pL(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new Wd(yo(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,f0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new Fm(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new Fm(x,h)}(n.endAt)),Wbe(e,i,o,s,l,"F",c,u)}function Swe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yo(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=yo(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=yo(n.unaryFilter.field);return Mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>LL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(t):Re()}function Ewe(t){return mwe[t]}function Twe(t){return gwe[t]}function Awe(t){return xwe[t]}function xo(t){return{fieldPath:t.canonicalString()}}function yo(t){return bn.fromServerFormat(t.fieldPath)}function $L(t){return t instanceof Mt?function(n){if(n.op==="=="){if(Fj(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NAN"}};if(Vj(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fj(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NAN"}};if(Vj(n.value))return{unaryFilter:{field:xo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xo(n.field),op:Twe(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>$L(i));return r.length===1?r[0]:{compositeFilter:{op:Awe(n.op),filters:r}}}(t):Re()}function VL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r,i,s=Pe.min(),o=Pe.min(),l=on.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(e){this.ct=e}}function Cwe(t){const e=Nwe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rw(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jwe{constructor(){this.un=new Pwe}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(qs.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class Pwe{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rn(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wl(0)}static kn(){return new Wl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{constructor(){this.changes=new bc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rwe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mwe{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Du(r.mutation,i,Ns.empty(),Jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Be()){const i=Ea();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fu();return s.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ea();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Hs();const o=Ou(),l=function(){return Ou()}();return n.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof g0)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Du(d.mutation,u,d.mutation.getFieldMask(),Jt.now())):o.set(u.key,Ns.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new Rwe(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ou();let i=new jt((o,l)=>o-l),s=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Ns.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(i.get(l.batchId)||Be()).add(c);i=i.insert(l.batchId,f)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=_L();d.forEach(h=>{if(!s.has(h)){const x=AL(n.get(h),r.get(h));x!==null&&f.set(h,x),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ae.resolve(Ea());let l=-1,c=s;return o.next(u=>ae.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),s.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Be())).next(d=>({batchId:l,changes:Qbe(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let i=fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=fu();return this.indexManager.getCollectionParents(e,s).next(l=>ae.forEach(l,c=>{const u=function(f,h){return new vc(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,vn.newInvalidDocument(d)))});let l=fu();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Du(d.mutation,u,Ns.empty(),Jt.now()),p0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Owe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:el(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Cwe(i.bundledQuery),readTime:el(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(){this.overlays=new jt(Ae.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ea();return ae.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=Ea(),s=n.length+1,o=new Ae(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new jt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Ea(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Ea(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=i)););return ae.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new uwe(n,r));let s=this.Ir.get(n);s===void 0&&(s=Be(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lwe{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.Tr=new rn(Gt.Er),this.dr=new rn(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Gt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Ae(new vt([])),r=new Gt(n,e),i=new Gt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ae(new vt([])),r=new Gt(n,e),i=new Gt(n,e+1);let s=Be();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Gt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ae.comparator(e.key,n.key)||Je(e.wr,n.wr)}static Ar(e,n){return Je(e.wr,n.wr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $we{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new rn(Gt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cwe(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Gt(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ae.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),ae.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rn(Je);return n.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new Ae(s),0);let l=new rn(Je);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(c.wr)),!0)},o),ae.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Tt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,i=>{const s=new Gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Gt(n,0),i=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vwe{constructor(e){this.Mr=e,this.docs=function(){return new jt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=Hs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vn.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Hs();const o=n.path,l=new Ae(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||kbe(Abe(d),r)<=0||(i.has(d.key)||p0(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return ae.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Re()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Fwe(this)}getSize(e){return ae.resolve(this.size)}}class Fwe extends Iwe{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{constructor(e){this.persistence=e,this.Nr=new bc(n=>K_(n),J_),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tN,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),ae.waitFor(s).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),ae.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bwe{constructor(e,n){this.qr={},this.overlays={},this.Qr=new q_(0),this.Kr=!1,this.Kr=!0,this.$r=new Lwe,this.referenceDelegate=e(this),this.Ur=new Uwe(this),this.indexManager=new jwe,this.remoteDocumentCache=function(i){return new Vwe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new kwe(n),this.Gr=new Owe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Dwe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new $we(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new zwe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zwe extends jbe{constructor(e){super(),this.currentSequenceNumber=e}}class nN{constructor(e){this.persistence=e,this.Jr=new tN,this.Yr=null}static Zr(e){return new nN(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const i=Ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Be(),i=Be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new rN(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qwe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gwe{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Xye()?8:Pbe(Sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new qwe;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(nu()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",go(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(nu()<=$e.DEBUG&&ve("QueryEngine","Query:",go(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(nu()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",go(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):ae.resolve())}Yi(e,n){if(qj(n))return ae.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rw(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Be(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,rw(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,i){return qj(n)||i.isEqual(Pe.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?ae.resolve(null):(nu()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),go(n)),this.rs(e,o,n,Tbe(i,-1)).next(l=>l))})}ts(e,n){let r=new rn(bL(e));return n.forEach((i,s)=>{p0(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return nu()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",go(n)),this.Ji.getDocumentsMatchingQuery(e,n,qs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new jt(Je),this._s=new bc(s=>K_(s),J_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mwe(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Wwe(t,e,n,r){return new Hwe(t,e,n,r)}async function FL(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let c=Be();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function UL(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Kwe(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let x=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(on.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),i=i.insert(f,x),function(b,v,_){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(s,x))});let c=Hs(),u=Be();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(Jwe(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(Pe.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return ae.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.os=i,s))}function Jwe(t,e,n){let r=Be(),i=Be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Hs();return n.forEach((l,c)=>{const u=s.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Pe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ve("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}function Ywe(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,ae.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Ss(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function cw(t,e,n){const r=Ue(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!uf(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function tP(t,e,n){const r=Ue(t);let i=Pe.min(),s=Be();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Ue(c),h=f._s.get(d);return h!==void 0?ae.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,ri(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Pe.min(),n?s:Be())).next(l=>(Xwe(r,Jbe(e),l),{documents:l,Ts:s})))}function Xwe(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class nP{constructor(){this.activeTargetIds=twe()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qwe{constructor(){this.so=new nP,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zwe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Qx(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1e{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class n1e extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=Qx(),c=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,c,u,i).then(d=>(ve("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw zl("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=e1e[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Qx();return new Promise((o,l)=>{const c=new iL;c.setWithCredentials(!0),c.listenOnce(sL.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $h.NO_ERROR:const d=c.getResponseJson();ve(pn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case $h.TIMEOUT:ve(pn,`RPC '${e}' ${s} timed out`),l(new be(he.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const f=c.getStatus();if(ve(pn,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const y=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(_)>=0?_:he.UNKNOWN}(x.status);l(new be(y,x.message))}else l(new be(he.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new be(he.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ve(pn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ve(pn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Qx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lL(),l=oL(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=s.join("");ve(pn,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const y=new t1e({Io:v=>{x?ve(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(h||(ve(pn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(pn,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),b=(v,_,w)=>{v.listen(_,S=>{try{w(S)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,du.EventType.OPEN,()=>{x||(ve(pn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),b(f,du.EventType.CLOSE,()=>{x||(x=!0,ve(pn,`RPC '${e}' stream ${i} transport closed`),y.So())}),b(f,du.EventType.ERROR,v=>{x||(x=!0,zl(pn,`RPC '${e}' stream ${i} transport errored:`,v),y.So(new be(he.UNAVAILABLE,"The operation could not be completed")))}),b(f,du.EventType.MESSAGE,v=>{var _;if(!x){const w=v.data[0];Tt(!!w);const S=w,C=S.error||((_=S[0])===null||_===void 0?void 0:_.error);if(C){ve(pn,`RPC '${e}' stream ${i} received error:`,C);const T=C.status;let N=function(j){const M=Pt[j];if(M!==void 0)return CL(M)}(T),E=C.message;N===void 0&&(N=he.INTERNAL,E="Unknown error status: "+T+" with message "+C.message),x=!0,y.So(new be(N,E)),f.close()}else ve(pn,`RPC '${e}' stream ${i} received:`,w),y.bo(w)}}),b(l,aL.STAT_EVENT,v=>{v.stat===Xb.PROXY?ve(pn,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Xb.NOPROXY&&ve(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Zx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return new ywe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1e{constructor(e,n,r,i,s,o,l,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new be(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i1e extends r1e{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=bwe(this.serializer,e),r=function(s){if(!("targetChange"in s))return Pe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?el(o.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=eP(this.serializer),n.addTarget=function(s,o){let l;const c=o.target;if(l=tw(c)?{documents:wwe(s,c)}:{query:_we(s,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=IL(s,o.resumeToken);const u=aw(s,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pe.min())>0){l.readTime=ow(s,o.snapshotVersion.toTimestamp());const u=aw(s,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Swe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=eP(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1e extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,lw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(he.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,lw(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(he.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class a1e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(qi(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1e{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{pf(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Ue(c);u.L_.add(4),await hf(u),u.q_.set("Unknown"),u.L_.delete(4),await v0(u)}(this))})}),this.q_=new a1e(r,i)}}async function v0(t){if(pf(t))for(const e of t.B_)await e(!0)}async function hf(t){for(const e of t.B_)await e(!1)}function zL(t,e){const n=Ue(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),oN(n)?aN(n):wc(n).r_()&&sN(n,e))}function iN(t,e){const n=Ue(t),r=wc(n);n.N_.delete(e),r.r_()&&qL(n,e),n.N_.size===0&&(r.r_()?r.o_():pf(n)&&n.q_.set("Unknown"))}function sN(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wc(t).A_(e)}function qL(t,e){t.Q_.xe(e),wc(t).R_(e)}function aN(t){t.Q_=new pwe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wc(t).start(),t.q_.v_()}function oN(t){return pf(t)&&!wc(t).n_()&&t.N_.size>0}function pf(t){return Ue(t).L_.size===0}function GL(t){t.Q_=void 0}async function l1e(t){t.q_.set("Online")}async function c1e(t){t.N_.forEach((e,n)=>{sN(t,e)})}async function u1e(t,e){GL(t),oN(t)?(t.q_.M_(e),aN(t)):t.q_.set("Unknown")}async function d1e(t,e,n){if(t.q_.set("Online"),e instanceof PL&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await iP(t,r)}else if(e instanceof Fh?t.Q_.Ke(e):e instanceof jL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await UL(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(on.EMPTY_BYTE_STRING,d.snapshotVersion)),qL(s,c);const f=new Ss(d.target,c,u,d.sequenceNumber);sN(s,f)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await iP(t,r)}}async function iP(t,e,n){if(!uf(e))throw e;t.L_.add(1),await hf(t),t.q_.set("Offline"),n||(n=()=>UL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await v0(t)})}async function sP(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=pf(n);n.L_.add(3),await hf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await v0(n)}async function f1e(t,e){const n=Ue(t);e?(n.L_.delete(2),await v0(n)):e||(n.L_.add(2),await hf(n),n.q_.set("Unknown"))}function wc(t){return t.K_||(t.K_=function(n,r,i){const s=Ue(n);return s.w_(),new i1e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:l1e.bind(null,t),Ro:c1e.bind(null,t),mo:u1e.bind(null,t),d_:d1e.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),oN(t)?aN(t):t.q_.set("Unknown")):(await t.K_.stop(),GL(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Zo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new lN(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function HL(t,e){if(qi("AsyncQueue",`${e}: ${t}`),uf(t))return new be(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=fu(),this.sortedSet=new jt(this.comparator)}static emptySet(e){return new tl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof tl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new tl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.W_=new jt(Ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Kl{constructor(e,n,r,i,s,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Kl(e,n,tl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&h0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1e{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class p1e{constructor(){this.queries=oP(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ue(n),s=i.queries;i.queries=oP(),s.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new be(he.ABORTED,"Firestore shutting down"))}}function oP(){return new bc(t=>vL(t),h0)}async function m1e(t,e){const n=Ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new h1e,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=HL(o,`Initialization of query '${go(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&cN(n)}async function g1e(t,e){const n=Ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function x1e(t,e){const n=Ue(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&cN(n)}function y1e(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function cN(t){t.Y_.forEach(e=>{e.next()})}var uw,lP;(lP=uw||(uw={})).ea="default",lP.Cache="cache";class v1e{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==uw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.key=e}}class KL{constructor(e){this.key=e}}class b1e{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Be(),this.mutatedKeys=Be(),this.Aa=bL(e),this.Ra=new tl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new aP,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),x=p0(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let v=!1;h&&x?h.data.isEqual(x.data)?y!==b&&(r.track({type:3,doc:x}),v=!0):this.ga(h,x)||(r.track({type:2,doc:x}),v=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),v=!0):h&&!x&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(l=!0)),v&&(x?(o=o.add(x),s=b?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,y){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return b(x)-b(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],c=this.da.size===0&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new Kl(this.query,e.Ra,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new aP,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Be(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new KL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new WL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Be();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class w1e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _1e{constructor(e){this.key=e,this.va=!1}}class N1e{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new bc(l=>vL(l),h0),this.Ma=new Map,this.xa=new Set,this.Oa=new jt(Ae.comparator),this.Na=new Map,this.La=new tN,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function S1e(t,e,n=!0){const r=ZL(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await JL(r,e,n,!0),i}async function E1e(t,e){const n=ZL(t);await JL(n,e,!0,!1)}async function JL(t,e,n,r){const i=await Ywe(t.localStore,ri(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await T1e(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&zL(t.remoteStore,i),l}async function T1e(t,e,n,r,i){t.Ka=(f,h,x)=>async function(b,v,_,w){let S=v.view.ma(_);S.ns&&(S=await tP(b.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,S)));const C=w&&w.targetChanges.get(v.targetId),T=w&&w.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(S,b.isPrimaryClient,C,T);return uP(b,v.targetId,N.wa),N.snapshot}(t,f,h,x);const s=await tP(t.localStore,e,!0),o=new b1e(e,s.Ts),l=o.ma(s.documents),c=ff.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(l,t.isPrimaryClient,c);uP(t,n,u.wa);const d=new w1e(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function A1e(t,e,n){const r=Ue(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!h0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iN(r.remoteStore,i.targetId),dw(r,i.targetId)}).catch(z_)):(dw(r,i.targetId),await cw(r.localStore,i.targetId,!0))}async function k1e(t,e){const n=Ue(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iN(n.remoteStore,r.targetId))}async function YL(t,e){const n=Ue(t);try{const r=await Kwe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Tt(o.va):i.removedDocuments.size>0&&(Tt(o.va),o.va=!1))}),await QL(n,r,e)}catch(r){await z_(r)}}function cP(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const c=Ue(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&cN(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C1e(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new jt(Ae.comparator);o=o.insert(s,vn.newNoDocument(s,Pe.min()));const l=Be().add(s),c=new x0(Pe.min(),new Map,new jt(Je),o,l);await YL(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),uN(r)}else await cw(r.localStore,e,!1).then(()=>dw(r,e,n)).catch(z_)}function dw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||XL(t,r)})}function XL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(iN(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),uN(t))}function uP(t,e,n){for(const r of n)r instanceof WL?(t.La.addReference(r.key,e),j1e(t,r)):r instanceof KL?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||XL(t,r.key)):Re()}function j1e(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),uN(t))}function uN(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Ae(vt.fromString(e)),r=t.qa.next();t.Na.set(r,new _1e(n)),t.Oa=t.Oa.insert(n,r),zL(t.remoteStore,new Ss(ri(Y_(n.path)),r,"TargetPurposeLimboResolution",q_.oe))}}async function QL(t,e,n){const r=Ue(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=rN.Wi(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(c,u){const d=Ue(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,h=>ae.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>ae.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!uf(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),y=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,b)}}}(r.localStore,s))}async function P1e(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await FL(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(c=>{c.reject(new be(he.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await QL(n,r.hs)}}function I1e(t,e){const n=Ue(t),r=n.Na.get(e);if(r&&r.va)return Be().add(r.key);{let i=Be();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function ZL(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=YL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=I1e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C1e.bind(null,e),e.Ca.d_=x1e.bind(null,e.eventManager),e.Ca.$a=y1e.bind(null,e.eventManager),e}class zm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Wwe(this.persistence,new Gwe,e.initialUser,this.serializer)}Ga(e){return new Bwe(nN.Zr,this.serializer)}Wa(e){return new Qwe}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zm.provider={build:()=>new zm};class fw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P1e.bind(null,this.syncEngine),await f1e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p1e}()}createDatastore(e){const n=y0(e.databaseInfo.databaseId),r=function(s){return new n1e(s)}(e.databaseInfo);return function(s,o,l,c){return new s1e(s,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new o1e(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>cP(this.syncEngine,n,0),function(){return rP.D()?new rP:new Zwe}())}createSyncEngine(e,n){return function(i,s,o,l,c,u,d){const f=new N1e(i,s,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ue(i);ve("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await hf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}fw.provider={build:()=>new fw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1e{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1e{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gn.UNAUTHENTICATED,this.clientId=Sbe.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=HL(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await O1e(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sP(e.remoteStore,i)),t._onlineComponents=e}async function O1e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;zl("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new zm)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await ey(t,new zm);return t._offlineComponents}async function D1e(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await dP(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await dP(t,new fw))),t._onlineComponents}async function fP(t){const e=await D1e(t),n=e.eventManager;return n.onListen=S1e.bind(null,e.syncEngine),n.onUnlisten=A1e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=E1e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k1e.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Map;function L1e(t,e,n,r){if(e===!0&&r===!0)throw new be(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pP(t){if(Ae.isDocumentKey(t))throw new be(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Uh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b0(t);throw new be(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new be(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L1e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(he.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mP({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mP(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gbe;switch(r.type){case"firstParty":return new bbe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hP.get(n);r&&(ve("ComponentProvider","Removing Datastore"),hP.delete(n),r.terminate())}(this),Promise.resolve()}}function $1e(t,e,n,r={}){var i;const s=(t=Uh(t,dN))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=gn.MOCK_USER;else{l=qye(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new be(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gn(u)}t._authCredentials=new xbe(new cL(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class hi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class nl extends so{constructor(e,n,r){super(e,n,Y_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new Ae(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function V1e(t,e,...n){if(t=Br(t),t instanceof dN){const r=vt.fromString(e,...n);return pP(r),new nl(t,null,r)}{if(!(t instanceof hi||t instanceof nl))throw new be(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return pP(r),new nl(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new BL(this,"async_queue_retry"),this.Vu=()=>{const r=Zx();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zx();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zx();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zo;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!uf(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=lN.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function xP(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class hw extends dN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new gP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gP(e),this._firestoreClient=void 0,await e}}}function F1e(t,e){const n=typeof t=="object"?t:eL(),r=typeof t=="string"?t:"(default)",i=U_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Bye("firestore");s&&$1e(i,...s)}return i}function U1e(t){if(t._terminated)throw new be(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B1e(t),t._firestoreClient}function B1e(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,u,d){return new Mbe(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,e6(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new M1e(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(on.fromBase64String(e))}catch(n){throw new be(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jl(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1e=/^__.*__$/;function r6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class pN{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(r6(this.Cu)&&z1e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class q1e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y0(e)}Qu(e,n,r,i=!1){return new pN({Cu:e,methodName:n,qu:r,path:bn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function G1e(t){const e=t._freezeSettings(),n=y0(t._databaseId);return new q1e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H1e(t,e,n,r=!1){return mN(n,t.Qu(r?4:3,e))}function mN(t,e){if(i6(t=Br(t)))return K1e("Unsupported field value:",e,t),W1e(t,e);if(t instanceof n6)return function(r,i){if(!r6(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let c=mN(l,i.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Br(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return nwe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Jt.fromDate(r);return{timestampValue:ow(i.serializer,s)}}if(r instanceof Jt){const s=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ow(i.serializer,s)}}if(r instanceof fN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:IL(i.serializer,r._byteString)};if(r instanceof hi){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:RL(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hN)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return X_(l.serializer,c)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${b0(r)}`)}(t,e)}function W1e(t,e){const n={};return uL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):df(t,(r,i)=>{const s=mN(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function i6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof fN||t instanceof Jl||t instanceof hi||t instanceof n6||t instanceof hN)}function K1e(t,e,n){if(!i6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=b0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const J1e=new RegExp("[~\\*/\\[\\]]");function Y1e(t,e,n){if(e.search(J1e)>=0)throw pw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new t6(...e.split("."))._internalPath}catch{throw pw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new be(he.INVALID_ARGUMENT,l+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X1e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class X1e extends s6{data(){return super.data()}}function gN(t,e){return typeof e=="string"?Y1e(t,e):e instanceof t6?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1e(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xN{}class a6 extends xN{}function Z1e(t,e,...n){let r=[];e instanceof xN&&r.push(e),r=r.concat(n),function(s){const o=s.filter(c=>c instanceof vN).length,l=s.filter(c=>c instanceof yN).length;if(o>1||o>0&&l>0)throw new be(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yN extends a6{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yN(e,n,r)}_apply(e){const n=this._parse(e);return o6(e._query,n),new so(e.firestore,e.converter,nw(e._query,n))}_parse(e){const n=G1e(e.firestore);return function(s,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new be(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vP(f,d);const x=[];for(const y of f)x.push(yP(c,s,y));h={arrayValue:{values:x}}}else h=yP(c,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vP(f,d),h=H1e(l,o,f,d==="in"||d==="not-in");return Mt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vN extends xN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const c of l)o6(o,c),o=nw(o,c)}(e._query,n),new so(e.firestore,e.converter,nw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bN extends a6{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bN(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new be(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wd(s,o)}(e._query,this._field,this._direction);return new so(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function e_e(t,e="asc"){const n=e,r=gN("orderBy",t);return bN._create(r,n)}function yP(t,e,n){if(typeof(n=Br(n))=="string"){if(n==="")throw new be(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yL(e)&&n.indexOf("/")!==-1)throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!Ae.isDocumentKey(r))throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $j(t,new Ae(r))}if(n instanceof hi)return $j(t,n._key);throw new be(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b0(n)}.`)}function vP(t,e){if(!Array.isArray(t)||t.length===0)throw new be(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o6(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class t_e{convertValue(e,n="none"){switch(Ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ka(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return df(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>kt(o.doubleValue));return new hN(s)}convertGeoPoint(e){return new fN(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=H_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);Tt(VL(r));const i=new Gd(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(n)||qi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l6 extends s6{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bh extends l6{data(e={}){return super.data(e)}}class n_e{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bh(this._firestore,this._userDataWriter,r.key,r,new pu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const c=new Bh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new Bh(i._firestore,i._userDataWriter,l.doc.key,l.doc,new pu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:r_e(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class c6 extends t_e{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}function i_e(t,...e){var n,r,i;t=Br(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||xP(e[o])||(s=e[o],o++);const l={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(xP(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let c,u,d;if(t instanceof hi)u=Uh(t.firestore,hw),d=Y_(t._key.path),c={next:f=>{e[o]&&e[o](s_e(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Uh(t,so);u=Uh(f.firestore,hw),d=f._query;const h=new c6(u);c={next:x=>{e[o]&&e[o](new n_e(u,h,f,x))},error:e[o+1],complete:e[o+2]},Q1e(t._query)}return function(h,x,y,b){const v=new R1e(b),_=new v1e(x,v,y);return h.asyncQueue.enqueueAndForget(async()=>m1e(await fP(h),_)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>g1e(await fP(h),_))}}(U1e(u),d,l,c)}function s_e(t,e,n){const r=n.docs.get(e._key),i=new c6(t);return new l6(t,i,e._key,r,new pu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){yc=i})(xc),Bl(new Ha("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new hw(new ybe(r.getProvider("auth-internal")),new _be(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new be(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gd(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),$s(Rj,"4.7.3",e),$s(Rj,"4.7.3","esm2017")})();function wN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function u6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const a_e=u6,d6=new lf("auth","Firebase",u6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=new V_("@firebase/auth");function o_e(t,...e){qm.logLevel<=$e.WARN&&qm.warn(`Auth (${xc}): ${t}`,...e)}function zh(t,...e){qm.logLevel<=$e.ERROR&&qm.error(`Auth (${xc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(t,...e){throw _N(t,...e)}function ii(t,...e){return _N(t,...e)}function f6(t,e,n){const r=Object.assign(Object.assign({},a_e()),{[e]:n});return new lf("auth","Firebase",r).create(e,{appName:t.name})}function Ra(t){return f6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d6.create(t,...e)}function Ce(t,e,...n){if(!t)throw _N(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw zh(e),new Error(e)}function Hi(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function l_e(){return bP()==="http:"||bP()==="https:"}function bP(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(l_e()||Kye()||"connection"in navigator)?navigator.onLine:!0}function u_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hi(n>e,"Short delay should be less than long delay!"),this.isMobile=Gye()||Jye()}get(){return c_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t,e){Hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e=new mf(3e4,6e4);function SN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _c(t,e,n,r,i={}){return p6(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=cf(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},s);return Wye()||(u.referrerPolicy="no-referrer"),h6.fetch()(m6(t,t.config.apiHost,n,l),u)})}async function p6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},d_e),e);try{const i=new p_e(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw bh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw bh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw bh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f6(t,d,u);Gi(t,d)}}catch(i){if(i instanceof es)throw i;Gi(t,"network-request-failed",{message:String(i)})}}async function h_e(t,e,n,r,i={}){const s=await _c(t,e,n,r,i);return"mfaPendingCredential"in s&&Gi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function m6(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?NN(t.config,i):`${t.config.apiScheme}://${i}`}class p_e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ii(this.auth,"network-request-failed")),f_e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function bh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ii(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_e(t,e){return _c(t,"POST","/v1/accounts:delete",e)}async function g6(t,e){return _c(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function g_e(t,e=!1){const n=Br(t),r=await n.getIdToken(e),i=EN(r);Ce(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lu(ty(i.auth_time)),issuedAtTime:Lu(ty(i.iat)),expirationTime:Lu(ty(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ty(t){return Number(t)*1e3}function EN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=WD(n);return i?JSON.parse(i):(zh("Failed to decode base64 JWT payload"),null)}catch(i){return zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wP(t){const e=EN(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&x_e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function x_e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Kd(t,g6(n,{idToken:r}));Ce(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?x6(s.providerUserInfo):[],l=b_e(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new gw(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function v_e(t){const e=Br(t);await Gm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function b_e(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function x6(t){return t.map(e=>{var{providerId:n}=e,r=wN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w_e(t,e){const n=await p6(t,{},async()=>{const r=cf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=m6(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",h6.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function __e(t,e){return _c(t,"POST","/v2/accounts:revokeToken",SN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const n=wP(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await w_e(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rl;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ce(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ce(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y_e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Kd(this,this.stsTokenManager.getToken(this.auth,e));return Ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return g_e(this,e)}reload(){return v_e(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_s(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Kd(this,m_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:C,isAnonymous:T,providerData:N,stsTokenManager:E}=n;Ce(S&&E,e,"internal-error");const A=rl.fromJSON(this.name,E);Ce(typeof S=="string",e,"internal-error"),as(f,e.name),as(h,e.name),Ce(typeof C=="boolean",e,"internal-error"),Ce(typeof T=="boolean",e,"internal-error"),as(x,e.name),as(y,e.name),as(b,e.name),as(v,e.name),as(_,e.name),as(w,e.name);const j=new Ti({uid:S,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:x,tenantId:b,stsTokenManager:A,createdAt:_,lastLoginAt:w});return N&&Array.isArray(N)&&(j.providerData=N.map(M=>Object.assign({},M))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new rl;i.updateFromServerResponse(n);const s=new Ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?x6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new rl;l.updateFromIdToken(r);const c=new Ti({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Map;function Ai(t){Hi(t instanceof Function,"Expected a class definition");let e=_P.get(t);return e?(Hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_P.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}y6.type="NONE";const NP=y6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qh(this.userKey,i.apiKey,s),this.fullPersistenceKey=qh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(Ai(NP),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ai(NP);const o=qh(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=Ti._fromJSON(e,d);u!==s&&(l=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new il(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new il(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S6(e))return"Blackberry";if(E6(e))return"Webos";if(b6(e))return"Safari";if((e.includes("chrome/")||w6(e))&&!e.includes("edge/"))return"Chrome";if(N6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function v6(t=Sn()){return/firefox\//i.test(t)}function b6(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w6(t=Sn()){return/crios\//i.test(t)}function _6(t=Sn()){return/iemobile/i.test(t)}function N6(t=Sn()){return/android/i.test(t)}function S6(t=Sn()){return/blackberry/i.test(t)}function E6(t=Sn()){return/webos/i.test(t)}function TN(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function N_e(t=Sn()){var e;return TN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function S_e(){return Yye()&&document.documentMode===10}function T6(t=Sn()){return TN(t)||N6(t)||E6(t)||S6(t)||/windows phone/i.test(t)||_6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t,e=[]){let n;switch(t){case"Browser":n=SP(Sn());break;case"Worker":n=`${SP(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_e(t,e={}){return _c(t,"GET","/v2/passwordPolicy",SN(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_e=6;class k_e{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:A_e,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_e{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EP(this),this.idTokenSubscription=new EP(this),this.beforeStateQueue=new E_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ai(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g6(this,{idToken:e}),r=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_s(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_s(this.app))return Promise.reject(Ra(this));const n=e?Br(e):null;return n&&Ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _s(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _s(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T_e(this),n=new k_e(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await __e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ai(e)||this._popupRedirectResolver;Ce(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o_e(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function AN(t){return Br(t)}class EP{constructor(e){this.auth=e,this.observer=null,this.addObserver=ive(n=>this.observer=n)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j_e(t){kN=t}function P_e(t){return kN.loadJS(t)}function I_e(){return kN.gapiScript}function R_e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_e(t,e){const n=U_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lm(s,e??{}))return i;Gi(i,"already-initialized")}return n.initialize({options:e})}function O_e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D_e(t,e,n){const r=AN(t);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=k6(e),{host:o,port:l}=L_e(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),$_e()}function k6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function L_e(t){const e=k6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:TP(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:TP(o)}}}function TP(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $_e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e){return h_e(t,"POST","/v1/accounts:signInWithIdp",SN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_e="http://localhost";class Ya extends C6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=wN(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ya(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:V_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends j6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps extends gf{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ms.credential(n,r)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends gf{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends gf{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ti._fromIdTokenResponse(e,r,i),o=AP(r);return new Yl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AP(r);return new Yl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AP(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends es{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hm.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hm(e,n,r,i)}}function P6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hm._fromErrorAndOperation(t,s,e,r):s})}async function F_e(t,e,n=!1){const r=await Kd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_e(t,e,n=!1){const{auth:r}=t;if(_s(r.app))return Promise.reject(Ra(r));const i="reauthenticate";try{const s=await Kd(t,P6(r,i,e,t),n);Ce(s.idToken,r,"internal-error");const o=EN(s.idToken);Ce(o,r,"internal-error");const{sub:l}=o;return Ce(t.uid===l,r,"user-mismatch"),Yl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B_e(t,e,n=!1){if(_s(t.app))return Promise.reject(Ra(t));const r="signIn",i=await P6(t,r,e),s=await Yl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function z_e(t,e,n,r){return Br(t).onIdTokenChanged(e,n,r)}function q_e(t,e,n){return Br(t).beforeAuthStateChanged(e,n)}const Wm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wm,"1"),this.storage.removeItem(Wm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_e=1e3,H_e=10;class R6 extends I6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);S_e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H_e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}R6.type="LOCAL";const W_e=R6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6 extends I6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}M6.type="SESSION";const O6=M6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new w0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async u=>u(n.origin,s)),c=await K_e(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}w0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const u=CN("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(h.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function Y_e(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function X_e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q_e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z_e(){return D6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebaseLocalStorageDb",eNe=1,Km="firebaseLocalStorage",$6="fbase_key";class xf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _0(t,e){return t.transaction([Km],e?"readwrite":"readonly").objectStore(Km)}function tNe(){const t=indexedDB.deleteDatabase(L6);return new xf(t).toPromise()}function xw(){const t=indexedDB.open(L6,eNe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Km,{keyPath:$6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Km)?e(r):(r.close(),await tNe(),e(await xw()))})})}async function kP(t,e,n){const r=_0(t,!0).put({[$6]:e,value:n});return new xf(r).toPromise()}async function nNe(t,e){const n=_0(t,!1).get(e),r=await new xf(n).toPromise();return r===void 0?null:r.value}function CP(t,e){const n=_0(t,!0).delete(e);return new xf(n).toPromise()}const rNe=800,iNe=3;class V6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iNe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=w0._getInstance(Z_e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X_e(),!this.activeServiceWorker)return;this.sender=new J_e(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q_e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xw();return await kP(e,Wm,"1"),await CP(e,Wm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kP(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nNe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CP(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=_0(i,!1).getAll();return new xf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rNe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V6.type="LOCAL";const sNe=V6;new mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aNe(t,e){return e?Ai(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN extends C6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function oNe(t){return B_e(t.auth,new jN(t),t.bypassAuthState)}function lNe(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),U_e(n,new jN(t),t.bypassAuthState)}async function cNe(t){const{auth:e,user:n}=t;return Ce(n,e,"internal-error"),F_e(n,new jN(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oNe;case"linkViaPopup":case"linkViaRedirect":return cNe;case"reauthViaPopup":case"reauthViaRedirect":return lNe;default:Gi(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uNe=new mf(2e3,1e4);class Vo extends F6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=CN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uNe.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dNe="pendingRedirect",Gh=new Map;class fNe extends F6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gh.get(this.auth._key());if(!e){try{const r=await hNe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gh.set(this.auth._key(),e)}return this.bypassAuthState||Gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hNe(t,e){const n=gNe(e),r=mNe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pNe(t,e){Gh.set(t._key(),e)}function mNe(t){return Ai(t._redirectPersistence)}function gNe(t){return qh(dNe,t.config.apiKey,t.name)}async function xNe(t,e,n=!1){if(_s(t.app))return Promise.reject(Ra(t));const r=AN(t),i=aNe(r,e),o=await new fNe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yNe=10*60*1e3;class vNe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bNe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!U6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yNe&&this.cachedEventUids.clear(),this.cachedEventUids.has(jP(e))}saveEventToCache(e){this.cachedEventUids.add(jP(e)),this.lastProcessedEventTime=Date.now()}}function jP(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function U6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bNe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wNe(t,e={}){return _c(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NNe=/^https?/;async function SNe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wNe(t);for(const n of e)try{if(ENe(n))return}catch{}Gi(t,"unauthorized-domain")}function ENe(t){const e=mw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!NNe.test(n))return!1;if(_Ne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TNe=new mf(3e4,6e4);function PP(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ANe(t){return new Promise((e,n)=>{var r,i,s;function o(){PP(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PP(),n(ii(t,"network-request-failed"))},timeout:TNe.get()})}if(!((i=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=si().gapi)===null||s===void 0)&&s.load)o();else{const l=R_e("iframefcb");return si()[l]=()=>{gapi.load?o():n(ii(t,"network-request-failed"))},P_e(`${I_e()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function kNe(t){return Hh=Hh||ANe(t),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CNe=new mf(5e3,15e3),jNe="__/auth/iframe",PNe="emulator/auth/iframe",INe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RNe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MNe(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?NN(e,PNe):`https://${t.config.authDomain}/${jNe}`,r={apiKey:e.apiKey,appName:t.name,v:xc},i=RNe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${cf(r).slice(1)}`}async function ONe(t){const e=await kNe(t),n=si().gapi;return Ce(n,t,"internal-error"),e.open({where:document.body,url:MNe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:INe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=ii(t,"network-request-failed"),l=si().setTimeout(()=>{s(o)},CNe.get());function c(){si().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DNe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LNe=500,$Ne=600,VNe="_blank",FNe="http://localhost";class IP{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UNe(t,e,n,r=LNe,i=$Ne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},DNe),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Sn().toLowerCase();n&&(l=w6(u)?VNe:n),v6(u)&&(e=e||FNe,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,y])=>`${h}${x}=${y},`,"");if(N_e(u)&&l!=="_self")return BNe(e||"",l),new IP(null);const f=window.open(e||"",l,d);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new IP(f)}function BNe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zNe="__/auth/handler",qNe="emulator/auth/handler",GNe=encodeURIComponent("fac");async function RP(t,e,n,r,i,s){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xc,eventId:i};if(e instanceof j6){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rve(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof gf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${GNe}=${encodeURIComponent(c)}`:"";return`${HNe(t)}?${cf(l).slice(1)}${u}`}function HNe({config:t}){return t.emulator?NN(t,qNe):`https://${t.authDomain}/${zNe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ny="webStorageSupport";class WNe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=O6,this._completeRedirectFn=xNe,this._overrideRedirectResult=pNe}async _openPopup(e,n,r,i){var s;Hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await RP(e,n,r,mw(),i);return UNe(e,o,CN())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RP(e,n,r,mw(),i);return Y_e(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ONe(e),r=new vNe(e);return n.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ny,{type:ny},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ny];o!==void 0&&n(!!o),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SNe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return T6()||b6()||TN()}}const KNe=WNe;var MP="@firebase/auth",OP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JNe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YNe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XNe(t){Bl(new Ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A6(t)},u=new C_e(r,i,s,c);return O_e(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bl(new Ha("auth-internal",e=>{const n=AN(e.getProvider("auth").getImmediate());return(r=>new JNe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(MP,OP,YNe(t)),$s(MP,OP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QNe=5*60,ZNe=YD("authIdTokenMaxAge")||QNe;let DP=null;const eSe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZNe)return;const i=n==null?void 0:n.token;DP!==i&&(DP=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tSe(t=eL()){const e=U_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M_e(t,{popupRedirectResolver:KNe,persistence:[sNe,W_e,O6]}),r=YD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=eSe(s.toString());q_e(n,o,()=>o(n.currentUser)),z_e(n,l=>o(l))}}const i=KD("auth");return i&&D_e(n,`http://${i}`),n}function nSe(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j_e({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ii("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nSe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XNe("Browser");const rSe={apiKey:"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:"bruzzonecrm.firebaseapp.com",projectId:"bruzzonecrm",storageBucket:"bruzzonecrm.firebasestorage.app",messagingSenderId:"927179271207",appId:"1:927179271207:web:b287dce1ce53b4f3ddb202"},B6=ZD(rSe),iSe=F1e(B6);tSe(B6);function sSe(){const[t,e]=D.useState([]),[n,r]=D.useState(!0);return D.useEffect(()=>{const i=Z1e(V1e(iSe,"users"),e_e("name","asc")),s=i_e(i,o=>{const l=o.docs.map(c=>({id:c.id,...c.data()}));e(l),r(!1)});return()=>s()},[]),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Gestin de Usuarios"}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Administra los accesos y roles de tu ferretera"})]}),a.jsxs("button",{className:"flex items-center justify-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-2xl font-semibold transition-all shadow-lg shadow-blue-200 active:scale-95",children:[a.jsx(b1,{size:20}),"Nuevo Usuario"]})]}),a.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-200",children:[a.jsx("th",{className:"px-8 py-5 text-sm font-semibold text-slate-600 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{className:"px-8 py-5 text-sm font-semibold text-slate-600 uppercase tracking-wider",children:"Rol"}),a.jsx("th",{className:"px-8 py-5 text-sm font-semibold text-slate-600 uppercase tracking-wider text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:n?a.jsx("tr",{children:a.jsx("td",{colSpan:3,className:"px-8 py-12 text-center text-slate-400",children:"Cargando..."})}):t.map(i=>{var s;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-100 flex items-center justify-center font-black text-blue-600 text-lg border border-blue-200 uppercase",children:((s=i.name)==null?void 0:s.charAt(0))||"U"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("p",{className:"font-bold text-slate-800 leading-tight",children:i.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(dg,{size:14}),a.jsx("span",{className:"text-sm",children:i.email})]})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-xl bg-slate-100 text-slate-700 border border-slate-200 w-fit",children:[a.jsx(wF,{size:14,className:"text-slate-500"}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:i.role||"Vendedor"})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsx("button",{className:"p-2 hover:bg-slate-100 rounded-xl transition-all text-slate-400",children:a.jsx(x1,{size:20})})})]},i.id)})})]})})})]})}const aSe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:i,deleteBranch:s}=At(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const y=S=>{const{name:C,value:T,type:N}=S.target,E=S.target.checked;x(A=>({...A,[C]:N==="checkbox"?E:T}))},b=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await i(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(S){alert("Error al guardar la sucursal."),console.error("Error saving branch:",S)}},v=S=>{f(S),u(!0)},_=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(Di,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(ef,{className:"w-4 h-4"})," Reintentar"]})]});const w=t.reduce((S,C)=>S+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:_,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(S=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${S.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Po,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${S.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:S.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx(x1,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:S.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(g1,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:S.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[S.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(_r,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:S.manager})]})]})})]}),a.jsxs("button",{onClick:()=>v(S),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(rr,{className:"w-4 h-4"})]})]},S.id)),a.jsxs("button",{onClick:_,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(Fr,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(S=>S.dailySales>0).map(S=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:S.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${S.dailySales/w*100}%`}})})]},S.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",w.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Li,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Po,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Po,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(Cn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Po,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Hn,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(eF,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:S=>x(C=>({...C,status:S.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(Nn,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},oSe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[i]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),s=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=i.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(dx,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(YV,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:i.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(ai,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:i.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(oi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Fr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(nM,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),s.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(hl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),s.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(ai,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(f1,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx($i,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(hF,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(dx,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(He,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(dx,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),s.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(oi,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},lSe=20,cSe=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:i,fetchProductsPaginatedAndFiltered:s}=At(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,x]=D.useState(!1),[y,b]=D.useState([]),[v,_]=D.useState(null),[w,S]=D.useState(!0),[C,T]=D.useState(!1),N=D.useRef(null),[E,A]=D.useState(null),[j,M]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[P,O]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[R,z]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[F,$]=D.useState({isFractionable:!1,unitName:"",unitsPerParent:1}),[B,V]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),H=D.useCallback(async(q=!1,X=o,ee=v)=>{T(!0);try{const ce={limit:lSe,searchTerm:X.toLowerCase().trim(),startAfterDoc:q?void 0:ee,orderByField:"name",orderDirection:"asc"},{products:G,lastVisible:se,hasMore:ue}=await s(ce);b(ie=>q?G:[...ie,...G]),_(se),S(ue)}catch(ce){console.error("Error loading products:",ce)}finally{T(!1)}},[o,v,s]);D.useEffect(()=>{t||H(!0,o,null)},[o,t,H]);const J=U.useMemo(()=>{let q=P.baseCost;P.discounts.forEach(ce=>{ce>0&&(q=q*(1-ce/100))});const X=q*(1+P.markup/100),ee=X*(1+P.ivaRate/100);return{netCost:q,priceWithoutIva:X,finalSalePrice:ee}},[P]),W=()=>{A(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),z({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),$({isFractionable:!1,unitName:"",unitsPerParent:1}),V({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},Y=q=>{A(q),q?(M({name:q.name,sku:q.sku,category:q.category,brand:q.brand,saleCurrency:q.saleCurrency||"ARS",supplierProductCode:q.supplierProductCode||"",imageUrl:q.imageUrl||"",primaryUnit:q.primaryUnit||"unidad",saleUnit:q.saleUnit||"unidad"}),O({baseCost:q.costPrice||0,ivaRate:21,discounts:[],markup:q.salePrice&&q.costPrice?(q.salePrice/(q.costPrice*1.21)-1)*100:30,supplierId:q.supplierId||"",purchaseCurrency:q.purchaseCurrency||"ARS"}),z({stock:q.stock,minStock:q.minStock||5,location:q.location||"",reorderPoint:q.reorderPoint||0,targetStock:q.targetStock||0,packQuantity:q.packQuantity||1}),$({isFractionable:q.isFractionable||!1,unitName:q.unitName||"",unitsPerParent:q.unitsPerParent||1}),V({isOnline:q.isOnline||!1,onlinePriceAdjustment:q.onlinePriceAdjustment||0,mlSync:q.mlSync||!1})):W(),u(!0)},re=q=>{var ee;const X=(ee=q.target.files)==null?void 0:ee[0];if(X){const ce=new FileReader;ce.onload=G=>{M(se=>{var ue;return{...se,imageUrl:(ue=G.target)==null?void 0:ue.result}})},ce.readAsDataURL(X)}},we=async()=>{x(!0);const q={sku:j.sku||"",name:j.name||"",supplierId:P.supplierId||"",costPrice:J.netCost,salePrice:J.finalSalePrice,stock:R.stock,category:j.category||"General",brand:j.brand||"N/A",reorderPoint:R.reorderPoint,targetStock:R.targetStock,packQuantity:R.packQuantity,purchaseCurrency:P.purchaseCurrency,saleCurrency:j.saleCurrency||"ARS",supplierProductCode:j.supplierProductCode||"",minStock:R.minStock,location:R.location,imageUrl:j.imageUrl,primaryUnit:j.primaryUnit||"unidad",saleUnit:j.saleUnit||"unidad",isFractionable:F.isFractionable,unitName:F.unitName,unitsPerParent:F.unitsPerParent,isOnline:B.isOnline,onlinePriceAdjustment:B.onlinePriceAdjustment,mlSync:B.mlSync};try{E?await n(E.id,q):await e(q),u(!1),W(),H(!0)}catch(X){alert("Error al guardar"),console.error("Error saving product:",X)}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),a.jsxs("button",{onClick:()=>{Y(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:o,onChange:q=>l(q.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map(q=>{var X;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:q.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:q.sku})]}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:q.stock}),a.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(X=q.salePrice)==null?void 0:X.toLocaleString()]}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("button",{onClick:()=>Y(q),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx($i,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(q.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(an,{className:"w-4 h-4"})})]})]},q.id)})})]}),C&&a.jsxs("div",{className:"p-10 text-center",children:[a.jsx(qe,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[a.jsx("h2",{className:"text-xl font-black uppercase",children:E?"Editar Producto":"Nuevo Producto"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[600px]",children:[" ",a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:hl},{id:"costs",label:"Costos y Precios",icon:Mn},{id:"inventory",label:"Inventario Fsico",icon:rv},{id:"fractioned",label:"Venta Fraccionada",icon:rd},{id:"ecommerce",label:"E-commerce",icon:Ms}].map(q=>a.jsxs("button",{onClick:()=>f(q.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===q.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[a.jsx(q.icon,{className:"w-4 h-4 inline-block mr-2"}),q.label]},q.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(hl,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Producto"}),a.jsx("input",{value:j.name||"",onChange:q=>M({...j,name:q.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"SKU / Cdigo Interno"}),a.jsx("input",{value:j.sku||"",onChange:q=>M({...j,sku:q.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidad Primaria (Stock)"}),a.jsxs("select",{value:j.primaryUnit||"unidad",onChange:q=>M({...j,primaryUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidad de Venta"}),a.jsxs("select",{value:j.saleUnit||"unidad",onChange:q=>M({...j,saleUnit:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),a.jsx("input",{value:j.category||"",onChange:q=>M({...j,category:q.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsx("input",{value:j.brand||"",onChange:q=>M({...j,brand:q.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),a.jsx("input",{value:j.supplierProductCode||"",onChange:q=>M({...j,supplierProductCode:q.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),a.jsxs("select",{value:j.saleCurrency||"ARS",onChange:q=>M({...j,saleCurrency:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(nd,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:[j.imageUrl?a.jsx("img",{src:j.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):a.jsx(nd,{className:"w-8 h-8 text-slate-300"}),j.imageUrl&&a.jsx("button",{onClick:()=>M(q=>({...q,imageUrl:""})),className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(He,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{var q;return(q=N.current)==null?void 0:q.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Tp,{className:"w-4 h-4"})," Subir Imagen"]}),a.jsx("input",{ref:N,type:"file",className:"hidden",accept:"image/*",onChange:re}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"Formatos: JPG, PNG. Max 2MB."})]})]})]})]}),d==="costs"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Mn,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costo Base Unitario ($)"}),a.jsx("input",{type:"number",value:P.baseCost||"",onChange:q=>O({...P,baseCost:Number(q.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Porcentaje de IVA (%)"}),a.jsx("input",{type:"number",value:P.ivaRate||"",onChange:q=>O({...P,iivaRate:Number(q.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(p1,{className:"w-4 h-4 text-blue-600"})," Descuentos en Cascada"]}),a.jsx("p",{className:"text-[10px] text-slate-500 italic ml-1",children:"Aplica descuentos sucesivos al costo base (ej: 10% + 5% + 2%)."}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:P.discounts.map((q,X)=>a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:q||"",onChange:ee=>{const ce=[...P.discounts];ce[X]=Number(ee.target.value),O({...P,discounts:ce})},placeholder:"%",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-center"}),q>0&&a.jsx("button",{onClick:()=>{const ee=P.discounts.filter((ce,G)=>G!==X);O({...P,discounts:ee.concat(0).slice(0,3)})},className:"absolute top-1/2 right-2 -translate-y-1/2 p-1 text-red-500 hover:text-red-700",children:a.jsx(He,{className:"w-4 h-4"})})]},X))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen de Ganancia (Markup %)"}),a.jsx("input",{type:"number",value:P.markup||"",onChange:q=>O({...P,markup:Number(q.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),a.jsxs("select",{value:P.supplierId||"",onChange:q=>O({...P,supplierId:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Ninguno"}),i.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Compra"}),a.jsxs("select",{value:P.purchaseCurrency||"ARS",onChange:q=>O({...P,purchaseCurrency:q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio de Venta Sugerido (IVA Incl.)"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",J.finalSalePrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(y1,{className:"w-4 h-4"}),a.jsxs("span",{children:["Margen Neto: ",P.markup,"%"]})]})]}),a.jsx(Mn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rv,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),a.jsx("input",{type:"number",value:R.stock||"",onChange:q=>z({...R,stock:Number(q.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Mnimo de Alerta"}),a.jsx("input",{type:"number",value:R.minStock||"",onChange:q=>z({...R,minStock:Number(q.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin en Depsito"}),a.jsx("input",{value:R.location||"",onChange:q=>z({...R,location:q.target.value}),placeholder:"Ej: A-05-Estante 2",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Reorden"}),a.jsx("input",{type:"number",value:R.reorderPoint||"",onChange:q=>z({...R,reorderPoint:Number(q.target.value)}),placeholder:"10",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:R.targetStock||"",onChange:q=>z({...R,targetStock:Number(q.target.value)}),placeholder:"20",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad por Bulto/Pack"}),a.jsx("input",{type:"number",value:R.packQuantity||"",onChange:q=>z({...R,packQuantity:Number(q.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(rd,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada (por unidad de medida)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Permite vender este producto en unidades menores a su formato de compra (ej. por metro, por kilogramo)."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.isFractionable||!1,onChange:q=>$({...F,isFractionable:q.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Venta Fraccionada"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, podrs vender por unidades de medida ms pequeas."})]})]}),F.isFractionable&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Unidad Fraccionada"}),a.jsx("input",{value:F.unitName||"",onChange:q=>$({...F,unitName:q.target.value}),placeholder:"Ej: Metro, Kilogramo, Unidad",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidades por Producto Padre"}),a.jsx("input",{type:"number",value:F.unitsPerParent||"",onChange:q=>$({...F,unitsPerParent:Number(q.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"bg-purple-50 p-6 rounded-[2rem] border border-purple-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-purple-900",children:"Ejemplo:"}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:'Si vendes "Cable Unipolar" por metro, y el producto "Cable Unipolar (Rollo 100mts)" tiene 100 "Metros" como unidad fraccionada.'})]})]})]})]}),d==="ecommerce"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ms,{className:"w-4 h-4 text-yellow-600"})," Configuracin E-Commerce"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la presencia online de este producto en tu tienda web y MercadoLibre."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.isOnline||!1,onChange:q=>V({...B,isOnline:q.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar en Tienda Web Propia"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, el producto aparecer en tu tienda online."})]})]}),B.isOnline&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajuste de Precio Online (%)"}),a.jsx("input",{type:"number",value:B.onlinePriceAdjustment||"",onChange:q=>V({...B,onlinePriceAdjustment:Number(q.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ej: +5% para cubrir costos de pasarela de pago."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sincronizar con MercadoLibre"}),a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.mlSync||!1,onChange:q=>V({...B,mlSync:q.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-yellow-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase flex items-center gap-2",children:[a.jsx(Ap,{className:"w-4 h-4 text-yellow-500"}),"ML Auto-Sync"]})})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-6 rounded-[2rem] border border-yellow-100 flex items-start gap-4",children:[a.jsx(ai,{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"MercadoLibre:"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"La sincronizacin de precios y stock con ML se configura en el mdulo de E-commerce."})]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:we,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[h?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Nn,{className:"w-5 h-5 text-orange-500"}),h?"Guardando...":"Guardar Producto"]})]})]})})]})},uSe=()=>{var b;const t=D.useRef(null),[e,n]=D.useState(1),[r,i]=D.useState(null),[s,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Qy,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:_r,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:oi,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:Va,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:h1,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=v=>{switch(v){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=v=>{var w;const _=(w=v.target.files)==null?void 0:w[0];o(_||null)},y=()=>{if(!s)return;c(!0);let v=0;const _=setInterval(()=>{v+=10,d(v),v>=100&&(clearInterval(_),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(XR,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Us},{id:2,label:"Cargar Archivo",icon:ev},{id:3,label:"Mapear Columnas",icon:wt},{id:4,label:"Anlisis y Carga",icon:Cn}].map((v,_)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===v.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=v.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>v.id?a.jsx(Cn,{className:"w-6 h-6"}):v.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:v.label})]}),_<3&&a.jsx(rr,{className:"w-5 h-5 text-slate-100"})]},v.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(v=>a.jsxs("button",{onClick:()=>{i(v.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${v.bg} ${v.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(v.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:v.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:v.desc})]},v.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(Zy,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(b=f.find(v=>v.id===r))==null?void 0:b.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var v;return(v=t.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[s?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Zy,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:s.name}),a.jsxs("button",{onClick:v=>{v.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(He,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ev,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(lu,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!s,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Us,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(v=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[v.label," ",v.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(rr,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},v.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(ir,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(Cn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(Cn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(Cn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:y,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(qe,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Di,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(Di,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(Cn,{className:"w-5 h-5"})]})]})]})]})]})},dSe=10,fSe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=At(),[n,r]=D.useState("sugerencias"),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:dSe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{i&&d(i)},[i,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(nt,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:i,onChange:f=>s(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(pl,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(qe,{className:"animate-spin mx-auto"})]})]})]})},hSe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=At(),[i,s]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),y=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],b=N=>{const E=encodeURIComponent(`Hola ${N.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(N.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${N.whatsapp}?text=${E}`,"_blank")},v=t.filter(N=>(N.name.toLowerCase().includes(o.toLowerCase())||N.cuit.includes(o))&&(i==="clients"?N.balance<0:!0)),_=e.filter(N=>N.name.toLowerCase().includes(o.toLowerCase())||N.cuit.includes(o)),w=t.filter(N=>N.balance<0).reduce((N,E)=>N+Math.abs(E.balance),0),S=e.reduce((N,E)=>N+Math.abs(E.balance),0),C=()=>{u(null),f(null)},T=()=>{const N=h.type==="RECIBO",E=N?c:d;return E?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${N?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(iM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:N?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[E.name,"  ",E.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${N?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",N?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:id},{id:"transfer",label:"Transferencia",icon:bp},{id:"check",label:"Cheque",icon:Hn}].map(A=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(A.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:A.label})]},A.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${N?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(Nn,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const N=!!c,E=N?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&T(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(XR,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:N?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${N?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," ",N?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${N?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${N?"bg-orange-600":"bg-blue-600"}`,children:E.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:E.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:E.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:N?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(E.balance).toLocaleString()]})]})]}),a.jsx(Mn,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(f1,{className:`w-5 h-5 ${N?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(A.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:A.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:A.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(td,{className:"w-4 h-4"})," Ver"]})})]},A.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(oM,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",w.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(Fr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(Mn,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(w-S).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(_r,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>s("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${i==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(oi,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:N=>l(N.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:i==="clients"?v.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(N),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:N.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(N.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:E=>{E.stopPropagation(),b(N)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(dF,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(rr,{className:"w-5 h-5 text-slate-300"})]})})]},N.id)):_.map(N=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(N),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:N.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(N.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(rr,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},N.id))})]})]})]})},pSe=()=>{const{transactions:t}=At(),[e,n]=D.useState("boxes"),[r,i]=D.useState({show:!1,type:null}),[s,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,y]=D.useState([{id:"1",name:"Caja Mostrador 01",balance:142500,type:"efectivo",status:"abierta",responsible:"Carlos V."},{id:"2",name:"Banco Nacin (Cta Cte)",balance:45e4,type:"banco",status:"abierta",responsible:"Admin"},{id:"3",name:"Caja Fuerte / Reserva",balance:12e5,type:"efectivo",status:"cerrada",lastClosed:"2024-05-20"},{id:"4",name:"Cartera de Cheques",balance:85400,type:"cheques",status:"abierta"}]),[b,v]=D.useState([{id:"m1",date:new Date().toISOString(),boxId:"1",type:"ingreso",amount:4500,method:"efectivo",category:"Venta",description:"Ticket #4829",user:"Carlos V."},{id:"m2",date:new Date().toISOString(),boxId:"1",type:"egreso",amount:1200,method:"efectivo",category:"Gastos",description:"Compra de artculos limpieza",user:"Carlos V."},{id:"m3",date:new Date().toISOString(),boxId:"2",type:"transferencia",amount:5e4,method:"transferencia",category:"Interno",description:"De Caja Mostrador a Banco",user:"Admin"}]),_=D.useMemo(()=>x.reduce((N,E)=>N+E.balance,0),[x]),w=D.useMemo(()=>x.filter(N=>N.type==="efectivo").reduce((N,E)=>N+E.balance,0),[x]),S=N=>{N.preventDefault();const E=new FormData(N.currentTarget),A=parseFloat(E.get("amount")),j=E.get("boxId"),M=r.type,P={id:`m${Date.now()}`,date:new Date().toISOString(),boxId:j,type:M,amount:A,method:E.get("method"),category:E.get("category"),description:E.get("description"),user:"Admin"};v([P,...b]),y(O=>O.map(R=>R.id===j?{...R,balance:M==="egreso"?R.balance-A:R.balance+A}:R)),i({show:!1,type:null}),alert("Movimiento registrado con xito")},C=N=>{N.preventDefault();const E=new FormData(N.currentTarget),A=E.get("name"),j=E.get("type"),M=E.get("responsible"),P=parseFloat(E.get("balance"))||0;if(f)y(O=>O.map(R=>R.id===f.id?{...R,name:A,type:j,responsible:M}:R)),alert("Caja actualizada con xito");else{const O={id:`box-${Date.now()}`,name:A,type:j,responsible:M,balance:P,status:"abierta"};y(R=>[...R,O]),alert("Nueva caja creada con xito")}c(!1),h(null)},T=N=>{window.confirm("Ests seguro de eliminar este fondo? Solo puedes hacerlo si no tiene movimientos pendientes.")&&y(E=>E.filter(A=>A.id!==N))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Control de Cajas"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Gestin de flujo de fondos, arqueos y transferencias bancarias."})]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>n("boxes"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="boxes"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Estado de Fondos"}),a.jsx("button",{onClick:()=>n("history"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="history"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Historial de Movimientos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",_.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(aM,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(Mn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(KV,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",w.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(bp,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.filter(N=>N.type==="banco").reduce((N,E)=>N+E.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(Rs,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Tarjetas / MP"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$45.820"})]})]})]}),e==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.map(N=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${N.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:N.type==="banco"?a.jsx(bp,{className:"w-6 h-6"}):N.type==="virtual"?a.jsx(Rs,{className:"w-6 h-6"}):a.jsx(id,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{h(N),c(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx($i,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(N.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(an,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:N.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",N.balance.toLocaleString()]}),N.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:N.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{d(N),o(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(xp,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>i({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(L2,{className:"w-4 h-4"})," Transferir"]})]})]}),N.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",N.lastClosed]}),a.jsxs("button",{onClick:()=>y(E=>E.map(A=>A.id===N.id?{...A,status:"abierta"}:A)),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(nt,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},N.id)),a.jsxs("button",{onClick:()=>{h(null),c(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(nt,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Fr,{className:"w-4 h-4 text-orange-600"})," Acciones de Tesorera"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>i({show:!0,type:"ingreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-green-50 border border-transparent hover:border-green-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-green-600 shadow-sm group-hover:bg-green-600 group-hover:text-white transition-all",children:a.jsx(D2,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ingreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Aporte, Sobrante, Devolucin"})]})]}),a.jsx(rr,{className:"w-5 h-5 text-slate-300"})]}),a.jsxs("button",{onClick:()=>i({show:!0,type:"egreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-red-50 border border-transparent hover:border-red-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-red-600 shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all",children:a.jsx($2,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Egreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gastos, Retiro, Pago Varios"})]})]}),a.jsx(rr,{className:"w-5 h-5 text-slate-300"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsx(ir,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejo de Control"}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Realiza cierres de caja al menos una vez al da para detectar desvos de efectivo. Las transferencias a banco deben registrarse inmediatamente para mantener la conciliacin exacta."}),a.jsxs("button",{className:"text-orange-400 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:underline",children:["Ver Gua de Auditora ",a.jsx(Li,{className:"w-3 h-3"})]})]})]})]})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(nM,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Medio"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(N=>{var E;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(N.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(N.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((E=x.find(A=>A.id===N.boxId))==null?void 0:E.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:N.category}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:N.description})]}),a.jsx("td",{className:"px-8 py-5 uppercase font-black text-[10px] text-slate-500",children:N.method}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${N.type==="egreso"?"text-red-600":N.type==="ingreso"?"text-green-600":"text-blue-600"}`,children:[N.type==="egreso"?"-":N.type==="transferencia"?"":"+","$",N.amount.toLocaleString()]})}),a.jsxs("td",{className:"px-8 py-5 text-center",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(td,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(Sp,{className:"w-5 h-5"})})]})]},N.id)})})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(id,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:f?"Editar Caja":"Nueva Caja / Fondo"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de activos financieros"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:C,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Caja / Cuenta"}),a.jsx("input",{name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Caja Chica Mostrador"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:(f==null?void 0:f.type)||"efectivo",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"}),a.jsx("option",{value:"cheques",children:"Cartera de Cheques"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:(f==null?void 0:f.responsible)||"",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre del encargado"})]})]}),!f&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mn,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full pl-12 pr-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-xl text-orange-600",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 uppercase text-xs tracking-widest hover:bg-orange-500 transition-all",children:f?"Guardar Cambios":"Crear Caja"})]})]})]})}),r.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${r.type==="ingreso"?"bg-green-600":r.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.type==="ingreso"?a.jsx(D2,{className:"w-6 h-6"}):r.type==="egreso"?a.jsx($2,{className:"w-6 h-6"}):a.jsx(L2,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",r.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Movimiento de tesorera manual"})]})]}),a.jsx("button",{onClick:()=>i({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja Origen/Destino"}),a.jsx("select",{name:"boxId",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500",children:x.filter(N=>N.status==="abierta").map(N=>a.jsx("option",{value:N.id,children:N.name},N.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsx("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:r.type==="ingreso"?a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Aporte Propietario"}),a.jsx("option",{children:"Sobrante de Caja"}),a.jsx("option",{children:"Devolucin Proveedor"}),a.jsx("option",{children:"Otros Ingresos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Gasto Limpieza/Insumos"}),a.jsx("option",{children:"Retiro de Propietario"}),a.jsx("option",{children:"Pago a Cadete/Flete"}),a.jsx("option",{children:"Sueldos / Adelantos"}),a.jsx("option",{children:"Servicios (Luz, Gas, etc)"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medio de Pago"}),a.jsxs("select",{name:"method",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"transferencia",children:"Transferencia / QR"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Motivo detallado del movimiento..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>i({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${r.type==="ingreso"?"bg-green-600 shadow-green-600/20":"bg-red-600 shadow-red-600/20"}`,children:"Confirmar Registro"})]})]})]})}),s&&u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(xp,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Arqueo de Caja"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:u.name})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-white",children:a.jsx(He,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumen Sistema"}),a.jsxs("div",{className:"space-y-3 bg-slate-50 p-6 rounded-3xl border border-slate-100 shadow-inner",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-slate-500",children:[a.jsx("span",{children:"Saldo Inicial:"}),a.jsx("span",{children:"$100.000"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-green-600",children:[a.jsx("span",{children:"Ventas (+):"}),a.jsx("span",{children:"$45.200"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-red-500",children:[a.jsx("span",{children:"Egresos (-):"}),a.jsx("span",{children:"$2.700"})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center font-black text-slate-900 text-lg",children:[a.jsx("span",{children:"Saldo Esperado:"}),a.jsxs("span",{children:["$",u.balance.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conteo Fsico"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Efectivo en Caja ($)"}),a.jsx("input",{type:"number",placeholder:"Ingresa monto contado...",className:"w-full px-5 py-4 border-2 border-orange-100 rounded-2xl focus:ring-4 focus:ring-orange-500/20 outline-none font-black text-2xl text-orange-600 shadow-sm"}),a.jsx("p",{className:"text-[9px] text-slate-400 italic",children:"Cuenta cada billete y moneda antes de cerrar."})]})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx(ai,{className:"w-8 h-8 text-orange-600 shrink-0"}),a.jsx("p",{className:"text-xs font-bold text-orange-900 leading-relaxed",children:'Al cerrar la caja, se generar un reporte de arqueo. Si existe diferencia, se registrar como "Faltante/Sobrante" automticamente para auditar luego.'})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{y(N=>N.map(E=>E.id===u.id?{...E,status:"cerrada",lastClosed:new Date().toLocaleDateString()}:E)),alert("Caja Cerrada con xito. Reporte impreso."),o(!1)},className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Confirmar Arqueo y Cerrar Caja ",a.jsx(Nn,{className:"w-5 h-5"})]})]})]})})]})};var z6={};async function mSe(t,e){const r=await new $_({apiKey:z6.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:it.OBJECT,properties:{invoiceNumber:{type:it.STRING},supplierName:{type:it.STRING},supplierCuit:{type:it.STRING},date:{type:it.STRING},items:{type:it.ARRAY,items:{type:it.OBJECT,properties:{sku:{type:it.STRING},description:{type:it.STRING},quantity:{type:it.NUMBER},unitPrice:{type:it.NUMBER},total:{type:it.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:it.NUMBER},iva:{type:it.NUMBER},totalAmount:{type:it.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}async function gSe(t){const e=new $_({apiKey:z6.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). Ejemplo: [{ "productName": "martillo", "quantity": 2 }, { "productName": "cemento", "quantity": 1 }].
  
  Mensaje: "${t}"`;try{const s=((await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:it.ARRAY,items:{type:it.OBJECT,properties:{productName:{type:it.STRING,description:"The name of the product mentioned."},quantity:{type:it.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"],propertyOrdering:["productName","quantity"]}}}})).text||"[]").replace(/```json\s*|```/g,"").trim();return JSON.parse(s)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const xSe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e,addProduct:n}=At(),r=D.useRef(null),[i,s]=D.useState("ia"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=w=>{var C;const S=(C=w.target.files)==null?void 0:C[0];if(S){const T=new FileReader;T.onload=N=>{var E;f({name:S.name,type:S.type,preview:(E=N.target)==null?void 0:E.result})},T.readAsDataURL(S)}},b=async()=>{if(d){l(!0);try{const w=d.preview.split(",")[1],S=await mSe(w,d.type),C=await Promise.all(S.items.map(async T=>{const{products:N}=await e({limit:1,searchTerm:T.sku||T.description.split(" ")[0],orderByField:"name"});return{...T,matchedProduct:N[0]}}));x({invoiceNumber:S.invoiceNumber||"",supplierName:S.supplierName||"",date:S.date||new Date().toISOString().split("T")[0],items:C}),alert("Documento procesado con xito.")}catch(w){console.error(w),alert("Error al procesar el documento con IA.")}finally{l(!1)}}},v=async()=>{u(!0);try{for(const w of h.items)if(w.matchedProduct){const S=(w.matchedProduct.stock||0)+w.quantity;await t(w.matchedProduct.id,{costPrice:w.unitPrice,stock:S})}else console.log("Producto no encontrado, debera crearse:",w.description);alert("Compra registrada. Inventario y costos actualizados."),x({invoiceNumber:"",supplierName:"",date:"",items:[]}),f(null)}finally{u(!1)}},_=h.items.reduce((w,S)=>w+S.unitPrice*S.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>s("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${i==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(nv,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>s("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${i==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(nt,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[i==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(EF,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),d?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[d.type.includes("image")?a.jsx("img",{src:d.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Hn,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:d.name})]}),a.jsx("button",{onClick:()=>f(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(He,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(nv,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var w;return(w=r.current)==null?void 0:w.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Hn,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:r,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ir,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:h.supplierName,onChange:w=>x({...h,supplierName:w.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:h.invoiceNumber,onChange:w=>x({...h,invoiceNumber:w.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:h.date,onChange:w=>x({...h,date:w.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(rM,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[h.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(nd,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):h.items.map((w,S)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.description}),w.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(Cn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",w.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(ai,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:w.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",w.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",w.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(an,{className:"w-4 h-4"})})})]},S))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",_.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(_*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:v,disabled:c||h.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[c?a.jsx(qe,{className:"animate-spin w-6 h-6"}):a.jsx(Nn,{className:"w-6 h-6"}),c?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},ySe=20,vSe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=At(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,y]=D.useState(!1),[b,v]=D.useState([]),[_,w]=D.useState(null),[S,C]=D.useState(!0),[T,N]=D.useState(!1),E=D.useRef(),A=D.useCallback(R=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{i(R)},300)},[]),j=D.useCallback(async(R=!1,z=r,F=_)=>{N(!0);try{const $={limit:ySe,searchTerm:z.toLowerCase().trim(),startAfterDoc:R?void 0:F,orderByField:"name",orderDirection:"asc"},{products:B,lastVisible:V,hasMore:H}=await n($);v(J=>R?B:[...J,...B]),w(V),C(H)}catch($){console.error("Error loading products:",$)}finally{N(!1)}},[r,_,n]);D.useEffect(()=>{e||(v([]),w(null),C(!0),j(!0,r,null))},[r,e,j]);const M=R=>{c(R),d(0),h(""),o(!0)},P=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}y(!0);try{const R=(l.stock||0)+u;await t(l.id,{stock:R}),alert(`Stock de "${l.name}" ajustado a ${R} unidades.`),o(!1),c(null),v(z=>z.map(F=>F.id===l.id?{...F,stock:R}:F))}catch(R){console.error("Error al guardar el ajuste de stock:",R),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{y(!1)}}};return(e||T)&&b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:R=>{i(R.target.value),A(R.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[b.map(R=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(hl,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:R.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[R.sku,"  ",R.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${R.stock<(R.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:R.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:R.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>M(R),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx($i,{className:"w-5 h-5"})," Ajustar"]})})]},R.id)),b.length===0&&!T&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),T&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!T&&S&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>j(!1,r,_),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Li,{className:"w-4 h-4 -rotate-90"})]})})]}),s&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx($i,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(R=>R-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(fF,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:R=>d(Number(R.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(R=>R+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(pl,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Nn,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},bSe=20,wSe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=At(),[i,s]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[y,b]=D.useState(null),[v,_]=D.useState(!0),[w,S]=D.useState(!1),C=D.useRef(),T=D.useCallback(F=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{s(F)},300)},[]),N=D.useCallback(async(F=!1,$=i,B=y)=>{S(!0);try{const V={limit:bSe,searchTerm:$.toLowerCase().trim(),startAfterDoc:F?void 0:B,orderByField:"name",orderDirection:"asc"},{products:H,lastVisible:J,hasMore:W}=await r(V);x(Y=>F?H:[...Y,...H]),b(J),_(W)}catch(V){console.error("Error loading products:",V)}finally{S(!1)}},[i,y,r]);D.useEffect(()=>{n||(x([]),b(null),_(!0),N(!0,i,null),l([]))},[i,n,N]);const E=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.category&&F.add($.category)),Array.from(F).sort()},[h]),A=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.brand&&F.add($.brand)),Array.from(F).sort()},[h]),j=F=>{l($=>$.includes(F)?$.filter(B=>B!==F):[...$,F])},M=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(F=>F.id))},P=(F,$)=>{f(B=>({...B,[F]:$}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},R=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const F={};if(d.supplierId&&(F.supplierId=d.supplierId),d.category&&(F.category=d.category),d.brand&&(F.brand=d.brand),d.reorderPoint!==""&&(F.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(F.targetStock=Number(d.targetStock)),Object.keys(F).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const $=new Map;for(const B of o){const V=h.find(J=>J.id===B);if(!V)continue;const H={...F};if(d.markup!==""){const J=Number(d.markup);!isNaN(J)&&V.costPrice!==void 0&&(H.salePrice=V.costPrice*(1+J/100))}await e(B,H),$.set(B,{...V,...H})}x(B=>B.map(V=>$.has(V.id)?$.get(V.id):V)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch($){console.error("Error al aplicar cambios masivos:",$),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||w)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(qe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:i,onChange:F=>{s(F.target.value),T(F.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:M,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx(yp,{className:"w-5 h-5 text-orange-600"}):a.jsx(Ep,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(F=>{var $,B;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>j(F.id),className:"p-1",children:o.includes(F.id)?a.jsx(yp,{className:"w-5 h-5 text-orange-600"}):a.jsx(Ep,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:F.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:(($=t.find(V=>V.id===F.supplierId))==null?void 0:$.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:F.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${F.stock<(F.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:F.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(B=F.salePrice)==null?void 0:B.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.targetStock||"N/A"})]},F.id)}),h.length===0&&!w&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),w&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(qe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!w&&v&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>N(!1,i,y),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Li,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:F=>P("supplierId",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:F=>P("markup",F.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:F=>P("category",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),E.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:F=>P("brand",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),A.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:F=>P("reorderPoint",F.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:F=>P("targetStock",F.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:R,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):a.jsx(Nn,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},_Se=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[i,s]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[y,b]=D.useState(!1),[v,_]=D.useState(!1),[w,S]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,T]=D.useState(!1),[N,E]=D.useState(!1),A="https://ferrogest.app/ml-callback";D.useEffect(()=>{const $=localStorage.getItem("mlClientId")||"",B=localStorage.getItem("mlClientSecret")||"",V=localStorage.getItem("mlUserId")||null,H=localStorage.getItem("mlNickname")||null,J=localStorage.getItem("mlAutoSyncStock")==="true",W=localStorage.getItem("mlAutoSyncPrices")==="true";r($),s(B),l(V),u(H),f(J),x(W);const Y=localStorage.getItem("andreaniConfig");Y&&S(JSON.parse(Y))},[]);const j=()=>{_(!0),setTimeout(()=>{_(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},M=async()=>{if(!n||!i){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}b(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise($=>setTimeout($,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch($){console.error("Error al conectar con MercadoLibre:",$),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{b(!1)}},P=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",i),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:$,clientSecret:B,accountNumber:V,branchCode:H}=w;if(!$||!B||!V||!H){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}T(!0);try{await new Promise(W=>setTimeout(W,2500));const J={...w,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};S(J),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(J))}catch(J){console.error("Error al conectar con Andreani:",J),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{T(!1)}},R=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(w)),alert("Configuracin de Andreani guardada.")},z=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(Ap,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:j,disabled:v||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[v?a.jsx(Eu,{className:"w-5 h-5 animate-spin"}):a.jsx(Eu,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(B2,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:$=>r($.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:i,onChange:$=>s($.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(fx,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:A}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(A),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:M,disabled:y||!n||!i,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[y?a.jsx(qe,{className:"w-5 h-5"}):a.jsx(nF,{className:"w-5 h-5"}),y?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Cn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Us,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:$=>f($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:$=>x($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),F=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(oi,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${w.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${w.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(Su,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${w.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:w.connected?`Activo (${w.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),w.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Eu,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B2,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:w.clientId,onChange:$=>S(B=>({...B,clientId:$.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:w.clientSecret,onChange:$=>S(B=>({...B,clientSecret:$.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:w.accountNumber,onChange:$=>S(B=>({...B,accountNumber:$.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:w.branchCode,onChange:$=>S(B=>({...B,branchCode:$.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!w.clientId||!w.clientSecret||!w.accountNumber||!w.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx(qe,{className:"w-5 h-5"}):a.jsx(Su,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:R,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(Nn,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Su,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:Ap},{id:"andreani",label:"Andreani Envos",icon:oi},{id:"other",label:"Otras Conexiones",icon:fx}].map($=>a.jsxs("button",{onClick:()=>e($.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===$.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&z(),t==="andreani"&&F(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(fx,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(v1,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},NSe=10,SSe=()=>{var X;const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=At(),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState(null),[x,y]=D.useState(null),[b,v]=D.useState(!1),[_,w]=D.useState(""),[S,C]=D.useState([]),[T,N]=D.useState(null),[E,A]=D.useState(!0),[j,M]=D.useState(!1),P=D.useRef(),O=D.useCallback((ee,ce)=>{let G=ee.salePrice;if(!ce||!ee.costPrice)return G||0;const se=e.find(ue=>ue.id===ce.priceListId);if(se){const ue=ee.costPrice;se.modifierType==="margin"?G=ue*(1+se.value/100):se.modifierType==="percentage_over_base"&&(G=(ee.salePrice||0)*(1+se.value/100))}return ce.specialDiscount>0&&(G=G*(1-ce.specialDiscount/100)),parseFloat(G.toFixed(2))},[e]),R=async()=>{if(!r.trim()){y("Por favor, ingresa un mensaje para analizar.");return}o(!0),y(null),c([]),d([]);try{const ee=await gSe(r);c(ee);const ce=[];for(const G of ee){const{products:se}=await n({limit:1,searchTerm:G.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(se.length>0){const ue=se[0],ie=O(ue,f);ce.push({productId:ue.id,sku:ue.sku,name:ue.name,brand:ue.brand,quantity:G.quantity,unitPrice:ie,subtotal:parseFloat((ie*G.quantity).toFixed(2)),originalProduct:ue})}else ce.push({productId:`unmatched-${Date.now()}-${G.productName}`,sku:"N/A",name:G.productName,brand:"N/A",quantity:G.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:G.productName})}d(ce)}catch(ee){console.error("Error al analizar el mensaje:",ee),y("Ocurri un error al procesar el mensaje con la IA. Intenta de nuevo.")}finally{o(!1)}};D.useEffect(()=>{d(ee=>ee.map(ce=>({...ce,unitPrice:ce.originalProduct?O(ce.originalProduct,f):ce.unitPrice})))},[f,O]);const z=(ee,ce)=>{d(G=>G.map(se=>se.productId===ee?{...se,quantity:ce,subtotal:parseFloat((se.unitPrice*ce).toFixed(2))}:se))},F=ee=>{d(ce=>ce.filter(G=>G.productId!==ee))},$=D.useCallback(async(ee=!1,ce=_,G=T)=>{M(!0);try{const se={limit:NSe,searchTerm:ce.toLowerCase().trim(),startAfterDoc:ee?void 0:G,orderByField:"name",orderDirection:"asc"},{products:ue,lastVisible:ie,hasMore:De}=await n(se);C(Se=>ee?ue:[...Se,...ue]),N(ie),A(De)}catch(se){console.error("Error loading products for picker:",se)}finally{M(!1)}},[_,T,n]),B=D.useCallback(ee=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{$(!0,ee,null)},300)},[$]);D.useEffect(()=>{b&&(C([]),N(null),A(!0),$(!0,_,null))},[_,b,$]);const V=(ee,ce)=>{if(u.find(se=>se.productId===ee.id))d(se=>se.map(ue=>ue.productId===ee.id?{...ue,quantity:Number(ue.quantity)+1,subtotal:parseFloat((ue.unitPrice*(Number(ue.quantity)+1)).toFixed(2))}:ue));else{const se=O(ee,f);d(ue=>[...ue,{productId:ee.id,sku:ee.sku,name:ee.name,brand:ee.brand,quantity:1,unitPrice:se,subtotal:parseFloat(se.toFixed(2)),originalProduct:ee}])}v(!1),w("")},H=D.useMemo(()=>u.reduce((ee,ce)=>ee+ce.unitPrice*ce.quantity,0),[u]),J=H*.21,W=H+J,Y=()=>{i(""),c([]),d([]),h(null),y(null)},re=()=>{if(!f){alert("Por favor, selecciona un cliente para guardar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}console.log("Saving Quote for client:",f.name,"Items:",u,"Total:",W),alert("Cotizacin guardada (simulada) para "+f.name)},we=()=>{if(!f||!f.whatsapp){alert("Por favor, selecciona un cliente con nmero de WhatsApp para enviar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}let ee=`Hola ${f.name}! Aqu tienes tu cotizacin de FerroGest:

`;u.forEach(G=>{ee+=`- ${G.quantity}x ${G.name} ($${G.unitPrice.toLocaleString()}/u) - Subtotal: $${(G.quantity*G.unitPrice).toLocaleString()}
`}),ee+=`
Subtotal: $${H.toLocaleString()}`,ee+=`
IVA (21%): $${J.toLocaleString()}`,ee+=`
Total: *$${W.toLocaleString()}*

`,ee+="Esperamos tu confirmacin!";const ce=encodeURIComponent(ee);window.open(`https://wa.me/${f.whatsapp}?text=${ce}`,"_blank")},q=ee=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto Manual"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:_,onChange:ce=>{w(ce.target.value),B(ce.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:j&&_.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):S.length>0?S.map(ce=>{var G;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>V(ce),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Va,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:ce.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[ce.sku,"  ",ce.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(G=ce.salePrice)==null?void 0:G.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",ce.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},ce.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(ir,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!j&&E&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>$(!1,_,T),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Li,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(nd,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>v(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(_p,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:Y,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(ef,{className:"w-4 h-4"})," Limpiar"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(_p,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:ee=>i(ee.target.value)}),x&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(ai,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:x})]}),a.jsxs("button",{onClick:R,disabled:s||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?a.jsx(qe,{className:"w-6 h-6 animate-spin"}):a.jsx(nv,{className:"w-6 h-6"}),s?"Analizando Mensaje...":"Analizar Mensaje con IA"]}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 italic text-center",children:"La IA intentar extraer productos y cantidades."})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(ml,{className:"w-6 h-6 text-orange-600"})," Cotizacin Provisional"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(_r,{className:"w-3 h-3"})," Seleccionar Cliente"]}),a.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:ee=>h(t.find(ce=>ce.id===ee.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(ee=>a.jsxs("option",{value:ee.id,children:[ee.name," (",ee.cuit,")"]},ee.id))]}),f&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-2",children:[a.jsx(wp,{className:"w-4 h-4 text-orange-400"}),a.jsxs("span",{children:["Lista: ",((X=e.find(ee=>ee.id===f.priceListId))==null?void 0:X.name)||"N/A"]}),f.specialDiscount>0&&a.jsxs("span",{className:"ml-2",children:[" | Desc. Esp.: ",f.specialDiscount,"%"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Precio Unit."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay productos en la cotizacin."})}):u.map((ee,ce)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:ee.originalProduct?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400",children:a.jsx(Va,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:ee.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[ee.sku,"  Stock: ",ee.originalProduct.stock]})]})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(ai,{className:"w-4 h-4"})," ",ee.unmatchedText||ee.name," (No encontrado)",a.jsx("button",{onClick:()=>v(!0),className:"ml-2 px-3 py-1 bg-red-50 text-red-600 rounded-md text-[10px] font-bold hover:bg-red-100 transition-colors",title:"Buscar y reemplazar",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:ee.quantity,onChange:G=>z(ee.productId,Number(G.target.value)),className:"w-20 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",ee.unitPrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",(ee.quantity*ee.unitPrice).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>F(ee.productId),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(an,{className:"w-4 h-4"})})})]},ee.productId||ce))})]})}),a.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 transition-all flex items-center justify-center gap-2",children:[a.jsx(nt,{className:"w-4 h-4"})," Aadir Producto Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",H.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",J.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",W.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-4",children:[a.jsxs("button",{onClick:re,disabled:u.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Nn,{className:"w-5 h-5"})," Guardar Cotizacin"]}),a.jsxs("button",{onClick:we,disabled:u.length===0||!(f!=null&&f.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(sM,{className:"w-5 h-5"})," Enviar por WhatsApp"]})]})]})})]}),b&&q()]})},ru={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},ry={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},ESe=10,TSe=()=>{var Se;const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:i,fetchProductsPaginatedAndFiltered:s}=At(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[v,_]=D.useState([]),[w,S]=D.useState(!1),[C,T]=D.useState(!1),[N,E]=D.useState(""),[A,j]=D.useState([]),[M,P]=D.useState(null),[O,R]=D.useState(!0),[z,F]=D.useState(!1),$=D.useRef(),[B,V]=D.useState(!1),[H,J]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),W=D.useCallback(async(Q=!1,de=N,Me=M)=>{F(!0);try{const mt={limit:ESe,searchTerm:de.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:Q?void 0:Me},{products:ln,lastVisible:En,hasMore:cn}=await s(mt);j(fe=>Q?ln:[...fe,...ln]),P(En),R(cn)}catch(mt){console.error("Error loading products for picker:",mt)}finally{F(!1)}},[N,M,s]),Y=D.useCallback(Q=>{$.current&&clearTimeout($.current),$.current=setTimeout(()=>{W(!0,Q,null)},300)},[W]);D.useEffect(()=>{C&&(j([]),P(null),R(!0),W(!0,N,null))},[N,C,W]),D.useEffect(()=>{if(y.clientId){const Q=t.find(de=>de.id===y.clientId);Q&&b(de=>({...de,clientName:Q.name}))}else b(Q=>({...Q,clientName:""}))},[y.clientId,t]),D.useEffect(()=>{const Q=v.reduce((de,Me)=>de+Me.subtotal,0);b(de=>({...de,total:parseFloat(Q.toFixed(2))}))},[v]);const re=Q=>{Q?(x(Q),b(Q),_(Q.items)):(x(null),b({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),_([])),f(!0)},we=(Q,de)=>{_(Me=>Me.map((mt,ln)=>{if(ln===Q){const En=Math.max(1,de),cn=mt.unitPrice*En;return{...mt,quantity:En,subtotal:parseFloat(cn.toFixed(2))}}return mt}))},q=Q=>{_(de=>de.filter((Me,mt)=>mt!==Q))},X=Q=>{const de=v.findIndex(Me=>Me.productId===Q.id&&!Me.isService);if(de!==-1)we(de,v[de].quantity+1);else{const Me=Q.salePrice;_(mt=>[...mt,{productId:Q.id,sku:Q.sku,name:Q.name,brand:Q.brand,quantity:1,unitPrice:Me,subtotal:parseFloat(Me.toFixed(2)),originalProduct:Q}])}T(!1),E("")},ee=()=>{if(!H.name||H.unitPrice<=0||H.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const Q=H.unitPrice*H.quantity;_(de=>[...de,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:H.name,brand:"N/A",quantity:H.quantity,unitPrice:H.unitPrice,subtotal:parseFloat(Q.toFixed(2)),isService:!0,serviceDescription:H.serviceDescription}]),V(!1),J({name:"",serviceDescription:"",unitPrice:0,quantity:1})},ce=async()=>{if(!y.clientId||v.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}S(!0);try{const Q={...y,items:v,total:v.reduce((de,Me)=>de+Me.subtotal,0),status:y.status||"pendiente_preparacion",dateCreated:y.dateCreated||new Date().toISOString().split("T")[0],isServiceOrder:v.some(de=>de.isService)};h?await r(h.id,Q):await n(Q),alert("Pedido guardado con xito!"),f(!1)}catch(Q){console.error("Error al guardar el pedido:",Q),alert("Ocurri un error al guardar el pedido.")}finally{S(!1)}},G=async Q=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await i(Q),alert("Pedido eliminado con xito.")}catch(de){console.error("Error al eliminar el pedido:",de),alert("Ocurri un error al eliminar el pedido.")}},se=async(Q,de)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${ru[de]}"?`))try{await r(Q,{status:de}),alert("Estado del pedido actualizado.")}catch(Me){console.error("Error al actualizar estado del pedido:",Me),alert("Ocurri un error al actualizar el estado.")}},ue=D.useMemo(()=>e.filter(Q=>{const de=Q.clientName.toLowerCase().includes(o.toLowerCase())||Q.id.toLowerCase().includes(o.toLowerCase()),Me=c==="all"||Q.status===c;return de&&Me}).sort((Q,de)=>new Date(de.dateCreated).getTime()-new Date(Q.dateCreated).getTime()),[e,o,c]),ie=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(nt,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:N,onChange:Q=>{E(Q.target.value),Y(Q.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:z&&N.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):A.length>0?A.map(Q=>{var de;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>X(Q),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Va,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:Q.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[Q.sku,"  ",Q.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(de=Q.salePrice)==null?void 0:de.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",Q.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(nt,{className:"w-5 h-5"})})]})]},Q.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(ir,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!z&&O&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>W(!1,N,M),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Li,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(ir,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>T(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),De=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Hn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:H.name,onChange:Q=>J(de=>({...de,name:Q.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:H.serviceDescription,onChange:Q=>J(de=>({...de,serviceDescription:Q.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:H.unitPrice||"",onChange:Q=>J(de=>({...de,unitPrice:parseFloat(Q.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:H.quantity||"",onChange:Q=>J(de=>({...de,quantity:parseInt(Q.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ee,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(nt,{className:"w-5 h-5"})]})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Rh,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>re(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:o,onChange:Q=>l(Q.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(Q=>a.jsx("button",{onClick:()=>u(Q),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===Q?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:Q==="all"?"Todos":ru[Q]},Q))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ue.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Rh,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):ue.map(Q=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:Q.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:Q.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:Q.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ho,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Q.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:Q.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ho,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Q.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[Q.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${ry[Q.status]}`,children:ru[Q.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",Q.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>re(Q),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx($i,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>G(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(an,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(ef,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(ru).map(de=>a.jsxs("button",{onClick:()=>se(Q.id,de),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${ry[de].split(" ")[0]} ${ry[de].split(" ")[1]}`}),ru[de]]},de))})]})]})})]},Q.id))})]})})]}),d&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[C&&ie(),B&&De(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Rh,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nueva orden"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Yr,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:y.clientId||"",onChange:Q=>b(de=>({...de,clientId:Q.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(Q=>a.jsxs("option",{value:Q.id,children:[Q.name," (",Q.cuit,")"]},Q.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Ho,{className:"w-3 h-3"})," Fecha de Entrega/Vencimiento"]}),a.jsx("input",{type:"date",value:y.dateDue||"",onChange:Q=>b(de=>({...de,dateDue:Q.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]}),a.jsxs("div",{className:"space-y-2 col-span-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:y.notes||"",onChange:Q=>b(de=>({...de,notes:Q.target.value})),placeholder:"Detalles importantes para la preparacin o entrega...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none"})]})]}),a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(ml,{className:"w-4 h-4 text-orange-600"})," Artculos y Servicios"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>V(!0),className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-xl font-bold text-xs flex items-center gap-2 hover:bg-blue-100 transition-all",children:[a.jsx(Hn,{className:"w-4 h-4"})," Aadir Servicio"]}),a.jsxs("button",{onClick:()=>T(!0),className:"px-4 py-2 bg-orange-50 text-orange-600 rounded-xl font-bold text-xs flex items-center gap-2 hover:bg-orange-100 transition-all",children:[a.jsx(hl,{className:"w-4 h-4"})," Aadir Producto"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo/Servicio"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Precio Unit."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en este pedido."})}):v.map((Q,de)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${Q.isService?"bg-blue-100 text-blue-600":"bg-slate-100 text-slate-400"}`,children:Q.isService?a.jsx(Hn,{className:"w-4 h-4"}):a.jsx(Va,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:Q.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Q.isService?"Servicio":`${Q.sku}  ${Q.brand}`})]})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:Q.quantity,onChange:Me=>we(de,Number(Me.target.value)),className:"w-20 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",Q.unitPrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",Q.subtotal.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>q(de),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(an,{className:"w-4 h-4"})})})]},de))})]})}),v.length>0&&a.jsx("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL PEDIDO"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(Se=y.total)==null?void 0:Se.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ce,disabled:w||!y.clientId||v.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[w?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Nn,{className:"w-5 h-5"}),w?"Guardando Pedido...":"Guardar Pedido"]})]})]})]})]})},LP={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},ASe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},kSe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:i,addTransaction:s}=At(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[v,_]=D.useState(!1),[w,S]=D.useState(!1),[C,T]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[N,E]=D.useState(!1);D.useEffect(()=>{const $=y.totalAmount-y.downPayment,B=y.installmentsCount>0?y.installmentsCount:1,V=parseFloat(($/B).toFixed(2));b(H=>({...H,amountPerInstallment:V,remainingAmount:h?h.remainingAmount:parseFloat($.toFixed(2))}))},[y.totalAmount,y.downPayment,y.installmentsCount,h]),D.useEffect(()=>{if(y.clientId){const $=t.find(B=>B.id===y.clientId);$&&b(B=>({...B,clientName:$.name}))}else b($=>({...$,clientName:""}))},[y.clientId,t]);const A=$=>{$?(x($),b($)):(x(null),b({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},j=async()=>{if(!y.clientId||!y.description||y.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}_(!0);try{const $={...y,installmentsCount:Math.max(1,y.installmentsCount||1),downPayment:y.downPayment||0,payments:y.payments||[],status:y.status||"activo",startDate:y.startDate||new Date().toISOString().split("T")[0],nextDueDate:y.nextDueDate||new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]};h||($.remainingAmount=$.totalAmount-$.downPayment),h?await r(h.id,$):await n($),alert("Plan de cuotas guardado con xito!"),f(!1)}catch($){console.error("Error al guardar el plan de cuotas:",$),alert("Ocurri un error al guardar el plan de cuotas.")}finally{_(!1)}},M=async $=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await i($),alert("Plan de cuotas eliminado con xito.")}catch(B){console.error("Error al eliminar el plan de cuotas:",B),alert("Ocurri un error al eliminar el plan de cuotas.")}},P=$=>{x($),T({amountPaid:Math.min($.amountPerInstallment,$.remainingAmount),method:"efectivo",notes:""}),S(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}E(!0);try{const $=h.remainingAmount-C.amountPaid,B=$<=0?"pagado":"activo",V={id:`pay-${Date.now()}`,date:new Date().toISOString().split("T")[0],amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},H=[...h.payments,V],J=t.find(W=>W.id===h.clientId);J&&await R(h.clientId,J.balance+C.amountPaid),await s({amount:C.amountPaid,type:"ingreso",method:C.method,paymentDetails:[],description:`Pago de cuota #${h.payments.length+1} de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:$,payments:H,status:B,nextDueDate:B==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),S(!1),x(null)}catch($){console.error("Error al registrar pago:",$),alert("Ocurri un error al registrar el pago.")}finally{E(!1)}},R=async($,B)=>{console.log(`Simulating client ${$} balance update to: $${B}`)},z=D.useMemo(()=>e.filter($=>{const B=$.clientName.toLowerCase().includes(o.toLowerCase())||$.id.toLowerCase().includes(o.toLowerCase()),V=c==="all"||$.status===c;return B&&V}).sort(($,B)=>new Date(B.startDate).getTime()-new Date($.startDate).getTime()),[e,o,c]),F=D.useMemo(()=>e.filter($=>$.status==="activo"||$.status==="mora").reduce(($,B)=>$+B.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Rs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>A(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(rd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter($=>$.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(Di,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter($=>$.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Fr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",F.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:$=>l($.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map($=>a.jsx("button",{onClick:()=>u($),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===$?"bg-purple-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:$==="all"?"Todos":LP[$]},$))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:z.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Rs,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):z.map($=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[$.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:$.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:$.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:$.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[$.payments.filter(B=>B.amountPaid>0).length,"/",$.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",$.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",$.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${$.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",$.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:$.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Ho,{className:"w-3.5 h-3.5 text-slate-400"}),new Date($.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${ASe[$.status]}`,children:LP[$.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>A($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx($i,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P($),disabled:$.status==="pagado"||$.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(Mn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(an,{className:"w-4 h-4"})})]})})]},$.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Rs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Yr,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:y.clientId||"",onChange:$=>b(B=>({...B,clientId:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map($=>a.jsxs("option",{value:$.id,children:[$.name," (",$.cuit,")"]},$.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:y.description||"",onChange:$=>b(B=>({...B,description:$.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:y.totalAmount||"",onChange:$=>b(B=>({...B,totalAmount:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:y.downPayment||"",onChange:$=>b(B=>({...B,downPayment:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:y.installmentsCount||"",onChange:$=>b(B=>({...B,installmentsCount:parseInt($.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Ho,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:y.startDate||"",onChange:$=>b(B=>({...B,startDate:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",(y.totalAmount-y.downPayment).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",y.amountPerInstallment.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(f1,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map(($,B)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date($.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",$.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:$.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:$.notes||"-"})]},$.id||B))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:j,disabled:v||!y.clientId||!y.description||y.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[v?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Nn,{className:"w-5 h-5"}),v?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),w&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Mn,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:$=>T(B=>({...B,amountPaid:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:$=>T(B=>({...B,method:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:$=>T(B=>({...B,notes:$.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:N||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[N?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Cn,{className:"w-5 h-5"}),N?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},CSe=()=>{const{salesZones:t,users:e,branches:n,addSalesZone:r,updateSalesZone:i,deleteSalesZone:s}=At(),[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState(!1),[h,x]=D.useState(""),[y,b]=D.useState({name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),v=(t||[]).filter(C=>{var T;return C.name.toLowerCase().includes(h.toLowerCase())||((T=C.description)==null?void 0:T.toLowerCase().includes(h.toLowerCase()))}),_=C=>{u(C),b(C||{name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),l(!0)},w=async()=>{if(!y.name){alert("El nombre de la zona es obligatorio.");return}f(!0);try{c?(await i(c.id,y),alert("Zona actualizada con xito.")):(await r(y),alert("Zona creada con xito.")),l(!1)}catch(C){console.error("Error al guardar zona:",C),alert("Error al procesar la solicitud.")}finally{f(!1)}},S=async C=>{if(window.confirm("Est seguro de eliminar esta zona?"))try{await s(C)}catch(T){console.error("Error al eliminar:",T)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Ms,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Zonas de Venta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la distribucin territorial de tus vendedores y sucursales."})]})]}),a.jsxs("button",{onClick:()=>_(null),className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nueva Zona"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar zona por nombre o descripcin...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:h,onChange:C=>x(C.target.value)})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:[v.map(C=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] p-6 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(g1,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>_(C),className:"p-2 text-slate-400 hover:text-blue-600",children:a.jsx($i,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(C.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(an,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:C.name}),a.jsx("p",{className:"text-slate-400 text-xs mt-1 mb-4 line-clamp-2",children:C.description||"Sin descripcin"}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(_r,{className:"w-3 h-3"})," Vendedores"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedUserIds||[]).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Po,{className:"w-3 h-3"})," Sucursales"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedBranchIds||[]).length})]})]})]},C.id)),v.length===0&&a.jsxs("div",{className:"col-span-full py-20 text-center text-slate-300",children:[a.jsx(h1,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-[0.2em]",children:"No se encontraron zonas"})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ms,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:c?"Editar Zona":"Nueva Zona"}),a.jsx("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin territorial"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Zona"}),a.jsx("input",{value:y.name||"",onChange:C=>b({...y,name:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold",placeholder:"Ej: Zona Norte GBA"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{value:y.description||"",onChange:C=>b({...y,description:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none",placeholder:"Alcance geogrfico, objetivos, etc."})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Asignaciones:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Puedes vincular vendedores y sucursales a esta zona para segmentar reportes de ventas y stock."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:w,disabled:d,className:"flex-[1.5] py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[d?a.jsx(qe,{className:"animate-spin w-5 h-5"}):a.jsx(Nn,{className:"w-5 h-5"}),d?"Guardando...":"Guardar Zona"]})]})]})})]})},jSe=()=>{const{products:t,suppliers:e,updateProduct:n}=At(),[r,i]=D.useState(""),[s,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,y=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&y}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(eM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente por proveedor."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(Sp,{className:"w-4 h-4"})," Imprimir Listado"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(pl,{className:"w-4 h-4"})," Generar Pedidos Masivos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar en faltantes por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>i(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(Cn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente segn sus puntos de pedido."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(oi,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(sM,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer Mn."}),a.jsx("th",{className:"px-8 py-5",children:"Cambiar Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(ai,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${x.stock<=0?"text-red-600":"text-orange-600"}`,children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Unidades"})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:s===x.id,onChange:y=>u(x.id,y.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]}),s===x.id&&a.jsx(qe,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg shadow-orange-600/20",title:"Aadir a pedido",children:a.jsx(pl,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 transition-all",children:a.jsx(x1,{className:"w-4 h-4"})})]})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(ir,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona la reposicin?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu automticamente cuando su stock actual iguala o es menor al ",a.jsx("b",{children:"Punto de Reorden"})," configurado en su ficha. El clculo de reposicin se basa en el ",a.jsx("b",{children:"Stock Deseado"})," para optimizar el espacio de depsito y capital inmovilizado."]})]})]})]})};var PSe={};const $P=PSe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function q6(t,e){await new Promise(i=>setTimeout(i,Math.random()*1500+500)),($P.includes("DEMO_KEY")||$P.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const ISe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:i,deleteClient:s}=At(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[y,b]=D.useState(""),[v,_]=D.useState(!1);U.useEffect(()=>{n.length>0&&!h.priceListId&&x(P=>{var O,R;return{...P,priceListId:((O=n.find(z=>z.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||""}})},[n,h.priceListId]);const w=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}_(!0);try{const P=await q6(h.cuit,"client");x(O=>{var R,z;return{...O,name:P.name,email:P.email,whatsapp:P.phone,priceListId:((R=n.find(F=>F.isBase))==null?void 0:R.id)||((z=n[0])==null?void 0:z.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(P){alert(`Error al buscar CUIT en ARCA: ${P.message}`),console.error("ARCA CUIT Lookup Error:",P)}finally{_(!1)}},S=()=>{y.trim()&&(x(P=>({...P,authorizedPersons:[...P.authorizedPersons||[],y.trim()]})),b(""))},C=P=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(R=>R!==P)}))},T=async()=>{var P,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await i(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((P=n.find(R=>R.isBase))==null?void 0:P.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b("")}catch(R){alert("Error al guardar el cliente."),console.error(R)}},N=async P=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await s(P),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},E=P=>{var O,R;f(P),x(P||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(z=>z.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b(""),u("general"),l(!0)},A=()=>{t&&(l(!1),t("balances"))},j=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},M=P=>{var O;return P&&((O=n.find(R=>R.id===P))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>E(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:P.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:P.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(dg,{className:"w-4 h-4 text-slate-300"})," ",P.email]}),P.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(gF,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${P.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:P.balance<0?`DEBE $${Math.abs(P.balance).toLocaleString()}`:`SALDO $${P.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",P.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:A,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(Rs,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(P),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(vp,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>N(P.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(an,{className:"w-5 h-5"})})]})})]},P.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:tv}].map(P=>a.jsxs("button",{onClick:()=>u(P.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===P.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[P.icon&&a.jsx(P.icon,{className:"w-4 h-4 inline-block mr-2"})," ",P.label]},P.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:P=>x({...h,cuit:P.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:w,disabled:v,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:v?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:P=>x({...h,name:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:P=>x({...h,email:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:P=>x({...h,whatsapp:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wp,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(wp,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:M(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(b1,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:y,onChange:P=>b(P.target.value),onKeyPress:P=>{P.key==="Enter"&&S()}}),a.jsx("button",{onClick:S,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:P}),a.jsx("button",{onClick:()=>C(P),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(an,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Rs,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(Di,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(Mn,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:A,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(vp,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(p1,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(tv,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:P=>x({...h,pointsEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(v1,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:P=>x({...h,accumulatedPoints:Number(P.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:T,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},RSe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=At(),[i,s]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),y=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const C=await q6(c.cuit,"supplier");u(T=>({...T,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{x(!1)}},b=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),s(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},v=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(T){alert("Error al eliminar el proveedor."),console.error(T)}},_=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),s(!0)},w=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},S=C=>{u(T=>({...T,discounts:(T.discounts||[]).filter((N,E)=>E!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>_(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(nt,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(wt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((T,N)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",T,"%"]},N)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>_(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(mF,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(an,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(rr,{className:"w-5 h-5"})})]})]},C.id))})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>s(!1),className:"text-slate-400 hover:text-white",children:a.jsx(He,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:y,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(qe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,T)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>S(T),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(He,{className:"w-3 h-3"})})]},T))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Mn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>s(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:b,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},MSe=({onLoginSuccess:t})=>{const[e,n]=D.useState(""),[r,i]=D.useState(""),[s,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(""),f={admin:{email:"admin@ferrogest.com",password:"admin123",name:"Administrador Principal"},vendedor:{email:"carlos@ferrogest.com",password:"vendedor123",name:"Carlos Vendedor"},contador:{email:"ana@ferrogest.com",password:"contador123",name:"Ana Contadora"},deposito:{email:"juan@ferrogest.com",password:"deposito123",name:"Juan Depsito"}},h=async y=>{y.preventDefault(),o(!0),c(null),await new Promise(v=>setTimeout(v,1500));const b=Object.keys(f).find(v=>f[v].email===e&&f[v].password===r);b?t(b,f[b].name):c("Email o contrasea incorrectos."),o(!1)},x=y=>{n(f[y].email),i(f[y].password),d(y)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl w-full max-w-lg space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2rem] flex items-center justify-center mx-auto shadow-lg shadow-orange-600/30",children:a.jsx(ma,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Bienvenido a FerroGest"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Inicia sesin para acceder a tu plataforma."})]}),l&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-in fade-in",children:[a.jsx(He,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-medium text-sm",children:l})]}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(dg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"email",value:e,onChange:y=>n(y.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-slate-800",placeholder:"tu.email@empresa.com",required:!0,autoComplete:"username"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(m1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:y=>i(y.target.value),className:"w-full pl-12 pr-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-slate-800",placeholder:"",required:!0,autoComplete:"current-password"})]})]}),a.jsxs("button",{type:"submit",disabled:s,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-700 transition-all flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[s?a.jsx(qe,{className:"w-5 h-5 animate-spin"}):a.jsx(Yr,{className:"w-5 h-5"}),s?"Iniciando sesin...":"Iniciar Sesin"]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4",children:[a.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4"})," Acceso Rpido (Demo)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Selecciona un rol para acceder al demo sin credenciales."}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.keys(f).map(y=>a.jsx("button",{onClick:()=>x(y),className:`py-3 px-4 rounded-xl text-xs font-black uppercase tracking-widest border-2 transition-all ${u===y?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-300"}`,children:f[y].name},y))})]})]})})},OSe=({currentUser:t,onLogout:e})=>{const[n,r]=D.useState("dashboard"),[i,s]=D.useState("enterprise"),{error:o}=At(),l={pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},[c,u]=D.useState({name:"FerroGest",logo:null,showLogoInSidebar:!1,cuit:"30-12345678-9",address:"Av. Principal 123, Ciudad",ivaCondition:"Responsable Inscripto",phone:"+54 11 1234-5678",email:"contacto@ferrogest.com",arca:{enabled:!0,environment:"testing",puntoVenta:5,concepto:"productos",iibb:"30-12345678-9",activityStart:"2020-01-15",crtValidUntil:"2025-12-31",lastInvoiceA:1245,lastInvoiceB:5678},printConfigs:{factura:{...l},remito:{...l,showQr:!1,showPrices:!1},recibo:{...l,pageSize:"A5",showQr:!1},etiqueta:{...l,pageSize:"80mm",showCuit:!1,showAddress:!1,showLegal:!1,showQr:!1,margins:{top:2,bottom:2,left:2,right:2}}}}),d=D.useMemo(()=>[{id:"dashboard",component:a.jsx(afe,{})},{id:"sales",component:a.jsx(pfe,{})},{id:"remitos",component:a.jsx(mfe,{})},{id:"inventory",component:a.jsx(cSe,{})},{id:"missing-items",component:a.jsx(jSe,{})},{id:"stock-adjustment",component:a.jsx(vSe,{})},{id:"bulk-modification",component:a.jsx(wSe,{})},{id:"warehouse",component:a.jsx(oSe,{})},{id:"branches",component:a.jsx(aSe,{})},{id:"clients",component:a.jsx(ISe,{onNavigate:r})},{id:"suppliers",component:a.jsx(RSe,{})},{id:"balances",component:a.jsx(hSe,{})},{id:"sales-zones",component:a.jsx(CSe,{})},{id:"loyalty",component:a.jsx(xfe,{})},{id:"ecommerce",component:a.jsx(bfe,{})},{id:"integrations",component:a.jsx(_Se,{})},{id:"quotes",component:a.jsx(SSe,{})},{id:"orders",component:a.jsx(TSe,{})},{id:"installments",component:a.jsx(kSe,{})},{id:"reports",component:a.jsx(wfe,{})},{id:"finance",component:a.jsx(Mye,{})},{id:"users",component:a.jsx(sSe,{})},{id:"bulk-import",component:a.jsx(uSe,{})},{id:"purchase-orders",component:a.jsx(fSe,{})},{id:"prices",component:a.jsx(gfe,{})},{id:"cashier",component:a.jsx(pSe,{})},{id:"purchases",component:a.jsx(xSe,{})},{id:"settings",component:a.jsx(Bk,{initialTab:"company",plan:i,setPlan:s,isAdmin:t.role==="admin",companyInfo:c,setCompanyInfo:u})},{id:"data",component:a.jsx(Bk,{initialTab:"data",plan:i,setPlan:s,isAdmin:t.role==="admin",companyInfo:c,setCompanyInfo:u})}],[i,c,t.role]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[a.jsx(AF,{activeTab:n,setActiveTab:r,companyInfo:c,currentUser:t,onLogout:e}),a.jsx("main",{className:"flex-1 h-screen overflow-y-auto p-8 relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[o&&a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6",children:[a.jsx(Di,{className:"w-6 h-6 text-red-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-bold",children:"Error de Sistema"}),a.jsx("p",{className:"text-red-700 text-sm",children:o})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-xl font-bold text-xs uppercase",children:"Reintentar"})]}),d.map(f=>a.jsx("div",{className:n===f.id?"block":"hidden",children:f.component},f.id))]})})]})},DSe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(null),i=(o,l)=>{r({name:l,role:o}),e(!0)},s=()=>{r(null),e(!1)};return t?a.jsx(hfe,{children:a.jsx(OSe,{currentUser:n,onLogout:s})}):a.jsx(MSe,{onLoginSuccess:i})},G6=document.getElementById("root");if(!G6)throw new Error("Could not find root element to mount to");const LSe=iy.createRoot(G6);LSe.render(a.jsx(U.StrictMode,{children:a.jsx(DSe,{})}));
