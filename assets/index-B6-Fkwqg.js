(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $k={exports:{}},Pm={},jk={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),fU=Symbol.for("react.portal"),hU=Symbol.for("react.fragment"),pU=Symbol.for("react.strict_mode"),mU=Symbol.for("react.profiler"),gU=Symbol.for("react.provider"),yU=Symbol.for("react.context"),vU=Symbol.for("react.forward_ref"),_U=Symbol.for("react.suspense"),xU=Symbol.for("react.memo"),wU=Symbol.for("react.lazy"),BT=Symbol.iterator;function bU(t){return t===null||typeof t!="object"?null:(t=BT&&t[BT]||t["@@iterator"],typeof t=="function"?t:null)}var Vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Uk=Object.assign,Fk={};function Ml(t,e,n){this.props=t,this.context=e,this.refs=Fk,this.updater=n||Vk}Ml.prototype.isReactComponent={};Ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Bk(){}Bk.prototype=Ml.prototype;function qx(t,e,n){this.props=t,this.context=e,this.refs=Fk,this.updater=n||Vk}var zx=qx.prototype=new Bk;zx.constructor=qx;Uk(zx,Ml.prototype);zx.isPureReactComponent=!0;var GT=Array.isArray,Gk=Object.prototype.hasOwnProperty,Hx={current:null},qk={key:!0,ref:!0,__self:!0,__source:!0};function zk(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Gk.call(e,r)&&!qk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Td,type:t,key:o,ref:s,props:i,_owner:Hx.current}}function EU(t,e){return{$$typeof:Td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wx(t){return typeof t=="object"&&t!==null&&t.$$typeof===Td}function TU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qT=/\/+/g;function Ty(t,e){return typeof t=="object"&&t!==null&&t.key!=null?TU(""+t.key):e.toString(36)}function lh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Td:case fU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ty(s,0):r,GT(i)?(n="",t!=null&&(n=t.replace(qT,"$&/")+"/"),lh(i,e,n,"",function(u){return u})):i!=null&&(Wx(i)&&(i=EU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(qT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",GT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ty(o,a);s+=lh(o,e,n,l,i)}else if(l=bU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ty(o,a++),s+=lh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function wf(t,e,n){if(t==null)return t;var r=[],i=0;return lh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function SU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var An={current:null},uh={transition:null},AU={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:uh,ReactCurrentOwner:Hx};function Hk(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!Wx(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Ml;Me.Fragment=hU;Me.Profiler=mU;Me.PureComponent=qx;Me.StrictMode=pU;Me.Suspense=_U;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AU;Me.act=Hk;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Uk({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Hx.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Gk.call(e,l)&&!qk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Td,type:t.type,key:i,ref:o,props:r,_owner:s}};Me.createContext=function(t){return t={$$typeof:yU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gU,_context:t},t.Consumer=t};Me.createElement=zk;Me.createFactory=function(t){var e=zk.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:vU,render:t}};Me.isValidElement=Wx;Me.lazy=function(t){return{$$typeof:wU,_payload:{_status:-1,_result:t},_init:SU}};Me.memo=function(t,e){return{$$typeof:xU,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=uh.transition;uh.transition={};try{t()}finally{uh.transition=e}};Me.unstable_act=Hk;Me.useCallback=function(t,e){return An.current.useCallback(t,e)};Me.useContext=function(t){return An.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return An.current.useDeferredValue(t)};Me.useEffect=function(t,e){return An.current.useEffect(t,e)};Me.useId=function(){return An.current.useId()};Me.useImperativeHandle=function(t,e,n){return An.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return An.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return An.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return An.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return An.current.useReducer(t,e,n)};Me.useRef=function(t){return An.current.useRef(t)};Me.useState=function(t){return An.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return An.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return An.current.useTransition()};Me.version="18.3.1";jk.exports=Me;var $=jk.exports;const j=rt($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IU=$,CU=Symbol.for("react.element"),PU=Symbol.for("react.fragment"),NU=Object.prototype.hasOwnProperty,kU=IU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RU={key:!0,ref:!0,__self:!0,__source:!0};function Wk(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)NU.call(e,r)&&!RU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CU,type:t,key:o,ref:s,props:i,_owner:kU.current}}Pm.Fragment=PU;Pm.jsx=Wk;Pm.jsxs=Wk;$k.exports=Pm;var g=$k.exports,Uv={},Kk={exports:{}},Xn={},Jk={exports:{}},Yk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,K){var Y=V.length;V.push(K);e:for(;0<Y;){var se=Y-1>>>1,ee=V[se];if(0<i(ee,K))V[se]=K,V[Y]=ee,Y=se;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Y=V.pop();if(Y!==K){V[0]=Y;e:for(var se=0,ee=V.length,le=ee>>>1;se<le;){var Ce=2*(se+1)-1,Ne=V[Ce],We=Ce+1,z=V[We];if(0>i(Ne,Y))We<ee&&0>i(z,Ne)?(V[se]=z,V[We]=Y,se=We):(V[se]=Ne,V[Ce]=Y,se=Ce);else if(We<ee&&0>i(z,Y))V[se]=z,V[We]=Y,se=We;else break e}}return K}function i(V,K){var Y=V.sortIndex-K.sortIndex;return Y!==0?Y:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,y=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=V)r(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(u)}}function N(V){if(w=!1,T(V),!v)if(n(l)!==null)v=!0,G(A);else{var K=n(u);K!==null&&W(N,K.startTime-V)}}function A(V,K){v=!1,w&&(w=!1,x(C),C=-1),y=!0;var Y=h;try{for(T(K),d=n(l);d!==null&&(!(d.expirationTime>K)||V&&!M());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var ee=se(d.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?d.callback=ee:d===n(l)&&r(l),T(K)}else r(l);d=n(l)}if(d!==null)var le=!0;else{var Ce=n(u);Ce!==null&&W(N,Ce.startTime-K),le=!1}return le}finally{d=null,h=Y,y=!1}}var P=!1,S=null,C=-1,I=5,R=-1;function M(){return!(t.unstable_now()-R<I)}function D(){if(S!==null){var V=t.unstable_now();R=V;var K=!0;try{K=S(!0,V)}finally{K?O():(P=!1,S=null)}}else P=!1}var O;if(typeof b=="function")O=function(){b(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=D,O=function(){B.postMessage(null)}}else O=function(){_(D,0)};function G(V){S=V,P||(P=!0,O())}function W(V,K){C=_(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,G(A))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var K=3;break;default:K=h}var Y=h;h=K;try{return V()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=h;h=V;try{return K()}finally{h=Y}},t.unstable_scheduleCallback=function(V,K,Y){var se=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?se+Y:se):Y=se,V){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,V={id:c++,callback:K,priorityLevel:V,startTime:Y,expirationTime:ee,sortIndex:-1},Y>se?(V.sortIndex=Y,e(u,V),n(l)===null&&V===n(u)&&(w?(x(C),C=-1):w=!0,W(N,Y-se))):(V.sortIndex=ee,e(l,V),v||y||(v=!0,G(A))),V},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(V){var K=h;return function(){var Y=h;h=K;try{return V.apply(this,arguments)}finally{h=Y}}}})(Yk);Jk.exports=Yk;var MU=Jk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OU=$,Jn=MU;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xk=new Set,fc={};function Fs(t,e){Wa(t,e),Wa(t+"Capture",e)}function Wa(t,e){for(fc[t]=e,t=0;t<e.length;t++)Xk.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fv=Object.prototype.hasOwnProperty,DU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zT={},HT={};function LU(t){return Fv.call(HT,t)?!0:Fv.call(zT,t)?!1:DU.test(t)?HT[t]=!0:(zT[t]=!0,!1)}function $U(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jU(t,e,n,r){if(e===null||typeof e>"u"||$U(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var Kx=/[\-:]([a-z])/g;function Jx(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Kx,Jx);nn[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yx(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jU(e,n,i,r)&&(n=null),r||i===null?LU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=OU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bf=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),Xx=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Qk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),Qx=Symbol.for("react.forward_ref"),Gv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),Zx=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),eR=Symbol.for("react.offscreen"),WT=Symbol.iterator;function gu(t){return t===null||typeof t!="object"?null:(t=WT&&t[WT]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,Sy;function $u(t){if(Sy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sy=e&&e[1]||""}return`
`+Sy+t}var Ay=!1;function Iy(t,e){if(!t||Ay)return"";Ay=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ay=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$u(t):""}function VU(t){switch(t.tag){case 5:return $u(t.type);case 16:return $u("Lazy");case 13:return $u("Suspense");case 19:return $u("SuspenseList");case 0:case 2:case 15:return t=Iy(t.type,!1),t;case 11:return t=Iy(t.type.render,!1),t;case 1:return t=Iy(t.type,!0),t;default:return""}}function zv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fa:return"Fragment";case da:return"Portal";case Bv:return"Profiler";case Xx:return"StrictMode";case Gv:return"Suspense";case qv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zk:return(t.displayName||"Context")+".Consumer";case Qk:return(t._context.displayName||"Context")+".Provider";case Qx:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zx:return e=t.displayName||null,e!==null?e:zv(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return zv(t(e))}catch{}}return null}function UU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zv(e);case 8:return e===Xx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FU(t){var e=tR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ef(t){t._valueTracker||(t._valueTracker=FU(t))}function nR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hv(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function KT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rR(t,e){e=e.checked,e!=null&&Yx(t,"checked",e,!1)}function Wv(t,e){rR(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Kv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Kv(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function JT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Kv(t,e,n){(e!=="number"||Rh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ju=Array.isArray;function Pa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function YT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(ju(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function iR(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function oR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?oR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tf,sR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tf=Tf||document.createElement("div"),Tf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BU=["Webkit","ms","Moz","O"];Object.keys(Wu).forEach(function(t){BU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wu[e]=Wu[t]})});function aR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wu.hasOwnProperty(t)&&Wu[t]?(""+e).trim():e+"px"}function lR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var GU=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xv(t,e){if(e){if(GU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function Qv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zv=null;function ew(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var e0=null,Na=null,ka=null;function QT(t){if(t=Id(t)){if(typeof e0!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Om(e),e0(t.stateNode,t.type,e))}}function uR(t){Na?ka?ka.push(t):ka=[t]:Na=t}function cR(){if(Na){var t=Na,e=ka;if(ka=Na=null,QT(t),e)for(t=0;t<e.length;t++)QT(e[t])}}function dR(t,e){return t(e)}function fR(){}var Cy=!1;function hR(t,e,n){if(Cy)return t(e,n);Cy=!0;try{return dR(t,e,n)}finally{Cy=!1,(Na!==null||ka!==null)&&(fR(),cR())}}function pc(t,e){var n=t.stateNode;if(n===null)return null;var r=Om(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var t0=!1;if(Ei)try{var yu={};Object.defineProperty(yu,"passive",{get:function(){t0=!0}}),window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{t0=!1}function qU(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ku=!1,Mh=null,Oh=!1,n0=null,zU={onError:function(t){Ku=!0,Mh=t}};function HU(t,e,n,r,i,o,s,a,l){Ku=!1,Mh=null,qU.apply(zU,arguments)}function WU(t,e,n,r,i,o,s,a,l){if(HU.apply(this,arguments),Ku){if(Ku){var u=Mh;Ku=!1,Mh=null}else throw Error(ne(198));Oh||(Oh=!0,n0=u)}}function Bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZT(t){if(Bs(t)!==t)throw Error(ne(188))}function KU(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return ZT(i),t;if(o===r)return ZT(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function mR(t){return t=KU(t),t!==null?gR(t):null}function gR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gR(t);if(e!==null)return e;t=t.sibling}return null}var yR=Jn.unstable_scheduleCallback,eS=Jn.unstable_cancelCallback,JU=Jn.unstable_shouldYield,YU=Jn.unstable_requestPaint,Tt=Jn.unstable_now,XU=Jn.unstable_getCurrentPriorityLevel,tw=Jn.unstable_ImmediatePriority,vR=Jn.unstable_UserBlockingPriority,Dh=Jn.unstable_NormalPriority,QU=Jn.unstable_LowPriority,_R=Jn.unstable_IdlePriority,Nm=null,Gr=null;function ZU(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Nm,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:nF,eF=Math.log,tF=Math.LN2;function nF(t){return t>>>=0,t===0?32:31-(eF(t)/tF|0)|0}var Sf=64,Af=4194304;function Vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Vu(a):(o&=s,o!==0&&(r=Vu(o)))}else s=n&~i,s!==0?r=Vu(s):o!==0&&(r=Vu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function rF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Cr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=rF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function r0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xR(){var t=Sf;return Sf<<=1,!(Sf&4194240)&&(Sf=64),t}function Py(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function oF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function nw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function wR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bR,rw,ER,TR,SR,i0=!1,If=[],go=null,yo=null,vo=null,mc=new Map,gc=new Map,ro=[],sF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tS(t,e){switch(t){case"focusin":case"focusout":go=null;break;case"dragenter":case"dragleave":yo=null;break;case"mouseover":case"mouseout":vo=null;break;case"pointerover":case"pointerout":mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(e.pointerId)}}function vu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Id(e),e!==null&&rw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function aF(t,e,n,r,i){switch(e){case"focusin":return go=vu(go,t,e,n,r,i),!0;case"dragenter":return yo=vu(yo,t,e,n,r,i),!0;case"mouseover":return vo=vu(vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return mc.set(o,vu(mc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,gc.set(o,vu(gc.get(o)||null,t,e,n,r,i)),!0}return!1}function AR(t){var e=cs(t.target);if(e!==null){var n=Bs(e);if(n!==null){if(e=n.tag,e===13){if(e=pR(n),e!==null){t.blockedOn=e,SR(t.priority,function(){ER(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Zv=r,n.target.dispatchEvent(r),Zv=null}else return e=Id(n),e!==null&&rw(e),t.blockedOn=n,!1;e.shift()}return!0}function nS(t,e,n){ch(t)&&n.delete(e)}function lF(){i0=!1,go!==null&&ch(go)&&(go=null),yo!==null&&ch(yo)&&(yo=null),vo!==null&&ch(vo)&&(vo=null),mc.forEach(nS),gc.forEach(nS)}function _u(t,e){t.blockedOn===e&&(t.blockedOn=null,i0||(i0=!0,Jn.unstable_scheduleCallback(Jn.unstable_NormalPriority,lF)))}function yc(t){function e(i){return _u(i,t)}if(0<If.length){_u(If[0],t);for(var n=1;n<If.length;n++){var r=If[n];r.blockedOn===t&&(r.blockedOn=null)}}for(go!==null&&_u(go,t),yo!==null&&_u(yo,t),vo!==null&&_u(vo,t),mc.forEach(e),gc.forEach(e),n=0;n<ro.length;n++)r=ro[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ro.length&&(n=ro[0],n.blockedOn===null);)AR(n),n.blockedOn===null&&ro.shift()}var Ra=Vi.ReactCurrentBatchConfig,$h=!0;function uF(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=1,iw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function cF(t,e,n,r){var i=Je,o=Ra.transition;Ra.transition=null;try{Je=4,iw(t,e,n,r)}finally{Je=i,Ra.transition=o}}function iw(t,e,n,r){if($h){var i=o0(t,e,n,r);if(i===null)Vy(t,e,r,jh,n),tS(t,r);else if(aF(i,t,e,n,r))r.stopPropagation();else if(tS(t,r),e&4&&-1<sF.indexOf(t)){for(;i!==null;){var o=Id(i);if(o!==null&&bR(o),o=o0(t,e,n,r),o===null&&Vy(t,e,r,jh,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Vy(t,e,r,null,n)}}var jh=null;function o0(t,e,n,r){if(jh=null,t=ew(r),t=cs(t),t!==null)if(e=Bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jh=t,null}function IR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XU()){case tw:return 1;case vR:return 4;case Dh:case QU:return 16;case _R:return 536870912;default:return 16}default:return 16}}var uo=null,ow=null,dh=null;function CR(){if(dh)return dh;var t,e=ow,n=e.length,r,i="value"in uo?uo.value:uo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return dh=i.slice(t,1<r?1-r:void 0)}function fh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Cf(){return!0}function rS(){return!1}function Qn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cf:rS,this.isPropagationStopped=rS,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cf)},persist:function(){},isPersistent:Cf}),e}var Ol={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sw=Qn(Ol),Ad=vt({},Ol,{view:0,detail:0}),dF=Qn(Ad),Ny,ky,xu,km=vt({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(Ny=t.screenX-xu.screenX,ky=t.screenY-xu.screenY):ky=Ny=0,xu=t),Ny)},movementY:function(t){return"movementY"in t?t.movementY:ky}}),iS=Qn(km),fF=vt({},km,{dataTransfer:0}),hF=Qn(fF),pF=vt({},Ad,{relatedTarget:0}),Ry=Qn(pF),mF=vt({},Ol,{animationName:0,elapsedTime:0,pseudoElement:0}),gF=Qn(mF),yF=vt({},Ol,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vF=Qn(yF),_F=vt({},Ol,{data:0}),oS=Qn(_F),xF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bF[t])?!!e[t]:!1}function aw(){return EF}var TF=vt({},Ad,{key:function(t){if(t.key){var e=xF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(t){return t.type==="keypress"?fh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SF=Qn(TF),AF=vt({},km,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=Qn(AF),IF=vt({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),CF=Qn(IF),PF=vt({},Ol,{propertyName:0,elapsedTime:0,pseudoElement:0}),NF=Qn(PF),kF=vt({},km,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RF=Qn(kF),MF=[9,13,27,32],lw=Ei&&"CompositionEvent"in window,Ju=null;Ei&&"documentMode"in document&&(Ju=document.documentMode);var OF=Ei&&"TextEvent"in window&&!Ju,PR=Ei&&(!lw||Ju&&8<Ju&&11>=Ju),aS=" ",lS=!1;function NR(t,e){switch(t){case"keyup":return MF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ha=!1;function DF(t,e){switch(t){case"compositionend":return kR(e);case"keypress":return e.which!==32?null:(lS=!0,aS);case"textInput":return t=e.data,t===aS&&lS?null:t;default:return null}}function LF(t,e){if(ha)return t==="compositionend"||!lw&&NR(t,e)?(t=CR(),dh=ow=uo=null,ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PR&&e.locale!=="ko"?null:e.data;default:return null}}var $F={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$F[t.type]:e==="textarea"}function RR(t,e,n,r){uR(r),e=Vh(e,"onChange"),0<e.length&&(n=new sw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yu=null,vc=null;function jF(t){GR(t,0)}function Rm(t){var e=ga(t);if(nR(e))return t}function VF(t,e){if(t==="change")return e}var MR=!1;if(Ei){var My;if(Ei){var Oy="oninput"in document;if(!Oy){var cS=document.createElement("div");cS.setAttribute("oninput","return;"),Oy=typeof cS.oninput=="function"}My=Oy}else My=!1;MR=My&&(!document.documentMode||9<document.documentMode)}function dS(){Yu&&(Yu.detachEvent("onpropertychange",OR),vc=Yu=null)}function OR(t){if(t.propertyName==="value"&&Rm(vc)){var e=[];RR(e,vc,t,ew(t)),hR(jF,e)}}function UF(t,e,n){t==="focusin"?(dS(),Yu=e,vc=n,Yu.attachEvent("onpropertychange",OR)):t==="focusout"&&dS()}function FF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rm(vc)}function BF(t,e){if(t==="click")return Rm(e)}function GF(t,e){if(t==="input"||t==="change")return Rm(e)}function qF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:qF;function _c(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fv.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function fS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hS(t,e){var n=fS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fS(n)}}function DR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LR(){for(var t=window,e=Rh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rh(t.document)}return e}function uw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zF(t){var e=LR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&DR(n.ownerDocument.documentElement,n)){if(r!==null&&uw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=hS(n,o);var s=hS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HF=Ei&&"documentMode"in document&&11>=document.documentMode,pa=null,s0=null,Xu=null,a0=!1;function pS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a0||pa==null||pa!==Rh(r)||(r=pa,"selectionStart"in r&&uw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xu&&_c(Xu,r)||(Xu=r,r=Vh(s0,"onSelect"),0<r.length&&(e=new sw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pa)))}function Pf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ma={animationend:Pf("Animation","AnimationEnd"),animationiteration:Pf("Animation","AnimationIteration"),animationstart:Pf("Animation","AnimationStart"),transitionend:Pf("Transition","TransitionEnd")},Dy={},$R={};Ei&&($R=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Mm(t){if(Dy[t])return Dy[t];if(!ma[t])return t;var e=ma[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $R)return Dy[t]=e[n];return t}var jR=Mm("animationend"),VR=Mm("animationiteration"),UR=Mm("animationstart"),FR=Mm("transitionend"),BR=new Map,mS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(t,e){BR.set(t,e),Fs(e,[t])}for(var Ly=0;Ly<mS.length;Ly++){var $y=mS[Ly],WF=$y.toLowerCase(),KF=$y[0].toUpperCase()+$y.slice(1);jo(WF,"on"+KF)}jo(jR,"onAnimationEnd");jo(VR,"onAnimationIteration");jo(UR,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(FR,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Fs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function gS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,WU(r,e,void 0,t),t.currentTarget=null}function GR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;gS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;gS(i,a,u),o=l}}}if(Oh)throw t=n0,Oh=!1,n0=null,t}function lt(t,e){var n=e[f0];n===void 0&&(n=e[f0]=new Set);var r=t+"__bubble";n.has(r)||(qR(e,t,2,!1),n.add(r))}function jy(t,e,n){var r=0;e&&(r|=4),qR(n,t,r,e)}var Nf="_reactListening"+Math.random().toString(36).slice(2);function xc(t){if(!t[Nf]){t[Nf]=!0,Xk.forEach(function(n){n!=="selectionchange"&&(JF.has(n)||jy(n,!1,t),jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nf]||(e[Nf]=!0,jy("selectionchange",!1,e))}}function qR(t,e,n,r){switch(IR(e)){case 1:var i=uF;break;case 4:i=cF;break;default:i=iw}n=i.bind(null,e,n,t),i=void 0,!t0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Vy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=cs(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}hR(function(){var u=o,c=ew(n),d=[];e:{var h=BR.get(t);if(h!==void 0){var y=sw,v=t;switch(t){case"keypress":if(fh(n)===0)break e;case"keydown":case"keyup":y=SF;break;case"focusin":v="focus",y=Ry;break;case"focusout":v="blur",y=Ry;break;case"beforeblur":case"afterblur":y=Ry;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=iS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=hF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=CF;break;case jR:case VR:case UR:y=gF;break;case FR:y=NF;break;case"scroll":y=dF;break;case"wheel":y=RF;break;case"copy":case"cut":case"paste":y=vF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=sS}var w=(e&4)!==0,_=!w&&t==="scroll",x=w?h!==null?h+"Capture":null:h;w=[];for(var b=u,T;b!==null;){T=b;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=pc(b,x),N!=null&&w.push(wc(b,N,T)))),_)break;b=b.return}0<w.length&&(h=new y(h,v,null,n,c),d.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Zv&&(v=n.relatedTarget||n.fromElement)&&(cs(v)||v[Ti]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?cs(v):null,v!==null&&(_=Bs(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=iS,N="onMouseLeave",x="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(w=sS,N="onPointerLeave",x="onPointerEnter",b="pointer"),_=y==null?h:ga(y),T=v==null?h:ga(v),h=new w(N,b+"leave",y,n,c),h.target=_,h.relatedTarget=T,N=null,cs(c)===u&&(w=new w(x,b+"enter",v,n,c),w.target=T,w.relatedTarget=_,N=w),_=N,y&&v)t:{for(w=y,x=v,b=0,T=w;T;T=na(T))b++;for(T=0,N=x;N;N=na(N))T++;for(;0<b-T;)w=na(w),b--;for(;0<T-b;)x=na(x),T--;for(;b--;){if(w===x||x!==null&&w===x.alternate)break t;w=na(w),x=na(x)}w=null}else w=null;y!==null&&yS(d,h,y,w,!1),v!==null&&_!==null&&yS(d,_,v,w,!0)}}e:{if(h=u?ga(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var A=VF;else if(uS(h))if(MR)A=GF;else{A=FF;var P=UF}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=BF);if(A&&(A=A(t,u))){RR(d,A,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&Kv(h,"number",h.value)}switch(P=u?ga(u):window,t){case"focusin":(uS(P)||P.contentEditable==="true")&&(pa=P,s0=u,Xu=null);break;case"focusout":Xu=s0=pa=null;break;case"mousedown":a0=!0;break;case"contextmenu":case"mouseup":case"dragend":a0=!1,pS(d,n,c);break;case"selectionchange":if(HF)break;case"keydown":case"keyup":pS(d,n,c)}var S;if(lw)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ha?NR(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(PR&&n.locale!=="ko"&&(ha||C!=="onCompositionStart"?C==="onCompositionEnd"&&ha&&(S=CR()):(uo=c,ow="value"in uo?uo.value:uo.textContent,ha=!0)),P=Vh(u,C),0<P.length&&(C=new oS(C,t,null,n,c),d.push({event:C,listeners:P}),S?C.data=S:(S=kR(n),S!==null&&(C.data=S)))),(S=OF?DF(t,n):LF(t,n))&&(u=Vh(u,"onBeforeInput"),0<u.length&&(c=new oS("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}GR(d,e)})}function wc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pc(t,n),o!=null&&r.unshift(wc(t,o,i)),o=pc(t,e),o!=null&&r.push(wc(t,o,i))),t=t.return}return r}function na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=pc(n,o),l!=null&&s.unshift(wc(n,l,a))):i||(l=pc(n,o),l!=null&&s.push(wc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var YF=/\r\n?/g,XF=/\u0000|\uFFFD/g;function vS(t){return(typeof t=="string"?t:""+t).replace(YF,`
`).replace(XF,"")}function kf(t,e,n){if(e=vS(e),vS(t)!==e&&n)throw Error(ne(425))}function Uh(){}var l0=null,u0=null;function c0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var d0=typeof setTimeout=="function"?setTimeout:void 0,QF=typeof clearTimeout=="function"?clearTimeout:void 0,_S=typeof Promise=="function"?Promise:void 0,ZF=typeof queueMicrotask=="function"?queueMicrotask:typeof _S<"u"?function(t){return _S.resolve(null).then(t).catch(e4)}:d0;function e4(t){setTimeout(function(){throw t})}function Uy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yc(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Dl,bc="__reactProps$"+Dl,Ti="__reactContainer$"+Dl,f0="__reactEvents$"+Dl,t4="__reactListeners$"+Dl,n4="__reactHandles$"+Dl;function cs(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xS(t);t!==null;){if(n=t[Ur])return n;t=xS(t)}return e}t=n,n=t.parentNode}return null}function Id(t){return t=t[Ur]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Om(t){return t[bc]||null}var h0=[],ya=-1;function Vo(t){return{current:t}}function dt(t){0>ya||(t.current=h0[ya],h0[ya]=null,ya--)}function st(t,e){ya++,h0[ya]=t.current,t.current=e}var Mo={},vn=Vo(Mo),Dn=Vo(!1),Ss=Mo;function Ka(t,e){var n=t.type.contextTypes;if(!n)return Mo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ln(t){return t=t.childContextTypes,t!=null}function Fh(){dt(Dn),dt(vn)}function wS(t,e,n){if(vn.current!==Mo)throw Error(ne(168));st(vn,e),st(Dn,n)}function zR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,UU(t)||"Unknown",i));return vt({},n,r)}function Bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mo,Ss=vn.current,st(vn,t),st(Dn,Dn.current),!0}function bS(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=zR(t,e,Ss),r.__reactInternalMemoizedMergedChildContext=t,dt(Dn),dt(vn),st(vn,t)):dt(Dn),st(Dn,n)}var ui=null,Dm=!1,Fy=!1;function HR(t){ui===null?ui=[t]:ui.push(t)}function r4(t){Dm=!0,HR(t)}function Uo(){if(!Fy&&ui!==null){Fy=!0;var t=0,e=Je;try{var n=ui;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ui=null,Dm=!1}catch(i){throw ui!==null&&(ui=ui.slice(t+1)),yR(tw,Uo),i}finally{Je=e,Fy=!1}}return null}var va=[],_a=0,Gh=null,qh=0,rr=[],ir=0,As=null,di=1,fi="";function rs(t,e){va[_a++]=qh,va[_a++]=Gh,Gh=t,qh=e}function WR(t,e,n){rr[ir++]=di,rr[ir++]=fi,rr[ir++]=As,As=t;var r=di;t=fi;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var o=32-Cr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,di=1<<32-Cr(e)+i|n<<i|r,fi=o+t}else di=1<<o|n<<i|r,fi=t}function cw(t){t.return!==null&&(rs(t,1),WR(t,1,0))}function dw(t){for(;t===Gh;)Gh=va[--_a],va[_a]=null,qh=va[--_a],va[_a]=null;for(;t===As;)As=rr[--ir],rr[ir]=null,fi=rr[--ir],rr[ir]=null,di=rr[--ir],rr[ir]=null}var Kn=null,Hn=null,ft=!1,Sr=null;function KR(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ES(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kn=t,Hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=As!==null?{id:di,overflow:fi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kn=t,Hn=null,!0):!1;default:return!1}}function p0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function m0(t){if(ft){var e=Hn;if(e){var n=e;if(!ES(t,e)){if(p0(t))throw Error(ne(418));e=_o(n.nextSibling);var r=Kn;e&&ES(t,e)?KR(r,n):(t.flags=t.flags&-4097|2,ft=!1,Kn=t)}}else{if(p0(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ft=!1,Kn=t}}}function TS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kn=t}function Rf(t){if(t!==Kn)return!1;if(!ft)return TS(t),ft=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!c0(t.type,t.memoizedProps)),e&&(e=Hn)){if(p0(t))throw JR(),Error(ne(418));for(;e;)KR(t,e),e=_o(e.nextSibling)}if(TS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Hn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Hn=null}}else Hn=Kn?_o(t.stateNode.nextSibling):null;return!0}function JR(){for(var t=Hn;t;)t=_o(t.nextSibling)}function Ja(){Hn=Kn=null,ft=!1}function fw(t){Sr===null?Sr=[t]:Sr.push(t)}var i4=Vi.ReactCurrentBatchConfig;function wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Mf(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function SS(t){var e=t._init;return e(t._payload)}function YR(t){function e(x,b){if(t){var T=x.deletions;T===null?(x.deletions=[b],x.flags|=16):T.push(b)}}function n(x,b){if(!t)return null;for(;b!==null;)e(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Eo(x,b),x.index=0,x.sibling=null,x}function o(x,b,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<b?(x.flags|=2,b):T):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,b,T,N){return b===null||b.tag!==6?(b=Ky(T,x.mode,N),b.return=x,b):(b=i(b,T),b.return=x,b)}function l(x,b,T,N){var A=T.type;return A===fa?c(x,b,T.props.children,N,T.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&SS(A)===b.type)?(N=i(b,T.props),N.ref=wu(x,b,T),N.return=x,N):(N=_h(T.type,T.key,T.props,null,x.mode,N),N.ref=wu(x,b,T),N.return=x,N)}function u(x,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=Jy(T,x.mode,N),b.return=x,b):(b=i(b,T.children||[]),b.return=x,b)}function c(x,b,T,N,A){return b===null||b.tag!==7?(b=xs(T,x.mode,N,A),b.return=x,b):(b=i(b,T),b.return=x,b)}function d(x,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ky(""+b,x.mode,T),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bf:return T=_h(b.type,b.key,b.props,null,x.mode,T),T.ref=wu(x,null,b),T.return=x,T;case da:return b=Jy(b,x.mode,T),b.return=x,b;case eo:var N=b._init;return d(x,N(b._payload),T)}if(ju(b)||gu(b))return b=xs(b,x.mode,T,null),b.return=x,b;Mf(x,b)}return null}function h(x,b,T,N){var A=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return A!==null?null:a(x,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case bf:return T.key===A?l(x,b,T,N):null;case da:return T.key===A?u(x,b,T,N):null;case eo:return A=T._init,h(x,b,A(T._payload),N)}if(ju(T)||gu(T))return A!==null?null:c(x,b,T,N,null);Mf(x,T)}return null}function y(x,b,T,N,A){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(b,x,""+N,A);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case bf:return x=x.get(N.key===null?T:N.key)||null,l(b,x,N,A);case da:return x=x.get(N.key===null?T:N.key)||null,u(b,x,N,A);case eo:var P=N._init;return y(x,b,T,P(N._payload),A)}if(ju(N)||gu(N))return x=x.get(T)||null,c(b,x,N,A,null);Mf(b,N)}return null}function v(x,b,T,N){for(var A=null,P=null,S=b,C=b=0,I=null;S!==null&&C<T.length;C++){S.index>C?(I=S,S=null):I=S.sibling;var R=h(x,S,T[C],N);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(x,S),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R,S=I}if(C===T.length)return n(x,S),ft&&rs(x,C),A;if(S===null){for(;C<T.length;C++)S=d(x,T[C],N),S!==null&&(b=o(S,b,C),P===null?A=S:P.sibling=S,P=S);return ft&&rs(x,C),A}for(S=r(x,S);C<T.length;C++)I=y(S,x,C,T[C],N),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?C:I.key),b=o(I,b,C),P===null?A=I:P.sibling=I,P=I);return t&&S.forEach(function(M){return e(x,M)}),ft&&rs(x,C),A}function w(x,b,T,N){var A=gu(T);if(typeof A!="function")throw Error(ne(150));if(T=A.call(T),T==null)throw Error(ne(151));for(var P=A=null,S=b,C=b=0,I=null,R=T.next();S!==null&&!R.done;C++,R=T.next()){S.index>C?(I=S,S=null):I=S.sibling;var M=h(x,S,R.value,N);if(M===null){S===null&&(S=I);break}t&&S&&M.alternate===null&&e(x,S),b=o(M,b,C),P===null?A=M:P.sibling=M,P=M,S=I}if(R.done)return n(x,S),ft&&rs(x,C),A;if(S===null){for(;!R.done;C++,R=T.next())R=d(x,R.value,N),R!==null&&(b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return ft&&rs(x,C),A}for(S=r(x,S);!R.done;C++,R=T.next())R=y(S,x,C,R.value,N),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?C:R.key),b=o(R,b,C),P===null?A=R:P.sibling=R,P=R);return t&&S.forEach(function(D){return e(x,D)}),ft&&rs(x,C),A}function _(x,b,T,N){if(typeof T=="object"&&T!==null&&T.type===fa&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case bf:e:{for(var A=T.key,P=b;P!==null;){if(P.key===A){if(A=T.type,A===fa){if(P.tag===7){n(x,P.sibling),b=i(P,T.props.children),b.return=x,x=b;break e}}else if(P.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&SS(A)===P.type){n(x,P.sibling),b=i(P,T.props),b.ref=wu(x,P,T),b.return=x,x=b;break e}n(x,P);break}else e(x,P);P=P.sibling}T.type===fa?(b=xs(T.props.children,x.mode,N,T.key),b.return=x,x=b):(N=_h(T.type,T.key,T.props,null,x.mode,N),N.ref=wu(x,b,T),N.return=x,x=N)}return s(x);case da:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(x,b.sibling),b=i(b,T.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else e(x,b);b=b.sibling}b=Jy(T,x.mode,N),b.return=x,x=b}return s(x);case eo:return P=T._init,_(x,b,P(T._payload),N)}if(ju(T))return v(x,b,T,N);if(gu(T))return w(x,b,T,N);Mf(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,T),b.return=x,x=b):(n(x,b),b=Ky(T,x.mode,N),b.return=x,x=b),s(x)):n(x,b)}return _}var Ya=YR(!0),XR=YR(!1),zh=Vo(null),Hh=null,xa=null,hw=null;function pw(){hw=xa=Hh=null}function mw(t){var e=zh.current;dt(zh),t._currentValue=e}function g0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ma(t,e){Hh=t,hw=xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mn=!0),t.firstContext=null)}function hr(t){var e=t._currentValue;if(hw!==t)if(t={context:t,memoizedValue:e,next:null},xa===null){if(Hh===null)throw Error(ne(308));xa=t,Hh.dependencies={lanes:0,firstContext:t}}else xa=xa.next=t;return e}var ds=null;function gw(t){ds===null?ds=[t]:ds.push(t)}function QR(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,gw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Si(t,r)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function yw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _i(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function xo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Si(t,n)}return i=r.interleaved,i===null?(e.next=e,gw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Si(t,n)}function hh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}function AS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wh(t,e,n,r){var i=t.updateQueue;to=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(h=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){d=v.call(y,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(y,d,h):v,h==null)break e;d=vt({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=d}}function IS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var Cd={},qr=Vo(Cd),Ec=Vo(Cd),Tc=Vo(Cd);function fs(t){if(t===Cd)throw Error(ne(174));return t}function vw(t,e){switch(st(Tc,e),st(Ec,t),st(qr,Cd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yv(e,t)}dt(qr),st(qr,e)}function Xa(){dt(qr),dt(Ec),dt(Tc)}function e2(t){fs(Tc.current);var e=fs(qr.current),n=Yv(e,t.type);e!==n&&(st(Ec,t),st(qr,n))}function _w(t){Ec.current===t&&(dt(qr),dt(Ec))}var mt=Vo(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var By=[];function xw(){for(var t=0;t<By.length;t++)By[t]._workInProgressVersionPrimary=null;By.length=0}var ph=Vi.ReactCurrentDispatcher,Gy=Vi.ReactCurrentBatchConfig,Is=0,yt=null,Mt=null,Bt=null,Jh=!1,Qu=!1,Sc=0,o4=0;function ln(){throw Error(ne(321))}function ww(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function bw(t,e,n,r,i,o){if(Is=o,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ph.current=t===null||t.memoizedState===null?u4:c4,t=n(r,i),Qu){o=0;do{if(Qu=!1,Sc=0,25<=o)throw Error(ne(301));o+=1,Bt=Mt=null,e.updateQueue=null,ph.current=d4,t=n(r,i)}while(Qu)}if(ph.current=Yh,e=Mt!==null&&Mt.next!==null,Is=0,Bt=Mt=yt=null,Jh=!1,e)throw Error(ne(300));return t}function Ew(){var t=Sc!==0;return Sc=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function pr(){if(Mt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Bt===null?yt.memoizedState:Bt.next;if(e!==null)Bt=e,Mt=t;else{if(t===null)throw Error(ne(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ac(t,e){return typeof e=="function"?e(t):e}function qy(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Mt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Is&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,yt.lanes|=c,Cs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Mr(r,e.memoizedState)||(Mn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,yt.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zy(t){var e=pr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mr(o,e.memoizedState)||(Mn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function t2(){}function n2(t,e){var n=yt,r=pr(),i=e(),o=!Mr(r.memoizedState,i);if(o&&(r.memoizedState=i,Mn=!0),r=r.queue,Tw(o2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Ic(9,i2.bind(null,n,r,i,e),void 0,null),Gt===null)throw Error(ne(349));Is&30||r2(n,e,i)}return i}function r2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function i2(t,e,n,r){e.value=n,e.getSnapshot=r,s2(e)&&a2(t)}function o2(t,e,n){return n(function(){s2(e)&&a2(t)})}function s2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function a2(t){var e=Si(t,1);e!==null&&Pr(e,t,1,-1)}function CS(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:t},e.queue=t,t=t.dispatch=l4.bind(null,yt,t),[e.memoizedState,t]}function Ic(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function l2(){return pr().memoizedState}function mh(t,e,n,r){var i=jr();yt.flags|=t,i.memoizedState=Ic(1|e,n,void 0,r===void 0?null:r)}function Lm(t,e,n,r){var i=pr();r=r===void 0?null:r;var o=void 0;if(Mt!==null){var s=Mt.memoizedState;if(o=s.destroy,r!==null&&ww(r,s.deps)){i.memoizedState=Ic(e,n,o,r);return}}yt.flags|=t,i.memoizedState=Ic(1|e,n,o,r)}function PS(t,e){return mh(8390656,8,t,e)}function Tw(t,e){return Lm(2048,8,t,e)}function u2(t,e){return Lm(4,2,t,e)}function c2(t,e){return Lm(4,4,t,e)}function d2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function f2(t,e,n){return n=n!=null?n.concat([t]):null,Lm(4,4,d2.bind(null,e,t),n)}function Sw(){}function h2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function p2(t,e){var n=pr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ww(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function m2(t,e,n){return Is&21?(Mr(n,e)||(n=xR(),yt.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mn=!0),t.memoizedState=n)}function s4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Gy.transition;Gy.transition={};try{t(!1),e()}finally{Je=n,Gy.transition=r}}function g2(){return pr().memoizedState}function a4(t,e,n){var r=bo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},y2(t))v2(e,n);else if(n=QR(t,e,n,r),n!==null){var i=En();Pr(n,t,r,i),_2(n,e,r)}}function l4(t,e,n){var r=bo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(y2(t))v2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mr(a,s)){var l=e.interleaved;l===null?(i.next=i,gw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=QR(t,e,i,r),n!==null&&(i=En(),Pr(n,t,r,i),_2(n,e,r))}}function y2(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function v2(t,e){Qu=Jh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,nw(t,n)}}var Yh={readContext:hr,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},u4={readContext:hr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:hr,useEffect:PS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mh(4194308,4,d2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mh(4194308,4,t,e)},useInsertionEffect:function(t,e){return mh(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a4.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:CS,useDebugValue:Sw,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=CS(!1),e=t[0];return t=s4.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=jr();if(ft){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Gt===null)throw Error(ne(349));Is&30||r2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,PS(o2.bind(null,r,o,t),[t]),r.flags|=2048,Ic(9,i2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jr(),e=Gt.identifierPrefix;if(ft){var n=fi,r=di;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c4={readContext:hr,useCallback:h2,useContext:hr,useEffect:Tw,useImperativeHandle:f2,useInsertionEffect:u2,useLayoutEffect:c2,useMemo:p2,useReducer:qy,useRef:l2,useState:function(){return qy(Ac)},useDebugValue:Sw,useDeferredValue:function(t){var e=pr();return m2(e,Mt.memoizedState,t)},useTransition:function(){var t=qy(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1},d4={readContext:hr,useCallback:h2,useContext:hr,useEffect:Tw,useImperativeHandle:f2,useInsertionEffect:u2,useLayoutEffect:c2,useMemo:p2,useReducer:zy,useRef:l2,useState:function(){return zy(Ac)},useDebugValue:Sw,useDeferredValue:function(t){var e=pr();return Mt===null?e.memoizedState=t:m2(e,Mt.memoizedState,t)},useTransition:function(){var t=zy(Ac)[0],e=pr().memoizedState;return[t,e]},useMutableSource:t2,useSyncExternalStore:n2,useId:g2,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function y0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $m={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=bo(t),o=_i(r,i);o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Pr(e,t,i,r),hh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=bo(t),o=_i(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=xo(t,o,i),e!==null&&(Pr(e,t,i,r),hh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=bo(t),i=_i(n,r);i.tag=2,e!=null&&(i.callback=e),e=xo(t,i,r),e!==null&&(Pr(e,t,r,n),hh(e,t,r))}};function NS(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!_c(n,r)||!_c(i,o):!0}function x2(t,e,n){var r=!1,i=Mo,o=e.contextType;return typeof o=="object"&&o!==null?o=hr(o):(i=Ln(e)?Ss:vn.current,r=e.contextTypes,o=(r=r!=null)?Ka(t,i):Mo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$m,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function kS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$m.enqueueReplaceState(e,e.state,null)}function v0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=hr(o):(o=Ln(e)?Ss:vn.current,i.context=Ka(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(y0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$m.enqueueReplaceState(i,i.state,null),Wh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Qa(t,e){try{var n="",r=e;do n+=VU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Hy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function w2(t,e,n){n=_i(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,P0=r),_0(t,e)},n}function b2(t,e,n){n=_i(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_0(t,e),typeof r!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function RS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=A4.bind(null,t,e,n),e.then(t,t))}function MS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_i(-1,1),e.tag=2,xo(n,e,1))),n.lanes|=1),t)}var h4=Vi.ReactCurrentOwner,Mn=!1;function wn(t,e,n,r){e.child=t===null?XR(e,null,n,r):Ya(e,t.child,n,r)}function DS(t,e,n,r,i){n=n.render;var o=e.ref;return Ma(e,i),r=bw(t,e,n,r,o,i),n=Ew(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ft&&n&&cw(e),e.flags|=1,wn(t,e,r,i),e.child)}function LS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Mw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,E2(t,e,o,r,i)):(t=_h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:_c,n(s,r)&&t.ref===e.ref)return Ai(t,e,i)}return e.flags|=1,t=Eo(o,r),t.ref=e.ref,t.return=e,e.child=t}function E2(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(_c(o,r)&&t.ref===e.ref)if(Mn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Mn=!0);else return e.lanes=t.lanes,Ai(t,e,i)}return x0(t,e,n,r,i)}function T2(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(ba,Gn),Gn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,st(ba,Gn),Gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,st(ba,Gn),Gn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,st(ba,Gn),Gn|=r;return wn(t,e,i,n),e.child}function S2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,i){var o=Ln(n)?Ss:vn.current;return o=Ka(e,o),Ma(e,i),n=bw(t,e,n,r,o,i),r=Ew(),t!==null&&!Mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ai(t,e,i)):(ft&&r&&cw(e),e.flags|=1,wn(t,e,n,i),e.child)}function $S(t,e,n,r,i){if(Ln(n)){var o=!0;Bh(e)}else o=!1;if(Ma(e,i),e.stateNode===null)gh(t,e),x2(e,n,r),v0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hr(u):(u=Ln(n)?Ss:vn.current,u=Ka(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&kS(e,s,r,u),to=!1;var h=e.memoizedState;s.state=h,Wh(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Dn.current||to?(typeof c=="function"&&(y0(e,n,c,r),l=e.memoizedState),(a=to||NS(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ZR(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:br(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=hr(l):(l=Ln(n)?Ss:vn.current,l=Ka(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&kS(e,s,r,l),to=!1,h=e.memoizedState,s.state=h,Wh(e,r,s,i);var v=e.memoizedState;a!==d||h!==v||Dn.current||to?(typeof y=="function"&&(y0(e,n,y,r),v=e.memoizedState),(u=to||NS(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return w0(t,e,n,r,o,i)}function w0(t,e,n,r,i,o){S2(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&bS(e,n,!1),Ai(t,e,o);r=e.stateNode,h4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ya(e,t.child,null,o),e.child=Ya(e,null,a,o)):wn(t,e,a,o),e.memoizedState=r.state,i&&bS(e,n,!0),e.child}function A2(t){var e=t.stateNode;e.pendingContext?wS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wS(t,e.context,!1),vw(t,e.containerInfo)}function jS(t,e,n,r,i){return Ja(),fw(i),e.flags|=256,wn(t,e,n,r),e.child}var b0={dehydrated:null,treeContext:null,retryLane:0};function E0(t){return{baseLanes:t,cachePool:null,transitions:null}}function I2(t,e,n){var r=e.pendingProps,i=mt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),st(mt,i&1),t===null)return m0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Um(s,r,0,null),t=xs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=E0(n),e.memoizedState=b0,t):Aw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return p4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Eo(a,o):(o=xs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?E0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=b0,r}return o=t.child,t=o.sibling,r=Eo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Aw(t,e){return e=Um({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&fw(r),Ya(e,t.child,null,n),t=Aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function p4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Hy(Error(ne(422))),Of(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Um({mode:"visible",children:r.children},i,0,null),o=xs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ya(e,t.child,null,s),e.child.memoizedState=E0(s),e.memoizedState=b0,o);if(!(e.mode&1))return Of(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Hy(o,r,void 0),Of(t,e,s,r)}if(a=(s&t.childLanes)!==0,Mn||a){if(r=Gt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Si(t,i),Pr(r,t,i,-1))}return Rw(),r=Hy(Error(ne(421))),Of(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=I4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Hn=_o(i.nextSibling),Kn=e,ft=!0,Sr=null,t!==null&&(rr[ir++]=di,rr[ir++]=fi,rr[ir++]=As,di=t.id,fi=t.overflow,As=e),e=Aw(e,r.children),e.flags|=4096,e)}function VS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),g0(t.return,e,n)}function Wy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function C2(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(wn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&VS(t,n,e);else if(t.tag===19)VS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(st(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wy(e,!0,n,null,o);break;case"together":Wy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=Eo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m4(t,e,n){switch(e.tag){case 3:A2(e),Ja();break;case 5:e2(e);break;case 1:Ln(e.type)&&Bh(e);break;case 4:vw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;st(zh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(st(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?I2(t,e,n):(st(mt,mt.current&1),t=Ai(t,e,n),t!==null?t.sibling:null);st(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return C2(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,T2(t,e,n)}return Ai(t,e,n)}var P2,T0,N2,k2;P2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T0=function(){};N2=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fs(qr.current);var o=null;switch(n){case"input":i=Hv(t,i),r=Hv(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=Jv(t,i),r=Jv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Xv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};k2=function(t,e,n,r){n!==r&&(e.flags|=4)};function bu(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function g4(t,e,n){var r=e.pendingProps;switch(dw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(e),null;case 1:return Ln(e.type)&&Fh(),un(e),null;case 3:return r=e.stateNode,Xa(),dt(Dn),dt(vn),xw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Rf(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sr!==null&&(R0(Sr),Sr=null))),T0(t,e),un(e),null;case 5:_w(e);var i=fs(Tc.current);if(n=e.type,t!==null&&e.stateNode!=null)N2(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return un(e),null}if(t=fs(qr.current),Rf(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ur]=e,r[bc]=o,t=(e.mode&1)!==0,n){case"dialog":lt("cancel",r),lt("close",r);break;case"iframe":case"object":case"embed":lt("load",r);break;case"video":case"audio":for(i=0;i<Uu.length;i++)lt(Uu[i],r);break;case"source":lt("error",r);break;case"img":case"image":case"link":lt("error",r),lt("load",r);break;case"details":lt("toggle",r);break;case"input":KT(r,o),lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},lt("invalid",r);break;case"textarea":YT(r,o),lt("invalid",r)}Xv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&kf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&kf(r.textContent,a,t),i=["children",""+a]):fc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&lt("scroll",r)}switch(n){case"input":Ef(r),JT(r,o,!0);break;case"textarea":Ef(r),XT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=oR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ur]=e,t[bc]=r,P2(t,e,!1,!1),e.stateNode=t;e:{switch(s=Qv(n,r),n){case"dialog":lt("cancel",t),lt("close",t),i=r;break;case"iframe":case"object":case"embed":lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uu.length;i++)lt(Uu[i],t);i=r;break;case"source":lt("error",t),i=r;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=r;break;case"details":lt("toggle",t),i=r;break;case"input":KT(t,r),i=Hv(t,r),lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),lt("invalid",t);break;case"textarea":YT(t,r),i=Jv(t,r),lt("invalid",t);break;default:i=r}Xv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?lR(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&sR(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hc(t,l):typeof l=="number"&&hc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(fc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&lt("scroll",t):l!=null&&Yx(t,o,l,s))}switch(n){case"input":Ef(t),JT(t,r,!1);break;case"textarea":Ef(t),XT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pa(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return un(e),null;case 6:if(t&&e.stateNode!=null)k2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=fs(Tc.current),fs(qr.current),Rf(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(o=r.nodeValue!==n)&&(t=Kn,t!==null))switch(t.tag){case 3:kf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kf(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return un(e),null;case 13:if(dt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ft&&Hn!==null&&e.mode&1&&!(e.flags&128))JR(),Ja(),e.flags|=98560,o=!1;else if(o=Rf(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Ur]=e}else Ja(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;un(e),o=!1}else Sr!==null&&(R0(Sr),Sr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ot===0&&(Ot=3):Rw())),e.updateQueue!==null&&(e.flags|=4),un(e),null);case 4:return Xa(),T0(t,e),t===null&&xc(e.stateNode.containerInfo),un(e),null;case 10:return mw(e.type._context),un(e),null;case 17:return Ln(e.type)&&Fh(),un(e),null;case 19:if(dt(mt),o=e.memoizedState,o===null)return un(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)bu(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kh(t),s!==null){for(e.flags|=128,bu(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return st(mt,mt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Za&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ft)return un(e),null}else 2*Tt()-o.renderingStartTime>Za&&n!==1073741824&&(e.flags|=128,r=!0,bu(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=mt.current,st(mt,r?n&1|2:n&1),e):(un(e),null);case 22:case 23:return kw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gn&1073741824&&(un(e),e.subtreeFlags&6&&(e.flags|=8192)):un(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function y4(t,e){switch(dw(e),e.tag){case 1:return Ln(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xa(),dt(Dn),dt(vn),xw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _w(e),null;case 13:if(dt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return dt(mt),null;case 4:return Xa(),null;case 10:return mw(e.type._context),null;case 22:case 23:return kw(),null;case 24:return null;default:return null}}var Df=!1,hn=!1,v4=typeof WeakSet=="function"?WeakSet:Set,fe=null;function wa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function S0(t,e,n){try{n()}catch(r){wt(t,e,r)}}var US=!1;function _4(t,e){if(l0=$h,t=LR(),uw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)h=d,d=y;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(u0={focusedElem:t,selectionRange:n},$h=!1,fe=e;fe!==null;)if(e=fe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,fe=t;else for(;fe!==null;){e=fe;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,_=v.memoizedState,x=e.stateNode,b=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:br(e.type,w),_);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){wt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,fe=t;break}fe=e.return}return v=US,US=!1,v}function Zu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&S0(e,n,o)}i=i.next}while(i!==r)}}function jm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function R2(t){var e=t.alternate;e!==null&&(t.alternate=null,R2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[bc],delete e[f0],delete e[t4],delete e[n4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M2(t){return t.tag===5||t.tag===3||t.tag===4}function FS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function I0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(I0(t,e,n),t=t.sibling;t!==null;)I0(t,e,n),t=t.sibling}function C0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C0(t,e,n),t=t.sibling;t!==null;)C0(t,e,n),t=t.sibling}var Yt=null,Er=!1;function Xi(t,e,n){for(n=n.child;n!==null;)O2(t,e,n),n=n.sibling}function O2(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Nm,n)}catch{}switch(n.tag){case 5:hn||wa(n,e);case 6:var r=Yt,i=Er;Yt=null,Xi(t,e,n),Yt=r,Er=i,Yt!==null&&(Er?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(Er?(t=Yt,n=n.stateNode,t.nodeType===8?Uy(t.parentNode,n):t.nodeType===1&&Uy(t,n),yc(t)):Uy(Yt,n.stateNode));break;case 4:r=Yt,i=Er,Yt=n.stateNode.containerInfo,Er=!0,Xi(t,e,n),Yt=r,Er=i;break;case 0:case 11:case 14:case 15:if(!hn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&S0(n,e,s),i=i.next}while(i!==r)}Xi(t,e,n);break;case 1:if(!hn&&(wa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){wt(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(hn=(r=hn)||n.memoizedState!==null,Xi(t,e,n),hn=r):Xi(t,e,n);break;default:Xi(t,e,n)}}function BS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new v4),e.forEach(function(r){var i=C4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Yt=a.stateNode,Er=!1;break e;case 3:Yt=a.stateNode.containerInfo,Er=!0;break e;case 4:Yt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Yt===null)throw Error(ne(160));O2(o,s,i),Yt=null,Er=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D2(e,t),e=e.sibling}function D2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),$r(t),r&4){try{Zu(3,t,t.return),jm(3,t)}catch(w){wt(t,t.return,w)}try{Zu(5,t,t.return)}catch(w){wt(t,t.return,w)}}break;case 1:xr(e,t),$r(t),r&512&&n!==null&&wa(n,n.return);break;case 5:if(xr(e,t),$r(t),r&512&&n!==null&&wa(n,n.return),t.flags&32){var i=t.stateNode;try{hc(i,"")}catch(w){wt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&rR(i,o),Qv(a,s);var u=Qv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?lR(i,d):c==="dangerouslySetInnerHTML"?sR(i,d):c==="children"?hc(i,d):Yx(i,c,d,u)}switch(a){case"input":Wv(i,o);break;case"textarea":iR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Pa(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pa(i,!!o.multiple,o.defaultValue,!0):Pa(i,!!o.multiple,o.multiple?[]:"",!1))}i[bc]=o}catch(w){wt(t,t.return,w)}}break;case 6:if(xr(e,t),$r(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(w){wt(t,t.return,w)}}break;case 3:if(xr(e,t),$r(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yc(e.containerInfo)}catch(w){wt(t,t.return,w)}break;case 4:xr(e,t),$r(t);break;case 13:xr(e,t),$r(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Pw=Tt())),r&4&&BS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(hn=(u=hn)||c,xr(e,t),hn=u):xr(e,t),$r(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(fe=t,c=t.child;c!==null;){for(d=fe=c;fe!==null;){switch(h=fe,y=h.child,h.tag){case 0:case 11:case 14:case 15:Zu(4,h,h.return);break;case 1:wa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){wt(r,n,w)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){qS(d);continue}}y!==null?(y.return=h,fe=y):qS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=aR("display",s))}catch(w){wt(t,t.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){wt(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xr(e,t),$r(t),r&4&&BS(t);break;case 21:break;default:xr(e,t),$r(t)}}function $r(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M2(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hc(i,""),r.flags&=-33);var o=FS(t);C0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=FS(t);I0(t,a,s);break;default:throw Error(ne(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x4(t,e,n){fe=t,L2(t)}function L2(t,e,n){for(var r=(t.mode&1)!==0;fe!==null;){var i=fe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Df;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||hn;a=Df;var u=hn;if(Df=s,(hn=l)&&!u)for(fe=i;fe!==null;)s=fe,l=s.child,s.tag===22&&s.memoizedState!==null?zS(i):l!==null?(l.return=s,fe=l):zS(i);for(;o!==null;)fe=o,L2(o),o=o.sibling;fe=i,Df=a,hn=u}GS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,fe=o):GS(t)}}function GS(t){for(;fe!==null;){var e=fe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hn||jm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!hn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&IS(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}IS(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&yc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}hn||e.flags&512&&A0(e)}catch(h){wt(e,e.return,h)}}if(e===t){fe=null;break}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}}function qS(t){for(;fe!==null;){var e=fe;if(e===t){fe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,fe=n;break}fe=e.return}}function zS(t){for(;fe!==null;){var e=fe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jm(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var o=e.return;try{A0(e)}catch(l){wt(e,o,l)}break;case 5:var s=e.return;try{A0(e)}catch(l){wt(e,s,l)}}}catch(l){wt(e,e.return,l)}if(e===t){fe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,fe=a;break}fe=e.return}}var w4=Math.ceil,Xh=Vi.ReactCurrentDispatcher,Iw=Vi.ReactCurrentOwner,lr=Vi.ReactCurrentBatchConfig,Ue=0,Gt=null,It=null,en=0,Gn=0,ba=Vo(0),Ot=0,Cc=null,Cs=0,Vm=0,Cw=0,ec=null,kn=null,Pw=0,Za=1/0,li=null,Qh=!1,P0=null,wo=null,Lf=!1,co=null,Zh=0,tc=0,N0=null,yh=-1,vh=0;function En(){return Ue&6?Tt():yh!==-1?yh:yh=Tt()}function bo(t){return t.mode&1?Ue&2&&en!==0?en&-en:i4.transition!==null?(vh===0&&(vh=xR()),vh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:IR(t.type)),t):1}function Pr(t,e,n,r){if(50<tc)throw tc=0,N0=null,Error(ne(185));Sd(t,n,r),(!(Ue&2)||t!==Gt)&&(t===Gt&&(!(Ue&2)&&(Vm|=n),Ot===4&&io(t,en)),$n(t,r),n===1&&Ue===0&&!(e.mode&1)&&(Za=Tt()+500,Dm&&Uo()))}function $n(t,e){var n=t.callbackNode;iF(t,e);var r=Lh(t,t===Gt?en:0);if(r===0)n!==null&&eS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eS(n),e===1)t.tag===0?r4(HS.bind(null,t)):HR(HS.bind(null,t)),ZF(function(){!(Ue&6)&&Uo()}),n=null;else{switch(wR(r)){case 1:n=tw;break;case 4:n=vR;break;case 16:n=Dh;break;case 536870912:n=_R;break;default:n=Dh}n=q2(n,$2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $2(t,e){if(yh=-1,vh=0,Ue&6)throw Error(ne(327));var n=t.callbackNode;if(Oa()&&t.callbackNode!==n)return null;var r=Lh(t,t===Gt?en:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ep(t,r);else{e=r;var i=Ue;Ue|=2;var o=V2();(Gt!==t||en!==e)&&(li=null,Za=Tt()+500,_s(t,e));do try{T4();break}catch(a){j2(t,a)}while(!0);pw(),Xh.current=o,Ue=i,It!==null?e=0:(Gt=null,en=0,e=Ot)}if(e!==0){if(e===2&&(i=r0(t),i!==0&&(r=i,e=k0(t,i))),e===1)throw n=Cc,_s(t,0),io(t,r),$n(t,Tt()),n;if(e===6)io(t,r);else{if(i=t.current.alternate,!(r&30)&&!b4(i)&&(e=ep(t,r),e===2&&(o=r0(t),o!==0&&(r=o,e=k0(t,o))),e===1))throw n=Cc,_s(t,0),io(t,r),$n(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:is(t,kn,li);break;case 3:if(io(t,r),(r&130023424)===r&&(e=Pw+500-Tt(),10<e)){if(Lh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=d0(is.bind(null,t,kn,li),e);break}is(t,kn,li);break;case 4:if(io(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Cr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w4(r/1960))-r,10<r){t.timeoutHandle=d0(is.bind(null,t,kn,li),r);break}is(t,kn,li);break;case 5:is(t,kn,li);break;default:throw Error(ne(329))}}}return $n(t,Tt()),t.callbackNode===n?$2.bind(null,t):null}function k0(t,e){var n=ec;return t.current.memoizedState.isDehydrated&&(_s(t,e).flags|=256),t=ep(t,e),t!==2&&(e=kn,kn=n,e!==null&&R0(e)),t}function R0(t){kn===null?kn=t:kn.push.apply(kn,t)}function b4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~Cw,e&=~Vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function HS(t){if(Ue&6)throw Error(ne(327));Oa();var e=Lh(t,0);if(!(e&1))return $n(t,Tt()),null;var n=ep(t,e);if(t.tag!==0&&n===2){var r=r0(t);r!==0&&(e=r,n=k0(t,r))}if(n===1)throw n=Cc,_s(t,0),io(t,e),$n(t,Tt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,is(t,kn,li),$n(t,Tt()),null}function Nw(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(Za=Tt()+500,Dm&&Uo())}}function Ps(t){co!==null&&co.tag===0&&!(Ue&6)&&Oa();var e=Ue;Ue|=1;var n=lr.transition,r=Je;try{if(lr.transition=null,Je=1,t)return t()}finally{Je=r,lr.transition=n,Ue=e,!(Ue&6)&&Uo()}}function kw(){Gn=ba.current,dt(ba)}function _s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QF(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(dw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:Xa(),dt(Dn),dt(vn),xw();break;case 5:_w(r);break;case 4:Xa();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:mw(r.type._context);break;case 22:case 23:kw()}n=n.return}if(Gt=t,It=t=Eo(t.current,null),en=Gn=e,Ot=0,Cc=null,Cw=Vm=Cs=0,kn=ec=null,ds!==null){for(e=0;e<ds.length;e++)if(n=ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ds=null}return t}function j2(t,e){do{var n=It;try{if(pw(),ph.current=Yh,Jh){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jh=!1}if(Is=0,Bt=Mt=yt=null,Qu=!1,Sc=0,Iw.current=null,n===null||n.return===null){Ot=1,Cc=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=en,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=MS(s);if(y!==null){y.flags&=-257,OS(y,s,a,o,e),y.mode&1&&RS(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){RS(o,u,e),Rw();break e}l=Error(ne(426))}}else if(ft&&a.mode&1){var _=MS(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),OS(_,s,a,o,e),fw(Qa(l,a));break e}}o=l=Qa(l,a),Ot!==4&&(Ot=2),ec===null?ec=[o]:ec.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=w2(o,l,e);AS(o,x);break e;case 1:a=l;var b=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(wo===null||!wo.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=b2(o,a,e);AS(o,N);break e}}o=o.return}while(o!==null)}F2(n)}catch(A){e=A,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function V2(){var t=Xh.current;return Xh.current=Yh,t===null?Yh:t}function Rw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Gt===null||!(Cs&268435455)&&!(Vm&268435455)||io(Gt,en)}function ep(t,e){var n=Ue;Ue|=2;var r=V2();(Gt!==t||en!==e)&&(li=null,_s(t,e));do try{E4();break}catch(i){j2(t,i)}while(!0);if(pw(),Ue=n,Xh.current=r,It!==null)throw Error(ne(261));return Gt=null,en=0,Ot}function E4(){for(;It!==null;)U2(It)}function T4(){for(;It!==null&&!JU();)U2(It)}function U2(t){var e=G2(t.alternate,t,Gn);t.memoizedProps=t.pendingProps,e===null?F2(t):It=e,Iw.current=null}function F2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y4(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(n=g4(n,e,Gn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function is(t,e,n){var r=Je,i=lr.transition;try{lr.transition=null,Je=1,S4(t,e,n,r)}finally{lr.transition=i,Je=r}return null}function S4(t,e,n,r){do Oa();while(co!==null);if(Ue&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oF(t,o),t===Gt&&(It=Gt=null,en=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lf||(Lf=!0,q2(Dh,function(){return Oa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var s=Je;Je=1;var a=Ue;Ue|=4,Iw.current=null,_4(t,n),D2(n,t),zF(u0),$h=!!l0,u0=l0=null,t.current=n,x4(n),YU(),Ue=a,Je=s,lr.transition=o}else t.current=n;if(Lf&&(Lf=!1,co=t,Zh=i),o=t.pendingLanes,o===0&&(wo=null),ZU(n.stateNode),$n(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=P0,P0=null,t;return Zh&1&&t.tag!==0&&Oa(),o=t.pendingLanes,o&1?t===N0?tc++:(tc=0,N0=t):tc=0,Uo(),null}function Oa(){if(co!==null){var t=wR(Zh),e=lr.transition,n=Je;try{if(lr.transition=null,Je=16>t?16:t,co===null)var r=!1;else{if(t=co,co=null,Zh=0,Ue&6)throw Error(ne(331));var i=Ue;for(Ue|=4,fe=t.current;fe!==null;){var o=fe,s=o.child;if(fe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(fe=u;fe!==null;){var c=fe;switch(c.tag){case 0:case 11:case 15:Zu(8,c,o)}var d=c.child;if(d!==null)d.return=c,fe=d;else for(;fe!==null;){c=fe;var h=c.sibling,y=c.return;if(R2(c),c===u){fe=null;break}if(h!==null){h.return=y,fe=h;break}fe=y}}}var v=o.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}fe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,fe=s;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,fe=x;break e}fe=o.return}}var b=t.current;for(fe=b;fe!==null;){s=fe;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,fe=T;else e:for(s=b;fe!==null;){if(a=fe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jm(9,a)}}catch(A){wt(a,a.return,A)}if(a===s){fe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,fe=N;break e}fe=a.return}}if(Ue=i,Uo(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Nm,t)}catch{}r=!0}return r}finally{Je=n,lr.transition=e}}return!1}function WS(t,e,n){e=Qa(n,e),e=w2(t,e,1),t=xo(t,e,1),e=En(),t!==null&&(Sd(t,1,e),$n(t,e))}function wt(t,e,n){if(t.tag===3)WS(t,t,n);else for(;e!==null;){if(e.tag===3){WS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wo===null||!wo.has(r))){t=Qa(n,t),t=b2(e,t,1),e=xo(e,t,1),t=En(),e!==null&&(Sd(e,1,t),$n(e,t));break}}e=e.return}}function A4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Gt===t&&(en&n)===n&&(Ot===4||Ot===3&&(en&130023424)===en&&500>Tt()-Pw?_s(t,0):Cw|=n),$n(t,e)}function B2(t,e){e===0&&(t.mode&1?(e=Af,Af<<=1,!(Af&130023424)&&(Af=4194304)):e=1);var n=En();t=Si(t,e),t!==null&&(Sd(t,e,n),$n(t,n))}function I4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),B2(t,n)}function C4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),B2(t,n)}var G2;G2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dn.current)Mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Mn=!1,m4(t,e,n);Mn=!!(t.flags&131072)}else Mn=!1,ft&&e.flags&1048576&&WR(e,qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;gh(t,e),t=e.pendingProps;var i=Ka(e,vn.current);Ma(e,n),i=bw(null,e,r,t,i,n);var o=Ew();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ln(r)?(o=!0,Bh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yw(e),i.updater=$m,e.stateNode=i,i._reactInternals=e,v0(e,r,t,n),e=w0(null,e,r,!0,o,n)):(e.tag=0,ft&&o&&cw(e),wn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(gh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N4(r),t=br(r,t),i){case 0:e=x0(null,e,r,t,n);break e;case 1:e=$S(null,e,r,t,n);break e;case 11:e=DS(null,e,r,t,n);break e;case 14:e=LS(null,e,r,br(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),x0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),$S(t,e,r,i,n);case 3:e:{if(A2(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,ZR(t,e),Wh(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Qa(Error(ne(423)),e),e=jS(t,e,r,n,i);break e}else if(r!==i){i=Qa(Error(ne(424)),e),e=jS(t,e,r,n,i);break e}else for(Hn=_o(e.stateNode.containerInfo.firstChild),Kn=e,ft=!0,Sr=null,n=XR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ja(),r===i){e=Ai(t,e,n);break e}wn(t,e,r,n)}e=e.child}return e;case 5:return e2(e),t===null&&m0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,c0(r,i)?s=null:o!==null&&c0(r,o)&&(e.flags|=32),S2(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&m0(e),null;case 13:return I2(t,e,n);case 4:return vw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ya(e,null,r,n):wn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),DS(t,e,r,i,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,st(zh,r._currentValue),r._currentValue=s,o!==null)if(Mr(o.value,s)){if(o.children===i.children&&!Dn.current){e=Ai(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=_i(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),g0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),g0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}wn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ma(e,n),i=hr(i),r=r(i),e.flags|=1,wn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),LS(t,e,r,i,n);case 15:return E2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),gh(t,e),e.tag=1,Ln(r)?(t=!0,Bh(e)):t=!1,Ma(e,n),x2(e,r,i),v0(e,r,i,n),w0(null,e,r,!0,t,n);case 19:return C2(t,e,n);case 22:return T2(t,e,n)}throw Error(ne(156,e.tag))};function q2(t,e){return yR(t,e)}function P4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new P4(t,e,n,r)}function Mw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N4(t){if(typeof t=="function")return Mw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Qx)return 11;if(t===Zx)return 14}return 2}function Eo(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _h(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Mw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case fa:return xs(n.children,i,o,e);case Xx:s=8,i|=8;break;case Bv:return t=sr(12,n,e,i|2),t.elementType=Bv,t.lanes=o,t;case Gv:return t=sr(13,n,e,i),t.elementType=Gv,t.lanes=o,t;case qv:return t=sr(19,n,e,i),t.elementType=qv,t.lanes=o,t;case eR:return Um(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qk:s=10;break e;case Zk:s=9;break e;case Qx:s=11;break e;case Zx:s=14;break e;case eo:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function xs(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function Um(t,e,n,r){return t=sr(22,t,r,e),t.elementType=eR,t.lanes=n,t.stateNode={isHidden:!1},t}function Ky(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Jy(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function k4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Py(0),this.expirationTimes=Py(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Py(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ow(t,e,n,r,i,o,s,a,l){return t=new k4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yw(o),t}function R4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function z2(t){if(!t)return Mo;t=t._reactInternals;e:{if(Bs(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Ln(n))return zR(t,n,e)}return e}function H2(t,e,n,r,i,o,s,a,l){return t=Ow(n,r,!0,t,i,o,s,a,l),t.context=z2(null),n=t.current,r=En(),i=bo(n),o=_i(r,i),o.callback=e??null,xo(n,o,i),t.current.lanes=i,Sd(t,i,r),$n(t,r),t}function Fm(t,e,n,r){var i=e.current,o=En(),s=bo(i);return n=z2(n),e.context===null?e.context=n:e.pendingContext=n,e=_i(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=xo(i,e,s),t!==null&&(Pr(t,i,s,o),hh(t,i,s)),s}function tp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function KS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dw(t,e){KS(t,e),(t=t.alternate)&&KS(t,e)}function M4(){return null}var W2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lw(t){this._internalRoot=t}Bm.prototype.render=Lw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Fm(t,e,null,null)};Bm.prototype.unmount=Lw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ps(function(){Fm(null,t,null,null)}),e[Ti]=null}};function Bm(t){this._internalRoot=t}Bm.prototype.unstable_scheduleHydration=function(t){if(t){var e=TR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ro.length&&e!==0&&e<ro[n].priority;n++);ro.splice(n,0,t),n===0&&AR(t)}};function $w(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JS(){}function O4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=tp(s);o.call(u)}}var s=H2(e,r,t,0,null,!1,!1,"",JS);return t._reactRootContainer=s,t[Ti]=s.current,xc(t.nodeType===8?t.parentNode:t),Ps(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tp(l);a.call(u)}}var l=Ow(t,0,!1,null,null,!1,!1,"",JS);return t._reactRootContainer=l,t[Ti]=l.current,xc(t.nodeType===8?t.parentNode:t),Ps(function(){Fm(e,l,n,r)}),l}function qm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=tp(s);a.call(l)}}Fm(e,s,t,i)}else s=O4(n,e,t,i,r);return tp(s)}bR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vu(e.pendingLanes);n!==0&&(nw(e,n|1),$n(e,Tt()),!(Ue&6)&&(Za=Tt()+500,Uo()))}break;case 13:Ps(function(){var r=Si(t,1);if(r!==null){var i=En();Pr(r,t,1,i)}}),Dw(t,1)}};rw=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=En();Pr(e,t,134217728,n)}Dw(t,134217728)}};ER=function(t){if(t.tag===13){var e=bo(t),n=Si(t,e);if(n!==null){var r=En();Pr(n,t,e,r)}Dw(t,e)}};TR=function(){return Je};SR=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};e0=function(t,e,n){switch(e){case"input":if(Wv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Om(r);if(!i)throw Error(ne(90));nR(r),Wv(r,i)}}}break;case"textarea":iR(t,n);break;case"select":e=n.value,e!=null&&Pa(t,!!n.multiple,e,!1)}};dR=Nw;fR=Ps;var D4={usingClientEntryPoint:!1,Events:[Id,ga,Om,uR,cR,Nw]},Eu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L4={bundleType:Eu.bundleType,version:Eu.version,rendererPackageName:Eu.rendererPackageName,rendererConfig:Eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mR(t),t===null?null:t.stateNode},findFiberByHostInstance:Eu.findFiberByHostInstance||M4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$f.isDisabled&&$f.supportsFiber)try{Nm=$f.inject(L4),Gr=$f}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$w(e))throw Error(ne(200));return R4(t,e,null,n)};Xn.createRoot=function(t,e){if(!$w(t))throw Error(ne(299));var n=!1,r="",i=W2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ow(t,1,!1,null,null,n,!1,r,i),t[Ti]=e.current,xc(t.nodeType===8?t.parentNode:t),new Lw(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=mR(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Ps(t)};Xn.hydrate=function(t,e,n){if(!Gm(e))throw Error(ne(200));return qm(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!$w(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=W2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=H2(e,null,t,1,n??null,i,!1,o,s),t[Ti]=e.current,xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Bm(e)};Xn.render=function(t,e,n){if(!Gm(e))throw Error(ne(200));return qm(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!Gm(t))throw Error(ne(40));return t._reactRootContainer?(Ps(function(){qm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};Xn.unstable_batchedUpdates=Nw;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gm(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return qm(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function K2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K2)}catch(t){console.error(t)}}K2(),Kk.exports=Xn;var $4=Kk.exports,YS=$4;Uv.createRoot=YS.createRoot,Uv.hydrateRoot=YS.hydrateRoot;var XS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},j4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Y2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[d],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(J2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):j4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new V4;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const U4=function(t){const e=J2(t);return Y2.encodeByteArray(e,!0)},np=function(t){return U4(t).replace(/\./g,"")},X2=function(t){try{return Y2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=()=>F4().__FIREBASE_DEFAULTS__,G4=()=>{if(typeof process>"u"||typeof XS>"u")return;const t=XS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&X2(t[1]);return e&&JSON.parse(e)},zm=()=>{try{return B4()||G4()||q4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Q2=t=>{var e,n;return(n=(e=zm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z4=t=>{const e=Q2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Z2=()=>{var t;return(t=zm())===null||t===void 0?void 0:t.config},eM=t=>{var e;return(e=zm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[np(JSON.stringify(n)),np(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function J4(){var t;const e=(t=zm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Q4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z4(){const t=_n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eB(){return!J4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tB(){try{return typeof indexedDB=="object"}catch{return!1}}function nB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rB,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?iB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function iB(t,e){return t.replace(oB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const oB=/\{\$([^}]+)}/g;function sB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(QS(o)&&QS(s)){if(!rp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aB(t,e){const n=new lB(t,e);return n.subscribe.bind(n)}class lB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");uB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yy),i.error===void 0&&(i.error=Yy),i.complete===void 0&&(i.complete=Yy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class Ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new H4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fB(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dB(t){return t===os?void 0:t}function fB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const pB={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},mB=$e.INFO,gB={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},yB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jw{constructor(e){this.name=e,this._logLevel=mB,this._logHandler=yB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const vB=(t,e)=>e.some(n=>t instanceof n);let ZS,e1;function _B(){return ZS||(ZS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xB(){return e1||(e1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tM=new WeakMap,M0=new WeakMap,nM=new WeakMap,Xy=new WeakMap,Vw=new WeakMap;function wB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(To(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&tM.set(n,t)}).catch(()=>{}),Vw.set(e,t),e}function bB(t){if(M0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});M0.set(t,e)}let O0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return M0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return To(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EB(t){O0=t(O0)}function TB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qy(this),e,...n);return nM.set(r,e.sort?e.sort():[e]),To(r)}:xB().includes(t)?function(...e){return t.apply(Qy(this),e),To(tM.get(this))}:function(...e){return To(t.apply(Qy(this),e))}}function SB(t){return typeof t=="function"?TB(t):(t instanceof IDBTransaction&&bB(t),vB(t,_B())?new Proxy(t,O0):t)}function To(t){if(t instanceof IDBRequest)return wB(t);if(Xy.has(t))return Xy.get(t);const e=SB(t);return e!==t&&(Xy.set(t,e),Vw.set(e,t)),e}const Qy=t=>Vw.get(t);function AB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=To(s);return r&&s.addEventListener("upgradeneeded",l=>{r(To(s.result),l.oldVersion,l.newVersion,To(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const IB=["get","getKey","getAll","getAllKeys","count"],CB=["put","add","delete","clear"],Zy=new Map;function t1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zy.get(e))return Zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IB.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zy.set(e,o),o}EB(t=>({...t,get:(e,n,r)=>t1(e,n)||t.get(e,n,r),has:(e,n)=>!!t1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D0="@firebase/app",n1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new jw("@firebase/app"),kB="@firebase/app-compat",RB="@firebase/analytics-compat",MB="@firebase/analytics",OB="@firebase/app-check-compat",DB="@firebase/app-check",LB="@firebase/auth",$B="@firebase/auth-compat",jB="@firebase/database",VB="@firebase/data-connect",UB="@firebase/database-compat",FB="@firebase/functions",BB="@firebase/functions-compat",GB="@firebase/installations",qB="@firebase/installations-compat",zB="@firebase/messaging",HB="@firebase/messaging-compat",WB="@firebase/performance",KB="@firebase/performance-compat",JB="@firebase/remote-config",YB="@firebase/remote-config-compat",XB="@firebase/storage",QB="@firebase/storage-compat",ZB="@firebase/firestore",e3="@firebase/vertexai-preview",t3="@firebase/firestore-compat",n3="firebase",r3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="[DEFAULT]",i3={[D0]:"fire-core",[kB]:"fire-core-compat",[MB]:"fire-analytics",[RB]:"fire-analytics-compat",[DB]:"fire-app-check",[OB]:"fire-app-check-compat",[LB]:"fire-auth",[$B]:"fire-auth-compat",[jB]:"fire-rtdb",[VB]:"fire-data-connect",[UB]:"fire-rtdb-compat",[FB]:"fire-fn",[BB]:"fire-fn-compat",[GB]:"fire-iid",[qB]:"fire-iid-compat",[zB]:"fire-fcm",[HB]:"fire-fcm-compat",[WB]:"fire-perf",[KB]:"fire-perf-compat",[JB]:"fire-rc",[YB]:"fire-rc-compat",[XB]:"fire-gcs",[QB]:"fire-gcs-compat",[ZB]:"fire-fst",[t3]:"fire-fst-compat",[e3]:"fire-vertex","fire-js":"fire-js",[n3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,o3=new Map,$0=new Map;function r1(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if($0.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,t);for(const n of ip.values())r1(n,t);for(const n of o3.values())r1(n,t);return!0}function Uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function fo(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new Pd("app","Firebase",s3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=r3;function rM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:L0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw So.create("bad-app-name",{appName:String(i)});if(n||(n=Z2()),!n)throw So.create("no-options");const o=ip.get(i);if(o){if(rp(n,o.options)&&rp(r,o.config))return o;throw So.create("duplicate-app",{appName:i})}const s=new hB(i);for(const l of $0.values())s.addComponent(l);const a=new a3(n,r,s);return ip.set(i,a),a}function iM(t=L0){const e=ip.get(t);if(!e&&t===L0&&Z2())return rM();if(!e)throw So.create("no-app",{appName:t});return e}function Ao(t,e,n){var r;let i=(r=i3[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}el(new Ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="firebase-heartbeat-database",u3=1,Pc="firebase-heartbeat-store";let ev=null;function oM(){return ev||(ev=AB(l3,u3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),ev}async function c3(t){try{const n=(await oM()).transaction(Pc),r=await n.objectStore(Pc).get(sM(t));return await n.done,r}catch(e){if(e instanceof Ui)Ii.warn(e.message);else{const n=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function i1(t,e){try{const r=(await oM()).transaction(Pc,"readwrite");await r.objectStore(Pc).put(e,sM(t)),await r.done}catch(n){if(n instanceof Ui)Ii.warn(n.message);else{const r=So.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function sM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=1024,f3=30*24*60*60*1e3;class h3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=o1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=f3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o1(),{heartbeatsToSend:r,unsentEntries:i}=p3(this._heartbeatsCache.heartbeats),o=np(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}}}function o1(){return new Date().toISOString().substring(0,10)}function p3(t,e=d3){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),s1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),s1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class m3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tB()?nB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s1(t){return np(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){el(new Ns("platform-logger",e=>new PB(e),"PRIVATE")),el(new Ns("heartbeat",e=>new h3(e),"PRIVATE")),Ao(D0,n1,t),Ao(D0,n1,"esm2017"),Ao("fire-js","")}g3("");var y3="firebase",v3="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ao(y3,v3,"app");var a1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ws,aM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function I(){}I.prototype=C.prototype,S.D=C.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,M,D){for(var O=Array(arguments.length-2),U=2;U<arguments.length;U++)O[U-2]=arguments[U];return C.prototype[M].apply(R,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,I){I||(I=0);var R=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)R[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;16>M;++M)R[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=S.g[0],I=S.g[1],M=S.g[2];var D=S.g[3],O=C+(D^I&(M^D))+R[0]+3614090360&4294967295;C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[1]+3905402710&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[2]+606105819&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[3]+3250441966&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[4]+4118548399&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[5]+1200080426&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[6]+2821735955&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[7]+4249261313&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[8]+1770035416&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[9]+2336552879&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[10]+4294925233&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[11]+2304563134&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(D^I&(M^D))+R[12]+1804603682&4294967295,C=I+(O<<7&4294967295|O>>>25),O=D+(M^C&(I^M))+R[13]+4254626195&4294967295,D=C+(O<<12&4294967295|O>>>20),O=M+(I^D&(C^I))+R[14]+2792965006&4294967295,M=D+(O<<17&4294967295|O>>>15),O=I+(C^M&(D^C))+R[15]+1236535329&4294967295,I=M+(O<<22&4294967295|O>>>10),O=C+(M^D&(I^M))+R[1]+4129170786&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[6]+3225465664&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[11]+643717713&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[0]+3921069994&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[5]+3593408605&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[10]+38016083&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[15]+3634488961&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[4]+3889429448&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[9]+568446438&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[14]+3275163606&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[3]+4107603335&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[8]+1163531501&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(M^D&(I^M))+R[13]+2850285829&4294967295,C=I+(O<<5&4294967295|O>>>27),O=D+(I^M&(C^I))+R[2]+4243563512&4294967295,D=C+(O<<9&4294967295|O>>>23),O=M+(C^I&(D^C))+R[7]+1735328473&4294967295,M=D+(O<<14&4294967295|O>>>18),O=I+(D^C&(M^D))+R[12]+2368359562&4294967295,I=M+(O<<20&4294967295|O>>>12),O=C+(I^M^D)+R[5]+4294588738&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[8]+2272392833&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[11]+1839030562&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[14]+4259657740&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[1]+2763975236&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[4]+1272893353&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[7]+4139469664&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[10]+3200236656&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[13]+681279174&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[0]+3936430074&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[3]+3572445317&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[6]+76029189&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(I^M^D)+R[9]+3654602809&4294967295,C=I+(O<<4&4294967295|O>>>28),O=D+(C^I^M)+R[12]+3873151461&4294967295,D=C+(O<<11&4294967295|O>>>21),O=M+(D^C^I)+R[15]+530742520&4294967295,M=D+(O<<16&4294967295|O>>>16),O=I+(M^D^C)+R[2]+3299628645&4294967295,I=M+(O<<23&4294967295|O>>>9),O=C+(M^(I|~D))+R[0]+4096336452&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[7]+1126891415&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[14]+2878612391&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[5]+4237533241&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[12]+1700485571&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[3]+2399980690&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[10]+4293915773&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[1]+2240044497&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[8]+1873313359&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[15]+4264355552&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[6]+2734768916&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[13]+1309151649&4294967295,I=M+(O<<21&4294967295|O>>>11),O=C+(M^(I|~D))+R[4]+4149444226&4294967295,C=I+(O<<6&4294967295|O>>>26),O=D+(I^(C|~M))+R[11]+3174756917&4294967295,D=C+(O<<10&4294967295|O>>>22),O=M+(C^(D|~I))+R[2]+718787259&4294967295,M=D+(O<<15&4294967295|O>>>17),O=I+(D^(M|~C))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var I=C-this.blockSize,R=this.B,M=this.h,D=0;D<C;){if(M==0)for(;D<=I;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<C;)if(R[M++]=S.charCodeAt(D++),M==this.blockSize){i(this,R),M=0;break}}else for(;D<C;)if(R[M++]=S[D++],M==this.blockSize){i(this,R),M=0;break}}this.h=M,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var I=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=I&255,I/=256;for(this.u(S),S=Array(16),C=I=0;4>C;++C)for(var R=0;32>R;R+=8)S[I++]=this.g[C]>>>R&255;return S};function o(S,C){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=C(S)}function s(S,C){this.h=C;for(var I=[],R=!0,M=S.length-1;0<=M;M--){var D=S[M]|0;R&&D==C||(I[M]=D,R=!1)}this.g=I}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return d;if(0>S)return _(u(-S));for(var C=[],I=1,R=0;S>=I;R++)C[R]=S/I|0,I*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return _(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(C,8)),R=d,M=0;M<S.length;M+=8){var D=Math.min(8,S.length-M),O=parseInt(S.substring(M,M+D),C);8>D?(D=u(Math.pow(C,D)),R=R.j(D).add(u(O))):(R=R.j(I),R=R.add(u(O)))}return R}var d=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(w(this))return-_(this).m();for(var S=0,C=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v(this))return"0";if(w(this))return"-"+_(this).toString(S);for(var C=u(Math.pow(S,6)),I=this,R="";;){var M=N(I,C).g;I=x(I,M.j(C));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=M,v(I))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function v(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function w(S){return S.h==-1}t.l=function(S){return S=x(this,S),w(S)?-1:v(S)?0:1};function _(S){for(var C=S.g.length,I=[],R=0;R<C;R++)I[R]=~S.g[R];return new s(I,~S.h).add(h)}t.abs=function(){return w(this)?_(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0,M=0;M<=C;M++){var D=R+(this.i(M)&65535)+(S.i(M)&65535),O=(D>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);R=O>>>16,D&=65535,O&=65535,I[M]=O<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(S,C){return S.add(_(C))}t.j=function(S){if(v(this)||v(S))return d;if(w(this))return w(S)?_(this).j(_(S)):_(_(this).j(S));if(w(S))return _(this.j(_(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,I=[],R=0;R<2*C;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var M=0;M<S.g.length;M++){var D=this.i(R)>>>16,O=this.i(R)&65535,U=S.i(M)>>>16,B=S.i(M)&65535;I[2*R+2*M]+=O*B,b(I,2*R+2*M),I[2*R+2*M+1]+=D*B,b(I,2*R+2*M+1),I[2*R+2*M+1]+=O*U,b(I,2*R+2*M+1),I[2*R+2*M+2]+=D*U,b(I,2*R+2*M+2)}for(R=0;R<C;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=C;R<2*C;R++)I[R]=0;return new s(I,0)};function b(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function T(S,C){this.g=S,this.h=C}function N(S,C){if(v(C))throw Error("division by zero");if(v(S))return new T(d,d);if(w(S))return C=N(_(S),C),new T(_(C.g),_(C.h));if(w(C))return C=N(S,_(C)),new T(_(C.g),C.h);if(30<S.g.length){if(w(S)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var I=h,R=C;0>=R.l(S);)I=A(I),R=A(R);var M=P(I,1),D=P(R,1);for(R=P(R,2),I=P(I,2);!v(R);){var O=D.add(R);0>=O.l(S)&&(M=M.add(I),D=O),R=P(R,1),I=P(I,1)}return C=x(S,M.j(C)),new T(M,C)}for(M=d;0<=S.l(C);){for(I=Math.max(1,Math.floor(S.m()/C.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(I),O=D.j(C);w(O)||0<O.l(S);)I-=R,D=u(I),O=D.j(C);v(D)&&(D=h),M=M.add(D),S=x(S,O)}return new T(M,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),I=[],R=0;R<C;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function A(S){for(var C=S.g.length+1,I=[],R=0;R<C;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function P(S,C){var I=C>>5;C%=32;for(var R=S.g.length-I,M=[],D=0;D<R;D++)M[D]=0<C?S.i(D+I)>>>C|S.i(D+I+1)<<32-C:S.i(D+I);return new s(M,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aM=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,ws=s}).apply(typeof a1<"u"?a1:typeof self<"u"?self:typeof window<"u"?window:{});var jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lM,Fu,uM,xh,j0,cM,dM,fM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,k){return p==Array.prototype||p==Object.prototype||(p[E]=k.value),p};function n(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof jf=="object"&&jf];for(var E=0;E<p.length;++E){var k=p[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(p,E){if(E)e:{var k=r;p=p.split(".");for(var L=0;L<p.length-1;L++){var F=p[L];if(!(F in k))break e;k=k[F]}p=p[p.length-1],L=k[p],E=E(L),E!=L&&E!=null&&e(k,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var k=0,L=!1,F={next:function(){if(!L&&k<p.length){var q=k++;return{value:E(q,p[q]),done:!1}}return L=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function u(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function c(p,E,k){return p.call.apply(p.bind,arguments)}function d(p,E,k){if(!p)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,L),p.apply(E,F)}}return function(){return p.apply(E,arguments)}}function h(p,E,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function y(p,E){var k=Array.prototype.slice.call(arguments,1);return function(){var L=k.slice();return L.push.apply(L,arguments),p.apply(this,L)}}function v(p,E){function k(){}k.prototype=E.prototype,p.aa=E.prototype,p.prototype=new k,p.prototype.constructor=p,p.Qb=function(L,F,q){for(var oe=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)oe[tt-2]=arguments[tt];return E.prototype[F].apply(L,oe)}}function w(p){const E=p.length;if(0<E){const k=Array(E);for(let L=0;L<E;L++)k[L]=p[L];return k}return[]}function _(p,E){for(let k=1;k<arguments.length;k++){const L=arguments[k];if(l(L)){const F=p.length||0,q=L.length||0;p.length=F+q;for(let oe=0;oe<q;oe++)p[F+oe]=L[oe]}else p.push(L)}}class x{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){return/^[\s\xa0]*$/.test(p)}function T(){var p=a.navigator;return p&&(p=p.userAgent)?p:""}function N(p){return N[" "](p),p}N[" "]=function(){};var A=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(p,E,k){for(const L in p)E.call(k,p[L],L,p)}function S(p,E){for(const k in p)E.call(void 0,p[k],k,p)}function C(p){const E={};for(const k in p)E[k]=p[k];return E}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(p,E){let k,L;for(let F=1;F<arguments.length;F++){L=arguments[F];for(k in L)p[k]=L[k];for(let q=0;q<I.length;q++)k=I[q],Object.prototype.hasOwnProperty.call(L,k)&&(p[k]=L[k])}}function M(p){var E=1;p=p.split(":");const k=[];for(;0<E&&p.length;)k.push(p.shift()),E--;return p.length&&k.push(p.join(":")),k}function D(p){a.setTimeout(()=>{throw p},0)}function O(){var p=K;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class U{constructor(){this.h=this.g=null}add(E,k){const L=B.get();L.set(E,k),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new x(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let W,V=!1,K=new U,Y=()=>{const p=a.Promise.resolve(void 0);W=()=>{p.then(se)}};var se=()=>{for(var p;p=O();){try{p.h.call(p.g)}catch(k){D(k)}var E=B;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}V=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const k=()=>{};a.addEventListener("test",k,E),a.removeEventListener("test",k,E)}catch{}return p}();function Ne(p,E){if(le.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var k=this.type=p.type,L=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(A){e:{try{N(E.nodeName);var F=!0;break e}catch{}F=!1}F||(E=null)}}else k=="mouseover"?E=p.fromElement:k=="mouseout"&&(E=p.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:We[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&Ne.aa.h.call(this)}}v(Ne,le);var We={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function ie(p,E,k,L,F){this.listener=p,this.proxy=null,this.src=E,this.type=k,this.capture=!!L,this.ha=F,this.key=++Ve,this.da=this.fa=!1}function ye(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function _e(p){this.src=p,this.g={},this.h=0}_e.prototype.add=function(p,E,k,L,F){var q=p.toString();p=this.g[q],p||(p=this.g[q]=[],this.h++);var oe=Le(p,E,L,F);return-1<oe?(E=p[oe],k||(E.fa=!1)):(E=new ie(E,this.src,q,!!L,F),E.fa=k,p.push(E)),E};function Q(p,E){var k=E.type;if(k in p.g){var L=p.g[k],F=Array.prototype.indexOf.call(L,E,void 0),q;(q=0<=F)&&Array.prototype.splice.call(L,F,1),q&&(ye(E),p.g[k].length==0&&(delete p.g[k],p.h--))}}function Le(p,E,k,L){for(var F=0;F<p.length;++F){var q=p[F];if(!q.da&&q.listener==E&&q.capture==!!k&&q.ha==L)return F}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),et={};function X(p,E,k,L,F){if(Array.isArray(E)){for(var q=0;q<E.length;q++)X(p,E[q],k,L,F);return null}return k=Ko(k),p&&p[z]?p.K(E,k,u(L)?!!L.capture:!1,F):me(p,E,k,!1,L,F)}function me(p,E,k,L,F,q){if(!E)throw Error("Invalid event type");var oe=u(F)?!!F.capture:!!F,tt=ri(p);if(tt||(p[Ie]=tt=new _e(p)),k=tt.add(E,k,L,oe,q),k.proxy)return k;if(L=Qe(),k.proxy=L,L.src=p,L.listener=k,p.addEventListener)Ce||(F=oe),F===void 0&&(F=!1),p.addEventListener(E.toString(),L,F);else if(p.attachEvent)p.attachEvent(Nt(E.toString()),L);else if(p.addListener&&p.removeListener)p.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Qe(){function p(k){return E.call(p.src,p.listener,k)}const E=Un;return p}function jt(p,E,k,L,F){if(Array.isArray(E))for(var q=0;q<E.length;q++)jt(p,E[q],k,L,F);else L=u(L)?!!L.capture:!!L,k=Ko(k),p&&p[z]?(p=p.i,E=String(E).toString(),E in p.g&&(q=p.g[E],k=Le(q,k,L,F),-1<k&&(ye(q[k]),Array.prototype.splice.call(q,k,1),q.length==0&&(delete p.g[E],p.h--)))):p&&(p=ri(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Le(E,k,L,F)),(k=-1<p?E[p]:null)&&Vn(k))}function Vn(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[z])Q(E.i,p);else{var k=p.type,L=p.proxy;E.removeEventListener?E.removeEventListener(k,L,p.capture):E.detachEvent?E.detachEvent(Nt(k),L):E.addListener&&E.removeListener&&E.removeListener(L),(k=ri(E))?(Q(k,p),k.h==0&&(k.src=null,E[Ie]=null)):ye(p)}}}function Nt(p){return p in et?et[p]:et[p]="on"+p}function Un(p,E){if(p.da)p=!0;else{E=new Ne(E,this);var k=p.listener,L=p.ha||p.src;p.fa&&Vn(p),p=k.call(L,E)}return p}function ri(p){return p=p[Ie],p instanceof _e?p:null}var Hi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ko(p){return typeof p=="function"?p:(p[Hi]||(p[Hi]=function(E){return p.handleEvent(E)}),p[Hi])}function Vt(){ee.call(this),this.i=new _e(this),this.M=this,this.F=null}v(Vt,ee),Vt.prototype[z]=!0,Vt.prototype.removeEventListener=function(p,E,k,L){jt(this,p,E,k,L)};function Ht(p,E){var k,L=p.F;if(L)for(k=[];L;L=L.F)k.push(L);if(p=p.M,L=E.type||E,typeof E=="string")E=new le(E,p);else if(E instanceof le)E.target=E.target||p;else{var F=E;E=new le(L,p),R(E,F)}if(F=!0,k)for(var q=k.length-1;0<=q;q--){var oe=E.g=k[q];F=Xs(oe,L,!0,E)&&F}if(oe=E.g=p,F=Xs(oe,L,!0,E)&&F,F=Xs(oe,L,!1,E)&&F,k)for(q=0;q<k.length;q++)oe=E.g=k[q],F=Xs(oe,L,!1,E)&&F}Vt.prototype.N=function(){if(Vt.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var k=p.g[E],L=0;L<k.length;L++)ye(k[L]);delete p.g[E],p.h--}}this.F=null},Vt.prototype.K=function(p,E,k,L){return this.i.add(String(p),E,!1,k,L)},Vt.prototype.L=function(p,E,k,L){return this.i.add(String(p),E,!0,k,L)};function Xs(p,E,k,L){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var F=!0,q=0;q<E.length;++q){var oe=E[q];if(oe&&!oe.da&&oe.capture==k){var tt=oe.listener,Wt=oe.ha||oe.src;oe.fa&&Q(p.i,oe),F=tt.call(Wt,L)!==!1&&F}}return F&&!L.defaultPrevented}function Xd(p,E,k){if(typeof p=="function")k&&(p=h(p,k));else if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(p,E||0)}function Qd(p){p.g=Xd(()=>{p.g=null,p.i&&(p.i=!1,Qd(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class uy extends ee{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Qd(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jo(p){ee.call(this),this.h=p,this.g={}}v(Jo,ee);var Zd=[];function ef(p){P(p.g,function(E,k){this.g.hasOwnProperty(k)&&Vn(E)},p),p.g={}}Jo.prototype.N=function(){Jo.aa.N.call(this),ef(this)},Jo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=a.JSON.stringify,cy=a.JSON.parse,dy=class{stringify(p){return a.JSON.stringify(p,void 0)}parse(p){return a.JSON.parse(p,void 0)}};function ou(){}ou.prototype.h=null;function tf(p){return p.h||(p.h=p.i())}function nf(){}var Yo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function su(){le.call(this,"d")}v(su,le);function au(){le.call(this,"c")}v(au,le);var ii={},rf=null;function Xo(){return rf=rf||new Vt}ii.La="serverreachability";function of(p){le.call(this,ii.La,p)}v(of,le);function Z(p){const E=Xo();Ht(E,new of(E))}ii.STAT_EVENT="statevent";function ae(p,E){le.call(this,ii.STAT_EVENT,p),this.stat=E}v(ae,le);function ge(p){const E=Xo();Ht(E,new ae(E,p))}ii.Ma="timingevent";function Qo(p,E){le.call(this,ii.Ma,p),this.size=E}v(Qo,le);function Cn(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){p()},E)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function GV(p,E,k,L,F,q){p.info(function(){if(p.g)if(q)for(var oe="",tt=q.split("&"),Wt=0;Wt<tt.length;Wt++){var Be=tt[Wt].split("=");if(1<Be.length){var sn=Be[0];Be=Be[1];var an=sn.split("_");oe=2<=an.length&&an[1]=="type"?oe+(sn+"="+Be+"&"):oe+(sn+"=redacted&")}}else oe=null;else oe=q;return"XMLHTTP REQ ("+L+") [attempt "+F+"]: "+E+`
`+k+`
`+oe})}function qV(p,E,k,L,F,q,oe){p.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+F+"]: "+E+`
`+k+`
`+q+" "+oe})}function Qs(p,E,k,L){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+HV(p,k)+(L?" "+L:"")})}function zV(p,E){p.info(function(){return"TIMEOUT: "+E})}Wi.prototype.info=function(){};function HV(p,E){if(!p.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(p=0;p<k.length;p++)if(Array.isArray(k[p])){var L=k[p];if(!(2>L.length)){var F=L[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var oe=1;oe<F.length;oe++)F[oe]=""}}}}return iu(k)}catch{return E}}var sf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fy;function af(){}v(af,ou),af.prototype.g=function(){return new XMLHttpRequest},af.prototype.i=function(){return{}},fy=new af;function Ki(p,E,k,L){this.j=p,this.i=E,this.l=k,this.R=L||1,this.U=new Jo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iT}function iT(){this.i=null,this.g="",this.h=!1}var oT={},hy={};function py(p,E,k){p.L=1,p.v=df(oi(E)),p.m=k,p.P=!0,sT(p,null)}function sT(p,E){p.F=Date.now(),lf(p),p.A=oi(p.v);var k=p.A,L=p.R;Array.isArray(L)||(L=[String(L)]),xT(k.i,"t",L),p.C=0,k=p.j.J,p.h=new iT,p.g=jT(p.j,k?E:null,!p.m),0<p.O&&(p.M=new uy(h(p.Y,p,p.g),p.O)),E=p.U,k=p.g,L=p.ca;var F="readystatechange";Array.isArray(F)||(F&&(Zd[0]=F.toString()),F=Zd);for(var q=0;q<F.length;q++){var oe=X(k,F[q],L||E.handleEvent,!1,E.h||E);if(!oe)break;E.g[oe.key]=oe}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),Z(),GV(p.i,p.u,p.A,p.l,p.R,p.m)}Ki.prototype.ca=function(p){p=p.target;const E=this.M;E&&si(p)==3?E.j():this.Y(p)},Ki.prototype.Y=function(p){try{if(p==this.g)e:{const an=si(this.g);var E=this.g.Ba();const ta=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||IT(this.g)))){this.J||an!=4||E==7||(E==8||0>=ta?Z(3):Z(2)),my(this);var k=this.g.Z();this.X=k;t:if(aT(this)){var L=IT(this.g);p="";var F=L.length,q=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zo(this),lu(this);var oe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<F;E++)this.h.h=!0,p+=this.h.i.decode(L[E],{stream:!(q&&E==F-1)});L.length=0,this.h.g+=p,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=k==200,qV(this.i,this.u,this.A,this.l,this.R,an,k),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Wt=this.g;if((tt=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(tt)){var Be=tt;break t}}Be=null}if(k=Be)Qs(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gy(this,k);else{this.o=!1,this.s=3,ge(12),Zo(this),lu(this);break e}}if(this.P){k=!0;let _r;for(;!this.J&&this.C<oe.length;)if(_r=WV(this,oe),_r==hy){an==4&&(this.s=4,ge(14),k=!1),Qs(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==oT){this.s=4,ge(15),Qs(this.i,this.l,oe,"[Invalid Chunk]"),k=!1;break}else Qs(this.i,this.l,_r,null),gy(this,_r);if(aT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||oe.length!=0||this.h.h||(this.s=1,ge(16),k=!1),this.o=this.o&&k,!k)Qs(this.i,this.l,oe,"[Invalid Chunked Response]"),Zo(this),lu(this);else if(0<oe.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),by(sn),sn.M=!0,ge(11))}}else Qs(this.i,this.l,oe,null),gy(this,oe);an==4&&Zo(this),this.o&&!this.J&&(an==4?OT(this.j,this):(this.o=!1,lf(this)))}else cU(this.g),k==400&&0<oe.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),Zo(this),lu(this)}}}catch{}finally{}};function aT(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function WV(p,E){var k=p.C,L=E.indexOf(`
`,k);return L==-1?hy:(k=Number(E.substring(k,L)),isNaN(k)?oT:(L+=1,L+k>E.length?hy:(E=E.slice(L,L+k),p.C=L+k,E)))}Ki.prototype.cancel=function(){this.J=!0,Zo(this)};function lf(p){p.S=Date.now()+p.I,lT(p,p.I)}function lT(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Cn(h(p.ba,p),E)}function my(p){p.B&&(a.clearTimeout(p.B),p.B=null)}Ki.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(zV(this.i,this.A),this.L!=2&&(Z(),ge(17)),Zo(this),this.s=2,lu(this)):lT(this,this.S-p)};function lu(p){p.j.G==0||p.J||OT(p.j,p)}function Zo(p){my(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,ef(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function gy(p,E){try{var k=p.j;if(k.G!=0&&(k.g==p||yy(k.h,p))){if(!p.K&&yy(k.h,p)&&k.G==3){try{var L=k.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var F=L;if(F[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<p.F)yf(k),mf(k);else break e;wy(k),ge(18)}}else k.za=F[1],0<k.za-k.T&&37500>F[2]&&k.F&&k.v==0&&!k.C&&(k.C=Cn(h(k.Za,k),6e3));if(1>=dT(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else ts(k,11)}else if((p.K||k.g==p)&&yf(k),!b(E))for(F=k.Da.g.parse(E),E=0;E<F.length;E++){let Be=F[E];if(k.T=Be[0],Be=Be[1],k.G==2)if(Be[0]=="c"){k.K=Be[1],k.ia=Be[2];const sn=Be[3];sn!=null&&(k.la=sn,k.j.info("VER="+k.la));const an=Be[4];an!=null&&(k.Aa=an,k.j.info("SVER="+k.Aa));const ta=Be[5];ta!=null&&typeof ta=="number"&&0<ta&&(L=1.5*ta,k.L=L,k.j.info("backChannelRequestTimeoutMs_="+L)),L=k;const _r=p.g;if(_r){const _f=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_f){var q=L.h;q.g||_f.indexOf("spdy")==-1&&_f.indexOf("quic")==-1&&_f.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(vy(q,q.h),q.h=null))}if(L.D){const Ey=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;Ey&&(L.ya=Ey,at(L.I,L.D,Ey))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-p.F,k.j.info("Handshake RTT: "+k.R+"ms")),L=k;var oe=p;if(L.qa=$T(L,L.J?L.ia:null,L.W),oe.K){fT(L.h,oe);var tt=oe,Wt=L.L;Wt&&(tt.I=Wt),tt.B&&(my(tt),lf(tt)),L.g=oe}else RT(L);0<k.i.length&&gf(k)}else Be[0]!="stop"&&Be[0]!="close"||ts(k,7);else k.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ts(k,7):xy(k):Be[0]!="noop"&&k.l&&k.l.ta(Be),k.v=0)}}Z(4)}catch{}}var KV=class{constructor(p,E){this.g=p,this.map=E}};function uT(p){this.l=p||10,a.PerformanceNavigationTiming?(p=a.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cT(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function dT(p){return p.h?1:p.g?p.g.size:0}function yy(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function vy(p,E){p.g?p.g.add(E):p.h=E}function fT(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}uT.prototype.cancel=function(){if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function hT(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const k of p.g.values())E=E.concat(k.D);return E}return w(p.i)}function JV(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(l(p)){for(var E=[],k=p.length,L=0;L<k;L++)E.push(p[L]);return E}E=[],k=0;for(L in p)E[k++]=p[L];return E}function YV(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(l(p)||typeof p=="string"){var E=[];p=p.length;for(var k=0;k<p;k++)E.push(k);return E}E=[],k=0;for(const L in p)E[k++]=L;return E}}}function pT(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(l(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var k=YV(p),L=JV(p),F=L.length,q=0;q<F;q++)E.call(void 0,L[q],k&&k[q],p)}var mT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XV(p,E){if(p){p=p.split("&");for(var k=0;k<p.length;k++){var L=p[k].indexOf("="),F=null;if(0<=L){var q=p[k].substring(0,L);F=p[k].substring(L+1)}else q=p[k];E(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function es(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof es){this.h=p.h,uf(this,p.j),this.o=p.o,this.g=p.g,cf(this,p.s),this.l=p.l;var E=p.i,k=new du;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),gT(this,k),this.m=p.m}else p&&(E=String(p).match(mT))?(this.h=!1,uf(this,E[1]||"",!0),this.o=uu(E[2]||""),this.g=uu(E[3]||"",!0),cf(this,E[4]),this.l=uu(E[5]||"",!0),gT(this,E[6]||"",!0),this.m=uu(E[7]||"")):(this.h=!1,this.i=new du(null,this.h))}es.prototype.toString=function(){var p=[],E=this.j;E&&p.push(cu(E,yT,!0),":");var k=this.g;return(k||E=="file")&&(p.push("//"),(E=this.o)&&p.push(cu(E,yT,!0),"@"),p.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&p.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&p.push("/"),p.push(cu(k,k.charAt(0)=="/"?eU:ZV,!0))),(k=this.i.toString())&&p.push("?",k),(k=this.m)&&p.push("#",cu(k,nU)),p.join("")};function oi(p){return new es(p)}function uf(p,E,k){p.j=k?uu(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function cf(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function gT(p,E,k){E instanceof du?(p.i=E,rU(p.i,p.h)):(k||(E=cu(E,tU)),p.i=new du(E,p.h))}function at(p,E,k){p.i.set(E,k)}function df(p){return at(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function uu(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function cu(p,E,k){return typeof p=="string"?(p=encodeURI(p).replace(E,QV),k&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function QV(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var yT=/[#\/\?@]/g,ZV=/[#\?:]/g,eU=/[#\?]/g,tU=/[#\?@]/g,nU=/#/g;function du(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Ji(p){p.g||(p.g=new Map,p.h=0,p.i&&XV(p.i,function(E,k){p.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=du.prototype,t.add=function(p,E){Ji(this),this.i=null,p=Zs(this,p);var k=this.g.get(p);return k||this.g.set(p,k=[]),k.push(E),this.h+=1,this};function vT(p,E){Ji(p),E=Zs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function _T(p,E){return Ji(p),E=Zs(p,E),p.g.has(E)}t.forEach=function(p,E){Ji(this),this.g.forEach(function(k,L){k.forEach(function(F){p.call(E,F,L,this)},this)},this)},t.na=function(){Ji(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let L=0;L<E.length;L++){const F=p[L];for(let q=0;q<F.length;q++)k.push(E[L])}return k},t.V=function(p){Ji(this);let E=[];if(typeof p=="string")_T(this,p)&&(E=E.concat(this.g.get(Zs(this,p))));else{p=Array.from(this.g.values());for(let k=0;k<p.length;k++)E=E.concat(p[k])}return E},t.set=function(p,E){return Ji(this),this.i=null,p=Zs(this,p),_T(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},t.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function xT(p,E,k){vT(p,E),0<k.length&&(p.i=null,p.g.set(Zs(p,E),w(k)),p.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var L=E[k];const q=encodeURIComponent(String(L)),oe=this.V(L);for(L=0;L<oe.length;L++){var F=q;oe[L]!==""&&(F+="="+encodeURIComponent(String(oe[L]))),p.push(F)}}return this.i=p.join("&")};function Zs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function rU(p,E){E&&!p.j&&(Ji(p),p.i=null,p.g.forEach(function(k,L){var F=L.toLowerCase();L!=F&&(vT(this,L),xT(this,F,k))},p)),p.j=E}function iU(p,E){const k=new Wi;if(a.Image){const L=new Image;L.onload=y(Yi,k,"TestLoadImage: loaded",!0,E,L),L.onerror=y(Yi,k,"TestLoadImage: error",!1,E,L),L.onabort=y(Yi,k,"TestLoadImage: abort",!1,E,L),L.ontimeout=y(Yi,k,"TestLoadImage: timeout",!1,E,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=p}else E(!1)}function oU(p,E){const k=new Wi,L=new AbortController,F=setTimeout(()=>{L.abort(),Yi(k,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:L.signal}).then(q=>{clearTimeout(F),q.ok?Yi(k,"TestPingServer: ok",!0,E):Yi(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(F),Yi(k,"TestPingServer: error",!1,E)})}function Yi(p,E,k,L,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),L(k)}catch{}}function sU(){this.g=new dy}function aU(p,E,k){const L=k||"";try{pT(p,function(F,q){let oe=F;u(F)&&(oe=iu(F)),E.push(L+q+"="+encodeURIComponent(oe))})}catch(F){throw E.push(L+"type="+encodeURIComponent("_badmap")),F}}function ff(p){this.l=p.Ub||null,this.j=p.eb||!1}v(ff,ou),ff.prototype.g=function(){return new hf(this.l,this.j)},ff.prototype.i=function(p){return function(){return p}}({});function hf(p,E){Vt.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hf,Vt),t=hf.prototype,t.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,hu(this)},t.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fu(this)),this.readyState=0},t.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,hu(this)),this.g&&(this.readyState=3,hu(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wT(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function wT(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}t.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?fu(this):hu(this),this.readyState==3&&wT(this)}},t.Ra=function(p){this.g&&(this.response=this.responseText=p,fu(this))},t.Qa=function(p){this.g&&(this.response=p,fu(this))},t.ga=function(){this.g&&fu(this)};function fu(p){p.readyState=4,p.l=null,p.j=null,p.v=null,hu(p)}t.setRequestHeader=function(p,E){this.u.append(p,E)},t.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,p.push(k[0]+": "+k[1]),k=E.next();return p.join(`\r
`)};function hu(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(hf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function bT(p){let E="";return P(p,function(k,L){E+=L,E+=":",E+=k,E+=`\r
`}),E}function _y(p,E,k){e:{for(L in k){var L=!1;break e}L=!0}L||(k=bT(k),typeof p=="string"?k!=null&&encodeURIComponent(String(k)):at(p,E,k))}function xt(p){Vt.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(xt,Vt);var lU=/^https?$/i,uU=["POST","PUT"];t=xt.prototype,t.Ha=function(p){this.J=p},t.ea=function(p,E,k,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fy.g(),this.v=this.o?tf(this.o):tf(fy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(q){ET(this,q);return}if(p=k||"",k=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var F in L)k.set(F,L[F]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const q of L.keys())k.set(q,L.get(q));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(k.keys()).find(q=>q.toLowerCase()=="content-type"),F=a.FormData&&p instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uU,E,void 0))||L||F||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,oe]of k)this.g.setRequestHeader(q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AT(this),this.u=!0,this.g.send(p),this.u=!1}catch(q){ET(this,q)}};function ET(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,TT(p),pf(p)}function TT(p){p.A||(p.A=!0,Ht(p,"complete"),Ht(p,"error"))}t.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ht(this,"complete"),Ht(this,"abort"),pf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pf(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ST(this):this.bb())},t.bb=function(){ST(this)};function ST(p){if(p.h&&typeof s<"u"&&(!p.v[1]||si(p)!=4||p.Z()!=2)){if(p.u&&si(p)==4)Xd(p.Ea,0,p);else if(Ht(p,"readystatechange"),si(p)==4){p.h=!1;try{const oe=p.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var L;if(L=oe===0){var F=String(p.D).match(mT)[1]||null;!F&&a.self&&a.self.location&&(F=a.self.location.protocol.slice(0,-1)),L=!lU.test(F?F.toLowerCase():"")}k=L}if(k)Ht(p,"complete"),Ht(p,"success");else{p.m=6;try{var q=2<si(p)?p.g.statusText:""}catch{q=""}p.l=q+" ["+p.Z()+"]",TT(p)}}finally{pf(p)}}}}function pf(p,E){if(p.g){AT(p);const k=p.g,L=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Ht(p,"ready");try{k.onreadystatechange=L}catch{}}}function AT(p){p.I&&(a.clearTimeout(p.I),p.I=null)}t.isActive=function(){return!!this.g};function si(p){return p.g?p.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),cy(E)}};function IT(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function cU(p){const E={};p=(p.g&&2<=si(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<p.length;L++){if(b(p[L]))continue;var k=M(p[L]);const F=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const q=E[F]||[];E[F]=q,q.push(k)}S(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pu(p,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[p]||E}function CT(p){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pu("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pu("baseRetryDelayMs",5e3,p),this.cb=pu("retryDelaySeedMs",1e4,p),this.Wa=pu("forwardChannelMaxRetries",2,p),this.wa=pu("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new uT(p&&p.concurrentRequestLimit),this.Da=new sU,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=CT.prototype,t.la=8,t.G=1,t.connect=function(p,E,k,L){ge(0),this.W=p,this.H=E||{},k&&L!==void 0&&(this.H.OSID=k,this.H.OAID=L),this.F=this.X,this.I=$T(this,null,this.W),gf(this)};function xy(p){if(PT(p),p.G==3){var E=p.U++,k=oi(p.I);if(at(k,"SID",p.K),at(k,"RID",E),at(k,"TYPE","terminate"),mu(p,k),E=new Ki(p,p.j,E),E.L=2,E.v=df(oi(k)),k=!1,a.navigator&&a.navigator.sendBeacon)try{k=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&a.Image&&(new Image().src=E.v,k=!0),k||(E.g=jT(E.j,null),E.g.ea(E.v)),E.F=Date.now(),lf(E)}LT(p)}function mf(p){p.g&&(by(p),p.g.cancel(),p.g=null)}function PT(p){mf(p),p.u&&(a.clearTimeout(p.u),p.u=null),yf(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&a.clearTimeout(p.s),p.s=null)}function gf(p){if(!cT(p.h)&&!p.s){p.s=!0;var E=p.Ga;W||Y(),V||(W(),V=!0),K.add(E,p),p.B=0}}function dU(p,E){return dT(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Cn(h(p.Ga,p,E),DT(p,p.B)),p.B++,!0)}t.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const F=new Ki(this,this.j,p);let q=this.o;if(this.S&&(q?(q=C(q),R(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var L=this.i[k];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=kT(this,F,E),k=oi(this.I),at(k,"RID",p),at(k,"CVER",22),this.D&&at(k,"X-HTTP-Session-Id",this.D),mu(this,k),q&&(this.O?E="headers="+encodeURIComponent(String(bT(q)))+"&"+E:this.m&&_y(k,this.m,q)),vy(this.h,F),this.Ua&&at(k,"TYPE","init"),this.P?(at(k,"$req",E),at(k,"SID","null"),F.T=!0,py(F,k,null)):py(F,k,E),this.G=2}}else this.G==3&&(p?NT(this,p):this.i.length==0||cT(this.h)||NT(this))};function NT(p,E){var k;E?k=E.l:k=p.U++;const L=oi(p.I);at(L,"SID",p.K),at(L,"RID",k),at(L,"AID",p.T),mu(p,L),p.m&&p.o&&_y(L,p.m,p.o),k=new Ki(p,p.j,k,p.B+1),p.m===null&&(k.H=p.o),E&&(p.i=E.D.concat(p.i)),E=kT(p,k,1e3),k.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),vy(p.h,k),py(k,L,E)}function mu(p,E){p.H&&P(p.H,function(k,L){at(E,L,k)}),p.l&&pT({},function(k,L){at(E,L,k)})}function kT(p,E,k){k=Math.min(p.i.length,k);var L=p.l?h(p.l.Na,p.l,p):null;e:{var F=p.i;let q=-1;for(;;){const oe=["count="+k];q==-1?0<k?(q=F[0].g,oe.push("ofs="+q)):q=0:oe.push("ofs="+q);let tt=!0;for(let Wt=0;Wt<k;Wt++){let Be=F[Wt].g;const sn=F[Wt].map;if(Be-=q,0>Be)q=Math.max(0,F[Wt].g-100),tt=!1;else try{aU(sn,oe,"req"+Be+"_")}catch{L&&L(sn)}}if(tt){L=oe.join("&");break e}}}return p=p.i.splice(0,k),E.D=p,L}function RT(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;W||Y(),V||(W(),V=!0),K.add(E,p),p.v=0}}function wy(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Cn(h(p.Fa,p),DT(p,p.v)),p.v++,!0)}t.Fa=function(){if(this.u=null,MT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Cn(h(this.ab,this),p)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),mf(this),MT(this))};function by(p){p.A!=null&&(a.clearTimeout(p.A),p.A=null)}function MT(p){p.g=new Ki(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=oi(p.qa);at(E,"RID","rpc"),at(E,"SID",p.K),at(E,"AID",p.T),at(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&at(E,"TO",p.ja),at(E,"TYPE","xmlhttp"),mu(p,E),p.m&&p.o&&_y(E,p.m,p.o),p.L&&(p.g.I=p.L);var k=p.g;p=p.ia,k.L=1,k.v=df(oi(E)),k.m=null,k.P=!0,sT(k,p)}t.Za=function(){this.C!=null&&(this.C=null,mf(this),wy(this),ge(19))};function yf(p){p.C!=null&&(a.clearTimeout(p.C),p.C=null)}function OT(p,E){var k=null;if(p.g==E){yf(p),by(p),p.g=null;var L=2}else if(yy(p.h,E))k=E.D,fT(p.h,E),L=1;else return;if(p.G!=0){if(E.o)if(L==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var F=p.B;L=Xo(),Ht(L,new Qo(L,k)),gf(p)}else RT(p);else if(F=E.s,F==3||F==0&&0<E.X||!(L==1&&dU(p,E)||L==2&&wy(p)))switch(k&&0<k.length&&(E=p.h,E.i=E.i.concat(k)),F){case 1:ts(p,5);break;case 4:ts(p,10);break;case 3:ts(p,6);break;default:ts(p,2)}}}function DT(p,E){let k=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(k*=2),k*E}function ts(p,E){if(p.j.info("Error code "+E),E==2){var k=h(p.fb,p),L=p.Xa;const F=!L;L=new es(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uf(L,"https"),df(L),F?iU(L.toString(),k):oU(L.toString(),k)}else ge(2);p.G=0,p.l&&p.l.sa(E),LT(p),PT(p)}t.fb=function(p){p?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function LT(p){if(p.G=0,p.ka=[],p.l){const E=hT(p.h);(E.length!=0||p.i.length!=0)&&(_(p.ka,E),_(p.ka,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.ra()}}function $T(p,E,k){var L=k instanceof es?oi(k):new es(k);if(L.g!="")E&&(L.g=E+"."+L.g),cf(L,L.s);else{var F=a.location;L=F.protocol,E=E?E+"."+F.hostname:F.hostname,F=+F.port;var q=new es(null);L&&uf(q,L),E&&(q.g=E),F&&cf(q,F),k&&(q.l=k),L=q}return k=p.D,E=p.ya,k&&E&&at(L,k,E),at(L,"VER",p.la),mu(p,L),L}function jT(p,E,k){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new xt(new ff({eb:k})):new xt(p.pa),E.Ha(p.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function VT(){}t=VT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vf(){}vf.prototype.g=function(p,E){return new Fn(p,E)};function Fn(p,E){Vt.call(this),this.g=new CT(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!b(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new ea(this)}v(Fn,Vt),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){xy(this.g)},Fn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var k={};k.__data__=p,p=k}else this.u&&(k={},k.__data__=iu(p),p=k);E.i.push(new KV(E.Ya++,p)),E.G==3&&gf(E)},Fn.prototype.N=function(){this.g.l=null,delete this.j,xy(this.g),delete this.g,Fn.aa.N.call(this)};function UT(p){su.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const k in E){p=k;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}v(UT,su);function FT(){au.call(this),this.status=1}v(FT,au);function ea(p){this.g=p}v(ea,VT),ea.prototype.ua=function(){Ht(this.g,"a")},ea.prototype.ta=function(p){Ht(this.g,new UT(p))},ea.prototype.sa=function(p){Ht(this.g,new FT)},ea.prototype.ra=function(){Ht(this.g,"b")},vf.prototype.createWebChannel=vf.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,fM=function(){return new vf},dM=function(){return Xo()},cM=ii,j0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sf.NO_ERROR=0,sf.TIMEOUT=8,sf.HTTP_ERROR=6,xh=sf,rT.COMPLETE="complete",uM=rT,nf.EventType=Yo,Yo.OPEN="a",Yo.CLOSE="b",Yo.ERROR="c",Yo.MESSAGE="d",Vt.prototype.listen=Vt.prototype.K,Fu=nf,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,lM=xt}).apply(typeof jf<"u"?jf:typeof self<"u"?self:typeof window<"u"?window:{});const l1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $l="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new jw("@firebase/firestore");function Tu(){return ks.logLevel}function ve(t,...e){if(ks.logLevel<=$e.DEBUG){const n=e.map(Fw);ks.debug(`Firestore (${$l}): ${t}`,...n)}}function Ci(t,...e){if(ks.logLevel<=$e.ERROR){const n=e.map(Fw);ks.error(`Firestore (${$l}): ${t}`,...n)}}function tl(t,...e){if(ks.logLevel<=$e.WARN){const n=e.map(Fw);ks.warn(`Firestore (${$l}): ${t}`,...n)}}function Fw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${$l}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function Ye(t,e){t||Ee()}function Ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fn.UNAUTHENTICATED))}shutdown(){}}class x3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w3{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Io;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Io,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Io)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new hM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new fn(e)}}class b3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class E3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ye(this.o===void 0);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new T3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=A3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ge(t,e){return t<e?-1:t>e?1:0}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lt.fromMillis(Date.now())}static fromDate(e){return Lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Lt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Lt(0,0))}static max(){return new Se(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends Nc{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const I3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Nc{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return I3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ot.fromString(e))}static fromName(e){return new xe(ot.fromString(e).popFirst(5))}static empty(){return new xe(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ot(e.slice()))}}function C3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Lt(n+1,0):new Lt(n,r));return new Oo(i,xe.empty(),e)}function P3(t){return new Oo(t.readTime,t.key,-1)}class Oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oo(Se.min(),xe.empty(),-1)}static max(){return new Oo(Se.max(),xe.empty(),-1)}}function N3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ge(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class R3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kd(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==k3)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,r)=>{n(e)})}static reject(e){return new te((n,r)=>{r(e)})}static waitFor(e){return new te((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=te.resolve(!1);for(const r of e)n=n.next(i=>i?te.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new te((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new te((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function M3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bw.oe=-1;function Hm(t){return t==null}function op(t){return t===0&&1/t==-1/0}function O3(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vf(this.root,e,this.comparator,!0)}}class Vf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=o??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Wn([])}unionWith(e){let n=new tn(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gM("Invalid base64 string: "+o):o}}(e);return new on(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new on(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const D3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=D3.exec(t);if(Ye(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rs(t){return typeof t=="string"?on.fromBase64String(t):on.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gw(t){const e=t.mapValue.fields.__previous_value__;return Wm(e)?Gw(e):e}function kc(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Rc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Rc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf={mapValue:{}};function Ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wm(t)?4:j3(t)?9007199254740991:$3(t)?10:11:Ee()}function Qr(t,e){if(t===e)return!0;const n=Ms(t);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kc(t).isEqual(kc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Rs(i.bytesValue).isEqual(Rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Et(i.geoPointValue.latitude)===Et(o.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Et(i.integerValue)===Et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Et(i.doubleValue),a=Et(o.doubleValue);return s===a?op(s)===op(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(u1(s)!==u1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Qr(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Mc(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Ms(t),r=Ms(e);if(n!==r)return Ge(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Et(o.integerValue||o.doubleValue),l=Et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return d1(t.timestampValue,e.timestampValue);case 4:return d1(kc(t),kc(e));case 5:return Ge(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Rs(o),l=Rs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ge(a[u],l[u]);if(c!==0)return c}return Ge(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ge(Et(o.latitude),Et(s.latitude));return a!==0?a:Ge(Et(o.longitude),Et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},h=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,w=Ge(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return w!==0?w:f1(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Uf.mapValue&&s===Uf.mapValue)return 0;if(o===Uf.mapValue)return 1;if(s===Uf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ge(l[d],c[d]);if(h!==0)return h;const y=rl(a[l[d]],u[c[d]]);if(y!==0)return y}return Ge(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function d1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ge(t,e);const n=Do(t),r=Do(e),i=Ge(n.seconds,r.seconds);return i!==0?i:Ge(n.nanos,r.nanos)}function f1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=rl(n[i],r[i]);if(o)return o}return Ge(n.length,r.length)}function il(t){return V0(t)}function V0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=V0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${V0(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function sp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function U0(t){return!!t&&"integerValue"in t}function qw(t){return!!t&&"arrayValue"in t}function h1(t){return!!t&&"nullValue"in t}function p1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wh(t){return!!t&&"mapValue"in t}function $3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nc(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=nc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rn(nc(this.value))}}function yM(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new Qt([n]);if(wh(r)){const o=yM(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Se.min(),Se.min(),Se.min(),Rn.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Se.min(),Se.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Se.min(),Se.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.position=e,this.inclusive=n}}function m1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=xe.comparator(xe.fromName(s.referenceValue),n.key):r=rl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function g1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vM=class{};class Ct extends vM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F3(e,n,r):n==="array-contains"?new q3(e,r):n==="in"?new z3(e,r):n==="not-in"?new H3(e,r):n==="array-contains-any"?new W3(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new B3(e,r):new G3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends vM{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Or(e,n)}matches(e){return _M(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _M(t){return t.op==="and"}function xM(t){return U3(t)&&_M(t)}function U3(t){for(const e of t.filters)if(e instanceof Or)return!1;return!0}function F0(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+il(t.value);if(xM(t))return t.filters.map(e=>F0(e)).join(",");{const e=t.filters.map(n=>F0(n)).join(",");return`${t.op}(${e})`}}function wM(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Qr(r.value,i.value)}(t,e):t instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&wM(s,i.filters[a]),!0):!1}(t,e):void Ee()}function bM(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof Or?function(n){return n.op.toString()+" {"+n.getFilters().map(bM).join(" ,")+"}"}(t):"Filter"}class F3 extends Ct{constructor(e,n,r){super(e,n,r),this.key=xe.fromName(r.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class B3 extends Ct{constructor(e,n){super(e,"in",n),this.keys=EM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G3 extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=EM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xe.fromName(r.referenceValue))}class q3 extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qw(n)&&Mc(n.arrayValue,this.value)}}class z3 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mc(this.value.arrayValue,n)}}class H3 extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mc(this.value.arrayValue,n)}}class W3 extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function y1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new K3(t,e,n,r,i,o,s)}function zw(t){const e=Ae(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>F0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.ue=n}return e.ue}function Hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!g1(t.startAt,e.startAt)&&g1(t.endAt,e.endAt)}function B0(t){return xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J3(t,e,n,r,i,o,s,a){return new qs(t,e,n,r,i,o,s,a)}function Ww(t){return new qs(t)}function v1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Kw(t){return t.collectionGroup!==null}function Da(t){const e=Ae(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tn(Qt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Oc(o,r))}),n.has(Qt.keyField().canonicalString())||e.ce.push(new Oc(Qt.keyField(),r))}return e.ce}function zr(t){const e=Ae(t);return e.le||(e.le=Y3(e,Da(t))),e.le}function Y3(t,e){if(t.limitType==="F")return y1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Oc(i.field,o)});const n=t.endAt?new ol(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ol(t.startAt.position,t.startAt.inclusive):null;return y1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G0(t,e){const n=t.filters.concat([e]);return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ap(t,e,n){return new qs(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Km(t,e){return Hw(zr(t),zr(e))&&t.limitType===e.limitType}function TM(t){return`${zw(zr(t))}|lt:${t.limitType}`}function aa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>bM(i)).join(", ")}]`),Hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(zr(t))}; limitType=${t.limitType})`}function Jm(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Da(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=m1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Da(r),i)||r.endAt&&!function(s,a,l){const u=m1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Da(r),i))}(t,e)}function X3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SM(t){return(e,n)=>{let r=!1;for(const i of Da(t)){const o=Q3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q3(t,e,n){const r=t.field.isKeyField()?xe.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?rl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return mM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new _t(xe.comparator);function Pi(){return Z3}const AM=new _t(xe.comparator);function Bu(...t){let e=AM;for(const n of t)e=e.insert(n.key,n);return e}function IM(t){let e=AM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hs(){return rc()}function CM(){return rc()}function rc(){return new jl(t=>t.toString(),(t,e)=>t.isEqual(e))}const e5=new _t(xe.comparator),t5=new tn(xe.comparator);function Oe(...t){let e=t5;for(const n of t)e=e.add(n);return e}const n5=new tn(Ge);function r5(){return n5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function PM(t){return{integerValue:""+t}}function i5(t,e){return O3(e)?PM(e):Jw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this._=void 0}}function o5(t,e,n){return t instanceof lp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Wm(o)&&(o=Gw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Dc?kM(t,e):t instanceof Lc?RM(t,e):function(i,o){const s=NM(i,o),a=_1(s)+_1(i.Pe);return U0(s)&&U0(i.Pe)?PM(a):Jw(i.serializer,a)}(t,e)}function s5(t,e,n){return t instanceof Dc?kM(t,e):t instanceof Lc?RM(t,e):n}function NM(t,e){return t instanceof up?function(r){return U0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lp extends Ym{}class Dc extends Ym{constructor(e){super(),this.elements=e}}function kM(t,e){const n=MM(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Lc extends Ym{constructor(e){super(),this.elements=e}}function RM(t,e){let n=MM(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class up extends Ym{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _1(t){return Et(t.integerValue||t.doubleValue)}function MM(t){return qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function a5(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Dc&&i instanceof Dc||r instanceof Lc&&i instanceof Lc?nl(r.elements,i.elements,Qr):r instanceof up&&i instanceof up?Qr(r.Pe,i.Pe):r instanceof lp&&i instanceof lp}(t.transform,e.transform)}class l5{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xm{}function OM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yw(t.key,ur.none()):new Md(t.key,t.data,ur.none());{const n=t.data,r=Rn.empty();let i=new tn(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fo(t.key,r,new Wn(i.toArray()),ur.none())}}function u5(t,e,n){t instanceof Md?function(i,o,s){const a=i.value.clone(),l=w1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fo?function(i,o,s){if(!bh(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=w1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(DM(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Md?function(o,s,a,l){if(!bh(o.precondition,s))return a;const u=o.value.clone(),c=b1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fo?function(o,s,a,l){if(!bh(o.precondition,s))return a;const u=b1(o.fieldTransforms,l,s),c=s.data;return c.setAll(DM(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return bh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function c5(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=NM(r.transform,i||null);o!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,o))}return n||null}function x1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(o,s)=>a5(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Md extends Xm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends Xm{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function w1(t,e,n){const r=new Map;Ye(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,s5(s,a,n[i]))}return r}function b1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,o5(o,s,e))}return r}class Yw extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d5 extends Xm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&u5(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CM();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=OM(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>x1(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>x1(n,r))}}class Xw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ye(e.mutations.length===r.length);let i=function(){return e5}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Xw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function m5(t){switch(t){default:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function LM(t){if(t===void 0)return Ci("GRPC error has no .code"),J.UNKNOWN;switch(t){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=new ws([4294967295,4294967295],0);function E1(t){const e=g5().encode(t),n=new aM;return n.update(e),new Uint8Array(n.digest())}function T1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ws([n,r],0),new ws([i,o],0)]}class Qw{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gu(`Invalid padding: ${n}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ws.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ws.fromNumber(r)));return i.compare(y5)===1&&(i=new ws([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=E1(e),[r,i]=T1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Qw(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=E1(e),[r,i]=T1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Od.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qm(Se.min(),i,new _t(Ge),Pi(),Oe())}}class Od{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Od(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $M{constructor(e,n){this.targetId=e,this.me=n}}class jM{constructor(e,n,r=on.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class S1{constructor(){this.fe=0,this.ge=I1(),this.pe=on.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Od(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=I1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ye(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class v5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Pi(),this.qe=A1(),this.Qe=new _t(Ge)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(B0(o))if(r===0){const s=new xe(o.path);this.Ue(n,s,pn.newNoDocument(s,Se.min()))}else Ye(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Rs(r).toUint8Array()}catch(l){if(l instanceof gM)return tl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qw(s,i,o)}catch(l){return tl(l instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&B0(a.target)){const l=new xe(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,pn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Oe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Qm(e,n,this.Qe,this.ke,r);return this.ke=Pi(),this.qe=A1(),this.Qe=new _t(Ge),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new S1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new tn(Ge),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new S1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function A1(){return new _t(xe.comparator)}function I1(){return new _t(xe.comparator)}const _5={asc:"ASCENDING",desc:"DESCENDING"},x5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w5={and:"AND",or:"OR"};class b5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function q0(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function cp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E5(t,e){return cp(t,e.toTimestamp())}function Hr(t){return Ye(!!t),Se.fromTimestamp(function(n){const r=Do(n);return new Lt(r.seconds,r.nanos)}(t))}function Zw(t,e){return z0(t,e).canonicalString()}function z0(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UM(t){const e=ot.fromString(t);return Ye(zM(e)),e}function H0(t,e){return Zw(t.databaseId,e.path)}function tv(t,e){const n=UM(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xe(BM(n))}function FM(t,e){return Zw(t.databaseId,e)}function T5(t){const e=UM(t);return e.length===4?ot.emptyPath():BM(e)}function W0(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BM(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function C1(t,e,n){return{name:H0(t,e),fields:n.value.mapValue.fields}}function S5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ye(c===void 0||typeof c=="string"),on.fromBase64String(c||"")):(Ye(c===void 0||c instanceof Buffer||c instanceof Uint8Array),on.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?J.UNKNOWN:LM(u.code);return new ue(c,u.message||"")}(s);n=new jM(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tv(t,r.document.name),o=Hr(r.document.updateTime),s=r.document.createTime?Hr(r.document.createTime):Se.min(),a=new Rn({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Eh(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tv(t,r.document),o=r.readTime?Hr(r.readTime):Se.min(),s=pn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Eh([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tv(t,r.document),o=r.removedTargetIds||[];n=new Eh([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new p5(i,o),a=r.targetId;n=new $M(a,s)}}return n}function A5(t,e){let n;if(e instanceof Md)n={update:C1(t,e.key,e.value)};else if(e instanceof Yw)n={delete:H0(t,e.key)};else if(e instanceof Fo)n={update:C1(t,e.key,e.data),updateMask:D5(e.fieldMask)};else{if(!(e instanceof d5))return Ee();n={verify:H0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof lp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof up)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:E5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function I5(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hr(i.updateTime):Hr(o);return s.isEqual(Se.min())&&(s=Hr(o)),new l5(s,i.transformResults||[])}(n,e))):[]}function C5(t,e){return{documents:[FM(t,e.path)]}}function P5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FM(t,i);const o=function(u){if(u.length!==0)return qM(Or.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:la(h.field),direction:R5(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=q0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function N5(t){let e=T5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ye(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=GM(d);return h instanceof Or&&xM(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(v){return new Oc(ua(v.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Hm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,y=d.values||[];return new ol(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,y=d.values||[];return new ol(y,h)}(n.endAt)),J3(e,i,s,o,a,"F",l,u)}function k5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ua(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ua(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ua(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ua(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ua(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Or.create(n.compositeFilter.filters.map(r=>GM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function R5(t){return _5[t]}function M5(t){return x5[t]}function O5(t){return w5[t]}function la(t){return{fieldPath:t.canonicalString()}}function ua(t){return Qt.fromServerFormat(t.fieldPath)}function qM(t){return t instanceof Ct?function(n){if(n.op==="=="){if(p1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NAN"}};if(h1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NAN"}};if(h1(n.value))return{unaryFilter:{field:la(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:la(n.field),op:M5(n.op),value:n.value}}}(t):t instanceof Or?function(n){const r=n.getFilters().map(i=>qM(i));return r.length===1?r[0]:{compositeFilter:{op:O5(n.op),filters:r}}}(t):Ee()}function D5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=on.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ho(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ho(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.ct=e}}function $5(t){const e=N5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.un=new V5}addToCollectionParentIndex(e,n){return this.un.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Oo.min())}updateCollectionGroup(e,n,r){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class V5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sl(0)}static kn(){return new sl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this.changes=new jl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?te.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ic(r.mutation,i,Wn.empty(),Lt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=hs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=hs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Pi();const s=rc(),a=function(){return rc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Fo)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ic(c.mutation,u,c.mutation.getFieldMask(),Lt.now())):s.set(u.key,Wn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new F5(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=rc();let i=new _t((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Wn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=CM();c.forEach(h=>{if(!o.has(h)){const y=OM(n.get(h),r.get(h));y!==null&&d.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return te.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Kw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):te.resolve(hs());let a=-1,l=o;return s.next(u=>te.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?te.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:IM(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Bu();return this.indexManager.getCollectionParents(e,o).next(a=>te.forEach(a,l=>{const u=function(d,h){return new qs(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,pn.newInvalidDocument(c)))});let a=Bu();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ic(c.mutation,u,Wn.empty(),Lt.now()),Jm(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return te.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:$5(i.bundledQuery),readTime:Hr(i.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.overlays=new _t(xe.comparator),this.Ir=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hs();return te.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),te.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),te.resolve()}getOverlaysForCollection(e,n,r){const i=hs(),o=n.length+1,s=new xe(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return te.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new _t((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=hs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=hs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return te.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h5(n,r));let o=this.Ir.get(n);o===void 0&&(o=Oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.Tr=new tn(Ut.Er),this.dr=new tn(Ut.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ut(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new xe(new ot([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new xe(new ot([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=Oe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return xe.comparator(e.key,n.key)||Ge(e.wr,n.wr)}static Ar(e,n){return Ge(e.wr,n.wr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new tn(Ut.Er)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new f5(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return te.resolve(s)}lookupMutationBatch(e,n){return te.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return te.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),te.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Ge);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),te.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;xe.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new xe(o),0);let a=new tn(Ge);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),te.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ye(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return te.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ut(n,0),i=this.br.firstAfterOrEqual(r);return te.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.Mr=e,this.docs=function(){return new _t(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return te.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Pi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pn.newInvalidDocument(i))}),te.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Pi();const s=n.path,a=new xe(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||N3(P3(c),r)<=0||(i.has(c.key)||Jm(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return te.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return te.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K5(this)}getSize(e){return te.resolve(this.size)}}class K5 extends U5{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),te.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.persistence=e,this.Nr=new jl(n=>zw(n),Hw),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eb,this.targetCount=0,this.kr=sl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),te.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Kn(n),te.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),te.waitFor(o).next(()=>i)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return te.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),te.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),te.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return te.resolve(r)}containsKey(e,n){return te.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Bw(0),this.Kr=!1,this.Kr=!0,this.$r=new z5,this.referenceDelegate=e(this),this.Ur=new J5(this),this.indexManager=new j5,this.remoteDocumentCache=function(i){return new W5(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new L5(n),this.Gr=new G5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new H5(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new X5(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return te.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class X5 extends R3{constructor(e){super(),this.currentSequenceNumber=e}}class tb{constructor(e){this.persistence=e,this.Jr=new eb,this.Yr=null}static Zr(e){return new tb(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),te.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),te.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.Xr,r=>{const i=xe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return te.or([()=>te.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new nb(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return eB()?8:M3(_n())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Q5;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Tu()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),te.resolve()):(Tu()<=$e.DEBUG&&ve("QueryEngine","Query:",aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Tu()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):te.resolve())}Yi(e,n){if(v1(n))return te.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ap(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,ap(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return v1(n)||i.isEqual(Se.min())?te.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?te.resolve(null):(Tu()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(n)),this.rs(e,s,n,C3(i,-1)).next(a=>a))})}ts(e,n){let r=new tn(SM(e));return n.forEach((i,o)=>{Jm(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Tu()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",aa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new _t(Ge),this._s=new jl(o=>zw(o),Hw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function t6(t,e,n,r){return new e6(t,e,n,r)}async function HM(t,e){const n=Ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function n6(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let y=te.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(w=>{const _=u.docVersions.get(v);Ye(_!==null),w.version.compareTo(_)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),c.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function WM(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function r6(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(on.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(w,_,x){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Pi(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(i6(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return te.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function i6(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Pi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function o6(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s6(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,te.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new ho(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function K0(t,e,n){const r=Ae(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Rd(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function P1(t,e,n){const r=Ae(t);let i=Se.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ae(l),h=d._s.get(c);return h!==void 0?te.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(r,s,zr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Oe())).next(a=>(a6(r,X3(e),a),{documents:a,Ts:o})))}function a6(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class N1{constructor(){this.activeTargetIds=r5()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l6{constructor(){this.so=new N1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new N1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff=null;function nv(){return Ff===null?Ff=function(){return 268435456+Math.round(2147483648*Math.random())}():Ff++,"0x"+Ff.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class f6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=nv(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw tl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$l}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=c6[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=nv();return new Promise((s,a)=>{const l=new lM;l.setWithCredentials(!0),l.listenOnce(uM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xh.NO_ERROR:const c=l.getResponseJson();ve(cn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case xh.TIMEOUT:ve(cn,`RPC '${e}' ${o} timed out`),a(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const d=l.getStatus();if(ve(cn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(x)>=0?x:J.UNKNOWN}(y.status);a(new ue(v,y.message))}else a(new ue(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ve(cn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(cn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=nv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fM(),a=dM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ve(cn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,y=!1;const v=new d6({Io:_=>{y?ve(cn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(ve(cn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),ve(cn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},To:()=>d.close()}),w=(_,x,b)=>{_.listen(x,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return w(d,Fu.EventType.OPEN,()=>{y||(ve(cn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),w(d,Fu.EventType.CLOSE,()=>{y||(y=!0,ve(cn,`RPC '${e}' stream ${i} transport closed`),v.So())}),w(d,Fu.EventType.ERROR,_=>{y||(y=!0,tl(cn,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),w(d,Fu.EventType.MESSAGE,_=>{var x;if(!y){const b=_.data[0];Ye(!!b);const T=b,N=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(N){ve(cn,`RPC '${e}' stream ${i} received error:`,N);const A=N.status;let P=function(I){const R=St[I];if(R!==void 0)return LM(R)}(A),S=N.message;P===void 0&&(P=J.INTERNAL,S="Unknown error status: "+A+" with message "+N.message),y=!0,v.So(new ue(P,S)),d.close()}else ve(cn,`RPC '${e}' stream ${i} received:`,b),v.bo(b)}}),w(a,cM.STAT_EVENT,_=>{_.stat===j0.PROXY?ve(cn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===j0.NOPROXY&&ve(cn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t){return new b5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KM(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h6 extends JM{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=S5(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?Hr(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=W0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=B0(l)?{documents:C5(o,l)}:{query:P5(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=VM(o,s.resumeToken);const u=q0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=cp(o,s.snapshotVersion.toTimestamp());const u=q0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=k5(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=W0(this.serializer),n.removeTarget=e,this.a_(n)}}class p6 extends JM{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=I5(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=W0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>A5(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,z0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(J.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,z0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(J.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class g6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ci(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{zs(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ae(l);u.L_.add(4),await Dd(u),u.q_.set("Unknown"),u.L_.delete(4),await eg(u)}(this))})}),this.q_=new g6(r,i)}}async function eg(t){if(zs(t))for(const e of t.B_)await e(!0)}async function Dd(t){for(const e of t.B_)await e(!1)}function YM(t,e){const n=Ae(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),sb(n)?ob(n):Vl(n).r_()&&ib(n,e))}function rb(t,e){const n=Ae(t),r=Vl(n);n.N_.delete(e),r.r_()&&XM(n,e),n.N_.size===0&&(r.r_()?r.o_():zs(n)&&n.q_.set("Unknown"))}function ib(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vl(t).A_(e)}function XM(t,e){t.Q_.xe(e),Vl(t).R_(e)}function ob(t){t.Q_=new v5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vl(t).start(),t.q_.v_()}function sb(t){return zs(t)&&!Vl(t).n_()&&t.N_.size>0}function zs(t){return Ae(t).L_.size===0}function QM(t){t.Q_=void 0}async function v6(t){t.q_.set("Online")}async function _6(t){t.N_.forEach((e,n)=>{ib(t,e)})}async function x6(t,e){QM(t),sb(t)?(t.q_.M_(e),ob(t)):t.q_.set("Unknown")}async function w6(t,e,n){if(t.q_.set("Online"),e instanceof jM&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(t,r)}else if(e instanceof Eh?t.Q_.Ke(e):e instanceof $M?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await WM(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(on.EMPTY_BYTE_STRING,c.snapshotVersion)),XM(o,l);const d=new ho(c.target,l,u,c.sequenceNumber);ib(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await dp(t,r)}}async function dp(t,e,n){if(!Rd(e))throw e;t.L_.add(1),await Dd(t),t.q_.set("Offline"),n||(n=()=>WM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await eg(t)})}function ZM(t,e){return e().catch(n=>dp(t,n,e))}async function tg(t){const e=Ae(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b6(e);)try{const i=await o6(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,E6(e,i)}catch(i){await dp(e,i)}eO(e)&&tO(e)}function b6(t){return zs(t)&&t.O_.length<10}function E6(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function eO(t){return zs(t)&&!Lo(t).n_()&&t.O_.length>0}function tO(t){Lo(t).start()}async function T6(t){Lo(t).p_()}async function S6(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function A6(t,e,n){const r=t.O_.shift(),i=Xw.from(r,e,n);await ZM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tg(t)}async function I6(t,e){e&&Lo(t).V_&&await async function(r,i){if(function(s){return m5(s)&&s!==J.ABORTED}(i.code)){const o=r.O_.shift();Lo(r).s_(),await ZM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await tg(r)}}(t,e),eO(t)&&tO(t)}async function R1(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=zs(n);n.L_.add(3),await Dd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await eg(n)}async function C6(t,e){const n=Ae(t);e?(n.L_.delete(2),await eg(n)):e||(n.L_.add(2),await Dd(n),n.q_.set("Unknown"))}function Vl(t){return t.K_||(t.K_=function(n,r,i){const o=Ae(n);return o.w_(),new h6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:v6.bind(null,t),Ro:_6.bind(null,t),mo:x6.bind(null,t),d_:w6.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),sb(t)?ob(t):t.q_.set("Unknown")):(await t.K_.stop(),QM(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,i){const o=Ae(n);return o.w_(),new p6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:T6.bind(null,t),mo:I6.bind(null,t),f_:S6.bind(null,t),g_:A6.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await tg(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Io,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ab(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lb(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),Rd(t))return new ue(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xe.comparator(n.key,r.key):(n,r)=>xe.comparator(n.key,r.key),this.keyedMap=Bu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new La(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof La)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new La;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(){this.W_=new _t(xe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new al(e,n,La.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N6{constructor(){this.queries=O1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ae(n),o=i.queries;i.queries=O1(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function O1(){return new jl(t=>TM(t),Km)}async function nO(t,e){const n=Ae(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new P6,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=lb(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ub(n)}async function rO(t,e){const n=Ae(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function k6(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ub(n)}function R6(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ub(t){t.Y_.forEach(e=>{e.next()})}var J0,D1;(D1=J0||(J0={})).ea="default",D1.Cache="cache";class iO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==J0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.key=e}}class sO{constructor(e){this.key=e}}class M6{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=SM(e),this.Ra=new La(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new M1,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),y=Jm(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;h&&y?h.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),_=!0):this.ga(h,y)||(r.track({type:2,doc:y}),_=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),_=!0):h&&!y&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(y?(s=s.add(y),o=w?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,v){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return w(y)-w(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new al(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new M1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new sO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new oO(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return al.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class O6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class D6{constructor(e){this.key=e,this.va=!1}}class L6{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new jl(a=>TM(a),Km),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(xe.comparator),this.Na=new Map,this.La=new eb,this.Ba={},this.ka=new Map,this.qa=sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function $6(t,e,n=!0){const r=fO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await aO(r,e,n,!0),i}async function j6(t,e){const n=fO(t);await aO(n,e,!0,!1)}async function aO(t,e,n,r){const i=await s6(t.localStore,zr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await V6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&YM(t.remoteStore,i),a}async function V6(t,e,n,r,i){t.Ka=(d,h,y)=>async function(w,_,x,b){let T=_.view.ma(x);T.ns&&(T=await P1(w.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,T)));const N=b&&b.targetChanges.get(_.targetId),A=b&&b.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(T,w.isPrimaryClient,N,A);return $1(w,_.targetId,P.wa),P.snapshot}(t,d,h,y);const o=await P1(t.localStore,e,!0),s=new M6(e,o.Ts),a=s.ma(o.documents),l=Od.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);$1(t,n,u.wa);const c=new O6(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function U6(t,e,n){const r=Ae(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Km(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await K0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rb(r.remoteStore,i.targetId),Y0(r,i.targetId)}).catch(kd)):(Y0(r,i.targetId),await K0(r.localStore,i.targetId,!0))}async function F6(t,e){const n=Ae(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rb(n.remoteStore,r.targetId))}async function B6(t,e,n){const r=J6(t);try{const i=await function(s,a){const l=Ae(s),u=Lt.now(),c=a.reduce((y,v)=>y.add(v.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Pi(),w=Oe();return l.cs.getEntries(y,c).next(_=>{v=_,v.forEach((x,b)=>{b.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(_=>{d=_;const x=[];for(const b of a){const T=c5(b,d.get(b.key).overlayedDocument);T!=null&&x.push(new Fo(b.key,T,yM(T.value.mapValue),ur.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,x,a)}).next(_=>{h=_;const x=_.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(y,_.batchId,x)})}).then(()=>({batchId:h.batchId,changes:IM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new _t(Ge)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Ld(r,i.changes),await tg(r.remoteStore)}catch(i){const o=lb(i,"Failed to persist write");n.reject(o)}}async function lO(t,e){const n=Ae(t);try{const r=await r6(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ye(s.va):i.removedDocuments.size>0&&(Ye(s.va),s.va=!1))}),await Ld(n,r,e)}catch(r){await kd(r)}}function L1(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ae(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&ub(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G6(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new _t(xe.comparator);s=s.insert(o,pn.newNoDocument(o,Se.min()));const a=Oe().add(o),l=new Qm(Se.min(),new Map,new _t(Ge),s,a);await lO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),cb(r)}else await K0(r.localStore,e,!1).then(()=>Y0(r,e,n)).catch(kd)}async function q6(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=await n6(n.localStore,e);cO(n,r,null),uO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ld(n,i)}catch(i){await kd(i)}}async function z6(t,e,n){const r=Ae(t);try{const i=await function(s,a){const l=Ae(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ye(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);cO(r,e,n),uO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ld(r,i)}catch(i){await kd(i)}}function uO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cO(t,e,n){const r=Ae(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||dO(t,r)})}function dO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(rb(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),cb(t))}function $1(t,e,n){for(const r of n)r instanceof oO?(t.La.addReference(r.key,e),H6(t,r)):r instanceof sO?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||dO(t,r.key)):Ee()}function H6(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),cb(t))}function cb(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new xe(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new D6(n)),t.Oa=t.Oa.insert(n,r),YM(t.remoteStore,new ho(zr(Ww(n.path)),r,"TargetPurposeLimboResolution",Bw.oe))}}async function Ld(t,e,n){const r=Ae(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=nb.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ae(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>te.forEach(u,h=>te.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(d,h.targetId,y)).next(()=>te.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(d,h.targetId,y)))))}catch(d){if(!Rd(d))throw d;ve("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const y=c.os.get(h),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,w)}}}(r.localStore,o))}async function W6(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await HM(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(J.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ld(n,r.hs)}}function K6(t,e){const n=Ae(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function fO(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G6.bind(null,e),e.Ca.d_=k6.bind(null,e.eventManager),e.Ca.$a=R6.bind(null,e.eventManager),e}function J6(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=z6.bind(null,e),e}class fp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zm(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return t6(this.persistence,new Z5,e.initialUser,this.serializer)}Ga(e){return new Y5(tb.Zr,this.serializer)}Wa(e){return new l6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fp.provider={build:()=>new fp};class X0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>L1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N6}()}createDatastore(e){const n=Zm(e.databaseInfo.databaseId),r=function(o){return new f6(o)}(e.databaseInfo);return function(o,s,a,l){return new m6(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new y6(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>L1(this.syncEngine,n,0),function(){return k1.D()?new k1:new u6}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new L6(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ae(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Dd(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}X0.provider={build:()=>new X0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fn.UNAUTHENTICATED,this.clientId=pM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Io;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X6(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>R1(e.remoteStore,i)),t._onlineComponents=e}async function X6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await iv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===J.FAILED_PRECONDITION||i.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await iv(t,new fp)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await iv(t,new fp);return t._offlineComponents}async function pO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await j1(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await j1(t,new X0))),t._onlineComponents}function Q6(t){return pO(t).then(e=>e.syncEngine)}async function Q0(t){const e=await pO(t),n=e.eventManager;return n.onListen=$6.bind(null,e.syncEngine),n.onUnlisten=U6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=j6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),n}function Z6(t,e,n={}){const r=new Io;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new hO({next:h=>{c.Za(),s.enqueueAndForget(()=>rO(o,d)),h.fromCache&&l.source==="server"?u.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new iO(a,c,{includeMetadataChanges:!0,_a:!0});return nO(o,d)}(await Q0(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function e8(t,e,n,r){if(e===!0&&r===!0)throw new ue(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U1(t){if(!xe.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function F1(t){if(xe.isDocumentKey(t))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ng(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ng(t);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function t8(t,e){if(e<=0)throw new ue(J.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new B1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new B1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _3;switch(r.type){case"firstParty":return new E3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V1.get(n);r&&(ve("ComponentProvider","Removing Datastore"),V1.delete(n),r.terminate())}(this),Promise.resolve()}}function n8(t,e,n,r={}){var i;const o=(t=cr(t,rg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=W4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(u)}t._authCredentials=new x3(new hM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ti(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Co extends ti{constructor(e,n,r){super(e,n,Ww(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new xe(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function ke(t,e,...n){if(t=rn(t),gO("collection","path",e),t instanceof rg){const r=ot.fromString(e,...n);return F1(r),new Co(t,null,r)}{if(!(t instanceof Tn||t instanceof Co))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return F1(r),new Co(t.firestore,null,r)}}function Ke(t,e,...n){if(t=rn(t),arguments.length===1&&(e=pM.newId()),gO("doc","path",e),t instanceof rg){const r=ot.fromString(e,...n);return U1(r),new Tn(t,null,new xe(r))}{if(!(t instanceof Tn||t instanceof Co))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return U1(r),new Tn(t.firestore,t instanceof Co?t.converter:null,new xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KM(this,"async_queue_retry"),this.Vu=()=>{const r=rv();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Io;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rd(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Ci("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ab.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function q1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends rg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new G1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G1(e),this._firestoreClient=void 0,await e}}}function r8(t,e){const n=typeof t=="object"?t:iM(),r=typeof t=="string"?t:"(default)",i=Uw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=z4("firestore");o&&n8(i,...o)}return i}function db(t){if(t._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||i8(t),t._firestoreClient}function i8(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new L3(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,mO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Y6(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ll(on.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ll(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=/^__.*__$/;class s8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Md(e,this.data,n,this.fieldTransforms)}}class yO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class mb{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return hp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(vO(this.Cu)&&o8.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class a8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zm(e)}Qu(e,n,r,i=!1){return new mb({Cu:e,methodName:n,qu:r,path:Qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $d(t){const e=t._freezeSettings(),n=Zm(t._databaseId);return new a8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _O(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);gb("Data must be an object, but it was:",s,r);const a=wO(r,s);let l,u;if(o.merge)l=new Wn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=Z0(e,d,n);if(!s.contains(h))throw new ue(J.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EO(c,h)||c.push(h)}l=new Wn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new s8(new Rn(a),l,u)}class og extends fb{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}function l8(t,e,n,r){const i=t.Qu(1,e,n);gb("Data must be an object, but it was:",i,r);const o=[],s=Rn.empty();Gs(r,(l,u)=>{const c=yb(e,l,n);u=rn(u);const d=i.Nu(c);if(u instanceof og)o.push(c);else{const h=jd(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new Wn(o);return new yO(s,a,i.fieldTransforms)}function u8(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Z0(e,r,n)],l=[i];if(o.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Z0(e,o[h])),l.push(o[h+1]);const u=[],c=Rn.empty();for(let h=a.length-1;h>=0;--h)if(!EO(u,a[h])){const y=a[h];let v=l[h];v=rn(v);const w=s.Nu(y);if(v instanceof og)u.push(y);else{const _=jd(v,w);_!=null&&(u.push(y),c.set(y,_))}}const d=new Wn(u);return new yO(c,d,s.fieldTransforms)}function xO(t,e,n,r=!1){return jd(n,t.Qu(r?4:3,e))}function jd(t,e){if(bO(t=rn(t)))return gb("Unsupported field value:",e,t),wO(t,e);if(t instanceof fb)return function(r,i){if(!vO(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=jd(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return i5(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Lt.fromDate(r);return{timestampValue:cp(i.serializer,o)}}if(r instanceof Lt){const o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cp(i.serializer,o)}}if(r instanceof hb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ll)return{bytesValue:VM(i.serializer,r._byteString)};if(r instanceof Tn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pb)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Jw(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ng(r)}`)}(t,e)}function wO(t,e){const n={};return mM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const o=jd(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Lt||t instanceof hb||t instanceof ll||t instanceof Tn||t instanceof fb||t instanceof pb)}function gb(t,e,n){if(!bO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ng(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Z0(t,e,n){if((e=rn(e))instanceof ig)return e._internalPath;if(typeof e=="string")return yb(t,e);throw hp("Field path arguments must be of type string or ",t,!1,void 0,n)}const c8=new RegExp("[~\\*/\\[\\]]");function yb(t,e,n){if(e.search(c8)>=0)throw hp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ig(...e.split("."))._internalPath}catch{throw hp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ue(J.INVALID_ARGUMENT,a+t+l)}function EO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class d8 extends vb{data(){return super.data()}}function sg(t,e){return typeof e=="string"?yb(t,e):e instanceof ig?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{}class ag extends _b{}function oc(t,e,...n){let r=[];e instanceof _b&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof xb).length,a=o.filter(l=>l instanceof lg).length;if(s>1||s>0&&a>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class lg extends ag{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new lg(e,n,r)}_apply(e){const n=this._parse(e);return SO(e._query,n),new ti(e.firestore,e.converter,G0(e._query,n))}_parse(e){const n=$d(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){H1(d,c);const y=[];for(const v of d)y.push(z1(l,o,v));h={arrayValue:{values:y}}}else h=z1(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||H1(d,c),h=xO(a,s,d,c==="in"||c==="not-in");return Ct.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ov(t,e,n){const r=e,i=sg("where",t);return lg._create(i,r,n)}class xb extends _b{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xb(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)SO(s,l),s=G0(s,l)}(e._query,n),new ti(e.firestore,e.converter,G0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wb extends ag{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wb(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(o,s)}(e._query,this._field,this._direction);return new ti(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new qs(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function f8(t,e="asc"){const n=e,r=sg("orderBy",t);return wb._create(r,n)}class bb extends ag{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new bb(e,n,r)}_apply(e){return new ti(e.firestore,e.converter,ap(e._query,this._limit,this._limitType))}}function h8(t){return t8("limit",t),bb._create("limit",t,"F")}class Eb extends ag{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Eb(e,n,r)}_apply(e){const n=m8(e,this.type,this._docOrFields,this._inclusive);return new ti(e.firestore,e.converter,function(i,o){return new qs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function p8(...t){return Eb._create("startAfter",t,!1)}function m8(t,e,n,r){if(n[0]=rn(n[0]),n[0]instanceof vb)return function(o,s,a,l,u){if(!l)throw new ue(J.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of Da(o))if(d.field.isKeyField())c.push(sp(s,l.key));else{const h=l.data.field(d.field);if(Wm(h))throw new ue(J.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const y=d.field.canonicalString();throw new ue(J.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}c.push(h)}return new ol(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=$d(t.firestore);return function(s,a,l,u,c,d){const h=s.explicitOrderBy;if(c.length>h.length)throw new ue(J.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<c.length;v++){const w=c[v];if(h[v].field.isKeyField()){if(typeof w!="string")throw new ue(J.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof w}`);if(!Kw(s)&&w.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${w}' contains a slash.`);const _=s.path.child(ot.fromString(w));if(!xe.isDocumentKey(_))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const x=new xe(_);y.push(sp(a,x))}else{const _=xO(l,u,w);y.push(_)}}return new ol(y,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function z1(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kw(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!xe.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sp(t,new xe(r))}if(n instanceof Tn)return sp(t,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ng(n)}.`)}function H1(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g8{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Et(s.doubleValue));return new pb(o)}convertGeoPoint(e){return new hb(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Ye(zM(r));const i=new Rc(r.get(1),r.get(3)),o=new xe(r.popFirst(5));return i.isEqual(n)||Ci(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IO extends vb{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Th extends IO{data(e={}){return super.data(e)}}class CO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Th(this._firestore,this._userDataWriter,r.key,r,new qu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Th(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Th(i._firestore,i._userDataWriter,a.doc.key,a.doc,new qu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:y8(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function y8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Tb extends g8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ll(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Po(t){t=cr(t,ti);const e=cr(t.firestore,$o),n=db(e),r=new Tb(e);return TO(t._query),Z6(n,t._query).then(i=>new CO(e,r,t,i))}function v8(t,e,n){t=cr(t,Tn);const r=cr(t.firestore,$o),i=AO(t.converter,e);return ug(r,[_O($d(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ur.none())])}function Nn(t,e,n,...r){t=cr(t,Tn);const i=cr(t.firestore,$o),o=$d(i);let s;return s=typeof(e=rn(e))=="string"||e instanceof ig?u8(o,"updateDoc",t._key,e,n,r):l8(o,"updateDoc",t._key,e),ug(i,[s.toMutation(t._key,ur.exists(!0))])}function Pn(t){return ug(cr(t.firestore,$o),[new Yw(t._key,ur.none())])}function Kt(t,e){const n=cr(t.firestore,$o),r=Ke(t),i=AO(t.converter,e);return ug(n,[_O($d(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function Zn(t,...e){var n,r,i;t=rn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||q1(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(q1(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Tn)u=cr(t.firestore,$o),c=Ww(t._key.path),l={next:d=>{e[s]&&e[s](_8(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=cr(t,ti);u=cr(d.firestore,$o),c=d._query;const h=new Tb(u);l={next:y=>{e[s]&&e[s](new CO(u,h,d,y))},error:e[s+1],complete:e[s+2]},TO(t._query)}return function(h,y,v,w){const _=new hO(w),x=new iO(y,_,v);return h.asyncQueue.enqueueAndForget(async()=>nO(await Q0(h),x)),()=>{_.Za(),h.asyncQueue.enqueueAndForget(async()=>rO(await Q0(h),x))}}(db(u),c,a,l)}function ug(t,e){return function(r,i){const o=new Io;return r.asyncQueue.enqueueAndForget(async()=>B6(await Q6(r),i,o)),o.promise}(db(t),e)}function _8(t,e,n){const r=n.docs.get(e._key),i=new Tb(t);return new IO(t,i,e._key,r,new qu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$l=i})(Ll),el(new Ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $o(new w3(r.getProvider("auth-internal")),new S3(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ao(l1,"4.7.3",e),Ao(l1,"4.7.3","esm2017")})();function Sb(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x8=PO,NO=new Pd("auth","Firebase",PO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=new jw("@firebase/auth");function w8(t,...e){pp.logLevel<=$e.WARN&&pp.warn(`Auth (${Ll}): ${t}`,...e)}function Sh(t,...e){pp.logLevel<=$e.ERROR&&pp.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,...e){throw Ab(t,...e)}function Wr(t,...e){return Ab(t,...e)}function kO(t,e,n){const r=Object.assign(Object.assign({},x8()),{[e]:n});return new Pd("auth","Firebase",r).create(e,{appName:t.name})}function bs(t){return kO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return NO.create(t,...e)}function be(t,e,...n){if(!t)throw Ab(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sh(e),new Error(e)}function ki(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b8(){return W1()==="http:"||W1()==="https:"}function W1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b8()||X4()||"connection"in navigator)?navigator.onLine:!0}function T8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ki(n>e,"Short delay should be less than long delay!"),this.isMobile=K4()||Q4()}get(){return E8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e){ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8=new Vd(3e4,6e4);function Cb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ul(t,e,n,r,i={}){return MO(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Nd(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return Y4()||(u.referrerPolicy="no-referrer"),RO.fetch()(OO(t,t.config.apiHost,n,a),u)})}async function MO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},S8),e);try{const i=new C8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Bf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Bf(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Bf(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kO(t,c,u);Ni(t,c)}}catch(i){if(i instanceof Ui)throw i;Ni(t,"network-request-failed",{message:String(i)})}}async function I8(t,e,n,r,i={}){const o=await Ul(t,e,n,r,i);return"mfaPendingCredential"in o&&Ni(t,"multi-factor-auth-required",{_serverResponse:o}),o}function OO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Ib(t.config,i):`${t.config.apiScheme}://${i}`}class C8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),A8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,e){return Ul(t,"POST","/v1/accounts:delete",e)}async function DO(t,e){return Ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function N8(t,e=!1){const n=rn(t),r=await n.getIdToken(e),i=Pb(r);be(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:sc(sv(i.auth_time)),issuedAtTime:sc(sv(i.iat)),expirationTime:sc(sv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function sv(t){return Number(t)*1e3}function Pb(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const i=X2(n);return i?JSON.parse(i):(Sh("Failed to decode base64 JWT payload"),null)}catch(i){return Sh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function K1(t){const e=Pb(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&k8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function k8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $c(t,DO(n,{idToken:r}));be(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?LO(o.providerUserInfo):[],a=O8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new t_(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function M8(t){const e=rn(t);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LO(t){return t.map(e=>{var{providerId:n}=e,r=Sb(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e){const n=await MO(t,{},async()=>{const r=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=OO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L8(t,e){return Ul(t,"POST","/v2/accounts:revokeToken",Cb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=K1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await D8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new $a;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new R8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new t_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await $c(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return N8(this,e)}reload(){return M8(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await $c(this,P8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:N,isAnonymous:A,providerData:P,stsTokenManager:S}=n;be(T&&S,e,"internal-error");const C=$a.fromJSON(this.name,S);be(typeof T=="string",e,"internal-error"),Qi(d,e.name),Qi(h,e.name),be(typeof N=="boolean",e,"internal-error"),be(typeof A=="boolean",e,"internal-error"),Qi(y,e.name),Qi(v,e.name),Qi(w,e.name),Qi(_,e.name),Qi(x,e.name),Qi(b,e.name);const I=new pi({uid:T,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:A,photoURL:v,phoneNumber:y,tenantId:w,stsTokenManager:C,createdAt:x,lastLoginAt:b});return P&&Array.isArray(P)&&(I.providerData=P.map(R=>Object.assign({},R))),_&&(I._redirectEventId=_),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new $a;i.updateFromServerResponse(n);const o=new pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];be(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?LO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new $a;a.updateFromIdToken(r);const l=new pi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new t_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;function mi(t){ki(t instanceof Function,"Expected a class definition");let e=J1.get(t);return e?(ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$O.type="NONE";const Y1=$O;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t,e,n){return`firebase:${t}:${e}:${n}`}class ja{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=Ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ja(mi(Y1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||mi(Y1);const s=Ah(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=pi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ja(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ja(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GO(e))return"Blackberry";if(qO(e))return"Webos";if(VO(e))return"Safari";if((e.includes("chrome/")||UO(e))&&!e.includes("edge/"))return"Chrome";if(BO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jO(t=_n()){return/firefox\//i.test(t)}function VO(t=_n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UO(t=_n()){return/crios\//i.test(t)}function FO(t=_n()){return/iemobile/i.test(t)}function BO(t=_n()){return/android/i.test(t)}function GO(t=_n()){return/blackberry/i.test(t)}function qO(t=_n()){return/webos/i.test(t)}function Nb(t=_n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $8(t=_n()){var e;return Nb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function j8(){return Z4()&&document.documentMode===10}function zO(t=_n()){return Nb(t)||BO(t)||qO(t)||GO(t)||/windows phone/i.test(t)||FO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e=[]){let n;switch(t){case"Browser":n=X1(_n());break;case"Worker":n=`${X1(_n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e={}){return Ul(t,"GET","/v2/passwordPolicy",Cb(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=6;class B8{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:F8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q1(this),this.idTokenSubscription=new Q1(this),this.beforeStateQueue=new V8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ja.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DO(this,{idToken:e}),r=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(fo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(bs(this));const n=e?rn(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U8(this),n=new B8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&w8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kb(t){return rn(t)}class Q1{constructor(e){this.auth=e,this.observer=null,this.addObserver=aB(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function q8(t){Rb=t}function z8(t){return Rb.loadJS(t)}function H8(){return Rb.gapiScript}function W8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(t,e){const n=Uw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(rp(o,e??{}))return i;Ni(i,"already-initialized")}return n.initialize({options:e})}function J8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Y8(t,e,n){const r=kb(t);be(r._canInitEmulator,r,"emulator-config-failed"),be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=WO(e),{host:s,port:a}=X8(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Q8()}function WO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X8(t){const e=WO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Z1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Z1(s)}}}function Z1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Q8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(t,e){return I8(t,"POST","/v1/accounts:signInWithIdp",Cb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="http://localhost";class Os extends KO{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sb(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Os(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Va(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Va(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Va(e,n)}buildRequest(){const e={requestUri:Z8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends JO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Ud{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.FACEBOOK_SIGN_IN_METHOD="facebook.com";oo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Os._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ci.credential(n,r)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Ud{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.GITHUB_SIGN_IN_METHOD="github.com";so.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Ud{constructor(){super("twitter.com")}static credential(e,n){return Os._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.TWITTER_SIGN_IN_METHOD="twitter.com";ao.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await pi._fromIdTokenResponse(e,r,i),s=eA(r);return new ul({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=eA(r);return new ul({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function eA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gp(e,n,r,i)}}function YO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,o,e,r):o})}async function eG(t,e,n=!1){const r=await $c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ul._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tG(t,e,n=!1){const{auth:r}=t;if(fo(r.app))return Promise.reject(bs(r));const i="reauthenticate";try{const o=await $c(t,YO(r,i,e,t),n);be(o.idToken,r,"internal-error");const s=Pb(o.idToken);be(s,r,"internal-error");const{sub:a}=s;return be(t.uid===a,r,"user-mismatch"),ul._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ni(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nG(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r="signIn",i=await YO(t,r,e),o=await ul._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function rG(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function iG(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}const yp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yp,"1"),this.storage.removeItem(yp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=1e3,sG=10;class QO extends XO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);j8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sG):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QO.type="LOCAL";const aG=QO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO extends XO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZO.type="SESSION";const eD=ZO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await lG(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Mb("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function cG(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function dG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hG(){return tD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="firebaseLocalStorageDb",pG=1,vp="firebaseLocalStorage",rD="fbase_key";class Fd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dg(t,e){return t.transaction([vp],e?"readwrite":"readonly").objectStore(vp)}function mG(){const t=indexedDB.deleteDatabase(nD);return new Fd(t).toPromise()}function n_(){const t=indexedDB.open(nD,pG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vp,{keyPath:rD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vp)?e(r):(r.close(),await mG(),e(await n_()))})})}async function tA(t,e,n){const r=dg(t,!0).put({[rD]:e,value:n});return new Fd(r).toPromise()}async function gG(t,e){const n=dg(t,!1).get(e),r=await new Fd(n).toPromise();return r===void 0?null:r.value}function nA(t,e){const n=dg(t,!0).delete(e);return new Fd(n).toPromise()}const yG=800,vG=3;class iD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cg._getInstance(hG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dG(),!this.activeServiceWorker)return;this.sender=new uG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await tA(e,yp,"1"),await nA(e,yp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nA(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=dg(i,!1).getAll();return new Fd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iD.type="LOCAL";const _G=iD;new Vd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(t,e){return e?mi(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob extends KO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Va(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Va(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Va(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wG(t){return nG(t.auth,new Ob(t),t.bypassAuthState)}function bG(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),tG(n,new Ob(t),t.bypassAuthState)}async function EG(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),eG(n,new Ob(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wG;case"linkViaPopup":case"linkViaRedirect":return EG;case"reauthViaPopup":case"reauthViaRedirect":return bG;default:Ni(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG=new Vd(2e3,1e4);class Ea extends oD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=Mb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TG.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SG="pendingRedirect",Ih=new Map;class AG extends oD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const r=await IG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IG(t,e){const n=NG(e),r=PG(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CG(t,e){Ih.set(t._key(),e)}function PG(t){return mi(t._redirectPersistence)}function NG(t){return Ah(SG,t.config.apiKey,t.name)}async function kG(t,e,n=!1){if(fo(t.app))return Promise.reject(bs(t));const r=kb(t),i=xG(r,e),s=await new AG(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=10*60*1e3;class MG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RG&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}}function rA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DG(t,e={}){return Ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$G=/^https?/;async function jG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await DG(t);for(const n of e)try{if(VG(n))return}catch{}Ni(t,"unauthorized-domain")}function VG(t){const e=e_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$G.test(n))return!1;if(LG.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Vd(3e4,6e4);function iA(){const t=Kr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function FG(t){return new Promise((e,n)=>{var r,i,o;function s(){iA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iA(),n(Wr(t,"network-request-failed"))},timeout:UG.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)s();else{const a=W8("iframefcb");return Kr()[a]=()=>{gapi.load?s():n(Wr(t,"network-request-failed"))},z8(`${H8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function BG(t){return Ch=Ch||FG(t),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new Vd(5e3,15e3),qG="__/auth/iframe",zG="emulator/auth/iframe",HG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KG(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ib(e,zG):`https://${t.config.authDomain}/${qG}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=WG.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nd(r).slice(1)}`}async function JG(t){const e=await BG(t),n=Kr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:KG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HG,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Wr(t,"network-request-failed"),a=Kr().setTimeout(()=>{o(s)},GG.get());function l(){Kr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XG=500,QG=600,ZG="_blank",e9="http://localhost";class oA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t9(t,e,n,r=XG,i=QG){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},YG),{width:r.toString(),height:i.toString(),top:o,left:s}),u=_n().toLowerCase();n&&(a=UO(u)?ZG:n),jO(u)&&(e=e||e9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if($8(u)&&a!=="_self")return n9(e||"",a),new oA(null);const d=window.open(e||"",a,c);be(d,t,"popup-blocked");try{d.focus()}catch{}return new oA(d)}function n9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9="__/auth/handler",i9="emulator/auth/handler",o9=encodeURIComponent("fac");async function sA(t,e,n,r,i,o){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof JO){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",sB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof Ud){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${o9}=${encodeURIComponent(l)}`:"";return`${s9(t)}?${Nd(a).slice(1)}${u}`}function s9({config:t}){return t.emulator?Ib(t,i9):`https://${t.authDomain}/${r9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eD,this._completeRedirectFn=kG,this._overrideRedirectResult=CG}async _openPopup(e,n,r,i){var o;ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await sA(e,n,r,e_(),i);return t9(e,s,Mb())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await sA(e,n,r,e_(),i);return cG(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JG(e),r=new MG(e);return n.register("authEvent",i=>(be(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(av,{type:av},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[av];s!==void 0&&n(!!s),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zO()||VO()||Nb()}}const l9=a9;var aA="@firebase/auth",lA="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d9(t){el(new Ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HO(t)},u=new G8(r,i,o,l);return J8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new Ns("auth-internal",e=>{const n=kb(e.getProvider("auth").getImmediate());return(r=>new u9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(aA,lA,c9(t)),Ao(aA,lA,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=5*60,h9=eM("authIdTokenMaxAge")||f9;let uA=null;const p9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h9)return;const i=n==null?void 0:n.token;uA!==i&&(uA=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function m9(t=iM()){const e=Uw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=K8(t,{popupRedirectResolver:l9,persistence:[_G,aG,eD]}),r=eM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=p9(o.toString());iG(n,s,()=>s(n.currentUser)),rG(n,a=>s(a))}}const i=Q2("auth");return i&&Y8(n,`http://${i}`),n}function g9(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}q8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Wr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",g9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d9("Browser");var ra={};const y9={apiKey:ra.VITE_FIREBASE_API_KEY||"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:ra.VITE_FIREBASE_AUTH_DOMAIN||"bruzzonecrm.firebaseapp.com",projectId:ra.VITE_FIREBASE_PROJECT_ID||"bruzzonecrm",storageBucket:ra.VITE_FIREBASE_STORAGE_BUCKET||"bruzzonecrm.firebasestorage.app",messagingSenderId:ra.VITE_FIREBASE_MESSAGING_SENDER_ID||"927179271207",appId:ra.VITE_FIREBASE_APP_ID||"1:927179271207:web:b287dce1ce53b4f3ddb202"},aD=rM(y9),pe=r8(aD);m9(aD);new ci;const lD=$.createContext(void 0),v9=({children:t})=>{const[e,n]=$.useState([]),[r,i]=$.useState([]),[o,s]=$.useState([]),[a,l]=$.useState([]),[u,c]=$.useState([]),[d,h]=$.useState([]),[y,v]=$.useState([]),[w,_]=$.useState([]),[x,b]=$.useState([]),[T,N]=$.useState([]),[A,P]=$.useState([]),[S,C]=$.useState([]),[I,R]=$.useState([]),[M,D]=$.useState([]),[O,U]=$.useState([]),[B,G]=$.useState(!0),[W,V]=$.useState(null);$.useEffect(()=>{const Z=[Zn(ke(pe,"products"),ae=>n(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"clients"),ae=>i(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"suppliers"),ae=>s(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"priceLists"),ae=>c(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"branches"),ae=>h(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"users"),ae=>N(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"salesZones"),ae=>b(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"sales"),ae=>P(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"remitos"),ae=>C(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"boxes"),ae=>R(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"brands"),ae=>D(ae.docs.map(ge=>({id:ge.id,...ge.data()})))),Zn(ke(pe,"categories"),ae=>U(ae.docs.map(ge=>({id:ge.id,...ge.data()}))))];return G(!1),()=>Z.forEach(ae=>ae())},[]);const K=$.useCallback(async Z=>{let ae=oc(ke(pe,"products"),f8(Z.orderByField||"name",Z.orderDirection||"asc"));Z.startAfterDoc&&(ae=oc(ae,p8(Z.startAfterDoc))),ae=oc(ae,h8(Z.limit));const ge=await Po(ae);return{products:ge.docs.map(Cn=>({id:Cn.id,...Cn.data()})),lastVisible:ge.docs[ge.docs.length-1],hasMore:ge.docs.length===Z.limit}},[]),Y=async Z=>e.find(ae=>ae.id===Z)||null,se=async Z=>{await Kt(ke(pe,"products"),Z)},ee=async(Z,ae)=>{await Nn(Ke(pe,"products",Z),ae)},le=async Z=>{await Pn(Ke(pe,"products",Z))},Ce=async Z=>(await Kt(ke(pe,"sales"),Z)).id,Ne=async Z=>A.find(ae=>ae.id===Z)||null,We=async Z=>{await Kt(ke(pe,"clients"),Z)},z=async(Z,ae)=>{await Nn(Ke(pe,"clients",Z),ae)},Ve=async Z=>{await Pn(Ke(pe,"clients",Z))},ie=async Z=>{await Kt(ke(pe,"suppliers"),Z)},ye=async(Z,ae)=>{await Nn(Ke(pe,"suppliers",Z),ae)},_e=async Z=>{await Pn(Ke(pe,"suppliers",Z))},Q=async Z=>{await Kt(ke(pe,"priceLists"),Z)},Le=async(Z,ae)=>{await Nn(Ke(pe,"priceLists",Z),ae)},Ie=async Z=>{await Pn(Ke(pe,"priceLists",Z))},et=async Z=>{await Kt(ke(pe,"branches"),Z)},X=async(Z,ae)=>{await Nn(Ke(pe,"branches",Z),ae)},me=async Z=>{await Pn(Ke(pe,"branches",Z))},Qe=async Z=>{await Kt(ke(pe,"orders"),Z)},jt=async(Z,ae)=>{await Nn(Ke(pe,"orders",Z),ae)},Vn=async Z=>{await Pn(Ke(pe,"orders",Z))},Nt=async Z=>{await Kt(ke(pe,"installmentPlans"),Z)},Un=async(Z,ae)=>{await Nn(Ke(pe,"installmentPlans",Z),ae)},ri=async Z=>{await Pn(Ke(pe,"installmentPlans",Z))},Hi=async Z=>{await Kt(ke(pe,"transactions"),Z)},Ko=async Z=>{await Kt(ke(pe,"users"),Z)},Vt=async(Z,ae)=>{await Nn(Ke(pe,"users",Z),ae)},Ht=async Z=>{await Pn(Ke(pe,"users",Z))},Xs=async Z=>{await Kt(ke(pe,"salesZones"),Z)},Xd=async(Z,ae)=>{await Nn(Ke(pe,"salesZones",Z),ae)},Qd=async Z=>{await Pn(Ke(pe,"salesZones",Z))},uy=async Z=>(await Kt(ke(pe,"remitos"),Z)).id,Jo=async(Z,ae)=>{await Nn(Ke(pe,"remitos",Z),ae)},Zd=async Z=>{await Pn(Ke(pe,"remitos",Z))},ef=async Z=>S.find(ae=>ae.id===Z)||null,iu=async Z=>{await Kt(ke(pe,"boxes"),Z)},cy=async(Z,ae)=>{await Nn(Ke(pe,"boxes",Z),ae)},dy=async Z=>{await Pn(Ke(pe,"boxes",Z))},ou=async Z=>{await Kt(ke(pe,"brands"),Z)},tf=async(Z,ae)=>{await Nn(Ke(pe,"brands",Z),ae)},nf=async Z=>{await Pn(Ke(pe,"brands",Z))},Yo=async Z=>{await Kt(ke(pe,"categories"),Z)},su=async(Z,ae)=>{await Nn(Ke(pe,"categories",Z),ae)},au=async Z=>{await Pn(Ke(pe,"categories",Z))},ii=async Z=>{const ae={};for(const ge of Z){const Qo=await Po(ke(pe,ge));ae[ge]=Qo.docs.map(Cn=>({id:Cn.id,...Cn.data()}))}return ae},rf=async Z=>{for(const[ae,ge]of Object.entries(Z)){await Xo(ae);for(const Qo of ge){const{id:Cn,...Wi}=Qo;Cn?await v8(Ke(pe,ae,Cn),Wi):await Kt(ke(pe,ae),Wi)}}},Xo=async Z=>{const ae=await Po(ke(pe,Z));for(const ge of ae.docs)await Pn(ge.ref)},of=$.useMemo(()=>({products:e,clients:r,suppliers:o,transactions:a,priceLists:u,branches:d,orders:y,installmentPlans:w,users:T,loading:B,error:W,salesZones:x,sales:A,remitos:S,boxes:I,brands:M,categories:O,fetchProductsPaginatedAndFiltered:K,getProductById:Y,addProduct:se,updateProduct:ee,deleteProduct:le,addSale:Ce,getSaleById:Ne,addClient:We,updateClient:z,deleteClient:Ve,addSupplier:ie,updateSupplier:ye,deleteSupplier:_e,addPriceList:Q,updatePriceList:Le,deletePriceList:Ie,addBranch:et,updateBranch:X,deleteBranch:me,addOrder:Qe,updateOrder:jt,deleteOrder:Vn,addInstallmentPlan:Nt,updateInstallmentPlan:Un,deleteInstallmentPlan:ri,addTransaction:Hi,exportAllData:ii,importAllData:rf,deleteAllDocumentsInCollection:Xo,addUser:Ko,updateUser:Vt,deleteUser:Ht,addSalesZone:Xs,updateSalesZone:Xd,deleteSalesZone:Qd,addRemito:uy,updateRemito:Jo,deleteRemito:Zd,getRemitoById:ef,addBox:iu,updateBox:cy,deleteBox:dy,addBrand:ou,updateBrand:tf,deleteBrand:nf,addCategory:Yo,updateCategory:su,deleteCategory:au}),[e,r,o,a,u,d,y,w,T,B,W,x,A,S,I,M,O]);return g.jsx(lD.Provider,{value:of,children:t})},fg=()=>{const t=$.useContext(lD);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>$.createElement("svg",{ref:c,..._9,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${x9(t)}`,a].join(" "),...u},[...e.map(([d,h])=>$.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=de("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=de("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=de("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=de("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=de("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=de("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=de("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=de("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=de("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=de("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=de("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=de("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=de("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=de("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=de("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=de("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=de("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=de("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=de("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=de("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=de("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=de("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=de("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=de("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=de("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=de("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=de("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q9=de("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=de("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=de("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W9=de("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=de("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=de("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=de("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),J9=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:i})=>{var s;const o=[{title:"Principal",items:[{id:"dashboard",label:"Dashboard",icon:pD}]},{title:"Comercial",items:[{id:"sales",label:"Ventas",icon:pg},{id:"quotes",label:"Cotizaciones",icon:Vc},{id:"clients",label:"Clientes",icon:Bd},{id:"ecommerce",label:"E-Commerce",icon:Uc}]},{title:"Productos & Stock",items:[{id:"inventory",label:"Inventario",icon:xp},{id:"stock-adjustment",label:"Ajuste de Stock",icon:hg},{id:"suppliers",label:"Proveedores",icon:vD},{id:"catalog-config",label:"Marcas & Rubros",icon:q9}]},{title:"Administracin",items:[{id:"cashier",label:"Cajas y Pagos",icon:r_},{id:"reports",label:"Informes e IVA",icon:dD}]},{title:"Sistema",items:[{id:"users",label:"Personal",icon:$b},{id:"settings",label:"Configuracin",icon:G9}]}];return g.jsxs("div",{className:"w-72 bg-slate-950 h-full flex flex-col text-slate-400 border-r border-slate-900 shadow-2xl relative z-20",children:[g.jsx("div",{className:"p-8",children:g.jsxs("div",{className:"flex items-center gap-4 bg-white/5 p-4 rounded-[2rem] border border-white/5 shadow-inner",children:[g.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shrink-0 shadow-lg shadow-orange-900/20 rotate-3",children:g.jsx(jb,{className:"text-white",size:24})}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("h1",{className:"text-white font-black text-sm truncate uppercase tracking-tighter italic",children:(n==null?void 0:n.name)||"FerroGest"}),g.jsx("p",{className:"text-[9px] font-black text-orange-500 uppercase tracking-[0.2em] opacity-80",children:"ERP v4.0"})]})]})}),g.jsx("nav",{className:"flex-1 px-4 space-y-8 overflow-y-auto custom-scrollbar pb-10 text-left",children:o.map(a=>g.jsxs("div",{className:"space-y-3",children:[g.jsx("h3",{className:"px-4 text-[9px] font-black text-slate-600 uppercase tracking-[0.3em] opacity-50",children:a.title}),g.jsx("div",{className:"space-y-1",children:a.items.map(l=>{const u=l.icon,c=t===l.id;return g.jsxs("button",{onClick:()=>e(l.id),className:`w-full flex items-center justify-between px-5 py-3.5 rounded-2xl transition-all duration-300 group ${c?"bg-orange-600 text-white shadow-xl shadow-orange-900/40 translate-x-1":"hover:bg-white/5 hover:text-slate-200"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(u,{size:18,strokeWidth:c?3:2,className:c?"text-white":"text-slate-500 group-hover:text-orange-500 transition-colors"}),g.jsx("span",{className:`text-[11px] font-black uppercase tracking-widest ${c?"text-white":""}`,children:l.label})]}),c&&g.jsx(_p,{size:14,className:"animate-pulse"})]},l.id)})})]},a.title))}),g.jsxs("div",{className:"p-6 bg-black/20 border-t border-white/5",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6 px-2",children:[g.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center font-black text-xs text-orange-500 border-2 border-slate-700",children:((s=r==null?void 0:r.name)==null?void 0:s.substring(0,2).toUpperCase())||"AD"}),g.jsxs("div",{className:"overflow-hidden text-left",children:[g.jsx("p",{className:"text-xs font-black text-white truncate uppercase tracking-tighter",children:(r==null?void 0:r.name)||"Administrador"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase tracking-widest",children:(r==null?void 0:r.role)||"Master"})]})]}),g.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all font-black text-[10px] uppercase tracking-[0.2em]",children:[g.jsx(U9,{size:16})," Salir del Sistema"]})]})]})},Y9={dashboard:{label:"Dashboard",icon:pD},inventory:{label:"Inventario",icon:fD},sales:{label:"Ventas",icon:cD},purchases:{label:"Compras",icon:pg},clients:{label:"Clientes",icon:Bd},suppliers:{label:"Proveedores",icon:vD},cashier:{label:"Cajas",icon:Vb},reports:{label:"Informes",icon:dD},quotes:{label:"Cotizaciones",icon:Vc},ecommerce:{label:"E-Commerce",icon:Uc},"stock-adjustment":{label:"Ajuste Stock",icon:hg},users:{label:"Personal",icon:W9},settings:{label:"Configuracin",icon:$b},"missing-items":{label:"Faltantes",icon:P9},"bulk-modification":{label:"Modif. Masiva",icon:$9},remitos:{label:"Remitos",icon:N9}},X9=({openTabs:t,activeTabId:e,setActiveTabId:n,onCloseTab:r})=>g.jsx("div",{className:"flex bg-white border-b overflow-x-auto no-scrollbar shadow-sm z-10",children:t.map(i=>{const o=Y9[i],s=o==null?void 0:o.icon,a=i===e;return g.jsxs("div",{onClick:()=>n(i),className:`flex items-center gap-2 px-6 py-3 border-r cursor-pointer transition-all min-w-fit relative ${a?"bg-slate-50 border-b-2 border-b-orange-600":"hover:bg-slate-50 opacity-60"}`,children:[s&&g.jsx(s,{size:14,className:a?"text-orange-600":"text-slate-400"}),g.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${a?"text-slate-900":"text-slate-500"}`,children:(o==null?void 0:o.label)||i}),i!=="dashboard"&&g.jsx("button",{onClick:l=>{l.stopPropagation(),r(i)},className:"ml-3 p-0.5 hover:bg-red-100 hover:text-red-600 rounded-full transition-colors",children:g.jsx(Jr,{size:12})})]},i)})}),Q9=({onLoginSuccess:t})=>{const[e,n]=$.useState("employee"),[r,i]=$.useState(""),[o,s]=$.useState(""),[a,l]=$.useState(""),[u,c]=$.useState(!1),[d,h]=$.useState(null),y="admin",v="admin123",w=async x=>{x.preventDefault(),c(!0),h(null);const b=r.trim(),T=o.trim();try{if(b.toLowerCase()===y&&T===v){t("admin","Administrador Maestro");return}if(!b.includes("@")||!b.includes(".")){h("El formato del usuario debe ser un correo electrnico vlido."),c(!1);return}const N=ke(pe,"users"),A=oc(N,ov("email","==",b),ov("password","==",T)),P=await Po(A);if(P.empty)h("Credenciales de empleado incorrectas.");else{const S=P.docs[0].data();t(S.role.toLowerCase(),S.name)}}catch(N){h(`Error de conexin: ${N.message}`)}finally{c(!1)}},_=async x=>{x.preventDefault(),c(!0),h(null);const b=a.trim();if(!b){h("Por favor ingrese su CUIT o DNI."),c(!1);return}try{const T=ke(pe,"clients"),N=oc(T,ov("cuit","==",b)),A=await Po(N);if(A.empty)h("No encontramos ningn cliente con ese CUIT/DNI. Contacte a la ferretera.");else{const P={id:A.docs[0].id,...A.docs[0].data()};t("customer",P.name,P)}}catch{h("Error al validar cliente.")}finally{c(!1)}};return g.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-950 p-6 relative overflow-hidden",children:[g.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[g.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-orange-600 rounded-full blur-[120px]"}),g.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-blue-600 rounded-full blur-[120px]"})]}),g.jsxs("div",{className:"bg-white p-10 rounded-[3.5rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300 relative z-10",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2.2rem] flex items-center justify-center mx-auto shadow-2xl shadow-orange-600/40 rotate-3",children:g.jsx(jb,{className:"w-10 h-10"})}),g.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter italic",children:"FERRO-GEST"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Plataforma Inteligente de Gestin"})]}),g.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-[1.5rem] gap-1",children:[g.jsxs("button",{onClick:()=>{n("employee"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="employee"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(wp,{className:"w-4 h-4"})," Personal"]}),g.jsxs("button",{onClick:()=>{n("customer"),h(null)},className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${e==="customer"?"bg-white text-slate-900 shadow-md":"text-slate-400 hover:text-slate-600"}`,children:[g.jsx(lv,{className:"w-4 h-4"})," Portal Clientes"]})]}),d&&g.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-2xl flex items-center gap-3 animate-in shake duration-300 border border-red-100",children:[g.jsx(Jr,{className:"w-5 h-5 text-red-600"}),g.jsx("span",{className:"font-bold text-xs uppercase",children:d})]}),e==="employee"?g.jsxs("form",{onSubmit:w,className:"space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(_D,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),g.jsxs("div",{className:"relative",children:[g.jsx(V9,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"password",value:o,onChange:x=>s(x.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(Ri,{className:"w-5 h-5 animate-spin"}):g.jsx(T9,{className:"w-5 h-5"}),"ENTRAR AL ERP"]})]}):g.jsxs("form",{onSubmit:_,className:"space-y-6 animate-in slide-in-from-right-4 duration-300",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT o DNI del Cliente"}),g.jsxs("div",{className:"relative",children:[g.jsx(lv,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),className:"w-full pl-12 pr-4 py-5 bg-orange-50 border border-orange-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-orange-950 placeholder:text-orange-200",placeholder:"20-XXXXXXXX-X",required:!0})]}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium ml-1",children:"Ingresa el nmero tal como figura en tu factura."})]}),g.jsxs("button",{type:"submit",disabled:u,className:"w-full py-5 bg-orange-600 hover:bg-orange-700 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[u?g.jsx(Ri,{className:"w-5 h-5 animate-spin"}):g.jsx(lv,{className:"w-5 h-5"}),"ACCEDER A MIS CUENTAS"]})]}),g.jsx("div",{className:"pt-6 border-t border-slate-100 text-center",children:g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest leading-relaxed",children:"FerroGest ERP v4.0  Sistema de Gestin de Alto Rendimiento"})})]})]})};function wD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wD(t))&&(r&&(r+=" "),r+=e);return r}var Z9=Array.isArray,jn=Z9,eq=typeof xf=="object"&&xf&&xf.Object===Object&&xf,bD=eq,tq=bD,nq=typeof self=="object"&&self&&self.Object===Object&&self,rq=tq||nq||Function("return this")(),ni=rq,iq=ni,oq=iq.Symbol,Gd=oq,yA=Gd,ED=Object.prototype,sq=ED.hasOwnProperty,aq=ED.toString,Su=yA?yA.toStringTag:void 0;function lq(t){var e=sq.call(t,Su),n=t[Su];try{t[Su]=void 0;var r=!0}catch{}var i=aq.call(t);return r&&(e?t[Su]=n:delete t[Su]),i}var uq=lq,cq=Object.prototype,dq=cq.toString;function fq(t){return dq.call(t)}var hq=fq,vA=Gd,pq=uq,mq=hq,gq="[object Null]",yq="[object Undefined]",_A=vA?vA.toStringTag:void 0;function vq(t){return t==null?t===void 0?yq:gq:_A&&_A in Object(t)?pq(t):mq(t)}var Fi=vq;function _q(t){return t!=null&&typeof t=="object"}var Bi=_q,xq=Fi,wq=Bi,bq="[object Symbol]";function Eq(t){return typeof t=="symbol"||wq(t)&&xq(t)==bq}var Fl=Eq,Tq=jn,Sq=Fl,Aq=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Iq=/^\w*$/;function Cq(t,e){if(Tq(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Sq(t)?!0:Iq.test(t)||!Aq.test(t)||e!=null&&t in Object(e)}var Ub=Cq;function Pq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Bo=Pq;const Bl=rt(Bo);var Nq=Fi,kq=Bo,Rq="[object AsyncFunction]",Mq="[object Function]",Oq="[object GeneratorFunction]",Dq="[object Proxy]";function Lq(t){if(!kq(t))return!1;var e=Nq(t);return e==Mq||e==Oq||e==Rq||e==Dq}var Fb=Lq;const Pe=rt(Fb);var $q=ni,jq=$q["__core-js_shared__"],Vq=jq,uv=Vq,xA=function(){var t=/[^.]+$/.exec(uv&&uv.keys&&uv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Uq(t){return!!xA&&xA in t}var Fq=Uq,Bq=Function.prototype,Gq=Bq.toString;function qq(t){if(t!=null){try{return Gq.call(t)}catch{}try{return t+""}catch{}}return""}var TD=qq,zq=Fb,Hq=Fq,Wq=Bo,Kq=TD,Jq=/[\\^$.*+?()[\]{}|]/g,Yq=/^\[object .+?Constructor\]$/,Xq=Function.prototype,Qq=Object.prototype,Zq=Xq.toString,ez=Qq.hasOwnProperty,tz=RegExp("^"+Zq.call(ez).replace(Jq,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function nz(t){if(!Wq(t)||Hq(t))return!1;var e=zq(t)?tz:Yq;return e.test(Kq(t))}var rz=nz;function iz(t,e){return t==null?void 0:t[e]}var oz=iz,sz=rz,az=oz;function lz(t,e){var n=az(t,e);return sz(n)?n:void 0}var Hs=lz,uz=Hs,cz=uz(Object,"create"),mg=cz,wA=mg;function dz(){this.__data__=wA?wA(null):{},this.size=0}var fz=dz;function hz(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pz=hz,mz=mg,gz="__lodash_hash_undefined__",yz=Object.prototype,vz=yz.hasOwnProperty;function _z(t){var e=this.__data__;if(mz){var n=e[t];return n===gz?void 0:n}return vz.call(e,t)?e[t]:void 0}var xz=_z,wz=mg,bz=Object.prototype,Ez=bz.hasOwnProperty;function Tz(t){var e=this.__data__;return wz?e[t]!==void 0:Ez.call(e,t)}var Sz=Tz,Az=mg,Iz="__lodash_hash_undefined__";function Cz(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Az&&e===void 0?Iz:e,this}var Pz=Cz,Nz=fz,kz=pz,Rz=xz,Mz=Sz,Oz=Pz;function Gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gl.prototype.clear=Nz;Gl.prototype.delete=kz;Gl.prototype.get=Rz;Gl.prototype.has=Mz;Gl.prototype.set=Oz;var Dz=Gl;function Lz(){this.__data__=[],this.size=0}var $z=Lz;function jz(t,e){return t===e||t!==t&&e!==e}var Bb=jz,Vz=Bb;function Uz(t,e){for(var n=t.length;n--;)if(Vz(t[n][0],e))return n;return-1}var gg=Uz,Fz=gg,Bz=Array.prototype,Gz=Bz.splice;function qz(t){var e=this.__data__,n=Fz(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Gz.call(e,n,1),--this.size,!0}var zz=qz,Hz=gg;function Wz(t){var e=this.__data__,n=Hz(e,t);return n<0?void 0:e[n][1]}var Kz=Wz,Jz=gg;function Yz(t){return Jz(this.__data__,t)>-1}var Xz=Yz,Qz=gg;function Zz(t,e){var n=this.__data__,r=Qz(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var eH=Zz,tH=$z,nH=zz,rH=Kz,iH=Xz,oH=eH;function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=tH;ql.prototype.delete=nH;ql.prototype.get=rH;ql.prototype.has=iH;ql.prototype.set=oH;var yg=ql,sH=Hs,aH=ni,lH=sH(aH,"Map"),Gb=lH,bA=Dz,uH=yg,cH=Gb;function dH(){this.size=0,this.__data__={hash:new bA,map:new(cH||uH),string:new bA}}var fH=dH;function hH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var pH=hH,mH=pH;function gH(t,e){var n=t.__data__;return mH(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vg=gH,yH=vg;function vH(t){var e=yH(this,t).delete(t);return this.size-=e?1:0,e}var _H=vH,xH=vg;function wH(t){return xH(this,t).get(t)}var bH=wH,EH=vg;function TH(t){return EH(this,t).has(t)}var SH=TH,AH=vg;function IH(t,e){var n=AH(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var CH=IH,PH=fH,NH=_H,kH=bH,RH=SH,MH=CH;function zl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zl.prototype.clear=PH;zl.prototype.delete=NH;zl.prototype.get=kH;zl.prototype.has=RH;zl.prototype.set=MH;var qb=zl,SD=qb,OH="Expected a function";function zb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(OH);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(zb.Cache||SD),n}zb.Cache=SD;var AD=zb;const DH=rt(AD);var LH=AD,$H=500;function jH(t){var e=LH(t,function(r){return n.size===$H&&n.clear(),r}),n=e.cache;return e}var VH=jH,UH=VH,FH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,BH=/\\(\\)?/g,GH=UH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(FH,function(n,r,i,o){e.push(i?o.replace(BH,"$1"):r||n)}),e}),qH=GH;function zH(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Hb=zH,EA=Gd,HH=Hb,WH=jn,KH=Fl,TA=EA?EA.prototype:void 0,SA=TA?TA.toString:void 0;function ID(t){if(typeof t=="string")return t;if(WH(t))return HH(t,ID)+"";if(KH(t))return SA?SA.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var JH=ID,YH=JH;function XH(t){return t==null?"":YH(t)}var CD=XH,QH=jn,ZH=Ub,eW=qH,tW=CD;function nW(t,e){return QH(t)?t:ZH(t,e)?[t]:eW(tW(t))}var PD=nW,rW=Fl;function iW(t){if(typeof t=="string"||rW(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var _g=iW,oW=PD,sW=_g;function aW(t,e){e=oW(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sW(e[n++])];return n&&n==r?t:void 0}var Wb=aW,lW=Wb;function uW(t,e,n){var r=t==null?void 0:lW(t,e);return r===void 0?n:r}var ND=uW;const dr=rt(ND);function cW(t){return t==null}var dW=cW;const De=rt(dW);var fW=Fi,hW=jn,pW=Bi,mW="[object String]";function gW(t){return typeof t=="string"||!hW(t)&&pW(t)&&fW(t)==mW}var yW=gW;const Ls=rt(yW);var kD={exports:{}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=Symbol.for("react.element"),Jb=Symbol.for("react.portal"),xg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),bg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),vW=Symbol.for("react.server_context"),Sg=Symbol.for("react.forward_ref"),Ag=Symbol.for("react.suspense"),Ig=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),_W=Symbol.for("react.offscreen"),RD;RD=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Kb:switch(t=t.type,t){case xg:case bg:case wg:case Ag:case Ig:return t;default:switch(t=t&&t.$$typeof,t){case vW:case Tg:case Sg:case Pg:case Cg:case Eg:return t;default:return e}}case Jb:return e}}}Xe.ContextConsumer=Tg;Xe.ContextProvider=Eg;Xe.Element=Kb;Xe.ForwardRef=Sg;Xe.Fragment=xg;Xe.Lazy=Pg;Xe.Memo=Cg;Xe.Portal=Jb;Xe.Profiler=bg;Xe.StrictMode=wg;Xe.Suspense=Ag;Xe.SuspenseList=Ig;Xe.isAsyncMode=function(){return!1};Xe.isConcurrentMode=function(){return!1};Xe.isContextConsumer=function(t){return yr(t)===Tg};Xe.isContextProvider=function(t){return yr(t)===Eg};Xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kb};Xe.isForwardRef=function(t){return yr(t)===Sg};Xe.isFragment=function(t){return yr(t)===xg};Xe.isLazy=function(t){return yr(t)===Pg};Xe.isMemo=function(t){return yr(t)===Cg};Xe.isPortal=function(t){return yr(t)===Jb};Xe.isProfiler=function(t){return yr(t)===bg};Xe.isStrictMode=function(t){return yr(t)===wg};Xe.isSuspense=function(t){return yr(t)===Ag};Xe.isSuspenseList=function(t){return yr(t)===Ig};Xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===xg||t===bg||t===wg||t===Ag||t===Ig||t===_W||typeof t=="object"&&t!==null&&(t.$$typeof===Pg||t.$$typeof===Cg||t.$$typeof===Eg||t.$$typeof===Tg||t.$$typeof===Sg||t.$$typeof===RD||t.getModuleId!==void 0)};Xe.typeOf=yr;kD.exports=Xe;var xW=kD.exports,wW=Fi,bW=Bi,EW="[object Number]";function TW(t){return typeof t=="number"||bW(t)&&wW(t)==EW}var MD=TW;const SW=rt(MD);var AW=MD;function IW(t){return AW(t)&&t!=+t}var CW=IW;const Hl=rt(CW);var Ir=function(e){return e===0?0:e>0?1:-1},ps=function(e){return Ls(e)&&e.indexOf("%")===e.length-1},re=function(e){return SW(e)&&!Hl(e)},PW=function(e){return De(e)},Dt=function(e){return re(e)||Ls(e)},NW=0,qd=function(e){var n=++NW;return"".concat(e||"").concat(n)},$s=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Ls(e))return r;var o;if(ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Hl(o)&&(o=r),i&&o>n&&(o=n),o},lo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},kW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},or=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function bp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):dr(r,e))===n})}var RW=function(e,n){return re(e)&&re(n)?e-n:Ls(e)&&Ls(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Fa(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var MW=["viewBox","children"],OW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],AA=["points","pathLength"],cv={svg:MW,polygon:AA,polyline:AA},Yb=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ep=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Bl(r))return null;var i={};return Object.keys(r).forEach(function(o){Yb.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},DW=function(e,n,r){return function(i){return e(n,r,i),null}},Tp=function(e,n,r){if(!Bl(e)||s_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Yb.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=DW(s,n,r))}),i},LW=["children"],$W=["children"];function IA(t,e){if(t==null)return{};var n=jW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}var CA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PA=null,dv=null,Xb=function t(e){if(e===PA&&Array.isArray(dv))return dv;var n=[];return $.Children.forEach(e,function(r){De(r)||(xW.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),dv=n,PA=e,n};function Nr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return xi(i)}):r=[xi(e)],Xb(t).forEach(function(i){var o=dr(i,"type.displayName")||dr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function qn(t,e){var n=Nr(t,e);return n&&n[0]}var NA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},VW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],UW=function(e){return e&&e.type&&Ls(e.type)&&VW.indexOf(e.type)>=0},FW=function(e){return e&&a_(e)==="object"&&"clipDot"in e},BW=function(e,n,r,i){var o,s=(o=cv==null?void 0:cv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Pe(e)&&(i&&s.includes(n)||OW.includes(n))||r&&Yb.includes(n)},Re=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Bl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;BW((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},l_=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return kA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!kA(o,s))return!1}return!0},kA=function(e,n){if(De(e)&&De(n))return!0;if(!De(e)&&!De(n)){var r=e.props||{},i=r.children,o=IA(r,LW),s=n.props||{},a=s.children,l=IA(s,$W);return i&&a?Fa(o,l)&&l_(i,a):!i&&!a?Fa(o,l):!1}return!1},RA=function(e,n){var r=[],i={};return Xb(e).forEach(function(o,s){if(UW(o))r.push(o);else if(o){var a=xi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},GW=function(e){var n=e&&e.type;return n&&CA[n]?CA[n]:null},qW=function(e,n){return Xb(n).indexOf(e)},zW=["children","width","height","viewBox","className","style","title","desc"];function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function HW(t,e){if(t==null)return{};var n=WW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function c_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=HW(t,zW),c=i||{width:n,height:r,x:0,y:0},d=Fe("recharts-surface",o);return j.createElement("svg",u_({},Re(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),j.createElement("title",null,a),j.createElement("desc",null,l),e)}var KW=["children","className"];function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}function JW(t,e){if(t==null)return{};var n=YW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gt=j.forwardRef(function(t,e){var n=t.children,r=t.className,i=JW(t,KW),o=Fe("recharts-layer",r);return j.createElement("g",d_({className:o},Re(i,!0),{ref:e}),n)}),wi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function XW(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var QW=XW,ZW=QW;function e7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:ZW(t,e,n)}var t7=e7,n7="\\ud800-\\udfff",r7="\\u0300-\\u036f",i7="\\ufe20-\\ufe2f",o7="\\u20d0-\\u20ff",s7=r7+i7+o7,a7="\\ufe0e\\ufe0f",l7="\\u200d",u7=RegExp("["+l7+n7+s7+a7+"]");function c7(t){return u7.test(t)}var OD=c7;function d7(t){return t.split("")}var f7=d7,DD="\\ud800-\\udfff",h7="\\u0300-\\u036f",p7="\\ufe20-\\ufe2f",m7="\\u20d0-\\u20ff",g7=h7+p7+m7,y7="\\ufe0e\\ufe0f",v7="["+DD+"]",f_="["+g7+"]",h_="\\ud83c[\\udffb-\\udfff]",_7="(?:"+f_+"|"+h_+")",LD="[^"+DD+"]",$D="(?:\\ud83c[\\udde6-\\uddff]){2}",jD="[\\ud800-\\udbff][\\udc00-\\udfff]",x7="\\u200d",VD=_7+"?",UD="["+y7+"]?",w7="(?:"+x7+"(?:"+[LD,$D,jD].join("|")+")"+UD+VD+")*",b7=UD+VD+w7,E7="(?:"+[LD+f_+"?",f_,$D,jD,v7].join("|")+")",T7=RegExp(h_+"(?="+h_+")|"+E7+b7,"g");function S7(t){return t.match(T7)||[]}var A7=S7,I7=f7,C7=OD,P7=A7;function N7(t){return C7(t)?P7(t):I7(t)}var k7=N7,R7=t7,M7=OD,O7=k7,D7=CD;function L7(t){return function(e){e=D7(e);var n=M7(e)?O7(e):void 0,r=n?n[0]:e.charAt(0),i=n?R7(n,1).join(""):e.slice(1);return r[t]()+i}}var $7=L7,j7=$7,V7=j7("toUpperCase"),U7=V7;const Ng=rt(U7);function it(t){return function(){return t}}const FD=Math.cos,Sp=Math.sin,Dr=Math.sqrt,Ap=Math.PI,kg=2*Ap,p_=Math.PI,m_=2*p_,ss=1e-6,F7=m_-ss;function BD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function B7(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return BD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class G7{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?BD:B7(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ss)if(!(Math.abs(d*l-u*c)>ss)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,w=l*l+u*u,_=y*y+v*v,x=Math.sqrt(w),b=Math.sqrt(h),T=o*Math.tan((p_-Math.acos((w+h-_)/(2*x*b)))/2),N=T/b,A=T/x;Math.abs(N-1)>ss&&this._append`L${e+N*c},${n+N*d}`,this._append`A${o},${o},0,0,${+(d*y>c*v)},${this._x1=e+A*l},${this._y1=n+A*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ss||Math.abs(this._y1-c)>ss)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%m_+m_),h>F7?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:h>ss&&this._append`A${r},${r},0,${+(h>=p_)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Qb(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new G7(e)}function Zb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function GD(t){this._context=t}GD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rg(t){return new GD(t)}function qD(t){return t[0]}function zD(t){return t[1]}function HD(t,e){var n=it(!0),r=null,i=Rg,o=null,s=Qb(a);t=typeof t=="function"?t:t===void 0?qD:it(t),e=typeof e=="function"?e:e===void 0?zD:it(e);function a(l){var u,c=(l=Zb(l)).length,d,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:it(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:it(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:it(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Gf(t,e,n){var r=null,i=it(!0),o=null,s=Rg,a=null,l=Qb(u);t=typeof t=="function"?t:t===void 0?qD:it(+t),e=typeof e=="function"?e:it(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zD:it(+n);function u(d){var h,y,v,w=(d=Zb(d)).length,_,x=!1,b,T=new Array(w),N=new Array(w);for(o==null&&(a=s(b=l())),h=0;h<=w;++h){if(!(h<w&&i(_=d[h],h,d))===x)if(x=!x)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(T[v],N[v]);a.lineEnd(),a.areaEnd()}x&&(T[h]=+t(_,h,d),N[h]=+e(_,h,d),a.point(r?+r(_,h,d):T[h],n?+n(_,h,d):N[h]))}if(b)return a=null,b+""||null}function c(){return HD().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:it(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:it(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:it(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:it(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:it(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class WD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function q7(t){return new WD(t,!0)}function z7(t){return new WD(t,!1)}const eE={draw(t,e){const n=Dr(e/Ap);t.moveTo(n,0),t.arc(0,0,n,0,kg)}},H7={draw(t,e){const n=Dr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},KD=Dr(1/3),W7=KD*2,K7={draw(t,e){const n=Dr(e/W7),r=n*KD;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},J7={draw(t,e){const n=Dr(e),r=-n/2;t.rect(r,r,n,n)}},Y7=.8908130915292852,JD=Sp(Ap/10)/Sp(7*Ap/10),X7=Sp(kg/10)*JD,Q7=-FD(kg/10)*JD,Z7={draw(t,e){const n=Dr(e*Y7),r=X7*n,i=Q7*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=kg*o/5,a=FD(s),l=Sp(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},fv=Dr(3),eK={draw(t,e){const n=-Dr(e/(fv*3));t.moveTo(0,n*2),t.lineTo(-fv*n,-n),t.lineTo(fv*n,-n),t.closePath()}},er=-.5,tr=Dr(3)/2,g_=1/Dr(12),tK=(g_/2+1)*3,nK={draw(t,e){const n=Dr(e/tK),r=n/2,i=n*g_,o=r,s=n*g_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(er*r-tr*i,tr*r+er*i),t.lineTo(er*o-tr*s,tr*o+er*s),t.lineTo(er*a-tr*l,tr*a+er*l),t.lineTo(er*r+tr*i,er*i-tr*r),t.lineTo(er*o+tr*s,er*s-tr*o),t.lineTo(er*a+tr*l,er*l-tr*a),t.closePath()}};function rK(t,e){let n=null,r=Qb(i);t=typeof t=="function"?t:it(t||eE),e=typeof e=="function"?e:it(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:it(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:it(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Ip(){}function Cp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function YD(t){this._context=t}YD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iK(t){return new YD(t)}function XD(t){this._context=t}XD.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oK(t){return new XD(t)}function QD(t){this._context=t}QD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function sK(t){return new QD(t)}function ZD(t){this._context=t}ZD.prototype={areaStart:Ip,areaEnd:Ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aK(t){return new ZD(t)}function MA(t){return t<0?-1:1}function OA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(MA(o)+MA(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function DA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function hv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Pp(t){this._context=t}Pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hv(this,this._t0,DA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,hv(this,DA(this,n=OA(this,t,e)),n);break;default:hv(this,this._t0,n=OA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eL(t){this._context=new tL(t)}(eL.prototype=Object.create(Pp.prototype)).point=function(t,e){Pp.prototype.point.call(this,e,t)};function tL(t){this._context=t}tL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function lK(t){return new Pp(t)}function uK(t){return new eL(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=LA(t),i=LA(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function cK(t){return new nL(t)}function Mg(t,e){this._context=t,this._t=e}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function dK(t){return new Mg(t,.5)}function fK(t){return new Mg(t,0)}function hK(t){return new Mg(t,1)}function dl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function y_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function pK(t,e){return t[e]}function mK(t){const e=[];return e.key=t,e}function gK(){var t=it([]),e=y_,n=dl,r=pK;function i(o){var s=Array.from(t.apply(this,arguments),mK),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=Zb(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:it(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:it(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?y_:typeof o=="function"?o:it(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??dl,i):n},i}function yK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}dl(t,e)}}function vK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}dl(t,e)}}function _K(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,h=c[r-1][1]||0,y=(d-h)/2,v=0;v<a;++v){var w=t[e[v]],_=w[r][1]||0,x=w[r-1][1]||0;y+=_-x}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,dl(t,e)}}function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}var xK=["type","size","sizeType"];function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){wK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wK(t,e,n){return e=bK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bK(t){var e=EK(t,"string");return Fc(e)=="symbol"?e:e+""}function EK(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TK(t,e){if(t==null)return{};var n=SK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rL={symbolCircle:eE,symbolCross:H7,symbolDiamond:K7,symbolSquare:J7,symbolStar:Z7,symbolTriangle:eK,symbolWye:nK},AK=Math.PI/180,IK=function(e){var n="symbol".concat(Ng(e));return rL[n]||eE},CK=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*AK;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PK=function(e,n){rL["symbol".concat(Ng(e))]=n},tE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=TK(e,xK),u=jA(jA({},l),{},{type:r,size:o,sizeType:a}),c=function(){var _=IK(r),x=rK().type(_).size(CK(o,a,r));return x()},d=u.className,h=u.cx,y=u.cy,v=Re(u,!0);return h===+h&&y===+y&&o===+o?j.createElement("path",v_({},v,{className:Fe("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};tE.registerSymbol=PK;function fl(t){"@babel/helpers - typeof";return fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fl(t)}function __(){return __=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},__.apply(this,arguments)}function VA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NK(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VA(Object(n),!0).forEach(function(r){Bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oL(r.key),r)}}function MK(t,e,n){return e&&RK(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OK(t,e,n){return e=Np(e),DK(t,iL()?Reflect.construct(e,n||[],Np(t).constructor):e.apply(t,n))}function DK(t,e){if(e&&(fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LK(t)}function LK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iL=function(){return!!t})()}function Np(t){return Np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Np(t)}function $K(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function Bc(t,e,n){return e=oL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oL(t){var e=jK(t,"string");return fl(e)=="symbol"?e:e+""}function jK(t,e){if(fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nr=32,nE=function(t){function e(){return kK(this,e),OK(this,e,arguments)}return $K(e,t),MK(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=nr/2,s=nr/6,a=nr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:nr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(nr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return j.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(nr/8,"h").concat(nr,"v").concat(nr*3/4,"h").concat(-nr,"z"),className:"recharts-legend-icon"});if(j.isValidElement(r.legendIcon)){var u=NK({},r);return delete u.legendIcon,j.cloneElement(r.legendIcon,u)}return j.createElement(tE,{fill:l,cx:o,cy:o,size:nr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:nr,height:nr},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var w=y.formatter||l,_=Fe(Bc(Bc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var x=Pe(y.value)?null:y.value;wi(!Pe(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=y.inactive?u:y.color;return j.createElement("li",__({className:_,style:d,key:"legend-item-".concat(v)},Tp(r.props,y,v)),j.createElement(c_,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w?w(x,y,v):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}($.PureComponent);Bc(nE,"displayName","Legend");Bc(nE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VK=yg;function UK(){this.__data__=new VK,this.size=0}var FK=UK;function BK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var GK=BK;function qK(t){return this.__data__.get(t)}var zK=qK;function HK(t){return this.__data__.has(t)}var WK=HK,KK=yg,JK=Gb,YK=qb,XK=200;function QK(t,e){var n=this.__data__;if(n instanceof KK){var r=n.__data__;if(!JK||r.length<XK-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new YK(r)}return n.set(t,e),this.size=n.size,this}var ZK=QK,eJ=yg,tJ=FK,nJ=GK,rJ=zK,iJ=WK,oJ=ZK;function Wl(t){var e=this.__data__=new eJ(t);this.size=e.size}Wl.prototype.clear=tJ;Wl.prototype.delete=nJ;Wl.prototype.get=rJ;Wl.prototype.has=iJ;Wl.prototype.set=oJ;var sL=Wl,sJ="__lodash_hash_undefined__";function aJ(t){return this.__data__.set(t,sJ),this}var lJ=aJ;function uJ(t){return this.__data__.has(t)}var cJ=uJ,dJ=qb,fJ=lJ,hJ=cJ;function kp(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dJ;++e<n;)this.add(t[e])}kp.prototype.add=kp.prototype.push=fJ;kp.prototype.has=hJ;var aL=kp;function pJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var lL=pJ;function mJ(t,e){return t.has(e)}var uL=mJ,gJ=aL,yJ=lL,vJ=uL,_J=1,xJ=2;function wJ(t,e,n,r,i,o){var s=n&_J,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,h=!0,y=n&xJ?new gJ:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var v=t[d],w=e[d];if(r)var _=s?r(w,v,d,e,t,o):r(v,w,d,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(y){if(!yJ(e,function(x,b){if(!vJ(y,b)&&(v===x||i(v,x,n,r,o)))return y.push(b)})){h=!1;break}}else if(!(v===w||i(v,w,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var cL=wJ,bJ=ni,EJ=bJ.Uint8Array,TJ=EJ;function SJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var AJ=SJ;function IJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var rE=IJ,UA=Gd,FA=TJ,CJ=Bb,PJ=cL,NJ=AJ,kJ=rE,RJ=1,MJ=2,OJ="[object Boolean]",DJ="[object Date]",LJ="[object Error]",$J="[object Map]",jJ="[object Number]",VJ="[object RegExp]",UJ="[object Set]",FJ="[object String]",BJ="[object Symbol]",GJ="[object ArrayBuffer]",qJ="[object DataView]",BA=UA?UA.prototype:void 0,pv=BA?BA.valueOf:void 0;function zJ(t,e,n,r,i,o,s){switch(n){case qJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case GJ:return!(t.byteLength!=e.byteLength||!o(new FA(t),new FA(e)));case OJ:case DJ:case jJ:return CJ(+t,+e);case LJ:return t.name==e.name&&t.message==e.message;case VJ:case FJ:return t==e+"";case $J:var a=NJ;case UJ:var l=r&RJ;if(a||(a=kJ),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=MJ,s.set(t,e);var c=PJ(a(t),a(e),r,i,o,s);return s.delete(t),c;case BJ:if(pv)return pv.call(t)==pv.call(e)}return!1}var HJ=zJ;function WJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var dL=WJ,KJ=dL,JJ=jn;function YJ(t,e,n){var r=e(t);return JJ(t)?r:KJ(r,n(t))}var XJ=YJ;function QJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var ZJ=QJ;function eY(){return[]}var tY=eY,nY=ZJ,rY=tY,iY=Object.prototype,oY=iY.propertyIsEnumerable,GA=Object.getOwnPropertySymbols,sY=GA?function(t){return t==null?[]:(t=Object(t),nY(GA(t),function(e){return oY.call(t,e)}))}:rY,aY=sY;function lY(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var uY=lY,cY=Fi,dY=Bi,fY="[object Arguments]";function hY(t){return dY(t)&&cY(t)==fY}var pY=hY,qA=pY,mY=Bi,fL=Object.prototype,gY=fL.hasOwnProperty,yY=fL.propertyIsEnumerable,vY=qA(function(){return arguments}())?qA:function(t){return mY(t)&&gY.call(t,"callee")&&!yY.call(t,"callee")},iE=vY,Rp={exports:{}};function _Y(){return!1}var xY=_Y;Rp.exports;(function(t,e){var n=ni,r=xY,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Rp,Rp.exports);var hL=Rp.exports,wY=9007199254740991,bY=/^(?:0|[1-9]\d*)$/;function EY(t,e){var n=typeof t;return e=e??wY,!!e&&(n=="number"||n!="symbol"&&bY.test(t))&&t>-1&&t%1==0&&t<e}var oE=EY,TY=9007199254740991;function SY(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=TY}var sE=SY,AY=Fi,IY=sE,CY=Bi,PY="[object Arguments]",NY="[object Array]",kY="[object Boolean]",RY="[object Date]",MY="[object Error]",OY="[object Function]",DY="[object Map]",LY="[object Number]",$Y="[object Object]",jY="[object RegExp]",VY="[object Set]",UY="[object String]",FY="[object WeakMap]",BY="[object ArrayBuffer]",GY="[object DataView]",qY="[object Float32Array]",zY="[object Float64Array]",HY="[object Int8Array]",WY="[object Int16Array]",KY="[object Int32Array]",JY="[object Uint8Array]",YY="[object Uint8ClampedArray]",XY="[object Uint16Array]",QY="[object Uint32Array]",ut={};ut[qY]=ut[zY]=ut[HY]=ut[WY]=ut[KY]=ut[JY]=ut[YY]=ut[XY]=ut[QY]=!0;ut[PY]=ut[NY]=ut[BY]=ut[kY]=ut[GY]=ut[RY]=ut[MY]=ut[OY]=ut[DY]=ut[LY]=ut[$Y]=ut[jY]=ut[VY]=ut[UY]=ut[FY]=!1;function ZY(t){return CY(t)&&IY(t.length)&&!!ut[AY(t)]}var eX=ZY;function tX(t){return function(e){return t(e)}}var pL=tX,Mp={exports:{}};Mp.exports;(function(t,e){var n=bD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Mp,Mp.exports);var nX=Mp.exports,rX=eX,iX=pL,zA=nX,HA=zA&&zA.isTypedArray,oX=HA?iX(HA):rX,mL=oX,sX=uY,aX=iE,lX=jn,uX=hL,cX=oE,dX=mL,fX=Object.prototype,hX=fX.hasOwnProperty;function pX(t,e){var n=lX(t),r=!n&&aX(t),i=!n&&!r&&uX(t),o=!n&&!r&&!i&&dX(t),s=n||r||i||o,a=s?sX(t.length,String):[],l=a.length;for(var u in t)(e||hX.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cX(u,l)))&&a.push(u);return a}var mX=pX,gX=Object.prototype;function yX(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||gX;return t===n}var vX=yX;function _X(t,e){return function(n){return t(e(n))}}var gL=_X,xX=gL,wX=xX(Object.keys,Object),bX=wX,EX=vX,TX=bX,SX=Object.prototype,AX=SX.hasOwnProperty;function IX(t){if(!EX(t))return TX(t);var e=[];for(var n in Object(t))AX.call(t,n)&&n!="constructor"&&e.push(n);return e}var CX=IX,PX=Fb,NX=sE;function kX(t){return t!=null&&NX(t.length)&&!PX(t)}var zd=kX,RX=mX,MX=CX,OX=zd;function DX(t){return OX(t)?RX(t):MX(t)}var Og=DX,LX=XJ,$X=aY,jX=Og;function VX(t){return LX(t,jX,$X)}var UX=VX,WA=UX,FX=1,BX=Object.prototype,GX=BX.hasOwnProperty;function qX(t,e,n,r,i,o){var s=n&FX,a=WA(t),l=a.length,u=WA(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in e:GX.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var w=!0;o.set(t,e),o.set(e,t);for(var _=s;++d<l;){h=a[d];var x=t[h],b=e[h];if(r)var T=s?r(b,x,h,e,t,o):r(x,b,h,t,e,o);if(!(T===void 0?x===b||i(x,b,n,r,o):T)){w=!1;break}_||(_=h=="constructor")}if(w&&!_){var N=t.constructor,A=e.constructor;N!=A&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof A=="function"&&A instanceof A)&&(w=!1)}return o.delete(t),o.delete(e),w}var zX=qX,HX=Hs,WX=ni,KX=HX(WX,"DataView"),JX=KX,YX=Hs,XX=ni,QX=YX(XX,"Promise"),ZX=QX,eQ=Hs,tQ=ni,nQ=eQ(tQ,"Set"),yL=nQ,rQ=Hs,iQ=ni,oQ=rQ(iQ,"WeakMap"),sQ=oQ,w_=JX,b_=Gb,E_=ZX,T_=yL,S_=sQ,vL=Fi,Kl=TD,KA="[object Map]",aQ="[object Object]",JA="[object Promise]",YA="[object Set]",XA="[object WeakMap]",QA="[object DataView]",lQ=Kl(w_),uQ=Kl(b_),cQ=Kl(E_),dQ=Kl(T_),fQ=Kl(S_),as=vL;(w_&&as(new w_(new ArrayBuffer(1)))!=QA||b_&&as(new b_)!=KA||E_&&as(E_.resolve())!=JA||T_&&as(new T_)!=YA||S_&&as(new S_)!=XA)&&(as=function(t){var e=vL(t),n=e==aQ?t.constructor:void 0,r=n?Kl(n):"";if(r)switch(r){case lQ:return QA;case uQ:return KA;case cQ:return JA;case dQ:return YA;case fQ:return XA}return e});var hQ=as,mv=sL,pQ=cL,mQ=HJ,gQ=zX,ZA=hQ,eI=jn,tI=hL,yQ=mL,vQ=1,nI="[object Arguments]",rI="[object Array]",qf="[object Object]",_Q=Object.prototype,iI=_Q.hasOwnProperty;function xQ(t,e,n,r,i,o){var s=eI(t),a=eI(e),l=s?rI:ZA(t),u=a?rI:ZA(e);l=l==nI?qf:l,u=u==nI?qf:u;var c=l==qf,d=u==qf,h=l==u;if(h&&tI(t)){if(!tI(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new mv),s||yQ(t)?pQ(t,e,n,r,i,o):mQ(t,e,l,n,r,i,o);if(!(n&vQ)){var y=c&&iI.call(t,"__wrapped__"),v=d&&iI.call(e,"__wrapped__");if(y||v){var w=y?t.value():t,_=v?e.value():e;return o||(o=new mv),i(w,_,n,r,o)}}return h?(o||(o=new mv),gQ(t,e,n,r,i,o)):!1}var wQ=xQ,bQ=wQ,oI=Bi;function _L(t,e,n,r,i){return t===e?!0:t==null||e==null||!oI(t)&&!oI(e)?t!==t&&e!==e:bQ(t,e,n,r,_L,i)}var aE=_L,EQ=sL,TQ=aE,SQ=1,AQ=2;function IQ(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new EQ;if(r)var h=r(u,c,l,t,e,d);if(!(h===void 0?TQ(c,u,SQ|AQ,r,d):h))return!1}}return!0}var CQ=IQ,PQ=Bo;function NQ(t){return t===t&&!PQ(t)}var xL=NQ,kQ=xL,RQ=Og;function MQ(t){for(var e=RQ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,kQ(i)]}return e}var OQ=MQ;function DQ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var wL=DQ,LQ=CQ,$Q=OQ,jQ=wL;function VQ(t){var e=$Q(t);return e.length==1&&e[0][2]?jQ(e[0][0],e[0][1]):function(n){return n===t||LQ(n,t,e)}}var UQ=VQ;function FQ(t,e){return t!=null&&e in Object(t)}var BQ=FQ,GQ=PD,qQ=iE,zQ=jn,HQ=oE,WQ=sE,KQ=_g;function JQ(t,e,n){e=GQ(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=KQ(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&WQ(i)&&HQ(s,i)&&(zQ(t)||qQ(t)))}var YQ=JQ,XQ=BQ,QQ=YQ;function ZQ(t,e){return t!=null&&QQ(t,e,XQ)}var eZ=ZQ,tZ=aE,nZ=ND,rZ=eZ,iZ=Ub,oZ=xL,sZ=wL,aZ=_g,lZ=1,uZ=2;function cZ(t,e){return iZ(t)&&oZ(e)?sZ(aZ(t),e):function(n){var r=nZ(n,t);return r===void 0&&r===e?rZ(n,t):tZ(e,r,lZ|uZ)}}var dZ=cZ;function fZ(t){return t}var Jl=fZ;function hZ(t){return function(e){return e==null?void 0:e[t]}}var pZ=hZ,mZ=Wb;function gZ(t){return function(e){return mZ(e,t)}}var yZ=gZ,vZ=pZ,_Z=yZ,xZ=Ub,wZ=_g;function bZ(t){return xZ(t)?vZ(wZ(t)):_Z(t)}var EZ=bZ,TZ=UQ,SZ=dZ,AZ=Jl,IZ=jn,CZ=EZ;function PZ(t){return typeof t=="function"?t:t==null?AZ:typeof t=="object"?IZ(t)?SZ(t[0],t[1]):TZ(t):CZ(t)}var Go=PZ;function NZ(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var bL=NZ;function kZ(t){return t!==t}var RZ=kZ;function MZ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var OZ=MZ,DZ=bL,LZ=RZ,$Z=OZ;function jZ(t,e,n){return e===e?$Z(t,e,n):DZ(t,LZ,n)}var VZ=jZ,UZ=VZ;function FZ(t,e){var n=t==null?0:t.length;return!!n&&UZ(t,e,0)>-1}var BZ=FZ;function GZ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qZ=GZ;function zZ(){}var HZ=zZ,gv=yL,WZ=HZ,KZ=rE,JZ=1/0,YZ=gv&&1/KZ(new gv([,-0]))[1]==JZ?function(t){return new gv(t)}:WZ,XZ=YZ,QZ=aL,ZZ=BZ,eee=qZ,tee=uL,nee=XZ,ree=rE,iee=200;function oee(t,e,n){var r=-1,i=ZZ,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=eee;else if(o>=iee){var u=e?null:nee(t);if(u)return ree(u);s=!1,i=tee,l=new QZ}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var see=oee,aee=Go,lee=see;function uee(t,e){return t&&t.length?lee(t,aee(e)):[]}var cee=uee;const sI=rt(cee);function EL(t,e,n){return e===!0?sI(t,n):Pe(e)?sI(t,e):t}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}var dee=["ref"];function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){Dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SL(r.key),r)}}function hee(t,e,n){return e&&lI(t.prototype,e),n&&lI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pee(t,e,n){return e=Op(e),mee(t,TL()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function mee(t,e){if(e&&(hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gee(t)}function gee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TL=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function yee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function Dg(t,e,n){return e=SL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SL(t){var e=vee(t,"string");return hl(e)=="symbol"?e:e+""}function vee(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _ee(t,e){if(t==null)return{};var n=xee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wee(t){return t.value}function bee(t,e){if(j.isValidElement(t))return j.cloneElement(t,e);if(typeof t=="function")return j.createElement(t,e);e.ref;var n=_ee(e,dee);return j.createElement(nE,n)}var uI=1,Ba=function(t){function e(){var n;fee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=pee(this,e,[].concat(i)),Dg(n,"lastBoundingBox",{width:-1,height:-1}),n}return yee(e,t),hee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>uI||Math.abs(i.height-this.lastBoundingBox.height)>uI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ai({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ai(ai({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=ai(ai({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return j.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},bee(o,ai(ai({},this.props),{},{payload:EL(c,u,wee)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ai(ai({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&re(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}($.PureComponent);Dg(Ba,"displayName","Legend");Dg(Ba,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var cI=Gd,Eee=iE,Tee=jn,dI=cI?cI.isConcatSpreadable:void 0;function See(t){return Tee(t)||Eee(t)||!!(dI&&t&&t[dI])}var Aee=See,Iee=dL,Cee=Aee;function AL(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Cee),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?AL(a,e-1,n,r,i):Iee(i,a):r||(i[i.length]=a)}return i}var IL=AL;function Pee(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Nee=Pee,kee=Nee,Ree=kee(),Mee=Ree,Oee=Mee,Dee=Og;function Lee(t,e){return t&&Oee(t,e,Dee)}var CL=Lee,$ee=zd;function jee(t,e){return function(n,r){if(n==null)return n;if(!$ee(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Vee=jee,Uee=CL,Fee=Vee,Bee=Fee(Uee),lE=Bee,Gee=lE,qee=zd;function zee(t,e){var n=-1,r=qee(t)?Array(t.length):[];return Gee(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var PL=zee;function Hee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Wee=Hee,fI=Fl;function Kee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=fI(t),s=e!==void 0,a=e===null,l=e===e,u=fI(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Jee=Kee,Yee=Jee;function Xee(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Yee(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Qee=Xee,yv=Hb,Zee=Wb,ete=Go,tte=PL,nte=Wee,rte=pL,ite=Qee,ote=Jl,ste=jn;function ate(t,e,n){e.length?e=yv(e,function(o){return ste(o)?function(s){return Zee(s,o.length===1?o[0]:o)}:o}):e=[ote];var r=-1;e=yv(e,rte(ete));var i=tte(t,function(o,s,a){var l=yv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return nte(i,function(o,s){return ite(o,s,n)})}var lte=ate;function ute(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var cte=ute,dte=cte,hI=Math.max;function fte(t,e,n){return e=hI(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=hI(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),dte(t,this,a)}}var hte=fte;function pte(t){return function(){return t}}var mte=pte,gte=Hs,yte=function(){try{var t=gte(Object,"defineProperty");return t({},"",{}),t}catch{}}(),NL=yte,vte=mte,pI=NL,_te=Jl,xte=pI?function(t,e){return pI(t,"toString",{configurable:!0,enumerable:!1,value:vte(e),writable:!0})}:_te,wte=xte,bte=800,Ete=16,Tte=Date.now;function Ste(t){var e=0,n=0;return function(){var r=Tte(),i=Ete-(r-n);if(n=r,i>0){if(++e>=bte)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ate=Ste,Ite=wte,Cte=Ate,Pte=Cte(Ite),Nte=Pte,kte=Jl,Rte=hte,Mte=Nte;function Ote(t,e){return Mte(Rte(t,e,kte),t+"")}var Dte=Ote,Lte=Bb,$te=zd,jte=oE,Vte=Bo;function Ute(t,e,n){if(!Vte(n))return!1;var r=typeof e;return(r=="number"?$te(n)&&jte(e,n.length):r=="string"&&e in n)?Lte(n[e],t):!1}var Lg=Ute,Fte=IL,Bte=lte,Gte=Dte,mI=Lg,qte=Gte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&mI(t,e[0],e[1])?e=[]:n>2&&mI(e[0],e[1],e[2])&&(e=[e[0]]),Bte(t,Fte(e,1),[])}),zte=qte;const uE=rt(zte);function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}function Hte(t,e){return Yte(t)||Jte(t,e)||Kte(t,e)||Wte()}function Wte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return gI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gI(t,e)}}function gI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Yte(t){if(Array.isArray(t))return t}function yI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yI(Object(n),!0).forEach(function(r){Xte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xte(t,e,n){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Zte(t,"string");return Gc(e)=="symbol"?e:e+""}function Zte(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ene(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var tne=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,w=e.label,_=e.labelFormatter,x=e.accessibilityLayer,b=x===void 0?!1:x,T=function(){if(c&&c.length){var D={padding:0,margin:0},O=(h?uE(c,h):c).map(function(U,B){if(U.type==="none")return null;var G=vv({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),W=U.formatter||d||ene,V=U.value,K=U.name,Y=V,se=K;if(W&&Y!=null&&se!=null){var ee=W(V,K,U,B,c);if(Array.isArray(ee)){var le=Hte(ee,2);Y=le[0],se=le[1]}else Y=ee}return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:G},Dt(se)?j.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Dt(se)?j.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,j.createElement("span",{className:"recharts-tooltip-item-value"},Y),j.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:D},O)}return null},N=vv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),A=vv({margin:0},u),P=!De(w),S=P?w:"",C=Fe("recharts-default-tooltip",y),I=Fe("recharts-tooltip-label",v);P&&_&&c!==void 0&&c!==null&&(S=_(w,c));var R=b?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",I_({className:C,style:N},R),j.createElement("p",{className:I,style:A},j.isValidElement(S)?S:"".concat(S)),T())};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function zf(t,e,n){return e=nne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nne(t){var e=rne(t,"string");return qc(e)=="symbol"?e:e+""}function rne(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Au="recharts-tooltip-wrapper",ine={visibility:"hidden"};function one(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Au,zf(zf(zf(zf({},"".concat(Au,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(Au,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(Au,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(Au,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function vI(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&re(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var h=c,y=l[r];return h<y?Math.max(d,l[r]):Math.max(c,l[r])}var v=d+a,w=l[r]+u;return v>w?Math.max(c,l[r]):Math.max(d,l[r])}function sne(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ane(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=vI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=vI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=sne({translateX:c,translateY:d,useTranslate3d:a})):u=ine,{cssProperties:u,cssClasses:one({translateX:c,translateY:d,coordinate:n})}}function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function _I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_I(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function une(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RL(r.key),r)}}function cne(t,e,n){return e&&une(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dne(t,e,n){return e=Dp(e),fne(t,kL()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function fne(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hne(t)}function hne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kL=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function pne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function P_(t,e,n){return e=RL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RL(t){var e=mne(t,"string");return pl(e)=="symbol"?e:e+""}function mne(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wI=1,gne=function(t){function e(){var n;lne(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dne(this,e,[].concat(i)),P_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),P_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return pne(e,t),cne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>wI||Math.abs(r.height-this.state.lastBoundingBox.height)>wI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,w=i.reverseDirection,_=i.useTranslate3d,x=i.viewBox,b=i.wrapperStyle,T=ane({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:x}),N=T.cssClasses,A=T.cssProperties,P=xI(xI({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return j.createElement("div",{tabIndex:-1,className:N,style:P,ref:function(C){r.wrapperNode=C}},u)}}])}($.PureComponent),yne=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Yl={isSsr:yne()};function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function bI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(n),!0).forEach(function(r){cE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OL(r.key),r)}}function xne(t,e,n){return e&&_ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wne(t,e,n){return e=Lp(e),bne(t,ML()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function bne(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ene(t)}function Ene(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ML(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ML=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function Tne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function cE(t,e,n){return e=OL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OL(t){var e=Sne(t,"string");return ml(e)=="symbol"?e:e+""}function Sne(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ane(t){return t.dataKey}function Ine(t,e){return j.isValidElement(t)?j.cloneElement(t,e):typeof t=="function"?j.createElement(t,e):j.createElement(tne,e)}var Vr=function(t){function e(){return vne(this,e),wne(this,e,arguments)}return Tne(e,t),xne(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,w=i.payloadUniqBy,_=i.position,x=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,N=i.wrapperStyle,A=v??[];d&&A.length&&(A=EL(v.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),w,Ane));var P=A.length>0;return j.createElement(gne,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:y,position:_,reverseDirection:x,useTranslate3d:b,viewBox:T,wrapperStyle:N},Ine(u,EI(EI({},this.props),{},{payload:A})))}}])}($.PureComponent);cE(Vr,"displayName","Tooltip");cE(Vr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Yl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cne=ni,Pne=function(){return Cne.Date.now()},Nne=Pne,kne=/\s/;function Rne(t){for(var e=t.length;e--&&kne.test(t.charAt(e)););return e}var Mne=Rne,One=Mne,Dne=/^\s+/;function Lne(t){return t&&t.slice(0,One(t)+1).replace(Dne,"")}var $ne=Lne,jne=$ne,TI=Bo,Vne=Fl,SI=NaN,Une=/^[-+]0x[0-9a-f]+$/i,Fne=/^0b[01]+$/i,Bne=/^0o[0-7]+$/i,Gne=parseInt;function qne(t){if(typeof t=="number")return t;if(Vne(t))return SI;if(TI(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=TI(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=jne(t);var n=Fne.test(t);return n||Bne.test(t)?Gne(t.slice(2),n?2:8):Une.test(t)?SI:+t}var DL=qne,zne=Bo,_v=Nne,AI=DL,Hne="Expected a function",Wne=Math.max,Kne=Math.min;function Jne(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(Hne);e=AI(e)||0,zne(n)&&(c=!!n.leading,d="maxWait"in n,o=d?Wne(AI(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(P){var S=r,C=i;return r=i=void 0,u=P,s=t.apply(C,S),s}function v(P){return u=P,a=setTimeout(x,e),c?y(P):s}function w(P){var S=P-l,C=P-u,I=e-S;return d?Kne(I,o-C):I}function _(P){var S=P-l,C=P-u;return l===void 0||S>=e||S<0||d&&C>=o}function x(){var P=_v();if(_(P))return b(P);a=setTimeout(x,w(P))}function b(P){return a=void 0,h&&r?y(P):(r=i=void 0,s)}function T(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:b(_v())}function A(){var P=_v(),S=_(P);if(r=arguments,i=this,l=P,S){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(x,e),y(l)}return a===void 0&&(a=setTimeout(x,e)),s}return A.cancel=T,A.flush=N,A}var Yne=Jne,Xne=Yne,Qne=Bo,Zne="Expected a function";function ere(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Zne);return Qne(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xne(t,e,{leading:r,maxWait:e,trailing:i})}var tre=ere;const LL=rt(tre);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function II(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?II(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return e=rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return zc(e)=="symbol"?e:e+""}function ire(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ore(t,e){return ure(t)||lre(t,e)||are(t,e)||sre()}function sre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function are(t,e){if(t){if(typeof t=="string")return CI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CI(t,e)}}function CI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ure(t){if(Array.isArray(t))return t}var cre=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,w=v===void 0?0:v,_=t.id,x=t.className,b=t.onResize,T=t.style,N=T===void 0?{}:T,A=$.useRef(null),P=$.useRef();P.current=b,$.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var S=$.useState({containerWidth:i.width,containerHeight:i.height}),C=ore(S,2),I=C[0],R=C[1],M=$.useCallback(function(O,U){R(function(B){var G=Math.round(O),W=Math.round(U);return B.containerWidth===G&&B.containerHeight===W?B:{containerWidth:G,containerHeight:W}})},[]);$.useEffect(function(){var O=function(K){var Y,se=K[0].contentRect,ee=se.width,le=se.height;M(ee,le),(Y=P.current)===null||Y===void 0||Y.call(P,ee,le)};w>0&&(O=LL(O,w,{trailing:!0,leading:!1}));var U=new ResizeObserver(O),B=A.current.getBoundingClientRect(),G=B.width,W=B.height;return M(G,W),U.observe(A.current),function(){U.disconnect()}},[M,w]);var D=$.useMemo(function(){var O=I.containerWidth,U=I.containerHeight;if(O<0||U<0)return null;wi(ps(s)||ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),wi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=ps(s)?O:s,G=ps(l)?U:l;n&&n>0&&(B?G=B/n:G&&(B=G*n),h&&G>h&&(G=h)),wi(B>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,G,s,l,c,d,n);var W=!Array.isArray(y)&&xi(y.type).endsWith("Chart");return j.Children.map(y,function(V){return j.isValidElement(V)?$.cloneElement(V,Hf({width:B,height:G},W?{style:Hf({height:"100%",width:"100%",maxHeight:G,maxWidth:B},V.props.style)}:{})):V})},[n,y,l,h,d,c,I,s]);return j.createElement("div",{id:_?"".concat(_):void 0,className:Fe("recharts-responsive-container",x),style:Hf(Hf({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:h}),ref:A},D)}),$L=function(e){return null};$L.displayName="Cell";function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return e=fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return Hc(e)=="symbol"?e:e+""}function hre(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ia={widthCache:{},cacheCount:0},pre=2e3,mre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},NI="recharts_measurement_span";function gre(t){var e=k_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ac=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Yl.isSsr)return{width:0,height:0};var r=gre(n),i=JSON.stringify({text:e,copyStyle:r});if(ia.widthCache[i])return ia.widthCache[i];try{var o=document.getElementById(NI);o||(o=document.createElement("span"),o.setAttribute("id",NI),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=k_(k_({},mre),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ia.widthCache[i]=l,++ia.cacheCount>pre&&(ia.cacheCount=0,ia.widthCache={}),l}catch{return{width:0,height:0}}},yre=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function $p(t,e){return wre(t)||xre(t,e)||_re(t,e)||vre()}function vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _re(t,e){if(t){if(typeof t=="string")return kI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kI(t,e)}}function kI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wre(t){if(Array.isArray(t))return t}function bre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tre(r.key),r)}}function Ere(t,e,n){return e&&RI(t.prototype,e),n&&RI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tre(t){var e=Sre(t,"string");return Wc(e)=="symbol"?e:e+""}function Sre(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Are=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ire=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cre=Object.keys(jL),Ta="NaN";function Pre(t,e){return t*jL[e]}var Wf=function(){function t(e,n){bre(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Are.test(n)&&(this.num=NaN,this.unit=""),Cre.includes(n)&&(this.num=Pre(e,n),this.unit="px")}return Ere(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ire.exec(n))!==null&&r!==void 0?r:[],o=$p(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function VL(t){if(t.includes(Ta))return Ta;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=MI.exec(e))!==null&&n!==void 0?n:[],i=$p(r,4),o=i[1],s=i[2],a=i[3],l=Wf.parse(o??""),u=Wf.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ta;e=e.replace(MI,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=OI.exec(e))!==null&&d!==void 0?d:[],y=$p(h,4),v=y[1],w=y[2],_=y[3],x=Wf.parse(v??""),b=Wf.parse(_??""),T=w==="+"?x.add(b):x.subtract(b);if(T.isNaN())return Ta;e=e.replace(OI,T.toString())}return e}var DI=/\(([^()]*)\)/;function Nre(t){for(var e=t;e.includes("(");){var n=DI.exec(e),r=$p(n,2),i=r[1];e=e.replace(DI,VL(i))}return e}function kre(t){var e=t.replace(/\s+/g,"");return e=Nre(e),e=VL(e),e}function Rre(t){try{return kre(t)}catch{return Ta}}function xv(t){var e=Rre(t.slice(5,-1));return e===Ta?"":e}var Mre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ore=["dx","dy","angle","className","breakAll"];function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function LI(t,e){if(t==null)return{};var n=Dre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $I(t,e){return Vre(t)||jre(t,e)||$re(t,e)||Lre()}function Lre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return jI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jI(t,e)}}function jI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Vre(t){if(Array.isArray(t))return t}var UL=/[ \f\n\r\t\v\u2028\u2029]+/,FL=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];De(n)||(r?o=n.toString().split(""):o=n.toString().split(UL));var s=o.map(function(l){return{word:l,width:ac(l,i).width}}),a=r?0:ac("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ure=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=re(s),d=a,h=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(G,W){var V=W.word,K=W.width,Y=G[G.length-1];if(Y&&(i==null||o||Y.width+K+r<Number(i)))Y.words.push(V),Y.width+=K+r;else{var se={words:[V],width:K};G.push(se)}return G},[])},y=h(n),v=function(B){return B.reduce(function(G,W){return G.width>W.width?G:W})};if(!c)return y;for(var w="",_=function(B){var G=d.slice(0,B),W=FL({breakAll:u,style:l,children:G+w}).wordsWithComputedWidth,V=h(W),K=V.length>s||v(V).width>Number(i);return[K,V]},x=0,b=d.length-1,T=0,N;x<=b&&T<=d.length-1;){var A=Math.floor((x+b)/2),P=A-1,S=_(P),C=$I(S,2),I=C[0],R=C[1],M=_(A),D=$I(M,1),O=D[0];if(!I&&!O&&(x=A+1),I&&O&&(b=A-1),!I&&O){N=R;break}T++}return N||y},VI=function(e){var n=De(e)?[]:e.toString().split(UL);return[{words:n}]},Fre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Yl.isSsr){var l,u,c=FL({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,h=c.spaceWidth;l=d,u=h}else return VI(i);return Ure({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return VI(i)},UI="#808080",jp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,w=v===void 0?"end":v,_=e.fill,x=_===void 0?UI:_,b=LI(e,Mre),T=$.useMemo(function(){return Fre({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),N=b.dx,A=b.dy,P=b.angle,S=b.className,C=b.breakAll,I=LI(b,Ore);if(!Dt(r)||!Dt(o))return null;var R=r+(re(N)?N:0),M=o+(re(A)?A:0),D;switch(w){case"start":D=xv("calc(".concat(u,")"));break;case"middle":D=xv("calc(".concat((T.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=xv("calc(".concat(T.length-1," * -").concat(a,")"));break}var O=[];if(d){var U=T[0].width,B=b.width;O.push("scale(".concat((re(B)?B/U:1)/U,")"))}return P&&O.push("rotate(".concat(P,", ").concat(R,", ").concat(M,")")),O.length&&(I.transform=O.join(" ")),j.createElement("text",R_({},Re(I,!0),{x:R,y:M,className:Fe("recharts-text",S),textAnchor:y,fill:x.includes("url")?UI:x}),T.map(function(G,W){var V=G.words.join(C?"":" ");return j.createElement("tspan",{x:R,dy:W===0?D:a,key:"".concat(V,"-").concat(W)},V)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dE(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===Bre?t:Gre,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Gre(){return 0}function BL(t){return t===null?NaN:+t}function*qre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zre=dE(No),Hd=zre.right;dE(BL).center;class FI extends Map{constructor(e,n=Kre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(BI(this,e))}has(e){return super.has(BI(this,e))}set(e,n){return super.set(Hre(this,e),n)}delete(e){return super.delete(Wre(this,e))}}function BI({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Wre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jre(t=No){if(t===No)return GL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function GL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Yre=Math.sqrt(50),Xre=Math.sqrt(10),Qre=Math.sqrt(2);function Vp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Yre?10:o>=Xre?5:o>=Qre?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Vp(t,e,n*2):[a,l,u]}function M_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Vp(e,t,n):Vp(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function O_(t,e,n){return e=+e,t=+t,n=+n,Vp(t,e,n)[2]}function D_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?O_(e,t,n):O_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function GI(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qI(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function qL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?GL:Jre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+h)),v=Math.min(r,Math.floor(e+(l-u)*d/l+h));qL(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(Iu(t,n,e),i(t[r],o)>0&&Iu(t,n,r);s<a;){for(Iu(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?Iu(t,n,a):(++a,Iu(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Iu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zre(t,e,n){if(t=Float64Array.from(qre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qI(t);if(e>=1)return GI(t);var r,i=(r-1)*e,o=Math.floor(i),s=GI(qL(t,o).subarray(0,o+1)),a=qI(t.subarray(o+1));return s+(a-s)*(i-o)}}function eie(t,e,n=BL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function tie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L_=Symbol("implicit");function fE(){var t=new FI,e=[],n=[],r=L_;function i(o){let s=t.get(o);if(s===void 0){if(r!==L_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new FI;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return fE(e,n).unknown(r)},vr.apply(i,arguments),i}function Kc(){var t=fE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var h=e().length,y=i<r,v=y?i:r,w=y?r:i;o=(w-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(w-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var _=tie(h).map(function(x){return v+o*x});return n(y?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},t.copy=function(){return Kc(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},vr.apply(d(),arguments)}function zL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zL(e())},t}function lc(){return zL(Kc.apply(null,arguments).paddingInner(1))}function hE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function HL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Wd(){}var Jc=.7,Up=1/Jc,Ga="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nie=/^#([0-9a-f]{3,8})$/,rie=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),iie=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),oie=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${Yc}\\)$`),sie=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Yc}\\)$`),aie=new RegExp(`^hsl\\(${Yc},${Yr},${Yr}\\)$`),lie=new RegExp(`^hsla\\(${Yc},${Yr},${Yr},${Yc}\\)$`),zI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hE(Wd,Xc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HI,formatHex:HI,formatHex8:uie,formatHsl:cie,formatRgb:WI,toString:WI});function HI(){return this.rgb().formatHex()}function uie(){return this.rgb().formatHex8()}function cie(){return WL(this).formatHsl()}function WI(){return this.rgb().formatRgb()}function Xc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?KI(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Kf(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Kf(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rie.exec(t))?new On(e[1],e[2],e[3],1):(e=iie.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=oie.exec(t))?Kf(e[1],e[2],e[3],e[4]):(e=sie.exec(t))?Kf(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aie.exec(t))?XI(e[1],e[2]/100,e[3]/100,1):(e=lie.exec(t))?XI(e[1],e[2]/100,e[3]/100,e[4]):zI.hasOwnProperty(t)?KI(zI[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function KI(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Kf(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function die(t){return t instanceof Wd||(t=Xc(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function $_(t,e,n,r){return arguments.length===1?die(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hE(On,$_,HL(Wd,{brighter(t){return t=t==null?Up:Math.pow(Up,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(Es(this.r),Es(this.g),Es(this.b),Fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JI,formatHex:JI,formatHex8:fie,formatRgb:YI,toString:YI}));function JI(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}`}function fie(){return`#${ms(this.r)}${ms(this.g)}${ms(this.b)}${ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function YI(){const t=Fp(this.opacity);return`${t===1?"rgb(":"rgba("}${Es(this.r)}, ${Es(this.g)}, ${Es(this.b)}${t===1?")":`, ${t})`}`}function Fp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Es(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ms(t){return t=Es(t),(t<16?"0":"")+t.toString(16)}function XI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ar(t,e,n,r)}function WL(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);if(t instanceof Wd||(t=Xc(t)),!t)return new Ar;if(t instanceof Ar)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ar(s,a,l,t.opacity)}function hie(t,e,n,r){return arguments.length===1?WL(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hE(Ar,hie,HL(Wd,{brighter(t){return t=t==null?Up:Math.pow(Up,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jc:Math.pow(Jc,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(wv(t>=240?t-240:t+120,i,r),wv(t,i,r),wv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ar(QI(this.h),Jf(this.s),Jf(this.l),Fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fp(this.opacity);return`${t===1?"hsl(":"hsla("}${QI(this.h)}, ${Jf(this.s)*100}%, ${Jf(this.l)*100}%${t===1?")":`, ${t})`}`}}));function QI(t){return t=(t||0)%360,t<0?t+360:t}function Jf(t){return Math.max(0,Math.min(1,t||0))}function wv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pE=t=>()=>t;function pie(t,e){return function(n){return t+n*e}}function mie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gie(t){return(t=+t)==1?KL:function(e,n){return n-e?mie(e,n,t):pE(isNaN(e)?n:e)}}function KL(t,e){var n=e-t;return n?pie(t,n):pE(isNaN(t)?e:t)}const ZI=function t(e){var n=gie(e);function r(i,o){var s=n((i=$_(i)).r,(o=$_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=KL(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function yie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function vie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _ie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Xl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function xie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Xl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var j_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bv=new RegExp(j_.source,"g");function bie(t){return function(){return t}}function Eie(t){return function(e){return t(e)+""}}function Tie(t,e){var n=j_.lastIndex=bv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=j_.exec(t))&&(i=bv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Bp(r,i)})),n=bv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Eie(l[0].x):bie(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function Xl(t,e){var n=typeof e,r;return e==null||n==="boolean"?pE(e):(n==="number"?Bp:n==="string"?(r=Xc(e))?(e=r,ZI):Tie:e instanceof Xc?ZI:e instanceof Date?xie:vie(e)?yie:Array.isArray(e)?_ie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wie:Bp)(t,e)}function mE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sie(t,e){e===void 0&&(e=t,t=Xl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Aie(t){return function(){return t}}function Gp(t){return+t}var eC=[0,1];function bn(t){return t}function V_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Aie(isNaN(e)?NaN:.5)}function Iie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cie(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=V_(i,r),o=n(s,o)):(r=V_(r,i),o=n(o,s)),function(a){return o(r(a))}}function Pie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=V_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Hd(t,a,1,r)-1;return o[l](i[l](a))}}function Kd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $g(){var t=eC,e=eC,n=Xl,r,i,o,s=bn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==bn&&(s=Iie(t[0],t[h-1])),a=h>2?Pie:Cie,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=a(e,t.map(r),Bp)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Gp),c()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=mE,c()},d.clamp=function(h){return arguments.length?(s=h?!0:bn,c()):s!==bn},d.interpolate=function(h){return arguments.length?(n=h,c()):n},d.unknown=function(h){return arguments.length?(o=h,d):o},function(h,y){return r=h,i=y,c()}}function gE(){return $g()(bn,bn)}function Nie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function qp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gl(t){return t=qp(Math.abs(t)),t?t[1]:NaN}function kie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Rie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Mie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qc(t){if(!(e=Mie.exec(t)))throw new Error("invalid format: "+t);var e;return new yE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qc.prototype=yE.prototype;function yE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}yE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Oie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var zp;function Die(t,e){var n=qp(t,e);if(!n)return zp=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(zp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+qp(t,Math.max(0,e+o-1))[0]}function tC(t,e){var n=qp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const nC={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tC(t*100,e),r:tC,s:Die,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rC(t){return t}var iC=Array.prototype.map,oC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Lie(t){var e=t.grouping===void 0||t.thousands===void 0?rC:kie(iC.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?rC:Rie(iC.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,h){d=Qc(d);var y=d.fill,v=d.align,w=d.sign,_=d.symbol,x=d.zero,b=d.width,T=d.comma,N=d.precision,A=d.trim,P=d.type;P==="n"?(T=!0,P="g"):nC[P]||(N===void 0&&(N=12),A=!0,P="g"),(x||y==="0"&&v==="=")&&(x=!0,y="0",v="=");var S=(h&&h.prefix!==void 0?h.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),C=(_==="$"?r:/[%p]/.test(P)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=nC[P],R=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function M(D){var O=S,U=C,B,G,W;if(P==="c")U=I(D)+U,D="";else{D=+D;var V=D<0||1/D<0;if(D=isNaN(D)?l:I(Math.abs(D),N),A&&(D=Oie(D)),V&&+D==0&&w!=="+"&&(V=!1),O=(V?w==="("?w:a:w==="-"||w==="("?"":w)+O,U=(P==="s"&&!isNaN(D)&&zp!==void 0?oC[8+zp/3]:"")+U+(V&&w==="("?")":""),R){for(B=-1,G=D.length;++B<G;)if(W=D.charCodeAt(B),48>W||W>57){U=(W===46?i+D.slice(B+1):D.slice(B))+U,D=D.slice(0,B);break}}}T&&!x&&(D=e(D,1/0));var K=O.length+D.length+U.length,Y=K<b?new Array(b-K+1).join(y):"";switch(T&&x&&(D=e(Y+D,Y.length?b-U.length:1/0),Y=""),v){case"<":D=O+D+U+Y;break;case"=":D=O+Y+D+U;break;case"^":D=Y.slice(0,K=Y.length>>1)+O+D+U+Y.slice(K);break;default:D=Y+O+D+U;break}return o(D)}return M.toString=function(){return d+""},M}function c(d,h){var y=Math.max(-8,Math.min(8,Math.floor(gl(h)/3)))*3,v=Math.pow(10,-y),w=u((d=Qc(d),d.type="f",d),{suffix:oC[8+y/3]});return function(_){return w(v*_)}}return{format:u,formatPrefix:c}}var Yf,vE,JL;$ie({thousands:",",grouping:[3],currency:["$",""]});function $ie(t){return Yf=Lie(t),vE=Yf.format,JL=Yf.formatPrefix,Yf}function jie(t){return Math.max(0,-gl(Math.abs(t)))}function Vie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gl(e)/3)))*3-gl(Math.abs(t)))}function Uie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gl(e)-gl(t))+1}function YL(t,e,n,r){var i=D_(t,e,n),o;switch(r=Qc(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Vie(i,s))&&(r.precision=o),JL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Uie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=jie(i))&&(r.precision=o-(r.type==="%")*2);break}}return vE(r)}function qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return M_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return YL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=O_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Hp(){var t=gE();return t.copy=function(){return Kd(t,Hp())},vr.apply(t,arguments),qo(t)}function XL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return XL(t).unknown(e)},t=arguments.length?Array.from(t,Gp):[0,1],qo(n)}function QL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function sC(t){return Math.log(t)}function aC(t){return Math.exp(t)}function Fie(t){return-Math.log(-t)}function Bie(t){return-Math.exp(-t)}function Gie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function qie(t){return t===10?Gie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lC(t){return(e,n)=>-t(-e,n)}function _E(t){const e=t(sC,aC),n=e.domain;let r=10,i,o;function s(){return i=zie(r),o=qie(r),n()[0]<0?(i=lC(i),o=lC(o),t(Fie,Bie)):t(sC,aC),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),y=i(c),v,w;const _=a==null?10:+a;let x=[];if(!(r%1)&&y-h<_){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(w=h<0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;x.push(w)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(w=h>0?v/o(-h):v*o(h),!(w<u)){if(w>c)break;x.push(w)}x.length*2<_&&(x=M_(u,c,_))}else x=M_(h,y,Math.min(y-h,_)).map(o);return d?x.reverse():x},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qc(l)).precision==null&&(l.trim=!0),l=vE(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(QL(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function ZL(){const t=_E($g()).domain([1,10]);return t.copy=()=>Kd(t,ZL()).base(t.base()),vr.apply(t,arguments),t}function uC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function xE(t){var e=1,n=t(uC(e),cC(e));return n.constant=function(r){return arguments.length?t(uC(e=+r),cC(e)):e},qo(n)}function e$(){var t=xE($g());return t.copy=function(){return Kd(t,e$()).constant(t.constant())},vr.apply(t,arguments)}function dC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wie(t){return t<0?-t*t:t*t}function wE(t){var e=t(bn,bn),n=1;function r(){return n===1?t(bn,bn):n===.5?t(Hie,Wie):t(dC(n),dC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qo(e)}function bE(){var t=wE($g());return t.copy=function(){return Kd(t,bE()).exponent(t.exponent())},vr.apply(t,arguments),t}function Kie(){return bE.apply(null,arguments).exponent(.5)}function fC(t){return Math.sign(t)*t*t}function Jie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function t$(){var t=gE(),e=[0,1],n=!1,r;function i(o){var s=Jie(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(fC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Gp)).map(fC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return t$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),qo(i)}function n$(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=eie(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Hd(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return n$().domain(t).range(e).unknown(r)},vr.apply(o,arguments)}function r$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Hd(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return r$().domain([t,e]).range(i).unknown(o)},vr.apply(qo(s),arguments)}function i$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Hd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return i$().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const Ev=new Date,Tv=new Date;function $t(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>$t(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Ev.setTime(+o),Tv.setTime(+s),t(Ev),t(Tv),Math.floor(n(Ev,Tv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Wp=$t(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?$t(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wp);Wp.range;const gi=1e3,ar=gi*60,yi=ar*60,Mi=yi*24,EE=Mi*7,hC=Mi*30,Sv=Mi*365,gs=$t(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCSeconds());gs.range;const TE=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getMinutes());TE.range;const SE=$t(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ar)},(t,e)=>(e-t)/ar,t=>t.getUTCMinutes());SE.range;const AE=$t(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gi-t.getMinutes()*ar)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getHours());AE.range;const IE=$t(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*yi)},(t,e)=>(e-t)/yi,t=>t.getUTCHours());IE.range;const Jd=$t(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ar)/Mi,t=>t.getDate()-1);Jd.range;const jg=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mi,t=>t.getUTCDate()-1);jg.range;const o$=$t(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mi,t=>Math.floor(t/Mi));o$.range;function Ws(t){return $t(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ar)/EE)}const Vg=Ws(0),Kp=Ws(1),Yie=Ws(2),Xie=Ws(3),yl=Ws(4),Qie=Ws(5),Zie=Ws(6);Vg.range;Kp.range;Yie.range;Xie.range;yl.range;Qie.range;Zie.range;function Ks(t){return $t(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/EE)}const Ug=Ks(0),Jp=Ks(1),eoe=Ks(2),toe=Ks(3),vl=Ks(4),noe=Ks(5),roe=Ks(6);Ug.range;Jp.range;eoe.range;toe.range;vl.range;noe.range;roe.range;const CE=$t(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CE.range;const PE=$t(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());PE.range;const Oi=$t(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Oi.range;const Di=$t(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Di.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:$t(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Di.range;function s$(t,e,n,r,i,o){const s=[[gs,1,gi],[gs,5,5*gi],[gs,15,15*gi],[gs,30,30*gi],[o,1,ar],[o,5,5*ar],[o,15,15*ar],[o,30,30*ar],[i,1,yi],[i,3,3*yi],[i,6,6*yi],[i,12,12*yi],[r,1,Mi],[r,2,2*Mi],[n,1,EE],[e,1,hC],[e,3,3*hC],[t,1,Sv]];function a(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,y=dE(([,,_])=>_).right(s,h);if(y===s.length)return t.every(D_(u/Sv,c/Sv,d));if(y===0)return Wp.every(Math.max(D_(u,c,d),1));const[v,w]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(w)}return[a,l]}const[ioe,ooe]=s$(Di,PE,Ug,o$,IE,SE),[soe,aoe]=s$(Oi,CE,Vg,Jd,AE,TE);function Av(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function loe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Pu(i),c=Nu(i),d=Pu(o),h=Nu(o),y=Pu(s),v=Nu(s),w=Pu(a),_=Nu(a),x=Pu(l),b=Nu(l),T={a:W,A:V,b:K,B:Y,c:null,d:_C,e:_C,f:koe,g:Foe,G:Goe,H:Coe,I:Poe,j:Noe,L:a$,m:Roe,M:Moe,p:se,q:ee,Q:bC,s:EC,S:Ooe,u:Doe,U:Loe,V:$oe,w:joe,W:Voe,x:null,X:null,y:Uoe,Y:Boe,Z:qoe,"%":wC},N={a:le,A:Ce,b:Ne,B:We,c:null,d:xC,e:xC,f:Koe,g:ise,G:sse,H:zoe,I:Hoe,j:Woe,L:u$,m:Joe,M:Yoe,p:z,q:Ve,Q:bC,s:EC,S:Xoe,u:Qoe,U:Zoe,V:ese,w:tse,W:nse,x:null,X:null,y:rse,Y:ose,Z:ase,"%":wC},A={a:R,A:M,b:D,B:O,c:U,d:yC,e:yC,f:Toe,g:gC,G:mC,H:vC,I:vC,j:xoe,L:Eoe,m:_oe,M:woe,p:I,q:voe,Q:Aoe,s:Ioe,S:boe,u:hoe,U:poe,V:moe,w:foe,W:goe,x:B,X:G,y:gC,Y:mC,Z:yoe,"%":Soe};T.x=P(n,T),T.X=P(r,T),T.c=P(e,T),N.x=P(n,N),N.X=P(r,N),N.c=P(e,N);function P(ie,ye){return function(_e){var Q=[],Le=-1,Ie=0,et=ie.length,X,me,Qe;for(_e instanceof Date||(_e=new Date(+_e));++Le<et;)ie.charCodeAt(Le)===37&&(Q.push(ie.slice(Ie,Le)),(me=pC[X=ie.charAt(++Le)])!=null?X=ie.charAt(++Le):me=X==="e"?" ":"0",(Qe=ye[X])&&(X=Qe(_e,me)),Q.push(X),Ie=Le+1);return Q.push(ie.slice(Ie,Le)),Q.join("")}}function S(ie,ye){return function(_e){var Q=Cu(1900,void 0,1),Le=C(Q,ie,_e+="",0),Ie,et;if(Le!=_e.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(ye&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ie=Iv(Cu(Q.y,0,1)),et=Ie.getUTCDay(),Ie=et>4||et===0?Jp.ceil(Ie):Jp(Ie),Ie=jg.offset(Ie,(Q.V-1)*7),Q.y=Ie.getUTCFullYear(),Q.m=Ie.getUTCMonth(),Q.d=Ie.getUTCDate()+(Q.w+6)%7):(Ie=Av(Cu(Q.y,0,1)),et=Ie.getDay(),Ie=et>4||et===0?Kp.ceil(Ie):Kp(Ie),Ie=Jd.offset(Ie,(Q.V-1)*7),Q.y=Ie.getFullYear(),Q.m=Ie.getMonth(),Q.d=Ie.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),et="Z"in Q?Iv(Cu(Q.y,0,1)).getUTCDay():Av(Cu(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(et+5)%7:Q.w+Q.U*7-(et+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Iv(Q)):Av(Q)}}function C(ie,ye,_e,Q){for(var Le=0,Ie=ye.length,et=_e.length,X,me;Le<Ie;){if(Q>=et)return-1;if(X=ye.charCodeAt(Le++),X===37){if(X=ye.charAt(Le++),me=A[X in pC?ye.charAt(Le++):X],!me||(Q=me(ie,_e,Q))<0)return-1}else if(X!=_e.charCodeAt(Q++))return-1}return Q}function I(ie,ye,_e){var Q=u.exec(ye.slice(_e));return Q?(ie.p=c.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function R(ie,ye,_e){var Q=y.exec(ye.slice(_e));return Q?(ie.w=v.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function M(ie,ye,_e){var Q=d.exec(ye.slice(_e));return Q?(ie.w=h.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function D(ie,ye,_e){var Q=x.exec(ye.slice(_e));return Q?(ie.m=b.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function O(ie,ye,_e){var Q=w.exec(ye.slice(_e));return Q?(ie.m=_.get(Q[0].toLowerCase()),_e+Q[0].length):-1}function U(ie,ye,_e){return C(ie,e,ye,_e)}function B(ie,ye,_e){return C(ie,n,ye,_e)}function G(ie,ye,_e){return C(ie,r,ye,_e)}function W(ie){return s[ie.getDay()]}function V(ie){return o[ie.getDay()]}function K(ie){return l[ie.getMonth()]}function Y(ie){return a[ie.getMonth()]}function se(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function le(ie){return s[ie.getUTCDay()]}function Ce(ie){return o[ie.getUTCDay()]}function Ne(ie){return l[ie.getUTCMonth()]}function We(ie){return a[ie.getUTCMonth()]}function z(ie){return i[+(ie.getUTCHours()>=12)]}function Ve(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=P(ie+="",T);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=S(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=P(ie+="",N);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=S(ie+="",!0);return ye.toString=function(){return ie},ye}}}var pC={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,uoe=/^%/,coe=/[\\^$*+?|[\]().{}]/g;function qe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function doe(t){return t.replace(coe,"\\$&")}function Pu(t){return new RegExp("^(?:"+t.map(doe).join("|")+")","i")}function Nu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function foe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hoe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function poe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function moe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function goe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function mC(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yoe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function voe(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function _oe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function yC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function xoe(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function vC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function woe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function boe(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Eoe(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Toe(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Soe(t,e,n){var r=uoe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Aoe(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ioe(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _C(t,e){return qe(t.getDate(),e,2)}function Coe(t,e){return qe(t.getHours(),e,2)}function Poe(t,e){return qe(t.getHours()%12||12,e,2)}function Noe(t,e){return qe(1+Jd.count(Oi(t),t),e,3)}function a$(t,e){return qe(t.getMilliseconds(),e,3)}function koe(t,e){return a$(t,e)+"000"}function Roe(t,e){return qe(t.getMonth()+1,e,2)}function Moe(t,e){return qe(t.getMinutes(),e,2)}function Ooe(t,e){return qe(t.getSeconds(),e,2)}function Doe(t){var e=t.getDay();return e===0?7:e}function Loe(t,e){return qe(Vg.count(Oi(t)-1,t),e,2)}function l$(t){var e=t.getDay();return e>=4||e===0?yl(t):yl.ceil(t)}function $oe(t,e){return t=l$(t),qe(yl.count(Oi(t),t)+(Oi(t).getDay()===4),e,2)}function joe(t){return t.getDay()}function Voe(t,e){return qe(Kp.count(Oi(t)-1,t),e,2)}function Uoe(t,e){return qe(t.getFullYear()%100,e,2)}function Foe(t,e){return t=l$(t),qe(t.getFullYear()%100,e,2)}function Boe(t,e){return qe(t.getFullYear()%1e4,e,4)}function Goe(t,e){var n=t.getDay();return t=n>=4||n===0?yl(t):yl.ceil(t),qe(t.getFullYear()%1e4,e,4)}function qoe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qe(e/60|0,"0",2)+qe(e%60,"0",2)}function xC(t,e){return qe(t.getUTCDate(),e,2)}function zoe(t,e){return qe(t.getUTCHours(),e,2)}function Hoe(t,e){return qe(t.getUTCHours()%12||12,e,2)}function Woe(t,e){return qe(1+jg.count(Di(t),t),e,3)}function u$(t,e){return qe(t.getUTCMilliseconds(),e,3)}function Koe(t,e){return u$(t,e)+"000"}function Joe(t,e){return qe(t.getUTCMonth()+1,e,2)}function Yoe(t,e){return qe(t.getUTCMinutes(),e,2)}function Xoe(t,e){return qe(t.getUTCSeconds(),e,2)}function Qoe(t){var e=t.getUTCDay();return e===0?7:e}function Zoe(t,e){return qe(Ug.count(Di(t)-1,t),e,2)}function c$(t){var e=t.getUTCDay();return e>=4||e===0?vl(t):vl.ceil(t)}function ese(t,e){return t=c$(t),qe(vl.count(Di(t),t)+(Di(t).getUTCDay()===4),e,2)}function tse(t){return t.getUTCDay()}function nse(t,e){return qe(Jp.count(Di(t)-1,t),e,2)}function rse(t,e){return qe(t.getUTCFullYear()%100,e,2)}function ise(t,e){return t=c$(t),qe(t.getUTCFullYear()%100,e,2)}function ose(t,e){return qe(t.getUTCFullYear()%1e4,e,4)}function sse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vl(t):vl.ceil(t),qe(t.getUTCFullYear()%1e4,e,4)}function ase(){return"+0000"}function wC(){return"%"}function bC(t){return+t}function EC(t){return Math.floor(+t/1e3)}var oa,d$,f$;lse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lse(t){return oa=loe(t),d$=oa.format,oa.parse,f$=oa.utcFormat,oa.utcParse,oa}function use(t){return new Date(t)}function cse(t){return t instanceof Date?+t:+new Date(+t)}function NE(t,e,n,r,i,o,s,a,l,u){var c=gE(),d=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),w=u("%I:%M"),_=u("%I %p"),x=u("%a %d"),b=u("%b %d"),T=u("%B"),N=u("%Y");function A(P){return(l(P)<P?y:a(P)<P?v:s(P)<P?w:o(P)<P?_:r(P)<P?i(P)<P?x:b:n(P)<P?T:N)(P)}return c.invert=function(P){return new Date(d(P))},c.domain=function(P){return arguments.length?h(Array.from(P,cse)):h().map(use)},c.ticks=function(P){var S=h();return t(S[0],S[S.length-1],P??10)},c.tickFormat=function(P,S){return S==null?A:u(S)},c.nice=function(P){var S=h();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?h(QL(S,P)):c},c.copy=function(){return Kd(c,NE(t,e,n,r,i,o,s,a,l,u))},c}function dse(){return vr.apply(NE(soe,aoe,Oi,CE,Vg,Jd,AE,TE,gs,d$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fse(){return vr.apply(NE(ioe,ooe,Di,PE,Ug,jg,IE,SE,gs,f$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Fg(){var t=0,e=1,n,r,i,o,s=bn,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(h){var y,v;return arguments.length?([y,v]=h,s=d(y,v),u):[s(0),s(1)]}}return u.range=c(Xl),u.rangeRound=c(mE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function zo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function h$(){var t=qo(Fg()(bn));return t.copy=function(){return zo(t,h$())},Gi.apply(t,arguments)}function p$(){var t=_E(Fg()).domain([1,10]);return t.copy=function(){return zo(t,p$()).base(t.base())},Gi.apply(t,arguments)}function m$(){var t=xE(Fg());return t.copy=function(){return zo(t,m$()).constant(t.constant())},Gi.apply(t,arguments)}function kE(){var t=wE(Fg());return t.copy=function(){return zo(t,kE()).exponent(t.exponent())},Gi.apply(t,arguments)}function hse(){return kE.apply(null,arguments).exponent(.5)}function g$(){var t=[],e=bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Zre(t,o/r))},n.copy=function(){return g$(e).domain(t)},Gi.apply(n,arguments)}function Bg(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=bn,c,d=!1,h;function y(w){return isNaN(w=+w)?h:(w=.5+((w=+c(w))-o)*(r*w<r*o?a:l),u(d?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(d=!!w,y):d},y.interpolator=function(w){return arguments.length?(u=w,y):u};function v(w){return function(_){var x,b,T;return arguments.length?([x,b,T]=_,u=Sie(w,[x,b,T]),y):[u(0),u(.5),u(1)]}}return y.range=v(Xl),y.rangeRound=v(mE),y.unknown=function(w){return arguments.length?(h=w,y):h},function(w){return c=w,i=w(t),o=w(e),s=w(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function y$(){var t=qo(Bg()(bn));return t.copy=function(){return zo(t,y$())},Gi.apply(t,arguments)}function v$(){var t=_E(Bg()).domain([.1,1,10]);return t.copy=function(){return zo(t,v$()).base(t.base())},Gi.apply(t,arguments)}function _$(){var t=xE(Bg());return t.copy=function(){return zo(t,_$()).constant(t.constant())},Gi.apply(t,arguments)}function RE(){var t=wE(Bg());return t.copy=function(){return zo(t,RE()).exponent(t.exponent())},Gi.apply(t,arguments)}function pse(){return RE.apply(null,arguments).exponent(.5)}const TC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kc,scaleDiverging:y$,scaleDivergingLog:v$,scaleDivergingPow:RE,scaleDivergingSqrt:pse,scaleDivergingSymlog:_$,scaleIdentity:XL,scaleImplicit:L_,scaleLinear:Hp,scaleLog:ZL,scaleOrdinal:fE,scalePoint:lc,scalePow:bE,scaleQuantile:n$,scaleQuantize:r$,scaleRadial:t$,scaleSequential:h$,scaleSequentialLog:p$,scaleSequentialPow:kE,scaleSequentialQuantile:g$,scaleSequentialSqrt:hse,scaleSequentialSymlog:m$,scaleSqrt:Kie,scaleSymlog:e$,scaleThreshold:i$,scaleTime:dse,scaleUtc:fse,tickFormat:YL},Symbol.toStringTag,{value:"Module"}));var mse=Fl;function gse(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!mse(s):n(s,a)))var a=s,l=o}return l}var x$=gse;function yse(t,e){return t>e}var vse=yse,_se=x$,xse=vse,wse=Jl;function bse(t){return t&&t.length?_se(t,wse,xse):void 0}var Ese=bse;const po=rt(Ese);function Tse(t,e){return t<e}var Sse=Tse,Ase=x$,Ise=Sse,Cse=Jl;function Pse(t){return t&&t.length?Ase(t,Cse,Ise):void 0}var Nse=Pse;const Gg=rt(Nse);var kse=Hb,Rse=Go,Mse=PL,Ose=jn;function Dse(t,e){var n=Ose(t)?kse:Mse;return n(t,Rse(e))}var Lse=Dse,$se=IL,jse=Lse;function Vse(t,e){return $se(jse(t,e),1)}var Use=Vse;const Fse=rt(Use);var Bse=aE;function Gse(t,e){return Bse(t,e)}var qse=Gse;const Zc=rt(qse);var Ql=1e9,zse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},OE,ht=!0,mr="[DecimalError] ",Ts=mr+"Invalid argument: ",ME=mr+"Exponent out of range: ",Zl=Math.floor,ls=Math.pow,Hse=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zn,Ft=1e7,ct=7,w$=9007199254740991,Yp=Zl(w$/ct),he={};he.absoluteValue=he.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};he.comparedTo=he.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};he.decimalPlaces=he.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ct;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(t){return bi(this,new this.constructor(t))};he.dividedToIntegerBy=he.idiv=function(t){var e=this,n=e.constructor;return nt(bi(e,new n(t),0,1),n.precision)};he.equals=he.eq=function(t){return!this.cmp(t)};he.exponent=function(){return Pt(this)};he.greaterThan=he.gt=function(t){return this.cmp(t)>0};he.greaterThanOrEqualTo=he.gte=function(t){return this.cmp(t)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(t){return this.cmp(t)<0};he.lessThanOrEqualTo=he.lte=function(t){return this.cmp(t)<1};he.logarithm=he.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(zn))throw Error(mr+"NaN");if(n.s<1)throw Error(mr+(n.s?"NaN":"-Infinity"));return n.eq(zn)?new r(0):(ht=!1,e=bi(ed(n,o),ed(t,o),o),ht=!0,nt(e,i))};he.minus=he.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?T$(e,t):b$(e,(t.s=-t.s,t))};he.modulo=he.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(mr+"NaN");return n.s?(ht=!1,e=bi(n,t,0,1).times(t),ht=!0,n.minus(e)):nt(new r(n),i)};he.naturalExponential=he.exp=function(){return E$(this)};he.naturalLogarithm=he.ln=function(){return ed(this)};he.negated=he.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};he.plus=he.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?b$(e,t):T$(e,(t.s=-t.s,t))};he.precision=he.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ts+t);if(e=Pt(i)+1,r=i.d.length-1,n=r*ct+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};he.squareRoot=he.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(mr+"NaN")}for(t=Pt(a),ht=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Fr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Zl((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(bi(a,o,s+2)).times(.5),Fr(o.d).slice(0,s)===(e=Fr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(nt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return ht=!0,nt(r,n)};he.times=he.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,h=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ft|0,e=a/Ft|0;o[i]=(o[i]+e)%Ft|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ht?nt(t,d.precision):t};he.toDecimalPlaces=he.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ei(t,0,Ql),e===void 0?e=r.rounding:ei(e,0,8),nt(n,t+Pt(n)+1,e))};he.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=js(r,!0):(ei(t,0,Ql),e===void 0?e=i.rounding:ei(e,0,8),r=nt(new i(r),t+1,e),n=js(r,!0,t+1)),n};he.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?js(i):(ei(t,0,Ql),e===void 0?e=o.rounding:ei(e,0,8),r=nt(new o(i),t+Pt(i)+1,e),n=js(r.abs(),!1,t+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var t=this,e=t.constructor;return nt(new e(t),Pt(t)+1,e.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(zn);if(a=new l(a),!a.s){if(t.s<1)throw Error(mr+"Infinity");return a}if(a.eq(zn))return a;if(r=l.precision,t.eq(zn))return nt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=w$){for(i=new l(zn),e=Math.ceil(r/ct+4),ht=!1;n%2&&(i=i.times(a),AC(i.d,e)),n=Zl(n/2),n!==0;)a=a.times(a),AC(a.d,e);return ht=!0,t.s<0?new l(zn).div(i):nt(i,r)}}else if(o<0)throw Error(mr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,ht=!1,i=t.times(ed(a,r+u)),ht=!0,i=E$(i),i.s=o,i};he.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Pt(i),r=js(i,n<=o.toExpNeg||n>=o.toExpPos)):(ei(t,1,Ql),e===void 0?e=o.rounding:ei(e,0,8),i=nt(new o(i),t,e),n=Pt(i),r=js(i,t<=n||n<=o.toExpNeg,t)),r};he.toSignificantDigits=he.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ei(t,1,Ql),e===void 0?e=r.rounding:ei(e,0,8)),nt(new r(n),t,e)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),n=t.constructor;return js(t,e<=n.toExpNeg||e>=n.toExpPos)};function b$(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ht?nt(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/ct),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ft|0,l[o]%=Ft;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,ht?nt(e,d):e}function ei(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ts+t)}function Fr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=ct-r.length,n&&(o+=no(n)),o+=r;s=t[e],r=s+"",n=ct-r.length,n&&(o+=no(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var bi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ft|0,s=o/Ft|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ft+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,h,y,v,w,_,x,b,T,N,A,P,S,C,I=r.constructor,R=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(mr+"Division by zero");for(l=r.e-i.e,S=D.length,A=M.length,y=new I(R),v=y.d=[],u=0;D[u]==(M[u]||0);)++u;if(D[u]>(M[u]||0)&&--l,o==null?b=o=I.precision:s?b=o+(Pt(r)-Pt(i))+1:b=o,b<0)return new I(0);if(b=b/ct+2|0,u=0,S==1)for(c=0,D=D[0],b++;(u<A||c)&&b--;u++)T=c*Ft+(M[u]||0),v[u]=T/D|0,c=T%D|0;else{for(c=Ft/(D[0]+1)|0,c>1&&(D=t(D,c),M=t(M,c),S=D.length,A=M.length),N=S,w=M.slice(0,S),_=w.length;_<S;)w[_++]=0;C=D.slice(),C.unshift(0),P=D[0],D[1]>=Ft/2&&++P;do c=0,a=e(D,w,S,_),a<0?(x=w[0],S!=_&&(x=x*Ft+(w[1]||0)),c=x/P|0,c>1?(c>=Ft&&(c=Ft-1),d=t(D,c),h=d.length,_=w.length,a=e(d,w,h,_),a==1&&(c--,n(d,S<h?C:D,h))):(c==0&&(a=c=1),d=D.slice()),h=d.length,h<_&&d.unshift(0),n(w,d,_),a==-1&&(_=w.length,a=e(D,w,S,_),a<1&&(c++,n(w,S<_?C:D,_))),_=w.length):a===0&&(c++,w=[0]),v[u++]=c,a&&w[0]?w[_++]=M[N]||0:(w=[M[N]],_=1);while((N++<A||w[0]!==void 0)&&b--)}return v[0]||v.shift(),y.e=l,nt(y,s?o+Pt(y)+1:o)}}();function E$(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(Pt(t)>16)throw Error(ME+Pt(t));if(!t.s)return new c(zn);for(ht=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ls(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(zn),c.precision=a;;){if(i=nt(i.times(t),a),n=n.times(++l),s=o.plus(bi(i,n,a)),Fr(s.d).slice(0,a)===Fr(o.d).slice(0,a)){for(;u--;)o=nt(o.times(o),a);return c.precision=d,e==null?(ht=!0,nt(o,d)):o}o=s}}function Pt(t){for(var e=t.e*ct,n=t.d[0];n>=10;n/=10)e++;return e}function Cv(t,e,n){if(e>t.LN10.sd())throw ht=!0,n&&(t.precision=n),Error(mr+"LN10 precision limit exceeded");return nt(new t(t.LN10),e)}function no(t){for(var e="";t--;)e+="0";return e}function ed(t,e){var n,r,i,o,s,a,l,u,c,d=1,h=10,y=t,v=y.d,w=y.constructor,_=w.precision;if(y.s<1)throw Error(mr+(y.s?"NaN":"-Infinity"));if(y.eq(zn))return new w(0);if(e==null?(ht=!1,u=_):u=e,y.eq(10))return e==null&&(ht=!0),Cv(w,u);if(u+=h,w.precision=u,n=Fr(v),r=n.charAt(0),o=Pt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Fr(y.d),r=n.charAt(0),d++;o=Pt(y),r>1?(y=new w("0."+n),o++):y=new w(r+"."+n.slice(1))}else return l=Cv(w,u+2,_).times(o+""),y=ed(new w(r+"."+n.slice(1)),u-h).plus(l),w.precision=_,e==null?(ht=!0,nt(y,_)):y;for(a=s=y=bi(y.minus(zn),y.plus(zn),u),c=nt(y.times(y),u),i=3;;){if(s=nt(s.times(c),u),l=a.plus(bi(s,new w(i),u)),Fr(l.d).slice(0,u)===Fr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Cv(w,u+2,_).times(o+""))),a=bi(a,new w(d),u),w.precision=_,e==null?(ht=!0,nt(a,_)):a;a=l,i+=2}}function SC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Zl(n/ct),t.d=[],r=(n+1)%ct,n<0&&(r+=ct),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ct;r<i;)t.d.push(+e.slice(r,r+=ct));e=e.slice(r),r=ct-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ht&&(t.e>Yp||t.e<-Yp))throw Error(ME+n)}else t.s=0,t.e=0,t.d=[0];return t}function nt(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=ct,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/ct),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=ct,i=r-ct+s}if(n!==void 0&&(o=ls(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ls(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Pt(t),d.length=1,e=e-o-1,d[0]=ls(10,(ct-e%ct)%ct),t.e=Zl(-e/ct)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=ls(10,ct-r),d[c]=i>0?(u/ls(10,s-i)%ls(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==Ft&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=Ft)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(ht&&(t.e>Yp||t.e<-Yp))throw Error(ME+Pt(t));return t}function T$(t,e){var n,r,i,o,s,a,l,u,c,d,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ht?nt(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/ct),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=Ft-1;--l[o],l[i]+=Ft}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ht?nt(e,y):e):new h(0)}function js(t,e,n){var r,i=Pt(t),o=Fr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+no(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+no(-i-1)+o,n&&(r=n-s)>0&&(o+=no(r))):i>=s?(o+=no(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+no(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=no(r))),t.s<0?"-"+o:o}function AC(t,e){if(t.length>e)return t.length=e,!0}function S$(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ts+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return SC(s,o.toString())}else if(typeof o!="string")throw Error(Ts+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Hse.test(o))SC(s,o);else throw Error(Ts+o)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=S$,i.config=i.set=Wse,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Wse(t){if(!t||typeof t!="object")throw Error(mr+"Object expected");var e,n,r,i=["precision",1,Ql,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Zl(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ts+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ts+n+": "+r);return this}var OE=S$(zse);zn=new OE(1);const Ze=OE;function Kse(t){return Qse(t)||Xse(t)||Yse(t)||Jse()}function Jse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Xse(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Qse(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Zse=function(e){return e},A$={},I$=function(e){return e===A$},IC=function(e){return function n(){return arguments.length===0||arguments.length===1&&I$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},eae=function t(e,n){return e===1?n:IC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==A$}).length;return s>=e?n.apply(void 0,i):t(e-s,IC(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return I$(d)?l.shift():d});return n.apply(void 0,Kse(c).concat(l))}))})},qg=function(e){return eae(e.length,e)},F_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},tae=qg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),nae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Zse;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},B_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},C$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function rae(t){var e;return t===0?e=1:e=Math.floor(new Ze(t).abs().log(10).toNumber())+1,e}function iae(t,e,n){for(var r=new Ze(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var oae=qg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),sae=qg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),aae=qg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const zg={rangeStep:iae,getDigitCount:rae,interpolateNumber:oae,uninterpolateNumber:sae,uninterpolateTruncation:aae};function G_(t){return cae(t)||uae(t)||P$(t)||lae()}function lae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uae(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function cae(t){if(Array.isArray(t))return q_(t)}function td(t,e){return hae(t)||fae(t,e)||P$(t,e)||dae()}function dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$(t,e){if(t){if(typeof t=="string")return q_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q_(t,e)}}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fae(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function hae(t){if(Array.isArray(t))return t}function N$(t){var e=td(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function k$(t,e,n){if(t.lte(0))return new Ze(0);var r=zg.getDigitCount(t.toNumber()),i=new Ze(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Ze(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Ze(Math.ceil(l))}function pae(t,e,n){var r=1,i=new Ze(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ze(10).pow(zg.getDigitCount(t)-1),i=new Ze(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ze(Math.floor(t)))}else t===0?i=new Ze(Math.floor((e-1)/2)):n||(i=new Ze(Math.floor(t)));var s=Math.floor((e-1)/2),a=nae(tae(function(l){return i.add(new Ze(l-s).mul(r)).toNumber()}),F_);return a(0,e)}function R$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var o=k$(new Ze(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ze(0):(s=new Ze(t).add(e).div(2),s=s.sub(new Ze(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Ze(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?R$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Ze(a).mul(o)),tickMax:s.add(new Ze(l).mul(o))})}function mae(t){var e=td(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=N$([n,r]),l=td(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(G_(F_(0,i-1).map(function(){return 1/0}))):[].concat(G_(F_(0,i-1).map(function(){return-1/0})),[c]);return n>r?B_(d):d}if(u===c)return pae(u,i,o);var h=R$(u,c,s,o),y=h.step,v=h.tickMin,w=h.tickMax,_=zg.rangeStep(v,w.add(new Ze(.1).mul(y)),y);return n>r?B_(_):_}function gae(t,e){var n=td(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=N$([r,i]),a=td(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=k$(new Ze(u).sub(l).div(c-1),o,0),h=[].concat(G_(zg.rangeStep(new Ze(l),new Ze(u).sub(new Ze(.99).mul(d)),d)),[u]);return r>i?B_(h):h}var yae=C$(mae),vae=C$(gae),_ae="Invariant failed";function Vs(t,e){throw new Error(_ae)}var xae=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _l(t){"@babel/helpers - typeof";return _l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_l(t)}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function wae(t,e){return Sae(t)||Tae(t,e)||Eae(t,e)||bae()}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(t,e){if(t){if(typeof t=="string")return CC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CC(t,e)}}function CC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sae(t){if(Array.isArray(t))return t}function Aae(t,e){if(t==null)return{};var n=Iae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function Nae(t,e,n){return e&&Pae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kae(t,e,n){return e=Qp(e),Rae(t,M$()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Rae(t,e){if(e&&(_l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(t)}function Mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M$=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Oae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function O$(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=Dae(t,"string");return _l(e)=="symbol"?e:e+""}function Dae(t,e){if(_l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hg=function(t){function e(){return Cae(this,e),kae(this,e,arguments)}return Oae(e,t),Nae(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,h=Aae(r,xae),y=Re(h,!1);this.props.direction==="x"&&c.type!=="number"&&Vs();var v=l.map(function(w){var _=u(w,a),x=_.x,b=_.y,T=_.value,N=_.errorVal;if(!N)return null;var A=[],P,S;if(Array.isArray(N)){var C=wae(N,2);P=C[0],S=C[1]}else P=S=N;if(o==="vertical"){var I=c.scale,R=b+i,M=R+s,D=R-s,O=I(T-P),U=I(T+S);A.push({x1:U,y1:M,x2:U,y2:D}),A.push({x1:O,y1:R,x2:U,y2:R}),A.push({x1:O,y1:M,x2:O,y2:D})}else if(o==="horizontal"){var B=d.scale,G=x+i,W=G-s,V=G+s,K=B(T-P),Y=B(T+S);A.push({x1:W,y1:Y,x2:V,y2:Y}),A.push({x1:G,y1:K,x2:G,y2:Y}),A.push({x1:W,y1:K,x2:V,y2:K})}return j.createElement(gt,Xp({className:"recharts-errorBar",key:"bar-".concat(A.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},y),A.map(function(se){return j.createElement("line",Xp({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return j.createElement(gt,{className:"recharts-errorBars"},v)}}])}(j.Component);O$(Hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});O$(Hg,"displayName","ErrorBar");function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function PC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ns(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PC(Object(n),!0).forEach(function(r){Lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lae(t,e,n){return e=$ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ae(t){var e=jae(t,"string");return nd(e)=="symbol"?e:e+""}function jae(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=qn(n,Ba);if(!s)return null;var a=Ba.defaultProps,l=a!==void 0?ns(ns({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var h=d.item,y=d.props,v=y.sectors||y.data||[];return c.concat(v.map(function(w){return{type:s.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(r||[]).map(function(c){var d=c.item,h=d.type.defaultProps,y=h!==void 0?ns(ns({},h),d.props):{},v=y.dataKey,w=y.name,_=y.legendType,x=y.hide;return{inactive:x,dataKey:v,type:l.iconType||_||"square",color:DE(d),value:w||v,payload:y}}),ns(ns(ns({},l),Ba.getWithHeight(s,i)),{},{payload:u,item:s})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function NC(t){return Bae(t)||Fae(t)||Uae(t)||Vae()}function Vae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uae(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function Fae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bae(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(n),!0).forEach(function(r){qa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qa(t,e,n){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=qae(t,"string");return rd(e)=="symbol"?e:e+""}function qae(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return De(t)||De(e)?n:Dt(e)?dr(t,e,n):Pe(e)?e(t):n}function uc(t,e,n,r){var i=Fse(t,function(a){return Yn(a,e)});if(n==="number"){var o=i.filter(function(a){return re(a)||parseFloat(a)});return o.length?[Gg(o),po(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!De(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var zae=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Ir(d-c)!==Ir(h-d)){var v=[];if(Ir(h-d)===Ir(l[1]-l[0])){y=h;var w=d+l[1]-l[0];v[0]=Math.min(w,(w+c)/2),v[1]=Math.max(w,(w+c)/2)}else{y=c;var _=h+l[1]-l[0];v[0]=Math.min(d,(_+d)/2),v[1]=Math.max(d,(_+d)/2)}var x=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>x[0]&&e<=x[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var b=Math.min(c,h),T=Math.max(c,h);if(e>(b+d)/2&&e<=(T+d)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},DE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Hae=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),h=0,y=d.length;h<y;h++){var v=c[d[h]],w=v.items,_=v.cateAxisId,x=w.filter(function(S){return xi(S.type).indexOf("Bar")>=0});if(x&&x.length){var b=x[0].type.defaultProps,T=b!==void 0?bt(bt({},b),x[0].props):x[0].props,N=T.barSize,A=T[_];s[A]||(s[A]=[]);var P=De(N)?n:N;s[A].push({item:x[0],stackList:x.slice(1),barSize:De(P)?void 0:$s(P,r,0)})}}return s},Wae=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=$s(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(N,A){return N+A.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var w=(i-v)/2>>0,_={offset:w-u,size:0};c=s.reduce(function(N,A){var P={item:A.item,position:{offset:_.offset+_.size+u,size:h?y:A.barSize}},S=[].concat(NC(N),[P]);return _=S[S.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:_})}),S},d)}else{var x=$s(r,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var b=(i-2*x-(l-1)*u)/l;b>1&&(b>>=0);var T=a===+a?Math.min(b,a):b;c=s.reduce(function(N,A,P){var S=[].concat(NC(N),[{item:A.item,position:{offset:x+(b+u)*P+(b-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(C){S.push({item:C,position:S[S.length-1].position})}),S},d)}return c},Kae=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=L$({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,h=c.height,y=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&y!=="center"&&re(e[y]))return bt(bt({},e),{},qa({},y,e[y]+(d||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&v!=="middle"&&re(e[v]))return bt(bt({},e),{},qa({},v,e[v]+(h||0)))}return e},Jae=function(e,n,r){return De(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$$=function(e,n,r,i,o){var s=n.props.children,a=Nr(s,Hg).filter(function(u){return Jae(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=Yn(c,r);if(De(d))return u;var h=Array.isArray(d)?[Gg(d),po(d)]:[d,d],y=l.reduce(function(v,w){var _=Yn(c,w,0),x=h[0]-Math.abs(Array.isArray(_)?_[0]:_),b=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(x,v[0]),Math.max(b,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},Yae=function(e,n,r,i,o){var s=n.map(function(a){return $$(e,a,r,o,i)}).filter(function(a){return!De(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},j$=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&$$(e,l,u,i)||uc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},V$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},U$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},vi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Ir(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var h=o?o.indexOf(d):d;return{coordinate:i(h)+u,value:d,offset:u}});return c.filter(function(d){return!Hl(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+u,value:d,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,h){return{coordinate:i(d)+u,value:o?o[d]:d,index:h,offset:u}})},Pv=new WeakMap,Xf=function(e,n){if(typeof n!="function")return e;Pv.has(e)||Pv.set(e,new WeakMap);var r=Pv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Xae=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Kc(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Hp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:lc(),realScaleType:"point"}:o==="category"?{scale:Kc(),realScaleType:"band"}:{scale:Hp(),realScaleType:"linear"};if(Ls(i)){var l="scale".concat(Ng(i));return{scale:(TC[l]||lc)(),realScaleType:TC[l]?l:"point"}}return Pe(i)?{scale:i}:{scale:lc(),realScaleType:"point"}},RC=1e-4,Qae=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-RC,s=Math.max(i[0],i[1])+RC,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Zae=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ele=function(e,n){if(!n||n.length!==2||!re(n[0])||!re(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(o[0]=r),(!re(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},tle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Hl(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},nle=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Hl(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},rle={sign:tle,expand:yK,none:dl,silhouette:vK,wiggle:_K,positive:nle},ile=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=rle[r],s=gK().keys(i).value(function(a,l){return+Yn(a,l,0)}).order(y_).offset(o);return s(e)},ole=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?bt(bt({},h.type.defaultProps),h.props):h.props,w=v.stackId,_=v.hide;if(_)return d;var x=v[r],b=d[x]||{hasStack:!1,stackGroups:{}};if(Dt(w)){var T=b.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),b.hasStack=!0,b.stackGroups[w]=T}else b.stackGroups[qd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return bt(bt({},d),{},qa({},x,b))},l),c={};return Object.keys(u).reduce(function(d,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,_){var x=y.stackGroups[_];return bt(bt({},w),{},qa({},_,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:ile(e,x.items,o)}))},v)}return bt(bt({},d),{},qa({},h,y))},c)},sle=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=yae(u,o,a);return e.domain([Gg(c),po(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),h=vae(d,o,a);return{niceTicks:h}}return null};function MC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!De(i[e.dataKey])){var a=bp(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=Yn(i,De(s)?e.dataKey:s);return De(l)?null:e.scale(l)}var OC=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Yn(s,n.dataKey,n.domain[a]);return De(l)?null:n.scale(l)-o/2+i},ale=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},lle=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},ule=function(e){return e.reduce(function(n,r){return[Gg(r.concat([n[0]]).filter(re)),po(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},F$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=ule(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W_=function(e,n,r){if(Pe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DC.test(e[0])){var o=+DC.exec(e[0])[1];i[0]=n[0]-o}else Pe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(LC.test(e[1])){var s=+LC.exec(e[1])[1];i[1]=n[1]+s}else Pe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=uE(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},$C=function(e,n,r){return!e||!e.length||Zc(e,dr(r,"type.defaultProps.domain"))?n:e},B$=function(e,n){var r=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return bt(bt({},Re(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:DE(e),value:Yn(n,i),type:l,payload:n,chartType:u,hide:c})};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function jC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jC(Object(n),!0).forEach(function(r){cle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cle(t,e,n){return e=dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return id(e)=="symbol"?e:e+""}function fle(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em=Math.PI/180,hle=function(e){return e*180/Math.PI},Zt=function(e,n,r,i){return{x:e+Math.cos(-em*i)*r,y:n+Math.sin(-em*i)*r}},ple=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},mle=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=ple({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:hle(u),angleInRadian:u}},gle=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},yle=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},UC=function(e,n){var r=e.x,i=e.y,o=mle({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=gle(n),d=c.startAngle,h=c.endAngle,y=a,v;if(d<=h){for(;y>h;)y-=360;for(;y<d;)y+=360;v=y>=d&&y<=h}else{for(;y>d;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=d}return v?VC(VC({},n),{},{radius:s,angle:yle(y,n)}):null};function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var vle=["offset"];function _le(t){return Ele(t)||ble(t)||wle(t)||xle()}function xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wle(t,e){if(t){if(typeof t=="string")return K_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K_(t,e)}}function ble(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ele(t){if(Array.isArray(t))return K_(t)}function K_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tle(t,e){if(t==null)return{};var n=Sle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FC(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return e=Ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ile(t){var e=Cle(t,"string");return od(e)=="symbol"?e:e+""}function Cle(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Ple=function(e){var n=e.value,r=e.formatter,i=De(e.children)?n:e.children;return Pe(r)?r(i):i},Nle=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),360);return r*i},kle=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,w=l.clockWise,_=(d+h)/2,x=Nle(y,v),b=x>=0?1:-1,T,N;i==="insideStart"?(T=y+b*s,N=w):i==="insideEnd"?(T=v-b*s,N=!w):i==="end"&&(T=v+b*s,N=w),N=x<=0?N:!N;var A=Zt(u,c,_,T),P=Zt(u,c,_,T+(N?1:-1)*359),S="M".concat(A.x,",").concat(A.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(N?0:1,`,
    `).concat(P.x,",").concat(P.y),C=De(e.id)?qd("recharts-radial-line-"):e.id;return j.createElement("text",sd({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",a)}),j.createElement("defs",null,j.createElement("path",{id:C,d:S})),j.createElement("textPath",{xlinkHref:"#".concat(C)},n))},Rle=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,h=(c+d)/2;if(i==="outside"){var y=Zt(s,a,u+r,h),v=y.x,w=y.y;return{x:v,y:w,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,x=Zt(s,a,_,h),b=x.x,T=x.y;return{x:b,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Mle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,h=d*i,y=d>0?"end":"start",v=d>0?"start":"end",w=u>=0?1:-1,_=w*i,x=w>0?"end":"start",b=w>0?"start":"end";if(o==="top"){var T={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Rt(Rt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Rt(Rt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var A={x:a-_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"};return Rt(Rt({},A),r?{width:Math.max(A.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:a+u+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Rt(Rt({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Rt({x:a+_,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},S):o==="insideRight"?Rt({x:a+u-_,y:l+c/2,textAnchor:x,verticalAnchor:"middle"},S):o==="insideTop"?Rt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},S):o==="insideBottom"?Rt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},S):o==="insideTopLeft"?Rt({x:a+_,y:l+h,textAnchor:b,verticalAnchor:v},S):o==="insideTopRight"?Rt({x:a+u-_,y:l+h,textAnchor:x,verticalAnchor:v},S):o==="insideBottomLeft"?Rt({x:a+_,y:l+c-h,textAnchor:b,verticalAnchor:y},S):o==="insideBottomRight"?Rt({x:a+u-_,y:l+c-h,textAnchor:x,verticalAnchor:y},S):Bl(o)&&(re(o.x)||ps(o.x))&&(re(o.y)||ps(o.y))?Rt({x:a+$s(o.x,u),y:l+$s(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Rt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Ole=function(e){return"cx"in e&&re(e.cx)};function mn(t){var e=t.offset,n=e===void 0?5:e,r=Tle(t,vle),i=Rt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,h=i.textBreakAll;if(!o||De(a)&&De(l)&&!$.isValidElement(u)&&!Pe(u))return null;if($.isValidElement(u))return $.cloneElement(u,i);var y;if(Pe(u)){if(y=$.createElement(u,i),$.isValidElement(y))return y}else y=Ple(i);var v=Ole(o),w=Re(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return kle(i,y,w);var _=v?Rle(i):Mle(i);return j.createElement(jp,sd({className:Fe("recharts-label",d)},w,_,{breakAll:h}),y)}mn.displayName="Label";var G$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,h=e.y,y=e.top,v=e.left,w=e.width,_=e.height,x=e.clockWise,b=e.labelViewBox;if(b)return b;if(re(w)&&re(_)){if(re(d)&&re(h))return{x:d,y:h,width:w,height:_};if(re(y)&&re(v))return{x:y,y:v,width:w,height:_}}return re(d)&&re(h)?{x:d,y:h,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:x}:e.viewBox?e.viewBox:{}},Dle=function(e,n){return e?e===!0?j.createElement(mn,{key:"label-implicit",viewBox:n}):Dt(e)?j.createElement(mn,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===mn?$.cloneElement(e,{key:"label-implicit",viewBox:n}):j.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Pe(e)?j.createElement(mn,{key:"label-implicit",content:e,viewBox:n}):Bl(e)?j.createElement(mn,sd({viewBox:n},e,{key:"label-implicit"})):null:null},Lle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=G$(e),s=Nr(i,mn).map(function(l,u){return $.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Dle(e.label,n||o);return[a].concat(_le(s))};mn.parseViewBox=G$;mn.renderCallByParent=Lle;function $le(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var jle=$le;const Vle=rt(jle);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var Ule=["valueAccessor"],Fle=["data","dataKey","clockWise","id","textBreakAll"];function Ble(t){return Hle(t)||zle(t)||qle(t)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qle(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function zle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hle(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function BC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BC(Object(n),!0).forEach(function(r){Wle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wle(t,e,n){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Jle(t,"string");return ad(e)=="symbol"?e:e+""}function Jle(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qC(t,e){if(t==null)return{};var n=Yle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xle=function(e){return Array.isArray(e.value)?Vle(e.value):e.value};function ko(t){var e=t.valueAccessor,n=e===void 0?Xle:e,r=qC(t,Ule),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=qC(r,Fle);return!i||!i.length?null:j.createElement(gt,{className:"recharts-label-list"},i.map(function(c,d){var h=De(o)?n(c,d):Yn(c&&c.payload,o),y=De(a)?{}:{id:"".concat(a,"-").concat(d)};return j.createElement(mn,tm({},Re(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:mn.parseViewBox(De(s)?c:GC(GC({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}ko.displayName="LabelList";function Qle(t,e){return t?t===!0?j.createElement(ko,{key:"labelList-implicit",data:e}):j.isValidElement(t)||Pe(t)?j.createElement(ko,{key:"labelList-implicit",data:e,content:t}):Bl(t)?j.createElement(ko,tm({data:e},t,{key:"labelList-implicit"})):null:null}function Zle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Nr(r,ko).map(function(s,a){return $.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Qle(t.label,e);return[o].concat(Ble(i))}ko.renderCallByParent=Zle;function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return ld(e)=="symbol"?e:e+""}function nue(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rue=function(e,n){var r=Ir(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Qf=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/em,h=u?o:o+s*d,y=Zt(n,r,c,h),v=Zt(n,r,i,h),w=u?o-s*d:o,_=Zt(n,r,c*Math.cos(d*em),w);return{center:y,circleTangency:v,lineTangency:_,theta:d}},q$=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=rue(s,a),u=s+l,c=Zt(n,r,o,s),d=Zt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=Zt(n,r,i,s),v=Zt(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},iue=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=Ir(c-u),h=Qf({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,w=h.theta,_=Qf({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),x=_.circleTangency,b=_.lineTangency,T=_.theta,N=l?Math.abs(u-c):Math.abs(u-c)-w-T;if(N<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):q$({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var A="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var P=Qf({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),S=P.circleTangency,C=P.lineTangency,I=P.theta,R=Qf({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),M=R.circleTangency,D=R.lineTangency,O=R.theta,U=l?Math.abs(u-c):Math.abs(u-c)-I-O;if(U<0&&s===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},oue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},z$=function(e){var n=HC(HC({},oue),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,h=n.className;if(s<o||c===d)return null;var y=Fe("recharts-sector",h),v=s-o,w=$s(a,v,0,!0),_;return w>0&&Math.abs(c-d)<360?_=iue({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):_=q$({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),j.createElement("path",Y_({},Re(n,!0),{className:y,d:_,role:"img"}))};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X_.apply(this,arguments)}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return e=aue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=lue(t,"string");return ud(e)=="symbol"?e:e+""}function lue(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JC={curveBasisClosed:oK,curveBasisOpen:sK,curveBasis:iK,curveBumpX:q7,curveBumpY:z7,curveLinearClosed:aK,curveLinear:Rg,curveMonotoneX:lK,curveMonotoneY:uK,curveNatural:cK,curveStep:dK,curveStepAfter:hK,curveStepBefore:fK},Zf=function(e){return e.x===+e.x&&e.y===+e.y},ku=function(e){return e.x},Ru=function(e){return e.y},uue=function(e,n){if(Pe(e))return e;var r="curve".concat(Ng(e));return(r==="curveMonotone"||r==="curveBump")&&n?JC["".concat(r).concat(n==="vertical"?"Y":"X")]:JC[r]||Rg},cue=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=uue(r,a),d=u?o.filter(function(w){return Zf(w)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(w){return Zf(w)}):s,v=d.map(function(w,_){return KC(KC({},w),{},{base:y[_]})});return a==="vertical"?h=Gf().y(Ru).x1(ku).x0(function(w){return w.base.x}):h=Gf().x(ku).y1(Ru).y0(function(w){return w.base.y}),h.defined(Zf).curve(c),h(v)}return a==="vertical"&&re(s)?h=Gf().y(Ru).x1(ku).x0(s):re(s)?h=Gf().x(ku).y1(Ru).y0(s):h=HD().x(ku).y(Ru),h.defined(Zf).curve(c),h(d)},cc=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?cue(e):i;return $.createElement("path",X_({},Re(e,!1),Ep(e),{className:Fe("recharts-curve",n),d:s,ref:o}))},H$={exports:{}},due="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fue=due,hue=fue;function W$(){}function K$(){}K$.resetWarningCache=W$;var pue=function(){function t(r,i,o,s,a,l){if(l!==hue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:K$,resetWarningCache:W$};return n.PropTypes=n,n};H$.exports=pue();var mue=H$.exports;const He=rt(mue),{getOwnPropertyNames:gue,getOwnPropertySymbols:yue}=Object,{hasOwnProperty:vue}=Object.prototype;function Nv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function eh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function _ue(t){return t!=null?t[Symbol.toStringTag]:void 0}function YC(t){return gue(t).concat(yue(t))}const xue=Object.hasOwn||((t,e)=>vue.call(t,e));function Js(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const wue="__v",bue="__o",Eue="_owner",{getOwnPropertyDescriptor:XC,keys:QC}=Object;function Tue(t,e){return t.byteLength===e.byteLength&&nm(new Uint8Array(t),new Uint8Array(e))}function Sue(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Aue(t,e){return t.byteLength===e.byteLength&&nm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Iue(t,e){return Js(t.getTime(),e.getTime())}function Cue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Pue(t,e){return t===e}function ZC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,d,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const Nue=Js;function kue(t,e,n){const r=QC(t);let i=r.length;if(QC(e).length!==i)return!1;for(;i-- >0;)if(!J$(t,e,n,r[i]))return!1;return!0}function Mu(t,e,n){const r=YC(t);let i=r.length;if(YC(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!J$(t,e,n,o)||(s=XC(t,o),a=XC(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Rue(t,e){return Js(t.valueOf(),e.valueOf())}function Mue(t,e){return t.source===e.source&&t.flags===e.flags}function eP(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function nm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Oue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function J$(t,e,n,r){return(r===Eue||r===bue||r===wue)&&(t.$$typeof||e.$$typeof)?!0:xue(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Due="[object ArrayBuffer]",Lue="[object Arguments]",$ue="[object Boolean]",jue="[object DataView]",Vue="[object Date]",Uue="[object Error]",Fue="[object Map]",Bue="[object Number]",Gue="[object Object]",que="[object RegExp]",zue="[object Set]",Hue="[object String]",Wue={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Kue="[object URL]",Jue=Object.prototype.toString;function Yue({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(_,x,b){if(_===x)return!0;if(_==null||x==null)return!1;const T=typeof _;if(T!==typeof x)return!1;if(T!=="object")return T==="number"?a(_,x,b):T==="function"?o(_,x,b):!1;const N=_.constructor;if(N!==x.constructor)return!1;if(N===Object)return l(_,x,b);if(Array.isArray(_))return e(_,x,b);if(N===Date)return r(_,x,b);if(N===RegExp)return c(_,x,b);if(N===Map)return s(_,x,b);if(N===Set)return d(_,x,b);const A=Jue.call(_);if(A===Vue)return r(_,x,b);if(A===que)return c(_,x,b);if(A===Fue)return s(_,x,b);if(A===zue)return d(_,x,b);if(A===Gue)return typeof _.then!="function"&&typeof x.then!="function"&&l(_,x,b);if(A===Kue)return y(_,x,b);if(A===Uue)return i(_,x,b);if(A===Lue)return l(_,x,b);if(Wue[A])return h(_,x,b);if(A===Due)return t(_,x,b);if(A===jue)return n(_,x,b);if(A===$ue||A===Bue||A===Hue)return u(_,x,b);if(v){let P=v[A];if(!P){const S=_ue(_);S&&(P=v[S])}if(P)return P(_,x,b)}return!1}}function Xue({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Tue,areArraysEqual:n?Mu:Sue,areDataViewsEqual:Aue,areDatesEqual:Iue,areErrorsEqual:Cue,areFunctionsEqual:Pue,areMapsEqual:n?Nv(ZC,Mu):ZC,areNumbersEqual:Nue,areObjectsEqual:n?Mu:kue,arePrimitiveWrappersEqual:Rue,areRegExpsEqual:Mue,areSetsEqual:n?Nv(eP,Mu):eP,areTypedArraysEqual:n?Nv(nm,Mu):nm,areUrlsEqual:Oue,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=eh(r.areArraysEqual),o=eh(r.areMapsEqual),s=eh(r.areObjectsEqual),a=eh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Que(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Zue({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const ece=Ho();Ho({strict:!0});Ho({circular:!0});Ho({circular:!0,strict:!0});Ho({createInternalComparator:()=>Js});Ho({strict:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js});Ho({circular:!0,createInternalComparator:()=>Js,strict:!0});function Ho(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Xue(t),s=Yue(o),a=n?n(s):Que(s);return Zue({circular:e,comparator:s,createState:r,equals:a,strict:i})}function tce(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function tP(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):tce(i)};requestAnimationFrame(r)}function Q_(t){"@babel/helpers - typeof";return Q_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q_(t)}function nce(t){return sce(t)||oce(t)||ice(t)||rce()}function rce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sce(t){if(Array.isArray(t))return t}function ace(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=nce(s),l=a[0],u=a.slice(1);if(typeof l=="number"){tP(i.bind(null,u),l);return}i(l),tP(i.bind(null,u));return}Q_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){Y$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y$(t,e,n){return e=lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=uce(t,"string");return cd(e)==="symbol"?e:String(e)}function uce(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cce=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},dce=function(e){return e},fce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dc=function(e,n){return Object.keys(n).reduce(function(r,i){return iP(iP({},r),{},Y$({},i,e(i,n[i])))},{})},oP=function(e,n,r){return e.map(function(i){return"".concat(fce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function hce(t,e){return gce(t)||mce(t,e)||X$(t,e)||pce()}function pce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function gce(t){if(Array.isArray(t))return t}function yce(t){return xce(t)||_ce(t)||X$(t)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X$(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function _ce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xce(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rm=1e-4,Q$=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Z$=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},sP=function(e,n){return function(r){var i=Q$(e,n);return Z$(i,r)}},wce=function(e,n){return function(r){var i=Q$(e,n),o=[].concat(yce(i.map(function(s,a){return s*a}).slice(1)),[0]);return Z$(o,r)}},aP=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=hce(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=sP(i,s),h=sP(o,a),y=wce(i,s),v=function(x){return x>1?1:x<0?0:x},w=function(x){for(var b=x>1?1:x,T=b,N=0;N<8;++N){var A=d(T)-b,P=y(T);if(Math.abs(A-b)<rm||P<rm)return h(T);T=v(T-A/P)}return h(T)};return w.isStepper=!1,w},bce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,h){var y=-(c-d)*r,v=h*o,w=h+(y-v)*a/1e3,_=h*a/1e3+c;return Math.abs(_-d)<rm&&Math.abs(w)<rm?[d,0]:[_,w]};return l.isStepper=!0,l.dt=a,l},Ece=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return aP(i);case"spring":return bce();default:if(i.split("(")[0]==="cubic-bezier")return aP(i)}return typeof i=="function"?i:null};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function lP(t){return Ace(t)||Sce(t)||ej(t)||Tce()}function Tce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ace(t){if(Array.isArray(t))return tx(t)}function uP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(n),!0).forEach(function(r){ex(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ex(t,e,n){return e=Ice(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ice(t){var e=Cce(t,"string");return dd(e)==="symbol"?e:String(e)}function Cce(t,e){if(dd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pce(t,e){return Rce(t)||kce(t,e)||ej(t,e)||Nce()}function Nce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ej(t,e){if(t){if(typeof t=="string")return tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tx(t,e)}}function tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rce(t){if(Array.isArray(t))return t}var im=function(e,n,r){return e+(n-e)*r},nx=function(e){var n=e.from,r=e.to;return n!==r},Mce=function t(e,n,r){var i=dc(function(o,s){if(nx(s)){var a=e(s.from,s.to,s.velocity),l=Pce(a,2),u=l[0],c=l[1];return Jt(Jt({},s),{},{from:u,velocity:c})}return s},n);return r<1?dc(function(o,s){return nx(s)?Jt(Jt({},s),{},{velocity:im(s.velocity,i[o].velocity,r),from:im(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Oce=function(t,e,n,r,i){var o=cce(t,e),s=o.reduce(function(_,x){return Jt(Jt({},_),{},ex({},x,[t[x],e[x]]))},{}),a=o.reduce(function(_,x){return Jt(Jt({},_),{},ex({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,c,d=function(){return null},h=function(){return dc(function(x,b){return b.from},a)},y=function(){return!Object.values(a).filter(nx).length},v=function(x){u||(u=x);var b=x-u,T=b/n.dt;a=Mce(n,a,T),i(Jt(Jt(Jt({},t),e),h())),u=x,y()||(l=requestAnimationFrame(d))},w=function(x){c||(c=x);var b=(x-c)/r,T=dc(function(A,P){return im.apply(void 0,lP(P).concat([n(b)]))},s);if(i(Jt(Jt(Jt({},t),e),T)),b<1)l=requestAnimationFrame(d);else{var N=dc(function(A,P){return im.apply(void 0,lP(P).concat([n(1)]))},s);i(Jt(Jt(Jt({},t),e),N))}};return d=n.isStepper?v:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}var Dce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Lce(t,e){if(t==null)return{};var n=$ce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kv(t){return Fce(t)||Uce(t)||Vce(t)||jce()}function jce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(t,e){if(t){if(typeof t=="string")return rx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rx(t,e)}}function Uce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fce(t){if(Array.isArray(t))return rx(t)}function rx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){zu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t,e,n){return e=tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tj(r.key),r)}}function qce(t,e,n){return e&&Gce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tj(t){var e=zce(t,"string");return xl(e)==="symbol"?e:String(e)}function zce(t,e){if(xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ix(t,e)}function ix(t,e){return ix=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ix(t,e)}function Wce(t){var e=Kce();return function(){var r=om(t),i;if(e){var o=om(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return ox(this,i)}}function ox(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sx(t)}function sx(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function om(t){return om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},om(t)}var Li=function(t){Hce(n,t);var e=Wce(n);function n(r,i){var o;Bce(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(sx(o)),o.changeStyle=o.changeStyle.bind(sx(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),ox(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof h=="function")return o.state={style:u},ox(o);o.state={style:l?zu({},l,u):u}}else o.state={style:{}};return o}return qce(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,h=this.state.style;if(a){if(!s){var y={style:l?zu({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(ece(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?d:i.to;if(this.state&&h){var _={style:l?zu({},l,w):w};(l&&h[l]!==w||!l&&h!==w)&&this.setState(_)}this.runAnimation(wr(wr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,y=Oce(s,a,Ece(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,h=d===void 0?0:d,y=function(w,_,x){if(x===0)return w;var b=_.duration,T=_.easing,N=T===void 0?"ease":T,A=_.style,P=_.properties,S=_.onAnimationEnd,C=x>0?s[x-1]:_,I=P||Object.keys(A);if(typeof N=="function"||N==="spring")return[].concat(kv(w),[o.runJSAnimation.bind(o,{from:C.style,to:A,duration:b,easing:N}),b]);var R=oP(I,b,N),M=wr(wr(wr({},C.style),A),{},{transition:R});return[].concat(kv(w),[M,b,S]).filter(dce)};return this.manager.start([l].concat(kv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ace());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var w=a?zu({},a,l):l,_=oP(Object.keys(w),s,u);v.start([c,o,wr(wr({},w),{},{transition:_}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Lce(i,Dce),u=$.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var v=y.props,w=v.style,_=w===void 0?{}:w,x=v.className,b=$.cloneElement(y,wr(wr({},l),{},{style:wr(wr({},_),c),className:x}));return b};return u===1?d($.Children.only(o)):j.createElement("div",null,$.Children.map(o,function(h){return d(h)}))}}]),n}($.PureComponent);Li.displayName="Animate";Li.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Li.propTypes={from:He.oneOfType([He.object,He.string]),to:He.oneOfType([He.object,He.string]),attributeName:He.string,duration:He.number,begin:He.number,easing:He.oneOfType([He.string,He.func]),steps:He.arrayOf(He.shape({duration:He.number.isRequired,style:He.object.isRequired,easing:He.oneOfType([He.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),He.func]),properties:He.arrayOf("string"),onAnimationEnd:He.func})),children:He.oneOfType([He.node,He.func]),isActive:He.bool,canBegin:He.bool,onAnimationEnd:He.func,shouldReAnimate:He.bool,onAnimationStart:He.func,onAnimationReStart:He.func};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function sm(){return sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sm.apply(this,arguments)}function Jce(t,e){return Zce(t)||Qce(t,e)||Xce(t,e)||Yce()}function Yce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xce(t,e){if(t){if(typeof t=="string")return dP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dP(t,e)}}function dP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Zce(t){if(Array.isArray(t))return t}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return e=tde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return fd(e)=="symbol"?e:e+""}function nde(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pP=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],h=0,y=4;h<y;h++)d[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},rde=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=h}return!1},ide={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LE=function(e){var n=hP(hP({},ide),e),r=$.useRef(),i=$.useState(-1),o=Jce(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,h=n.radius,y=n.className,v=n.animationEasing,w=n.animationDuration,_=n.animationBegin,x=n.isAnimationActive,b=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var T=Fe("recharts-rectangle",y);return b?j.createElement(Li,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:w,animationEasing:v,isActive:b},function(N){var A=N.width,P=N.height,S=N.x,C=N.y;return j.createElement(Li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:x,easing:v},j.createElement("path",sm({},Re(n,!0),{className:T,d:pP(S,C,A,P,h),ref:r})))}):j.createElement("path",sm({},Re(n,!0),{className:T,d:pP(l,u,c,d,h)}))};function ax(){return ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ax.apply(this,arguments)}var $E=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Fe("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",ax({},Re(e,!1),Ep(e),{className:s,cx:n,cy:r,r:i})):null};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var ode=["x","y","top","left","width","height","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(this,arguments)}function mP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sde(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mP(Object(n),!0).forEach(function(r){ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ade(t,e,n){return e=lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=ude(t,"string");return hd(e)=="symbol"?e:e+""}function ude(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cde(t,e){if(t==null)return{};var n=dde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fde=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},hde=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,w=cde(e,ode),_=sde({x:r,y:o,top:a,left:u,width:d,height:y},w);return!re(r)||!re(o)||!re(d)||!re(y)||!re(a)||!re(u)?null:j.createElement("path",lx({},Re(_,!0),{className:Fe("recharts-cross",v),d:fde(r,o,d,y,a,u)}))},pde=gL,mde=pde(Object.getPrototypeOf,Object),gde=mde,yde=Fi,vde=gde,_de=Bi,xde="[object Object]",wde=Function.prototype,bde=Object.prototype,nj=wde.toString,Ede=bde.hasOwnProperty,Tde=nj.call(Object);function Sde(t){if(!_de(t)||yde(t)!=xde)return!1;var e=vde(t);if(e===null)return!0;var n=Ede.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nj.call(n)==Tde}var Ade=Sde;const Ide=rt(Ade);var Cde=Fi,Pde=Bi,Nde="[object Boolean]";function kde(t){return t===!0||t===!1||Pde(t)&&Cde(t)==Nde}var Rde=kde;const Mde=rt(Rde);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function Ode(t,e){return jde(t)||$de(t,e)||Lde(t,e)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lde(t,e){if(t){if(typeof t=="string")return gP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gP(t,e)}}function gP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $de(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jde(t){if(Array.isArray(t))return t}function yP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yP(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return e=Ude(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ude(t){var e=Fde(t,"string");return pd(e)=="symbol"?e:e+""}function Fde(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _P=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Bde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Gde=function(e){var n=vP(vP({},Bde),e),r=$.useRef(),i=$.useState(-1),o=Ode(i,2),s=o[0],a=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&a(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,w=n.animationDuration,_=n.animationBegin,x=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||h!==+h||c===0&&d===0||h===0)return null;var b=Fe("recharts-trapezoid",y);return x?j.createElement(Li,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:h,x:l,y:u},duration:w,animationEasing:v,isActive:x},function(T){var N=T.upperWidth,A=T.lowerWidth,P=T.height,S=T.x,C=T.y;return j.createElement(Li,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:v},j.createElement("path",am({},Re(n,!0),{className:b,d:_P(S,C,N,A,P),ref:r})))}):j.createElement("g",null,j.createElement("path",am({},Re(n,!0),{className:b,d:_P(l,u,c,d,h)})))},qde=["option","shapeType","propTransformer","activeClassName","isActive"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function zde(t,e){if(t==null)return{};var n=Hde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(n),!0).forEach(function(r){Wde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wde(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Jde(t,"string");return md(e)=="symbol"?e:e+""}function Jde(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){return lm(lm({},e),t)}function Xde(t,e){return t==="symbols"}function wP(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return j.createElement(LE,n);case"trapezoid":return j.createElement(Gde,n);case"sector":return j.createElement(z$,n);case"symbols":if(Xde(e))return j.createElement(tE,n);break;default:return null}}function Qde(t){return $.isValidElement(t)?t.props:t}function Zde(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Yde:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=zde(t,qde),u;if($.isValidElement(e))u=$.cloneElement(e,lm(lm({},l),Qde(e)));else if(Pe(e))u=e(l);else if(Ide(e)&&!Mde(e)){var c=i(e,l);u=j.createElement(wP,{shapeType:n,elementProps:c})}else{var d=l;u=j.createElement(wP,{shapeType:n,elementProps:d})}return a?j.createElement(gt,{className:s},u):u}function Wg(t,e){return e!=null&&"trapezoids"in t.props}function Kg(t,e){return e!=null&&"sectors"in t.props}function gd(t,e){return e!=null&&"points"in t.props}function efe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function tfe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function nfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function rfe(t,e){var n;return Wg(t,e)?n=efe:Kg(t,e)?n=tfe:gd(t,e)&&(n=nfe),n}function ife(t,e){var n;return Wg(t,e)?n="trapezoids":Kg(t,e)?n="sectors":gd(t,e)&&(n="points"),n}function ofe(t,e){if(Wg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Kg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gd(t,e)?e.payload:{}}function sfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=ife(n,e),o=ofe(n,e),s=r.filter(function(l,u){var c=Zc(o,l),d=n.props[i].filter(function(v){var w=rfe(n,e);return w(v,e)}),h=n.props[i].indexOf(d[d.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var afe=Math.ceil,lfe=Math.max;function ufe(t,e,n,r){for(var i=-1,o=lfe(afe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var cfe=ufe,dfe=DL,bP=1/0,ffe=17976931348623157e292;function hfe(t){if(!t)return t===0?t:0;if(t=dfe(t),t===bP||t===-bP){var e=t<0?-1:1;return e*ffe}return t===t?t:0}var rj=hfe,pfe=cfe,mfe=Lg,Rv=rj;function gfe(t){return function(e,n,r){return r&&typeof r!="number"&&mfe(e,n,r)&&(n=r=void 0),e=Rv(e),n===void 0?(n=e,e=0):n=Rv(n),r=r===void 0?e<n?1:-1:Rv(r),pfe(e,n,r,t)}}var yfe=gfe,vfe=yfe,_fe=vfe(),xfe=_fe;const um=rt(xfe);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){ij(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ij(t,e,n){return e=wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=bfe(t,"string");return yd(e)=="symbol"?e:e+""}function bfe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Efe=["Webkit","Moz","O","ms"],Tfe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Efe.reduce(function(o,s){return TP(TP({},o),{},ij({},s+r,n))},{});return i[e]=n,i};function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sj(r.key),r)}}function Afe(t,e,n){return e&&AP(t.prototype,e),n&&AP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ife(t,e,n){return e=dm(e),Cfe(t,oj()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function Cfe(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pfe(t)}function Pfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oj=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function Nfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ux(t,e)}function ux(t,e){return ux=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ux(t,e)}function Bn(t,e,n){return e=sj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sj(t){var e=kfe(t,"string");return wl(e)=="symbol"?e:e+""}function kfe(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rfe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=lc().domain(um(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},IP=function(e){return e.changedTouches&&!!e.changedTouches.length},bl=function(t){function e(n){var r;return Sfe(this,e),r=Ife(this,e,[n]),Bn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Bn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Bn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Bn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Bn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Bn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Bn(r,"handleSlideDragStart",function(i){var o=IP(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Nfe(e,t),Afe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,d),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Yn(o[r],a,r);return Pe(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,w=r.pageX-o;w>0?w=Math.min(w,u+c-d-a,u+c-d-s):w<0&&(w=Math.max(w,u-s,u-a));var _=this.getIndex({startX:s+w,endX:a+w});(_.startIndex!==h||_.endIndex!==y)&&v&&v(_),this.setState({startX:s+w,endX:a+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=IP(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,w=c.gap,_=c.data,x={startX:this.state.startX,endX:this.state.endX},b=r.pageX-o;b>0?b=Math.min(b,d+h-y-u):b<0&&(b=Math.max(b,d-u)),x[s]=u+b;var T=this.getIndex(x),N=T.startIndex,A=T.endIndex,P=function(){var C=_.length-1;return s==="startX"&&(a>l?N%w===0:A%w===0)||a<l&&A===C||s==="endX"&&(a>l?A%w===0:N%w===0)||a>l&&A===C};this.setState(Bn(Bn({},s,u+b),"brushMoveStartX",r.pageX),function(){v&&P()&&v(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Bn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return j.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=$.Children.only(u);return d?j.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,w=l.startIndex,_=l.endIndex,x=Math.max(r,this.props.x),b=Mv(Mv({},Re(this.props,!1)),{},{x,y:u,width:c,height:d}),T=y||"Min value: ".concat((o=v[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[_])===null||s===void 0?void 0:s.name);return j.createElement(gt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),a.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return j.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return j.createElement(gt,{className:"recharts-brush-texts"},j.createElement(jp,cm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-y,y:s+a/2},v),this.getTextOfTick(i)),j.createElement(jp,cm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,w=h.isTextActive,_=h.isSlideMoving,x=h.isTravellerMoving,b=h.isTravellerFocused;if(!i||!i.length||!re(a)||!re(l)||!re(u)||!re(c)||u<=0||c<=0)return null;var T=Fe("recharts-brush",o),N=j.Children.count(s)===1,A=Tfe("userSelect","none");return j.createElement(gt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(w||_||x||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return j.createElement(j.Fragment,null,j.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),j.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),j.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return j.isValidElement(r)?o=j.cloneElement(r,i):Pe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Mv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?Rfe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}($.PureComponent);Bn(bl,"displayName","Brush");Bn(bl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Mfe=lE;function Ofe(t,e){var n;return Mfe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Dfe=Ofe,Lfe=lL,$fe=Go,jfe=Dfe,Vfe=jn,Ufe=Lg;function Ffe(t,e,n){var r=Vfe(t)?Lfe:jfe;return n&&Ufe(t,e,n)&&(e=void 0),r(t,$fe(e))}var Bfe=Ffe;const Gfe=rt(Bfe);var Xr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},CP=NL;function qfe(t,e,n){e=="__proto__"&&CP?CP(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var zfe=qfe,Hfe=zfe,Wfe=CL,Kfe=Go;function Jfe(t,e){var n={};return e=Kfe(e),Wfe(t,function(r,i,o){Hfe(n,i,e(r,i,o))}),n}var Yfe=Jfe;const Xfe=rt(Yfe);function Qfe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Zfe=Qfe,ehe=lE;function the(t,e){var n=!0;return ehe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var nhe=the,rhe=Zfe,ihe=nhe,ohe=Go,she=jn,ahe=Lg;function lhe(t,e,n){var r=she(t)?rhe:ihe;return n&&ahe(t,e,n)&&(e=void 0),r(t,ohe(e))}var uhe=lhe;const aj=rt(uhe);var che=["x","y"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return vd(e)=="symbol"?e:e+""}function hhe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function phe(t,e){if(t==null)return{};var n=mhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ghe(t,e){var n=t.x,r=t.y,i=phe(t,che),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Ou(Ou(Ou(Ou(Ou({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function NP(t){return j.createElement(Zde,cx({shapeType:"rectangle",propTransformer:ghe,activeClassName:"recharts-active-bar"},t))}var yhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=re(r)||PW(r);return o?e(r,i):(o||Vs(),n)}},vhe=["value","background"],lj;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function _he(t,e){if(t==null)return{};var n=xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){mo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function whe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cj(r.key),r)}}function bhe(t,e,n){return e&&RP(t.prototype,e),n&&RP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ehe(t,e,n){return e=hm(e),The(t,uj()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function The(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return She(t)}function She(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uj=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Ahe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dx(t,e)}function dx(t,e){return dx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dx(t,e)}function mo(t,e,n){return e=cj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cj(t){var e=Ihe(t,"string");return El(e)=="symbol"?e:e+""}function Ihe(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yd=function(t){function e(){var n;whe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ehe(this,e,[].concat(i)),mo(n,"state",{isAnimationFinished:!1}),mo(n,"id",qd("recharts-bar-")),mo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),mo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return Ahe(e,t),bhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Re(this.props,!1);return r&&r.map(function(d,h){var y=h===l,v=y?u:s,w=At(At(At({},c),d),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return j.createElement(gt,fm({className:"recharts-bar-rectangle"},Tp(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),j.createElement(NP,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state.prevData;return j.createElement(Li,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,w=o.map(function(_,x){var b=h&&h[x];if(b){var T=or(b.x,_.x),N=or(b.y,_.y),A=or(b.width,_.width),P=or(b.height,_.height);return At(At({},_),{},{x:T(v),y:N(v),width:A(v),height:P(v)})}if(s==="horizontal"){var S=or(0,_.height),C=S(v);return At(At({},_),{},{y:_.y+_.height-C,height:C})}var I=or(0,_.width),R=I(v);return At(At({},_),{},{width:R})});return j.createElement(gt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Zc(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=Re(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,h=_he(u,vhe);if(!d)return null;var y=At(At(At(At(At({},h),{},{fill:"#eee"},d),l),Tp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return j.createElement(NP,fm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Nr(c,Hg);if(!d)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(_,x){var b=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:b,errorVal:Yn(_,x)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return j.createElement(gt,v,d.map(function(w){return j.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,h=r.height,y=r.isAnimationActive,v=r.background,w=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,x=Fe("recharts-bar",s),b=a&&a.allowDataOverflow,T=l&&l.allowDataOverflow,N=b||T,A=De(w)?this.id:w;return j.createElement(gt,{className:x},b||T?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(A)},j.createElement("rect",{x:b?u:u-d/2,y:T?c:c-h/2,width:b?d:d*2,height:T?h:h*2}))):null,j.createElement(gt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(A,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,A),(!y||_)&&ko.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}($.PureComponent);lj=Yd;mo(Yd,"displayName","Bar");mo(Yd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});mo(Yd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=Zae(r,n);if(!y)return null;var v=e.layout,w=n.type.defaultProps,_=w!==void 0?At(At({},w),n.props):n.props,x=_.dataKey,b=_.children,T=_.minPointSize,N=v==="horizontal"?s:o,A=u?N.scale.domain():null,P=ale({numericAxis:N}),S=Nr(b,$L),C=d.map(function(I,R){var M,D,O,U,B,G;u?M=ele(u[c+R],A):(M=Yn(I,x),Array.isArray(M)||(M=[P,M]));var W=yhe(T,lj.defaultProps.minPointSize)(M[1],R);if(v==="horizontal"){var V,K=[s.scale(M[0]),s.scale(M[1])],Y=K[0],se=K[1];D=OC({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:I,index:R}),O=(V=se??Y)!==null&&V!==void 0?V:void 0,U=y.size;var ee=Y-se;if(B=Number.isNaN(ee)?0:ee,G={x:D,y:s.y,width:U,height:s.height},Math.abs(W)>0&&Math.abs(B)<Math.abs(W)){var le=Ir(B||W)*(Math.abs(W)-Math.abs(B));O-=le,B+=le}}else{var Ce=[o.scale(M[0]),o.scale(M[1])],Ne=Ce[0],We=Ce[1];if(D=Ne,O=OC({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:I,index:R}),U=We-Ne,B=y.size,G={x:o.x,y:O,width:o.width,height:B},Math.abs(W)>0&&Math.abs(U)<Math.abs(W)){var z=Ir(U||W)*(Math.abs(W)-Math.abs(U));U+=z}}return At(At(At({},I),{},{x:D,y:O,width:U,height:B,value:u?M:M[1],payload:I,background:G},S&&S[R]&&S[R].props),{},{tooltipPayload:[B$(n,I)],tooltipPosition:{x:D+U/2,y:O+B/2}})});return At({data:C,layout:v},h)});function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dj(r.key),r)}}function Phe(t,e,n){return e&&MP(t.prototype,e),n&&MP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OP(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jg(t,e,n){return e=dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dj(t){var e=Nhe(t,"string");return _d(e)=="symbol"?e:e+""}function Nhe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var khe=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!qn(u,Yd);return c.reduce(function(y,v){var w=n[v],_=w.orientation,x=w.domain,b=w.padding,T=b===void 0?{}:b,N=w.mirror,A=w.reversed,P="".concat(_).concat(N?"Mirror":""),S,C,I,R,M;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=x[1]-x[0],O=1/0,U=w.categoricalDomain.sort(RW);if(U.forEach(function(Ce,Ne){Ne>0&&(O=Math.min((Ce||0)-(U[Ne-1]||0),O))}),Number.isFinite(O)){var B=O/D,G=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(S=B*G/2),w.padding==="no-gap"){var W=$s(e.barCategoryGap,B*G),V=B*G/2;S=V-W-(V-W)/G*W}}}i==="xAxis"?C=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:C=w.range,A&&(C=[C[1],C[0]]);var K=Xae(w,o,h),Y=K.scale,se=K.realScaleType;Y.domain(x).range(C),Qae(Y);var ee=sle(Y,Tr(Tr({},w),{},{realScaleType:se}));i==="xAxis"?(M=_==="top"&&!N||_==="bottom"&&N,I=r.left,R=d[P]-M*w.height):i==="yAxis"&&(M=_==="left"&&!N||_==="right"&&N,I=d[P]-M*w.width,R=r.top);var le=Tr(Tr(Tr({},w),ee),{},{realScaleType:se,x:I,y:R,scale:Y,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return le.bandSize=Zp(le,ee),!w.hide&&i==="xAxis"?d[P]+=(M?-1:1)*le.height:w.hide||(d[P]+=(M?-1:1)*le.width),Tr(Tr({},y),{},Jg({},v,le))},{})},fj=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Rhe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return fj({x:n,y:r},{x:i,y:o})},hj=function(){function t(e){Che(this,t),this.scale=e}return Phe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Jg(hj,"EPS",1e-4);var jE=function(e){var n=Object.keys(e).reduce(function(r,i){return Tr(Tr({},r),{},Jg({},i,hj.create(e[i])))},{});return Tr(Tr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Xfe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return aj(i,function(o,s){return n[s].isInRange(o)})}})};function Mhe(t){return(t%180+180)%180}var Ohe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Mhe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},Dhe=Go,Lhe=zd,$he=Og;function jhe(t){return function(e,n,r){var i=Object(e);if(!Lhe(e)){var o=Dhe(n);e=$he(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var Vhe=jhe,Uhe=rj;function Fhe(t){var e=Uhe(t),n=e%1;return e===e?n?e-n:e:0}var Bhe=Fhe,Ghe=bL,qhe=Go,zhe=Bhe,Hhe=Math.max;function Whe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:zhe(n);return i<0&&(i=Hhe(r+i,0)),Ghe(t,qhe(e),i)}var Khe=Whe,Jhe=Vhe,Yhe=Khe,Xhe=Jhe(Yhe),Qhe=Xhe;const Zhe=rt(Qhe);var epe=DH(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),VE=$.createContext(void 0),UE=$.createContext(void 0),pj=$.createContext(void 0),mj=$.createContext({}),gj=$.createContext(void 0),yj=$.createContext(0),vj=$.createContext(0),DP=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=epe(o);return j.createElement(VE.Provider,{value:r},j.createElement(UE.Provider,{value:i},j.createElement(mj.Provider,{value:o},j.createElement(pj.Provider,{value:c},j.createElement(gj.Provider,{value:s},j.createElement(yj.Provider,{value:u},j.createElement(vj.Provider,{value:l},a)))))))},tpe=function(){return $.useContext(gj)},_j=function(e){var n=$.useContext(VE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},npe=function(){var e=$.useContext(VE);return lo(e)},rpe=function(){var e=$.useContext(UE),n=Zhe(e,function(r){return aj(r.domain,Number.isFinite)});return n||lo(e)},xj=function(e){var n=$.useContext(UE);n==null&&Vs();var r=n[e];return r==null&&Vs(),r},ipe=function(){var e=$.useContext(pj);return e},ope=function(){return $.useContext(mj)},FE=function(){return $.useContext(vj)},BE=function(){return $.useContext(yj)};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function spe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ape(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bj(r.key),r)}}function lpe(t,e,n){return e&&ape(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function upe(t,e,n){return e=pm(e),cpe(t,wj()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function cpe(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(t)}function dpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wj=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function fpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fx(t,e)}function fx(t,e){return fx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fx(t,e)}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){GE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GE(t,e,n){return e=bj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bj(t){var e=hpe(t,"string");return Tl(e)=="symbol"?e:e+""}function hpe(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ppe(t,e){return vpe(t)||ype(t,e)||gpe(t,e)||mpe()}function mpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ype(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function vpe(t){if(Array.isArray(t))return t}function hx(){return hx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hx.apply(this,arguments)}var _pe=function(e,n){var r;return j.isValidElement(e)?r=j.cloneElement(e,n):Pe(e)?r=e(n):r=j.createElement("line",hx({},n,{className:"recharts-reference-line-line"})),r},xpe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,h=o.width,y=o.height;if(r){var v=u.y,w=e.y.apply(v,{position:s});if(Xr(u,"discard")&&!e.y.isInRange(w))return null;var _=[{x:c+h,y:w},{x:c,y:w}];return l==="left"?_.reverse():_}if(n){var x=u.x,b=e.x.apply(x,{position:s});if(Xr(u,"discard")&&!e.x.isInRange(b))return null;var T=[{x:b,y:d+y},{x:b,y:d}];return a==="top"?T.reverse():T}if(i){var N=u.segment,A=N.map(function(P){return e.apply(P,{position:s})});return Xr(u,"discard")&&Gfe(A,function(P){return!e.isInRange(P)})?null:A}return null};function wpe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=tpe(),c=_j(i),d=xj(o),h=ipe();if(!u||!h)return null;wi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=jE({x:c.scale,y:d.scale}),v=Dt(e),w=Dt(n),_=r&&r.length===2,x=xpe(y,v,w,_,h,t.position,c.orientation,d.orientation,t);if(!x)return null;var b=ppe(x,2),T=b[0],N=T.x,A=T.y,P=b[1],S=P.x,C=P.y,I=Xr(t,"hidden")?"url(#".concat(u,")"):void 0,R=$P($P({clipPath:I},Re(t,!0)),{},{x1:N,y1:A,x2:S,y2:C});return j.createElement(gt,{className:Fe("recharts-reference-line",a)},_pe(s,R),mn.renderCallByParent(t,Rhe({x1:N,y1:A,x2:S,y2:C})))}var qE=function(t){function e(){return spe(this,e),upe(this,e,arguments)}return fpe(e,t),lpe(e,[{key:"render",value:function(){return j.createElement(wpe,this.props)}}])}(j.Component);GE(qE,"displayName","ReferenceLine");GE(qE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function px(){return px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},px.apply(this,arguments)}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Epe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tj(r.key),r)}}function Tpe(t,e,n){return e&&Epe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Spe(t,e,n){return e=mm(e),Ape(t,Ej()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function Ape(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ipe(t)}function Ipe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ej(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ej=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function Cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mx(t,e)}function mx(t,e){return mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mx(t,e)}function Yg(t,e,n){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tj(t){var e=Ppe(t,"string");return Sl(e)=="symbol"?e:e+""}function Ppe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Npe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=jE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Xr(e,"discard")&&!s.isInRange(a)?null:a},Xg=function(t){function e(){return bpe(this,e),Spe(this,e,arguments)}return Cpe(e,t),Tpe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(wi(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=Npe(this.props);if(!d)return null;var h=d.x,y=d.y,v=this.props,w=v.shape,_=v.className,x=Xr(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=UP(UP({clipPath:x},Re(this.props,!0)),{},{cx:h,cy:y});return j.createElement(gt,{className:Fe("recharts-reference-dot",_)},e.renderDot(w,b),mn.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(j.Component);Yg(Xg,"displayName","ReferenceDot");Yg(Xg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Yg(Xg,"renderDot",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Pe(t)?n=t(e):n=j.createElement($E,px({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function gx(){return gx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gx.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Qg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Aj(r.key),r)}}function Mpe(t,e,n){return e&&Rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ope(t,e,n){return e=gm(e),Dpe(t,Sj()?Reflect.construct(e,n||[],gm(t).constructor):e.apply(t,n))}function Dpe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lpe(t)}function Lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sj=function(){return!!t})()}function gm(t){return gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gm(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yx(t,e)}function yx(t,e){return yx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yx(t,e)}function Qg(t,e,n){return e=Aj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aj(t){var e=jpe(t,"string");return Al(e)=="symbol"?e:e+""}function jpe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vpe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var h=jE({x:c.scale,y:d.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xr(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:fj(y,v)},Zg=function(t){function e(){return kpe(this,e),Ope(this,e,arguments)}return $pe(e,t),Mpe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;wi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Dt(i),h=Dt(o),y=Dt(s),v=Dt(a),w=this.props.shape;if(!d&&!h&&!y&&!v&&!w)return null;var _=Vpe(d,h,y,v,this.props);if(!_&&!w)return null;var x=Xr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return j.createElement(gt,{className:Fe("recharts-reference-area",l)},e.renderRect(w,BP(BP({clipPath:x},Re(this.props,!0)),_)),mn.renderCallByParent(this.props,_))}}])}(j.Component);Qg(Zg,"displayName","ReferenceArea");Qg(Zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Qg(Zg,"renderRect",function(t,e){var n;return j.isValidElement(t)?n=j.cloneElement(t,e):Pe(t)?n=t(e):n=j.createElement(LE,gx({},e,{className:"recharts-reference-area-rect"})),n});function Ij(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Upe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ohe(r,n)}function Fpe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function ym(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Bpe(t,e){return Ij(t,e+1)}function Gpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Ij(r,u)};var w=l,_,x=function(){return _===void 0&&(_=n(v,w)),_},b=v.coordinate,T=l===0||ym(t,b,x,c,a);T||(l=0,c=s,u+=1),T&&(c=b+t*(x()/2+i),l+=u)},h;u<=o.length;)if(h=d(),h)return h.v;return[]}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return e=zpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zpe(t){var e=Hpe(t,"string");return xd(e)=="symbol"?e:e+""}function Hpe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wpe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,w=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var _=t*(y.coordinate+t*w()/2-l);o[h]=y=dn(dn({},y),{},{tickCoord:_>0?y.coordinate-_*t:y.coordinate})}else o[h]=y=dn(dn({},y),{},{tickCoord:y.coordinate});var x=ym(t,y.tickCoord,w,a,l);x&&(l=y.tickCoord-t*(w()/2+i),o[h]=dn(dn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function Kpe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),h=t*(c.coordinate+t*d/2-u);s[a-1]=c=dn(dn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=ym(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=dn(dn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,w=function(b){var T=s[b],N,A=function(){return N===void 0&&(N=n(T,b)),N};if(b===0){var P=t*(T.coordinate-t*A()/2-l);s[b]=T=dn(dn({},T),{},{tickCoord:P<0?T.coordinate-P*t:T.coordinate})}else s[b]=T=dn(dn({},T),{},{tickCoord:T.coordinate});var S=ym(t,T.tickCoord,A,l,u);S&&(l=T.tickCoord+t*(A()/2+i),s[b]=dn(dn({},T),{},{isShow:!0}))},_=0;_<v;_++)w(_);return s}function zE(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(re(l)||Yl.isSsr)return Bpe(i,typeof l=="number"&&re(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?ac(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(T,N){var A=Pe(u)?u(T.value,N):T.value;return y==="width"?Upe(ac(A,{fontSize:e,letterSpacing:n}),v,d):ac(A,{fontSize:e,letterSpacing:n})[y]},_=i.length>=2?Ir(i[1].coordinate-i[0].coordinate):1,x=Fpe(o,_,y);return l==="equidistantPreserveStart"?Gpe(_,x,w,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=Kpe(_,x,w,i,s,l==="preserveStartEnd"):h=Wpe(_,x,w,i,s),h.filter(function(b){return b.isShow}))}var Jpe=["viewBox"],Ype=["viewBox"],Xpe=["ticks"];function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sa.apply(this,arguments)}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){HE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ov(t,e){if(t==null)return{};var n=Qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pj(r.key),r)}}function eme(t,e,n){return e&&zP(t.prototype,e),n&&zP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tme(t,e,n){return e=vm(e),nme(t,Cj()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function nme(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rme(t)}function rme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cj=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vx(t,e)}function vx(t,e){return vx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vx(t,e)}function HE(t,e,n){return e=Pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pj(t){var e=ome(t,"string");return Il(e)=="symbol"?e:e+""}function ome(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(n){var r;return Zpe(this,e),r=tme(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ime(e,t),eme(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Ov(r,Jpe),a=this.props,l=a.viewBox,u=Ov(a,Ype);return!Fa(o,l)||!Fa(s,u)||!Fa(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,h=i.tickMargin,y,v,w,_,x,b,T=d?-1:1,N=r.tickSize||c,A=re(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,_=s+ +!d*l,w=_-T*N,b=w-T*h,x=A;break;case"left":w=_=r.coordinate,v=o+ +!d*a,y=v-T*N,x=y-T*h,b=A;break;case"right":w=_=r.coordinate,v=o+ +d*a,y=v+T*N,x=y+T*h,b=A;break;default:y=v=r.coordinate,_=s+ +d*l,w=_+T*N,b=w+T*h,x=A;break}return{line:{x1:y,y1:w,x2:v,y2:_},tick:{x,y:b}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=kt(kt(kt({},Re(this.props,!1)),Re(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);d=kt(kt({},d),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=kt(kt({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return j.createElement("line",Sa({},d,{className:Fe("recharts-cartesian-axis-line",dr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,h=a.unit,y=zE(kt(kt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),_=Re(this.props,!1),x=Re(c,!1),b=kt(kt({},_),{},{fill:"none"},Re(l,!1)),T=y.map(function(N,A){var P=s.getTickLineCoord(N),S=P.line,C=P.tick,I=kt(kt(kt(kt({textAnchor:v,verticalAnchor:w},_),{},{stroke:"none",fill:u},x),C),{},{index:A,payload:N,visibleTicksCount:y.length,tickFormatter:d});return j.createElement(gt,Sa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Tp(s.props,N,A)),l&&j.createElement("line",Sa({},b,S,{className:Fe("recharts-cartesian-axis-tick-line",dr(l,"className"))})),c&&e.renderTickItem(c,I,"".concat(Pe(d)?d(N.value,A):N.value).concat(h||"")))});return j.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,h=d.ticks,y=Ov(d,Xpe),v=h;return Pe(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:j.createElement(gt,{className:Fe("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),mn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Fe(i.className,"recharts-cartesian-axis-tick-value");return j.isValidElement(r)?s=j.cloneElement(r,kt(kt({},i),{},{className:a})):Pe(r)?s=r(kt(kt({},i),{},{className:a})):s=j.createElement(jp,Sa({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}($.Component);HE(eu,"displayName","CartesianAxis");HE(eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sme=["x1","y1","x2","y2","key"],ame=["offset"];function Us(t){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Us(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ume(t){var e=cme(t,"string");return Us(e)=="symbol"?e:e+""}function cme(t,e){if(Us(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ys(){return ys=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ys.apply(this,arguments)}function WP(t,e){if(t==null)return{};var n=dme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var fme=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return j.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Nj(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=WP(e,sme),u=Re(l,!1);u.offset;var c=WP(u,ame);n=j.createElement("line",ys({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function hme(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Nj(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pme(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=gn(gn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Nj(i,u)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function mme(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],w=v?i+s-h:c[y+1]-h;if(w<=0)return null;var _=y%e.length;return j.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:w,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gme(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var d=c.map(function(h,y){var v=!c[y+1],w=v?o+a-h:c[y+1]-h;if(w<=0)return null;var _=y%r.length;return j.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:w,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yme=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return U$(zE(gn(gn(gn({},eu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},vme=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return U$(zE(gn(gn(gn({},eu.defaultProps),r),{},{ticks:vi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},sa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kj(t){var e,n,r,i,o,s,a=FE(),l=BE(),u=ope(),c=gn(gn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:sa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:sa.verticalFill,x:re(t.x)?t.x:u.left,y:re(t.y)?t.y:u.top,width:re(t.width)?t.width:u.width,height:re(t.height)?t.height:u.height}),d=c.x,h=c.y,y=c.width,v=c.height,w=c.syncWithTicks,_=c.horizontalValues,x=c.verticalValues,b=npe(),T=rpe();if(!re(y)||y<=0||!re(v)||v<=0||!re(d)||d!==+d||!re(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||yme,A=c.horizontalCoordinatesGenerator||vme,P=c.horizontalPoints,S=c.verticalPoints;if((!P||!P.length)&&Pe(A)){var C=_&&_.length,I=A({yAxis:T?gn(gn({},T),{},{ticks:C?_:T.ticks}):void 0,width:a,height:l,offset:u},C?!0:w);wi(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Us(I),"]")),Array.isArray(I)&&(P=I)}if((!S||!S.length)&&Pe(N)){var R=x&&x.length,M=N({xAxis:b?gn(gn({},b),{},{ticks:R?x:b.ticks}):void 0,width:a,height:l,offset:u},R?!0:w);wi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Us(M),"]")),Array.isArray(M)&&(S=M)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(fme,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),j.createElement(hme,ys({},c,{offset:u,horizontalPoints:P,xAxis:b,yAxis:T})),j.createElement(pme,ys({},c,{offset:u,verticalPoints:S,xAxis:b,yAxis:T})),j.createElement(mme,ys({},c,{horizontalPoints:P})),j.createElement(gme,ys({},c,{verticalPoints:S})))}kj.displayName="CartesianGrid";var _me=["layout","type","stroke","connectNulls","isRange","ref"],xme=["key"],Rj;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Mj(t,e){if(t==null)return{};var n=wme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vs(){return vs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vs.apply(this,arguments)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dj(r.key),r)}}function Eme(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tme(t,e,n){return e=_m(e),Sme(t,Oj()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function Sme(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oj=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function Ime(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_x(t,e)}function _x(t,e){return _x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_x(t,e)}function Br(t,e,n){return e=Dj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dj(t){var e=Cme(t,"string");return Cl(e)=="symbol"?e:e+""}function Cme(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $i=function(t){function e(){var n;bme(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tme(this,e,[].concat(i)),Br(n,"state",{isAnimationFinished:!0}),Br(n,"id",qd("recharts-area-")),Br(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Pe(s)&&s()}),Br(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Pe(s)&&s()}),n}return Ime(e,t),Eme(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,h=Re(this.props,!1),y=Re(u,!0),v=c.map(function(_,x){var b=Zi(Zi(Zi({key:"dot-".concat(x),r:3},h),y),{},{index:x,cx:_.x,cy:_.y,dataKey:d,value:_.value,payload:_.payload,points:c});return e.renderDotItem(u,b)}),w={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return j.createElement(gt,vs({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=po(s.map(function(h){return h.y||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(po(o.map(function(h){return h.y||0})),d)),re(d)?j.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=po(s.map(function(h){return h.x||0}));return re(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(po(o.map(function(h){return h.x||0})),d)),re(d)?j.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var y=Mj(a,_me);return j.createElement(gt,{clipPath:o?"url(#clipPath-".concat(s,")"):null},j.createElement(cc,vs({},Re(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&j.createElement(cc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&h&&j.createElement(cc,vs({},Re(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,w=v.prevPoints,_=v.prevBaseLine;return j.createElement(Li,{begin:c,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t;if(w){var T=w.length/a.length,N=a.map(function(C,I){var R=Math.floor(I*T);if(w[R]){var M=w[R],D=or(M.x,C.x),O=or(M.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:O(b)})}return C}),A;if(re(l)&&typeof l=="number"){var P=or(_,l);A=P(b)}else if(De(l)||Hl(l)){var S=or(_,0);A=S(b)}else A=l.map(function(C,I){var R=Math.floor(I*T);if(_[R]){var M=_[R],D=or(M.x,C.x),O=or(M.y,C.y);return Zi(Zi({},C),{},{x:D(b),y:O(b)})}return C});return o.renderAreaStatically(N,A,r,i)}return j.createElement(gt,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(b))),j.createElement(gt,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Zc(c,s)||!Zc(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,h=i.yAxis,y=i.width,v=i.height,w=i.isAnimationActive,_=i.id;if(o||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=a.length===1,T=Fe("recharts-area",l),N=d&&d.allowDataOverflow,A=h&&h.allowDataOverflow,P=N||A,S=De(_)?this.id:_,C=(r=Re(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},I=C.r,R=I===void 0?3:I,M=C.strokeWidth,D=M===void 0?2:M,O=FW(s)?s:{},U=O.clipDot,B=U===void 0?!0:U,G=R*2+D;return j.createElement(gt,{className:T},N||A?j.createElement("defs",null,j.createElement("clipPath",{id:"clipPath-".concat(S)},j.createElement("rect",{x:N?c:c-y/2,y:A?u:u-v/2,width:N?y:y*2,height:A?v:v*2})),!B&&j.createElement("clipPath",{id:"clipPath-dots-".concat(S)},j.createElement("rect",{x:c-G/2,y:u-G/2,width:y+G,height:v+G}))):null,b?null:this.renderArea(P,S),(s||b)&&this.renderDots(P,B,S),(!w||x)&&ko.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}($.PureComponent);Rj=$i;Br($i,"displayName","Area");Br($i,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Yl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Br($i,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(re(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Br($i,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,w=Rj.getBaseValue(e,n,r,i),_=y==="horizontal",x=!1,b=d.map(function(N,A){var P;v?P=u[c+A]:(P=Yn(N,l),Array.isArray(P)?x=!0:P=[w,P]);var S=P[1]==null||v&&Yn(N,l)==null;return _?{x:MC({axis:r,ticks:o,bandSize:a,entry:N,index:A}),y:S?null:i.scale(P[1]),value:P,payload:N}:{x:S?null:r.scale(P[1]),y:MC({axis:i,ticks:s,bandSize:a,entry:N,index:A}),value:P,payload:N}}),T;return v||x?T=b.map(function(N){var A=Array.isArray(N.value)?N.value[0]:null;return _?{x:N.x,y:A!=null&&N.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:N.y}}):T=_?i.scale(w):r.scale(w),Zi({points:b,baseLine:T,layout:y,isRange:x},h)});Br($i,"renderDotItem",function(t,e){var n;if(j.isValidElement(t))n=j.cloneElement(t,e);else if(Pe(t))n=t(e);else{var r=Fe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=Mj(e,xme);n=j.createElement($E,vs({},o,{key:i,className:r}))}return n});function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jj(r.key),r)}}function kme(t,e,n){return e&&Nme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rme(t,e,n){return e=xm(e),Mme(t,Lj()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Mme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(t)}function Ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function Dme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xx(t,e)}function xx(t,e){return xx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xx(t,e)}function $j(t,e,n){return e=jj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jj(t){var e=Lme(t,"string");return Pl(e)=="symbol"?e:e+""}function Lme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(this,arguments)}function $me(t){var e=t.xAxisId,n=FE(),r=BE(),i=_j(e);return i==null?null:$.createElement(eu,wx({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return vi(s,!0)}}))}var ey=function(t){function e(){return Pme(this,e),Rme(this,e,arguments)}return Dme(e,t),kme(e,[{key:"render",value:function(){return $.createElement($me,this.props)}}])}($.Component);$j(ey,"displayName","XAxis");$j(ey,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fj(r.key),r)}}function Ume(t,e,n){return e&&Vme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fme(t,e,n){return e=wm(e),Bme(t,Vj()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Bme(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gme(t)}function Gme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vj=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function qme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bx(t,e)}function bx(t,e){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bx(t,e)}function Uj(t,e,n){return e=Fj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fj(t){var e=zme(t,"string");return Nl(e)=="symbol"?e:e+""}function zme(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ex.apply(this,arguments)}var Hme=function(e){var n=e.yAxisId,r=FE(),i=BE(),o=xj(n);return o==null?null:$.createElement(eu,Ex({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return vi(a,!0)}}))},ty=function(t){function e(){return jme(this,e),Fme(this,e,arguments)}return qme(e,t),Ume(e,[{key:"render",value:function(){return $.createElement(Hme,this.props)}}])}($.Component);Uj(ty,"displayName","YAxis");Uj(ty,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YP(t){return Yme(t)||Jme(t)||Kme(t)||Wme()}function Wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(t,e){if(t){if(typeof t=="string")return Tx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tx(t,e)}}function Jme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yme(t){if(Array.isArray(t))return Tx(t)}function Tx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sx=function(e,n,r,i,o){var s=Nr(e,qE),a=Nr(e,Xg),l=[].concat(YP(s),YP(a)),u=Nr(e,Zg),c="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(w,_){if(_.props[c]===r&&Xr(_.props,"extendDomain")&&re(_.props[d])){var x=_.props[d];return[Math.min(w[0],x),Math.max(w[1],x)]}return w},h)),u.length){var y="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(w,_){if(_.props[c]===r&&Xr(_.props,"extendDomain")&&re(_.props[y])&&re(_.props[v])){var x=_.props[y],b=_.props[v];return[Math.min(w[0],x,b),Math.max(w[1],x,b)]}return w},h)}return o&&o.length&&(h=o.reduce(function(w,_){return re(_)?[Math.min(w[0],_),Math.max(w[1],_)]:w},h)),h},Bj={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,v=new Array(y);h<y;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,y,v){var w=n?n+u:u;if(!this._events[w])return!1;var _=this._events[w],x=arguments.length,b,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),x){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,d),!0;case 4:return _.fn.call(_.context,c,d,h),!0;case 5:return _.fn.call(_.context,c,d,h,y),!0;case 6:return _.fn.call(_.context,c,d,h,y,v),!0}for(T=1,b=new Array(x-1);T<x;T++)b[T-1]=arguments[T];_.fn.apply(_.context,b)}else{var N=_.length,A;for(T=0;T<N;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),x){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,c);break;case 3:_[T].fn.call(_[T].context,c,d);break;case 4:_[T].fn.call(_[T].context,c,d,h);break;default:if(!b)for(A=1,b=new Array(x-1);A<x;A++)b[A-1]=arguments[A];_[T].fn.apply(_[T].context,b)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&s(this,y);else{for(var w=0,_=[],x=v.length;w<x;w++)(v[w].fn!==c||h&&!v[w].once||d&&v[w].context!==d)&&_.push(v[w]);_.length?this._events[y]=_.length===1?_[0]:_:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Bj);var Xme=Bj.exports;const Qme=rt(Xme);var Dv=new Qme,Lv="recharts.syncMouseEvents";function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function Zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ege(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gj(r.key),r)}}function tge(t,e,n){return e&&ege(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $v(t,e,n){return e=Gj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gj(t){var e=nge(t,"string");return wd(e)=="symbol"?e:e+""}function nge(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rge=function(){function t(){Zme(this,t),$v(this,"activeIndex",0),$v(this,"coordinateList",[]),$v(this,"layout","horizontal")}return tge(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function ige(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function oge(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function qj(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Zt(e,n,r,i),a=Zt(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function sge(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,h=Zt(a,l,u,d),y=Zt(a,l,c,d);r=h.x,i=h.y,o=y.x,s=y.y}else return qj(e);return[{x:r,y:i},{x:o,y:s}]}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function XP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(n),!0).forEach(function(r){age(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function age(t,e,n){return e=lge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lge(t){var e=uge(t,"string");return bd(e)=="symbol"?e:e+""}function uge(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cge(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,w=cc;if(h==="ScatterChart")v=s,w=hde;else if(h==="BarChart")v=oge(d,s,l,c),w=LE;else if(d==="radial"){var _=qj(s),x=_.cx,b=_.cy,T=_.radius,N=_.startAngle,A=_.endAngle;v={cx:x,cy:b,startAngle:N,endAngle:A,innerRadius:T,outerRadius:T},w=z$}else v={points:sge(d,s,l)},w=cc;var P=th(th(th(th({stroke:"#ccc",pointerEvents:"none"},l),v),Re(y,!1)),{},{payload:a,payloadIndex:u,className:Fe("recharts-tooltip-cursor",y.className)});return $.isValidElement(y)?$.cloneElement(y,P):$.createElement(w,P)}var dge=["item"],fge=["children","className","width","height","style","compact","title","desc"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function QP(t,e){return mge(t)||pge(t,e)||Hj(t,e)||hge()}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function mge(t){if(Array.isArray(t))return t}function ZP(t,e){if(t==null)return{};var n=gge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wj(r.key),r)}}function _ge(t,e,n){return e&&vge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xge(t,e,n){return e=bm(e),wge(t,zj()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function wge(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bge(t)}function bge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zj=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ax(t,e)}function Ax(t,e){return Ax=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ax(t,e)}function Rl(t){return Age(t)||Sge(t)||Hj(t)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hj(t,e){if(t){if(typeof t=="string")return Ix(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ix(t,e)}}function Sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Age(t){if(Array.isArray(t))return Ix(t)}function Ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=Wj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wj(t){var e=Ige(t,"string");return kl(e)=="symbol"?e:e+""}function Ige(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cge={xAxis:["bottom","top"],yAxis:["left","right"]},Pge={width:"100%",height:"100%"},Kj={x:0,y:0};function nh(t){return t}var Nge=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},kge=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return H(H(H({},i),Zt(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Zt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Kj},ny=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Rl(a),Rl(u)):a},[]);return s.length>0?s:e&&e.length&&re(i)&&re(o)?e.slice(i,o+1):[]};function Jj(t){return t==="number"?[0,"auto"]:void 0}var Cx=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=ny(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;h=bp(y,s.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(Rl(l),[B$(u,h)]):l},[])},tN=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=Nge(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=zae(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,h=Cx(e,n,c,d),y=kge(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:h,activeCoordinate:y}}return null},Rge=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=e.stackOffset,y=V$(c,o);return r.reduce(function(v,w){var _,x=w.type.defaultProps!==void 0?H(H({},w.type.defaultProps),w.props):w.props,b=x.type,T=x.dataKey,N=x.allowDataOverflow,A=x.allowDuplicatedCategory,P=x.scale,S=x.ticks,C=x.includeHidden,I=x[s];if(v[I])return v;var R=ny(e.data,{graphicalItems:i.filter(function(ee){var le,Ce=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s];return Ce===I}),dataStartIndex:l,dataEndIndex:u}),M=R.length,D,O,U;ige(x.domain,N,b)&&(D=W_(x.domain,null,N),y&&(b==="number"||P!=="auto")&&(U=uc(R,T,"category")));var B=Jj(b);if(!D||D.length===0){var G,W=(G=x.domain)!==null&&G!==void 0?G:B;if(T){if(D=uc(R,T,b),b==="category"&&y){var V=kW(D);A&&V?(O=D,D=um(0,M)):A||(D=$C(W,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0?ee:[].concat(Rl(ee),[le])},[]))}else if(b==="category")A?D=D.filter(function(ee){return ee!==""&&!De(ee)}):D=$C(W,D,w).reduce(function(ee,le){return ee.indexOf(le)>=0||le===""||De(le)?ee:[].concat(Rl(ee),[le])},[]);else if(b==="number"){var K=Yae(R,i.filter(function(ee){var le,Ce,Ne=s in ee.props?ee.props[s]:(le=ee.type.defaultProps)===null||le===void 0?void 0:le[s],We="hide"in ee.props?ee.props.hide:(Ce=ee.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Ne===I&&(C||!We)}),T,o,c);K&&(D=K)}y&&(b==="number"||P!=="auto")&&(U=uc(R,T,"category"))}else y?D=um(0,M):a&&a[I]&&a[I].hasStack&&b==="number"?D=h==="expand"?[0,1]:F$(a[I].stackGroups,l,u):D=j$(R,i.filter(function(ee){var le=s in ee.props?ee.props[s]:ee.type.defaultProps[s],Ce="hide"in ee.props?ee.props.hide:ee.type.defaultProps.hide;return le===I&&(C||!Ce)}),b,c,!0);if(b==="number")D=Sx(d,D,I,o,S),W&&(D=W_(W,D,N));else if(b==="category"&&W){var Y=W,se=D.every(function(ee){return Y.indexOf(ee)>=0});se&&(D=Y)}}return H(H({},v),{},we({},I,H(H({},x),{},{axisType:o,domain:D,categoricalDomain:U,duplicateDomain:O,originalDomain:(_=x.domain)!==null&&_!==void 0?_:B,isCategorical:y,layout:c})))},{})},Mge=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,h=ny(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=V$(c,o),w=-1;return r.reduce(function(_,x){var b=x.type.defaultProps!==void 0?H(H({},x.type.defaultProps),x.props):x.props,T=b[s],N=Jj("number");if(!_[T]){w++;var A;return v?A=um(0,y):a&&a[T]&&a[T].hasStack?(A=F$(a[T].stackGroups,l,u),A=Sx(d,A,T,o)):(A=W_(N,j$(h,r.filter(function(P){var S,C,I=s in P.props?P.props[s]:(S=P.type.defaultProps)===null||S===void 0?void 0:S[s],R="hide"in P.props?P.props.hide:(C=P.type.defaultProps)===null||C===void 0?void 0:C.hide;return I===T&&!R}),"number",c),i.defaultProps.allowDataOverflow),A=Sx(d,A,T,o)),H(H({},_),{},we({},T,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:dr(Cge,"".concat(o,".").concat(w%2),null),domain:A,originalDomain:N,isCategorical:v,layout:c})))}return _},{})},Oge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),h=Nr(c,o),y={};return h&&h.length?y=Rge(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=Mge(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},Dge=function(e){var n=lo(e),r=vi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:uE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zp(n,r)}},nN=function(e){var n=e.children,r=e.defaultShowTooltip,i=qn(n,bl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},Lge=function(e){return!e||!e.length?!1:e.some(function(n){var r=xi(n&&n.type);return r&&r.indexOf("Bar")>=0})},rN=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$ge=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,h=r.margin||{},y=qn(d,bl),v=qn(d,Ba),w=Object.keys(l).reduce(function(A,P){var S=l[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,A[C]+S.width)):A},{left:h.left||0,right:h.right||0}),_=Object.keys(s).reduce(function(A,P){var S=s[P],C=S.orientation;return!S.mirror&&!S.hide?H(H({},A),{},we({},C,dr(A,"".concat(C))+S.height)):A},{top:h.top||0,bottom:h.bottom||0}),x=H(H({},_),w),b=x.bottom;y&&(x.bottom+=y.props.height||bl.defaultProps.height),v&&n&&(x=Kae(x,i,r,n));var T=u-x.left-x.right,N=c-x.top-x.bottom;return H(H({brushBottom:b},x),{},{width:Math.max(T,0),height:Math.max(N,0)})},jge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Vge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,h=function(x,b){var T=b.graphicalItems,N=b.stackGroups,A=b.offset,P=b.updateId,S=b.dataStartIndex,C=b.dataEndIndex,I=x.barSize,R=x.layout,M=x.barGap,D=x.barCategoryGap,O=x.maxBarSize,U=rN(R),B=U.numericAxisName,G=U.cateAxisName,W=Lge(T),V=[];return T.forEach(function(K,Y){var se=ny(x.data,{graphicalItems:[K],dataStartIndex:S,dataEndIndex:C}),ee=K.type.defaultProps!==void 0?H(H({},K.type.defaultProps),K.props):K.props,le=ee.dataKey,Ce=ee.maxBarSize,Ne=ee["".concat(B,"Id")],We=ee["".concat(G,"Id")],z={},Ve=l.reduce(function(Nt,Un){var ri=b["".concat(Un.axisType,"Map")],Hi=ee["".concat(Un.axisType,"Id")];ri&&ri[Hi]||Un.axisType==="zAxis"||Vs();var Ko=ri[Hi];return H(H({},Nt),{},we(we({},Un.axisType,Ko),"".concat(Un.axisType,"Ticks"),vi(Ko)))},z),ie=Ve[G],ye=Ve["".concat(G,"Ticks")],_e=N&&N[Ne]&&N[Ne].hasStack&&lle(K,N[Ne].stackGroups),Q=xi(K.type).indexOf("Bar")>=0,Le=Zp(ie,ye),Ie=[],et=W&&Hae({barSize:I,stackGroups:N,totalSize:jge(Ve,G)});if(Q){var X,me,Qe=De(Ce)?O:Ce,jt=(X=(me=Zp(ie,ye,!0))!==null&&me!==void 0?me:Qe)!==null&&X!==void 0?X:0;Ie=Wae({barGap:M,barCategoryGap:D,bandSize:jt!==Le?jt:Le,sizeList:et[We],maxBarSize:Qe}),jt!==Le&&(Ie=Ie.map(function(Nt){return H(H({},Nt),{},{position:H(H({},Nt.position),{},{offset:Nt.position.offset-jt/2})})}))}var Vn=K&&K.type&&K.type.getComposedData;Vn&&V.push({props:H(H({},Vn(H(H({},Ve),{},{displayedData:se,props:x,dataKey:le,item:K,bandSize:Le,barPosition:Ie,offset:A,stackedData:_e,layout:R,dataStartIndex:S,dataEndIndex:C}))),{},we(we(we({key:K.key||"item-".concat(Y)},B,Ve[B]),G,Ve[G]),"animationId",P)),childIndex:qW(K,x.children),item:K})}),V},y=function(x,b){var T=x.props,N=x.dataStartIndex,A=x.dataEndIndex,P=x.updateId;if(!NA({props:T}))return null;var S=T.children,C=T.layout,I=T.stackOffset,R=T.data,M=T.reverseStackOrder,D=rN(C),O=D.numericAxisName,U=D.cateAxisName,B=Nr(S,r),G=ole(R,B,"".concat(O,"Id"),"".concat(U,"Id"),I,M),W=l.reduce(function(ee,le){var Ce="".concat(le.axisType,"Map");return H(H({},ee),{},we({},Ce,Oge(T,H(H({},le),{},{graphicalItems:B,stackGroups:le.axisType===O&&G,dataStartIndex:N,dataEndIndex:A}))))},{}),V=$ge(H(H({},W),{},{props:T,graphicalItems:B}),b==null?void 0:b.legendBBox);Object.keys(W).forEach(function(ee){W[ee]=c(T,W[ee],V,ee.replace("Map",""),n)});var K=W["".concat(U,"Map")],Y=Dge(K),se=h(T,H(H({},W),{},{dataStartIndex:N,dataEndIndex:A,updateId:P,graphicalItems:B,stackGroups:G,offset:V}));return H(H({formattedGraphicalItems:se,graphicalItems:B,offset:V,stackGroups:G},Y),W)},v=function(_){function x(b){var T,N,A;return yge(this,x),A=xge(this,x,[b]),we(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(A,"accessibilityManager",new rge),we(A,"handleLegendBBoxUpdate",function(P){if(P){var S=A.state,C=S.dataStartIndex,I=S.dataEndIndex,R=S.updateId;A.setState(H({legendBBox:P},y({props:A.props,dataStartIndex:C,dataEndIndex:I,updateId:R},H(H({},A.state),{},{legendBBox:P}))))}}),we(A,"handleReceiveSyncEvent",function(P,S,C){if(A.props.syncId===P){if(C===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(S)}}),we(A,"handleBrushChange",function(P){var S=P.startIndex,C=P.endIndex;if(S!==A.state.dataStartIndex||C!==A.state.dataEndIndex){var I=A.state.updateId;A.setState(function(){return H({dataStartIndex:S,dataEndIndex:C},y({props:A.props,dataStartIndex:S,dataEndIndex:C,updateId:I},A.state))}),A.triggerSyncEvent({dataStartIndex:S,dataEndIndex:C})}}),we(A,"handleMouseEnter",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseEnter;Pe(I)&&I(C,P)}}),we(A,"triggeredAfterMouseMove",function(P){var S=A.getMouseInfo(P),C=S?H(H({},S),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(C),A.triggerSyncEvent(C);var I=A.props.onMouseMove;Pe(I)&&I(C,P)}),we(A,"handleItemMouseEnter",function(P){A.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),we(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),we(A,"handleMouseMove",function(P){P.persist(),A.throttleTriggeredAfterMouseMove(P)}),we(A,"handleMouseLeave",function(P){A.throttleTriggeredAfterMouseMove.cancel();var S={isTooltipActive:!1};A.setState(S),A.triggerSyncEvent(S);var C=A.props.onMouseLeave;Pe(C)&&C(S,P)}),we(A,"handleOuterEvent",function(P){var S=GW(P),C=dr(A.props,"".concat(S));if(S&&Pe(C)){var I,R;/.*touch.*/i.test(S)?R=A.getMouseInfo(P.changedTouches[0]):R=A.getMouseInfo(P),C((I=R)!==null&&I!==void 0?I:{},P)}}),we(A,"handleClick",function(P){var S=A.getMouseInfo(P);if(S){var C=H(H({},S),{},{isTooltipActive:!0});A.setState(C),A.triggerSyncEvent(C);var I=A.props.onClick;Pe(I)&&I(C,P)}}),we(A,"handleMouseDown",function(P){var S=A.props.onMouseDown;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleMouseUp",function(P){var S=A.props.onMouseUp;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),we(A,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseDown(P.changedTouches[0])}),we(A,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&A.handleMouseUp(P.changedTouches[0])}),we(A,"handleDoubleClick",function(P){var S=A.props.onDoubleClick;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"handleContextMenu",function(P){var S=A.props.onContextMenu;if(Pe(S)){var C=A.getMouseInfo(P);S(C,P)}}),we(A,"triggerSyncEvent",function(P){A.props.syncId!==void 0&&Dv.emit(Lv,A.props.syncId,P,A.eventEmitterSymbol)}),we(A,"applySyncEvent",function(P){var S=A.props,C=S.layout,I=S.syncMethod,R=A.state.updateId,M=P.dataStartIndex,D=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)A.setState(H({dataStartIndex:M,dataEndIndex:D},y({props:A.props,dataStartIndex:M,dataEndIndex:D,updateId:R},A.state)));else if(P.activeTooltipIndex!==void 0){var O=P.chartX,U=P.chartY,B=P.activeTooltipIndex,G=A.state,W=G.offset,V=G.tooltipTicks;if(!W)return;if(typeof I=="function")B=I(V,P);else if(I==="value"){B=-1;for(var K=0;K<V.length;K++)if(V[K].value===P.activeLabel){B=K;break}}var Y=H(H({},W),{},{x:W.left,y:W.top}),se=Math.min(O,Y.x+Y.width),ee=Math.min(U,Y.y+Y.height),le=V[B]&&V[B].value,Ce=Cx(A.state,A.props.data,B),Ne=V[B]?{x:C==="horizontal"?V[B].coordinate:se,y:C==="horizontal"?ee:V[B].coordinate}:Kj;A.setState(H(H({},P),{},{activeLabel:le,activeCoordinate:Ne,activePayload:Ce,activeTooltipIndex:B}))}else A.setState(P)}),we(A,"renderCursor",function(P){var S,C=A.state,I=C.isTooltipActive,R=C.activeCoordinate,M=C.activePayload,D=C.offset,O=C.activeTooltipIndex,U=C.tooltipAxisBandSize,B=A.getTooltipEventType(),G=(S=P.props.active)!==null&&S!==void 0?S:I,W=A.props.layout,V=P.key||"_recharts-cursor";return j.createElement(cge,{key:V,activeCoordinate:R,activePayload:M,activeTooltipIndex:O,chartName:n,element:P,isActive:G,layout:W,offset:D,tooltipAxisBandSize:U,tooltipEventType:B})}),we(A,"renderPolarAxis",function(P,S,C){var I=dr(P,"type.axisType"),R=dr(A.state,"".concat(I,"Map")),M=P.type.defaultProps,D=M!==void 0?H(H({},M),P.props):P.props,O=R&&R[D["".concat(I,"Id")]];return $.cloneElement(P,H(H({},O),{},{className:Fe(I,O.className),key:P.key||"".concat(S,"-").concat(C),ticks:vi(O,!0)}))}),we(A,"renderPolarGrid",function(P){var S=P.props,C=S.radialLines,I=S.polarAngles,R=S.polarRadius,M=A.state,D=M.radiusAxisMap,O=M.angleAxisMap,U=lo(D),B=lo(O),G=B.cx,W=B.cy,V=B.innerRadius,K=B.outerRadius;return $.cloneElement(P,{polarAngles:Array.isArray(I)?I:vi(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(R)?R:vi(U,!0).map(function(Y){return Y.coordinate}),cx:G,cy:W,innerRadius:V,outerRadius:K,key:P.key||"polar-grid",radialLines:C})}),we(A,"renderLegend",function(){var P=A.state.formattedGraphicalItems,S=A.props,C=S.children,I=S.width,R=S.height,M=A.props.margin||{},D=I-(M.left||0)-(M.right||0),O=L$({children:C,formattedGraphicalItems:P,legendWidth:D,legendContent:u});if(!O)return null;var U=O.item,B=ZP(O,dge);return $.cloneElement(U,H(H({},B),{},{chartWidth:I,chartHeight:R,margin:M,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),we(A,"renderTooltip",function(){var P,S=A.props,C=S.children,I=S.accessibilityLayer,R=qn(C,Vr);if(!R)return null;var M=A.state,D=M.isTooltipActive,O=M.activeCoordinate,U=M.activePayload,B=M.activeLabel,G=M.offset,W=(P=R.props.active)!==null&&P!==void 0?P:D;return $.cloneElement(R,{viewBox:H(H({},G),{},{x:G.left,y:G.top}),active:W,label:B,payload:W?U:[],coordinate:O,accessibilityLayer:I})}),we(A,"renderBrush",function(P){var S=A.props,C=S.margin,I=S.data,R=A.state,M=R.offset,D=R.dataStartIndex,O=R.dataEndIndex,U=R.updateId;return $.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Xf(A.handleBrushChange,P.props.onChange),data:I,x:re(P.props.x)?P.props.x:M.left,y:re(P.props.y)?P.props.y:M.top+M.height+M.brushBottom-(C.bottom||0),width:re(P.props.width)?P.props.width:M.width,startIndex:D,endIndex:O,updateId:"brush-".concat(U)})}),we(A,"renderReferenceElement",function(P,S,C){if(!P)return null;var I=A,R=I.clipPathId,M=A.state,D=M.xAxisMap,O=M.yAxisMap,U=M.offset,B=P.type.defaultProps||{},G=P.props,W=G.xAxisId,V=W===void 0?B.xAxisId:W,K=G.yAxisId,Y=K===void 0?B.yAxisId:K;return $.cloneElement(P,{key:P.key||"".concat(S,"-").concat(C),xAxis:D[V],yAxis:O[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:R})}),we(A,"renderActivePoints",function(P){var S=P.item,C=P.activePoint,I=P.basePoint,R=P.childIndex,M=P.isRange,D=[],O=S.props.key,U=S.item.type.defaultProps!==void 0?H(H({},S.item.type.defaultProps),S.item.props):S.item.props,B=U.activeDot,G=U.dataKey,W=H(H({index:R,dataKey:G,cx:C.x,cy:C.y,r:4,fill:DE(S.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Re(B,!1)),Ep(B));return D.push(x.renderActiveDot(B,W,"".concat(O,"-activePoint-").concat(R))),I?D.push(x.renderActiveDot(B,H(H({},W),{},{cx:I.x,cy:I.y}),"".concat(O,"-basePoint-").concat(R))):M&&D.push(null),D}),we(A,"renderGraphicChild",function(P,S,C){var I=A.filterFormatItem(P,S,C);if(!I)return null;var R=A.getTooltipEventType(),M=A.state,D=M.isTooltipActive,O=M.tooltipAxis,U=M.activeTooltipIndex,B=M.activeLabel,G=A.props.children,W=qn(G,Vr),V=I.props,K=V.points,Y=V.isRange,se=V.baseLine,ee=I.item.type.defaultProps!==void 0?H(H({},I.item.type.defaultProps),I.item.props):I.item.props,le=ee.activeDot,Ce=ee.hide,Ne=ee.activeBar,We=ee.activeShape,z=!!(!Ce&&D&&W&&(le||Ne||We)),Ve={};R!=="axis"&&W&&W.props.trigger==="click"?Ve={onClick:Xf(A.handleItemMouseEnter,P.props.onClick)}:R!=="axis"&&(Ve={onMouseLeave:Xf(A.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Xf(A.handleItemMouseEnter,P.props.onMouseEnter)});var ie=$.cloneElement(P,H(H({},I.props),Ve));function ye(Un){return typeof O.dataKey=="function"?O.dataKey(Un.payload):null}if(z)if(U>=0){var _e,Q;if(O.dataKey&&!O.allowDuplicatedCategory){var Le=typeof O.dataKey=="function"?ye:"payload.".concat(O.dataKey.toString());_e=bp(K,Le,B),Q=Y&&se&&bp(se,Le,B)}else _e=K==null?void 0:K[U],Q=Y&&se&&se[U];if(We||Ne){var Ie=P.props.activeIndex!==void 0?P.props.activeIndex:U;return[$.cloneElement(P,H(H(H({},I.props),Ve),{},{activeIndex:Ie})),null,null]}if(!De(_e))return[ie].concat(Rl(A.renderActivePoints({item:I,activePoint:_e,basePoint:Q,childIndex:U,isRange:Y})))}else{var et,X=(et=A.getItemByXY(A.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:ie},me=X.graphicalItem,Qe=me.item,jt=Qe===void 0?P:Qe,Vn=me.childIndex,Nt=H(H(H({},I.props),Ve),{},{activeIndex:Vn});return[$.cloneElement(jt,Nt),null,null]}return Y?[ie,null,null]:[ie,null]}),we(A,"renderCustomized",function(P,S,C){return $.cloneElement(P,H(H({key:"recharts-customized-".concat(C)},A.props),A.state))}),we(A,"renderMap",{CartesianGrid:{handler:nh,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:nh},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:nh},YAxis:{handler:nh},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=b.id)!==null&&T!==void 0?T:qd("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=LL(A.triggeredAfterMouseMove,(N=b.throttleDelay)!==null&&N!==void 0?N:1e3/60),A.state={},A}return Ege(x,_),_ge(x,[{key:"componentDidMount",value:function(){var T,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,N=T.children,A=T.data,P=T.height,S=T.layout,C=qn(N,Vr);if(C){var I=C.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,M=Cx(this.state,A,I,R),D=this.state.tooltipTicks[I].coordinate,O=(this.state.offset.top+P)/2,U=S==="horizontal",B=U?{x:D,y:O}:{y:D,x:O},G=this.state.formattedGraphicalItems.find(function(V){var K=V.item;return K.type.name==="Scatter"});G&&(B=H(H({},B),G.props.points[I].tooltipPosition),M=G.props.points[I].tooltipPayload);var W={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:R,activePayload:M,activeCoordinate:B};this.setState(W),this.renderCursor(C),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,P;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(T){l_([qn(T.children,Vr)],[qn(this.props.children,Vr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=qn(this.props.children,Vr);if(T&&typeof T.props.shared=="boolean"){var N=T.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var N=this.container,A=N.getBoundingClientRect(),P=yre(A),S={chartX:Math.round(T.pageX-P.left),chartY:Math.round(T.pageY-P.top)},C=A.width/N.offsetWidth||1,I=this.inRange(S.chartX,S.chartY,C);if(!I)return null;var R=this.state,M=R.xAxisMap,D=R.yAxisMap,O=this.getTooltipEventType(),U=tN(this.state,this.props.data,this.props.layout,I);if(O!=="axis"&&M&&D){var B=lo(M).scale,G=lo(D).scale,W=B&&B.invert?B.invert(S.chartX):null,V=G&&G.invert?G.invert(S.chartY):null;return H(H({},S),{},{xValue:W,yValue:V},U)}return U?H(H({},S),U):null}},{key:"inRange",value:function(T,N){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,S=T/A,C=N/A;if(P==="horizontal"||P==="vertical"){var I=this.state.offset,R=S>=I.left&&S<=I.left+I.width&&C>=I.top&&C<=I.top+I.height;return R?{x:S,y:C}:null}var M=this.state,D=M.angleAxisMap,O=M.radiusAxisMap;if(D&&O){var U=lo(D);return UC({x:S,y:C},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,N=this.getTooltipEventType(),A=qn(T,Vr),P={};A&&N==="axis"&&(A.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var S=Ep(this.props,this.handleOuterEvent);return H(H({},S),P)}},{key:"addListener",value:function(){Dv.on(Lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Dv.removeListener(Lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,N,A){for(var P=this.state.formattedGraphicalItems,S=0,C=P.length;S<C;S++){var I=P[S];if(I.item===T||I.props.key===T.key||N===xi(I.item.type)&&A===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,N=this.state.offset,A=N.left,P=N.top,S=N.height,C=N.width;return j.createElement("defs",null,j.createElement("clipPath",{id:T},j.createElement("rect",{x:A,y:P,height:S,width:C})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=QP(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(N,A){var P=QP(A,2),S=P[0],C=P[1];return H(H({},N),{},we({},S,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(T){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[T])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(T){var N=this.state,A=N.formattedGraphicalItems,P=N.activeItem;if(A&&A.length)for(var S=0,C=A.length;S<C;S++){var I=A[S],R=I.props,M=I.item,D=M.type.defaultProps!==void 0?H(H({},M.type.defaultProps),M.props):M.props,O=xi(M.type);if(O==="Bar"){var U=(R.data||[]).find(function(V){return rde(T,V)});if(U)return{graphicalItem:I,payload:U}}else if(O==="RadialBar"){var B=(R.data||[]).find(function(V){return UC(T,V)});if(B)return{graphicalItem:I,payload:B}}else if(Wg(I,P)||Kg(I,P)||gd(I,P)){var G=sfe({graphicalItem:I,activeTooltipItem:P,itemData:D.data}),W=D.activeIndex===void 0?G:D.activeIndex;return{graphicalItem:H(H({},I),{},{childIndex:W}),payload:gd(I,P)?D.data[G]:I.props.data[G]}}}return null}},{key:"render",value:function(){var T=this;if(!NA(this))return null;var N=this.props,A=N.children,P=N.className,S=N.width,C=N.height,I=N.style,R=N.compact,M=N.title,D=N.desc,O=ZP(N,fge),U=Re(O,!1);if(R)return j.createElement(DP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement(c_,Aa({},U,{width:S,height:C,title:M,desc:D}),this.renderClipPath(),RA(A,this.renderMap)));if(this.props.accessibilityLayer){var B,G;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(G=this.props.role)!==null&&G!==void 0?G:"application",U.onKeyDown=function(V){T.accessibilityManager.keyboardEvent(V)},U.onFocus=function(){T.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return j.createElement(DP,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},j.createElement("div",Aa({className:Fe("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:S,height:C},I)},W,{ref:function(K){T.container=K}}),j.createElement(c_,Aa({},U,{width:S,height:C,title:M,desc:D,style:Pge}),this.renderClipPath(),RA(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}($.Component);we(v,"displayName",n),we(v,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),we(v,"getDerivedStateFromProps",function(_,x){var b=_.dataKey,T=_.data,N=_.children,A=_.width,P=_.height,S=_.layout,C=_.stackOffset,I=_.margin,R=x.dataStartIndex,M=x.dataEndIndex;if(x.updateId===void 0){var D=nN(_);return H(H(H({},D),{},{updateId:0},y(H(H({props:_},D),{},{updateId:0}),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(b!==x.prevDataKey||T!==x.prevData||A!==x.prevWidth||P!==x.prevHeight||S!==x.prevLayout||C!==x.prevStackOffset||!Fa(I,x.prevMargin)){var O=nN(_),U={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},B=H(H({},tN(x,T,S)),{},{updateId:x.updateId+1}),G=H(H(H({},O),U),B);return H(H(H({},G),y(H({props:_},G),x)),{},{prevDataKey:b,prevData:T,prevWidth:A,prevHeight:P,prevLayout:S,prevStackOffset:C,prevMargin:I,prevChildren:N})}if(!l_(N,x.prevChildren)){var W,V,K,Y,se=qn(N,bl),ee=se&&(W=(V=se.props)===null||V===void 0?void 0:V.startIndex)!==null&&W!==void 0?W:R,le=se&&(K=(Y=se.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&K!==void 0?K:M,Ce=ee!==R||le!==M,Ne=!De(T),We=Ne&&!Ce?x.updateId:x.updateId+1;return H(H({updateId:We},y(H(H({props:_},x),{},{updateId:We,dataStartIndex:ee,dataEndIndex:le}),x)),{},{prevChildren:N,dataStartIndex:ee,dataEndIndex:le})}return null}),we(v,"renderActiveDot",function(_,x,b){var T;return $.isValidElement(_)?T=$.cloneElement(_,x):Pe(_)?T=_(x):T=j.createElement($E,x),j.createElement(gt,{className:"recharts-active-dot",key:b},T)});var w=$.forwardRef(function(x,b){return j.createElement(v,Aa({},x,{ref:b}))});return w.displayName=v.displayName,w},Uge=Vge({chartName:"AreaChart",GraphicalChild:$i,axisComponents:[{axisType:"xAxis",AxisComp:ey},{axisType:"yAxis",AxisComp:ty}],formatAxisMap:khe});const Fge=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],Bge=({openTab:t})=>{const e=[{id:"sales",label:"Nueva Venta",icon:cD,color:"bg-orange-600",trend:"Alt",desc:"Abrir mostrador"},{id:"cashier",label:"Registrar Gasto",icon:uD,color:"bg-red-600",trend:"Pagos",desc:"Sueldos, impuestos, servicios"},{id:"missing-items",label:"Faltantes",icon:Ph,color:"bg-orange-500",trend:"Crt",desc:"Reponer stock"},{id:"inventory",label:"Nuevo Producto",icon:fD,color:"bg-blue-600",trend:"Ct",desc:"Alta mercadera"}];return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control General"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Estado actual de tu ferretera en tiempo real."})]}),g.jsxs("div",{className:"flex gap-2 text-sm",children:[g.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold shadow-sm hover:bg-gray-50 transition-all uppercase text-[10px] tracking-widest",children:"Hoy"}),g.jsx("button",{className:"px-4 py-2 bg-slate-900 text-white rounded-xl font-bold shadow-lg uppercase text-[10px] tracking-widest",children:"ltimos 7 das"})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:yD,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Bd,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:Ph,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:Ua,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((n,r)=>g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all group",children:[g.jsxs("div",{className:"flex justify-between items-start mb-4",children:[g.jsx("div",{className:`p-3 rounded-2xl ${n.bg} ${n.color} group-hover:scale-110 transition-transform`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("span",{className:`text-[10px] font-black px-2.5 py-1 rounded-full uppercase tracking-widest ${n.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:n.trend})]}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.label}),g.jsx("h3",{className:"text-2xl font-black text-slate-800",children:n.value})]},r))}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[g.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(xD,{className:"w-5 h-5 text-orange-500 fill-orange-500"})," Accesos Directos"]}),g.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Acciones Crticas"})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map((n,r)=>g.jsxs("button",{onClick:()=>t==null?void 0:t(n.id),className:"group p-6 rounded-3xl border border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all text-left bg-white relative overflow-hidden",children:[g.jsx("div",{className:`p-4 rounded-2xl ${n.color} text-white w-fit mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:g.jsx(n.icon,{className:"w-6 h-6"})}),g.jsx("h4",{className:"font-black text-slate-800 uppercase text-xs tracking-tight mb-1",children:n.label}),g.jsx("p",{className:"text-[10px] font-medium text-slate-400 leading-tight",children:n.desc}),g.jsx(S9,{className:"absolute top-6 right-6 w-5 h-5 text-slate-200 group-hover:text-orange-500 transition-colors"})]},r))})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-8 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Rendimiento Operativo"}),g.jsxs("div",{className:"flex gap-4",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"})," Ventas"]}),g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-300"})," Compras"]})]})]}),g.jsx("div",{className:"h-80 w-full",children:g.jsx(cre,{width:"100%",height:"100%",children:g.jsxs(Uge,{data:Fge,children:[g.jsx("defs",{children:g.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[g.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),g.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),g.jsx(kj,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),g.jsx(ey,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(ty,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:"bold"}}),g.jsx(Vr,{contentStyle:{borderRadius:"20px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),g.jsx($i,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:4,fillOpacity:1,fill:"url(#colorVentas)"}),g.jsx($i,{type:"monotone",dataKey:"compras",stroke:"#cbd5e1",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[g.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[g.jsxs("div",{className:"relative z-10 space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(j9,{className:"w-6 h-6 text-orange-500"}),g.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Requisitos del Sistema"})]}),g.jsx("div",{className:"space-y-4",children:[{task:"Mdulo de Facturacin AFIP",status:"pending"},{task:"Gestin de Cuentas Corrientes",status:"done"},{task:"Escner de Facturas con IA",status:"done"},{task:"Sincronizacin con Andreani",status:"pending"}].map((n,r)=>g.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-2xl border border-white/10 group hover:bg-white/10 transition-all cursor-default",children:[g.jsx("span",{className:"text-xs font-bold text-slate-300",children:n.task}),n.status==="done"?g.jsx(jc,{className:"w-4 h-4 text-green-400"}):g.jsx(k9,{className:"w-4 h-4 text-orange-500"})]},r))}),g.jsxs("button",{className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2",children:[g.jsx(hg,{className:"w-4 h-4"})," Aadir Requisito"]})]}),g.jsx(o_,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 -rotate-12"})]}),g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Ph,{className:"w-4 h-4 text-orange-600"})," Alertas Crticas"]}),g.jsx("div",{className:"space-y-3",children:g.jsxs("div",{className:"p-4 bg-orange-50 border border-orange-100 rounded-2xl flex gap-3",children:[g.jsx(xp,{className:"w-5 h-5 text-orange-600 shrink-0"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-xs font-black text-orange-900 uppercase",children:"Sin Stock: Cemento Avellaneda"}),g.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Reponer urgente para evitar prdida de ventas."})]})]})})]})]})]})]})},Gge=20,qge=({companyInfo:t})=>{const{loading:e,addProduct:n,updateProduct:r,deleteProduct:i,suppliers:o,fetchProductsPaginatedAndFiltered:s}=fg(),[a,l]=$.useState(""),[u,c]=$.useState(!1),[d,h]=$.useState("general"),[y,v]=$.useState(!1),[w,_]=$.useState([]),[x,b]=$.useState(null),[T,N]=$.useState(!0),[A,P]=$.useState(!1),S=$.useRef(null),[C,I]=$.useState(null),[R,M]=$.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[D,O]=$.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),[U,B]=$.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[G,W]=$.useState({isFractionable:!1,saleUnitConversionFactor:1}),[V,K]=$.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),Y=$.useCallback(async(z=!1,Ve=a,ie=x)=>{P(!0);try{const ye={limit:Gge,searchTerm:Ve.toLowerCase().trim(),startAfterDoc:z?void 0:ie,orderByField:"name",orderDirection:"asc"},{products:_e,lastVisible:Q,hasMore:Le}=await s(ye);_(Ie=>z?_e:[...Ie,..._e]),b(Q),N(Le)}catch(ye){console.error("Error loading products:",ye)}finally{P(!1)}},[a,x,s]);$.useEffect(()=>{e||Y(!0,a,null)},[a,e,Y]);const se=j.useMemo(()=>{let z=D.baseCost;D.discounts.forEach(_e=>{_e>0&&(z=z*(1-_e/100))});const Ve=z*(1+D.markup/100),ie=Ve*(1+D.ivaRate/100),ye=G.isFractionable&&G.saleUnitConversionFactor?ie*G.saleUnitConversionFactor:ie;return{netCost:z,priceWithoutIva:Ve,finalSalePricePrimaryUnit:ie,finalSalePriceSaleUnit:ye}},[D,G]),ee=()=>{I(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:(t==null?void 0:t.defaultMarkup)||30,supplierId:"",purchaseCurrency:"ARS"}),B({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),W({isFractionable:!1,saleUnitConversionFactor:1}),K({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),h("general")},le=z=>{I(z),z?(M({name:z.name,sku:z.sku,category:z.category,brand:z.brand,saleCurrency:z.saleCurrency||"ARS",supplierProductCode:z.supplierProductCode||"",imageUrl:z.imageUrl||"",primaryUnit:z.primaryUnit||"unidad",saleUnit:z.saleUnit||"unidad"}),O({baseCost:z.costPrice||0,ivaRate:21,discounts:[],markup:z.salePrice&&z.costPrice?(z.salePrice/(z.costPrice*1.21)-1)*100:(t==null?void 0:t.defaultMarkup)||30,supplierId:z.supplierId||"",purchaseCurrency:z.purchaseCurrency||"ARS"}),B({stock:z.stock,minStock:z.minStock||5,location:z.location||"",reorderPoint:z.reorderPoint||0,targetStock:z.targetStock||0,packQuantity:z.packQuantity||1}),W({isFractionable:z.isFractionable||!1,saleUnitConversionFactor:z.saleUnitConversionFactor||1}),K({isOnline:z.isOnline||!1,onlinePriceAdjustment:z.onlinePriceAdjustment||0,mlSync:z.mlSync||!1})):ee(),c(!0)},Ce=z=>{var ie;const Ve=(ie=z.target.files)==null?void 0:ie[0];if(Ve){const ye=new FileReader;ye.onload=_e=>{M(Q=>{var Le;return{...Q,imageUrl:(Le=_e.target)==null?void 0:Le.result}})},ye.readAsDataURL(Ve)}},Ne=async()=>{if(v(!0),!R.name||!R.sku||!R.primaryUnit||!R.saleUnit){alert("Por favor, complete los campos obligatorios: Nombre, SKU, Unidad Primaria y Unidad de Venta."),v(!1);return}if(D.baseCost<=0){alert("El costo base unitario debe ser mayor a 0."),v(!1);return}if(G.isFractionable&&(!G.saleUnitConversionFactor||G.saleUnitConversionFactor<=0)){alert("Si la venta es fraccionable, el factor de conversin debe ser mayor a 0."),v(!1);return}const z={sku:R.sku||"",name:R.name||"",supplierId:D.supplierId||null,costPrice:Number(D.baseCost),salePrice:Number(se.finalSalePricePrimaryUnit),stock:Number(U.stock),category:R.category||"General",brand:R.brand||"N/A",reorderPoint:Number(U.reorderPoint)||0,targetStock:Number(U.targetStock)||0,packQuantity:Number(U.packQuantity)||1,purchaseCurrency:D.purchaseCurrency||"ARS",saleCurrency:R.saleCurrency||"ARS",supplierProductCode:R.supplierProductCode||"",minStock:Number(U.minStock)||0,location:U.location||"",imageUrl:R.imageUrl||"",primaryUnit:R.primaryUnit,saleUnit:R.saleUnit,isFractionable:!!G.isFractionable,saleUnitConversionFactor:G.isFractionable?Number(G.saleUnitConversionFactor):null,isOnline:!!V.isOnline,onlinePriceAdjustment:V.isOnline?Number(V.onlinePriceAdjustment):null,mlSync:!!V.mlSync};try{C?await r(C.id,z):await n(z),c(!1),ee(),Y(!0)}catch(Ve){alert("Error al guardar en la base de datos. Verifique los campos."),console.error("Error saving product:",Ve)}finally{v(!1)}},We=z=>{alert(`Producto "${z.name}" aadido a la lista de pedidos de reposicin.`)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),g.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),g.jsxs("button",{onClick:()=>{le(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[g.jsx(Zr,{className:"w-5 h-5"})," Nuevo Producto"]})]}),g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:g.jsxs("div",{className:"relative max-w-xl",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:a,onChange:z=>l(z.target.value)})]})}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),g.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.primaryUnit,")"]}),g.jsxs("th",{className:"px-8 py-5 text-right",children:["Precio (",R.saleUnit,")"]}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:w.map(z=>{var Ve;return g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsxs("td",{className:"px-8 py-6",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:z.name}),g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:z.sku})]}),g.jsxs("td",{className:"px-8 py-6 text-center font-black",children:[z.stock," ",z.primaryUnit]}),g.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(Ve=z.salePrice)==null?void 0:Ve.toLocaleString()]}),g.jsx("td",{className:"px-8 py-6 text-right font-black",children:z.isFractionable&&z.saleUnitConversionFactor&&z.salePrice?`$${(z.salePrice*z.saleUnitConversionFactor).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"N/A"}),g.jsx("td",{className:"px-8 py-6 text-center",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("button",{onClick:()=>We(z),className:"p-2 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Pedir Reposicin",children:g.jsx(pg,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>le(z),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all",title:"Editar",children:g.jsx(gD,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>i(z.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Borrar",children:g.jsx(cl,{className:"w-4 h-4"})})]})})]},z.id)})})]}),A&&g.jsxs("div",{className:"p-10 text-center",children:[g.jsx(Ri,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),u&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[g.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[g.jsx("h2",{className:"text-xl font-black uppercase",children:C?"Editar Producto":"Nuevo Producto"}),g.jsx("button",{onClick:()=>c(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"flex h-[600px]",children:[g.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:xp},{id:"costs",label:"Costos y Precios",icon:Ua},{id:"inventory",label:"Inventario Fsico",icon:gA},{id:"fractioned",label:"Venta Fraccionada",icon:mA},{id:"ecommerce",label:"E-commerce",icon:Uc}].map(z=>g.jsxs("button",{onClick:()=>h(z.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===z.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[g.jsx(z.icon,{className:"w-4 h-4 inline-block mr-2"}),z.label]},z.id))}),g.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xp,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Nombre del Producto ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{value:R.name||"",onChange:z=>M({...R,name:z.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["SKU / Cdigo Interno ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{value:R.sku||"",onChange:z=>M({...R,sku:z.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad Primaria (Stock) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{value:R.primaryUnit||"unidad",onChange:z=>M({...R,primaryUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"unidad",children:"Unidad"}),g.jsx("option",{value:"m2",children:"m2"}),g.jsx("option",{value:"kg",children:"kg"}),g.jsx("option",{value:"litro",children:"Litro"}),g.jsx("option",{value:"pie",children:"Pie"}),g.jsx("option",{value:"cm",children:"cm"}),g.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),g.jsx("option",{value:"tabla",children:"Tabla"}),g.jsx("option",{value:"caja",children:"Caja"}),g.jsx("option",{value:"barra",children:"Barra"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Unidad de Venta ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("select",{value:R.saleUnit||"unidad",onChange:z=>M({...R,saleUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"unidad",children:"Unidad"}),g.jsx("option",{value:"m2",children:"m2"}),g.jsx("option",{value:"kg",children:"kg"}),g.jsx("option",{value:"litro",children:"Litro"}),g.jsx("option",{value:"tabla",children:"Tabla"}),g.jsx("option",{value:"caja",children:"Caja"}),g.jsx("option",{value:"barra",children:"Barra"}),g.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),g.jsx("option",{value:"pie",children:"Pie"}),g.jsx("option",{value:"cm",children:"cm"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),g.jsx("input",{value:R.category||"",onChange:z=>M({...R,category:z.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),g.jsx("input",{value:R.brand||"",onChange:z=>M({...R,brand:z.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),g.jsx("input",{value:R.supplierProductCode||"",onChange:z=>M({...R,supplierProductCode:z.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),g.jsxs("select",{value:R.saleCurrency||"ARS",onChange:z=>M({...R,saleCurrency:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),g.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),g.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[g.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[g.jsx(i_,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:R.imageUrl?g.jsx("img",{src:R.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):g.jsx(i_,{className:"w-8 h-8 text-slate-300"})}),g.jsxs("div",{children:[g.jsxs("button",{onClick:()=>{var z;return(z=S.current)==null?void 0:z.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[g.jsx(H9,{className:"w-4 h-4"})," Subir Imagen"]}),g.jsx("input",{ref:S,type:"file",className:"hidden",accept:"image/*",onChange:Ce})]})]})]})]}),d==="costs"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Ua,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Costo Base Unitario ($) ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"number",value:D.baseCost||"",onChange:z=>O({...D,baseCost:Number(z.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"IVA (%)"}),g.jsx("input",{type:"number",value:D.ivaRate||"",onChange:z=>O({...D,ivaRate:Number(z.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ganancia (Markup %)"}),g.jsx("input",{type:"number",value:D.markup||"",onChange:z=>O({...D,markup:Number(z.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),g.jsxs("select",{value:D.supplierId||"",onChange:z=>O({...D,supplierId:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[g.jsx("option",{value:"",children:"Ninguno"}),o.map(z=>g.jsx("option",{value:z.id,children:z.name},z.id))]})]})]}),g.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[g.jsxs("div",{className:"relative z-10 space-y-2",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio Final Sugerido"}),g.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",se.finalSalePricePrimaryUnit.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),g.jsx(Ua,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(gA,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),g.jsx("input",{type:"number",value:U.stock||"",onChange:z=>B({...U,stock:Number(z.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mnimo de Alerta"}),g.jsx("input",{type:"number",value:U.minStock||"",onChange:z=>B({...U,minStock:Number(z.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin"}),g.jsx("input",{value:U.location||"",onChange:z=>B({...U,location:z.target.value}),placeholder:"Ej: A-05",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(mA,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:G.isFractionable||!1,onChange:z=>W({...G,isFractionable:z.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Fraccionado"}),g.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Permite vender en una unidad distinta al stock."})]})]}),G.isFractionable&&g.jsxs("div",{className:"pt-6 border-t border-slate-100 animate-in fade-in",children:[g.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Factor de Conversin (1 ",R.saleUnit," = ? ",R.primaryUnit,")"]}),g.jsx("input",{type:"number",value:G.saleUnitConversionFactor||"",onChange:z=>W({...G,saleUnitConversionFactor:Number(z.target.value)}),placeholder:"1.00",className:"w-full mt-2 px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),d==="ecommerce"&&g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Uc,{className:"w-4 h-4 text-yellow-600"})," E-Commerce"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:V.isOnline||!1,onChange:z=>K({...V,isOnline:z.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar Online"})})]})]})]})]}),g.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[g.jsx("button",{onClick:()=>c(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),g.jsxs("button",{onClick:Ne,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[y?g.jsx(Ri,{className:"w-5 h-5 animate-spin"}):g.jsx(Lb,{className:"w-5 h-5"}),"Guardar"]})]})]})})]})},zge=({companyInfo:t})=>{const{addSale:e,addOrder:n,fetchProductsPaginatedAndFiltered:r,clients:i,updateProduct:o,boxes:s,addTransaction:a,updateBox:l}=fg(),[u,c]=$.useState(""),[d,h]=$.useState([]),[y,v]=$.useState(!1),[w,_]=$.useState(!1),[x,b]=$.useState(!1),[T,N]=$.useState({name:"",price:0,quantity:1}),[A,P]=$.useState(null),[S,C]=$.useState(""),[I,R]=$.useState(!1),[M,D]=$.useState("ticket"),[O,U]=$.useState([]),[B,G]=$.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""}),[W,V]=$.useState([]),[K,Y]=$.useState(!1),[se,ee]=$.useState(null),[le,Ce]=$.useState("primary"),Ne=$.useRef(null),We=$.useCallback(X=>{Ne.current&&clearTimeout(Ne.current),Ne.current=setTimeout(async()=>{if(X.length<2){V([]);return}Y(!0);try{const{products:me}=await r({limit:8,searchTerm:X.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});V(me)}finally{Y(!1)}},300)},[r]),z=X=>{X.isFractionable&&X.saleUnitConversionFactor&&X.saleUnit!==X.primaryUnit?(ee(X),Ce("primary")):(Ve(X,X.primaryUnit),ee(null))},Ve=(X,me)=>{let Qe=X.salePrice,jt=1;me===X.saleUnit&&X.isFractionable&&X.saleUnitConversionFactor&&(Qe=X.salePrice*X.saleUnitConversionFactor,jt=X.saleUnitConversionFactor);const Vn=d.findIndex(Nt=>Nt.id===X.id&&Nt.selectedSaleUnit===me);h(Vn!==-1?d.map((Nt,Un)=>Un===Vn?{...Nt,quantity:Nt.quantity+1}:Nt):[...d,{id:X.id,sku:X.sku,name:X.name,brand:X.brand,price:parseFloat(Qe.toFixed(2)),quantity:1,stockBeforeSale:X.stock,primaryUnit:X.primaryUnit,selectedSaleUnit:me,saleUnitConversionFactor:jt}]),c(""),V([]),ee(null)},ie=()=>{!T.name||T.price<=0||(h([...d,{id:`manual-${Date.now()}`,sku:"MANUAL",name:T.name,brand:"Venta Libre",price:T.price,quantity:T.quantity,stockBeforeSale:9999,isManual:!0,primaryUnit:"unidad",selectedSaleUnit:"unidad",saleUnitConversionFactor:1}]),_(!1),N({name:"",price:0,quantity:1}))},ye=d.reduce((X,me)=>X+me.price*me.quantity,0),_e=O.reduce((X,me)=>X+me.amount,0),Q=ye-_e,Le=$.useMemo(()=>S?i.filter(X=>X.name.toLowerCase().includes(S.toLowerCase())||X.cuit.includes(S)).slice(0,5):[],[i,S]),Ie=()=>{if(B.amount<=0)return;if(!B.targetBoxId){alert("Por favor seleccione una caja de destino para este pago.");return}const X=t.paymentCommissions[B.method]||0,me=parseFloat((B.amount*(X/100)).toFixed(2)),Qe=parseFloat((B.amount-me).toFixed(2));U([...O,{...B,id:Date.now().toString(),commissionRate:X,commissionAmount:me,netAmount:Qe}]),G({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:"",targetBoxId:""})},et=async()=>{if(M!=="presupuesto"&&Math.abs(Q)>.01){alert(`Falta cubrir $${Q.toLocaleString()} del total.`);return}b(!0);try{const X=d.map(me=>({id:me.id,sku:me.sku,name:me.name,brand:me.brand,price:me.price,quantity:me.quantity,subtotal:parseFloat((me.price*me.quantity).toFixed(2)),isManual:me.isManual,selectedSaleUnit:me.selectedSaleUnit}));if(M!=="presupuesto"){for(const me of d)if(!me.isManual){const Qe=me.quantity*me.saleUnitConversionFactor;await o(me.id,{stock:me.stockBeforeSale-Qe})}for(const me of O){const Qe=s.find(jt=>jt.id===me.targetBoxId);Qe&&(await a({date:new Date().toISOString(),amount:me.netAmount,type:"ingreso",boxId:me.targetBoxId,category:"venta",description:`Venta ${M.toUpperCase()} - Cliente: ${(A==null?void 0:A.name)||"Mostrador"}`,paymentDetails:[me]}),await l(Qe.id,{balance:Qe.balance+me.netAmount}))}}await e({clientName:(A==null?void 0:A.name)||"Mostrador",clientId:(A==null?void 0:A.id)||null,items:X,total:ye,paymentDetails:O,docType:M,date:new Date().toISOString(),status:M==="presupuesto"?"pendiente":"completado",seller:"Usuario Actual",remitoIds:[]}),alert("Operacin completada. Caja y stock actualizados con valores NETOS."),h([]),v(!1),U([]),P(null)}catch(X){console.error(X),alert("Error al procesar la venta.")}finally{b(!1)}};return g.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),g.jsx("p",{className:"text-slate-500",children:"Ventas integradas con Tesorera y Stock."})]}),g.jsxs("button",{onClick:()=>_(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold flex items-center gap-2 border border-slate-200 hover:bg-slate-200 transition-all",children:[g.jsx(hg,{className:"w-4 h-4"})," Venta Libre"]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[g.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:g.jsxs("div",{className:"bg-white p-6 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[g.jsxs("div",{className:"relative",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Busca productos o escanea...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:u,onChange:X=>{c(X.target.value),We(X.target.value)}})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[K&&g.jsx("div",{className:"col-span-2 py-10 text-center",children:g.jsx(Ri,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),W.map(X=>g.jsxs("div",{onClick:()=>z(X),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[g.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:g.jsx(mD,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-bold text-slate-800 truncate",children:X.name}),g.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[X.sku,"  Stock: ",X.stock]})]}),g.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",X.salePrice.toLocaleString()]})]},X.id))]})]})}),g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:g.jsx("div",{className:"relative",children:A?g.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[g.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:g.jsx(_D,{className:"w-5 h-5"})}),g.jsx("div",{className:"min-w-0",children:g.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:A.name})})]}),g.jsx("button",{onClick:()=>P(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:g.jsx(Jr,{className:"w-4 h-4"})})]}):g.jsxs("div",{className:"relative",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar cliente...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:S,onChange:X=>{C(X.target.value),R(!0)},onFocus:()=>R(!0)}),I&&S.length>0&&g.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden",children:g.jsx("div",{className:"p-1 space-y-1",children:Le.map(X=>g.jsxs("button",{onClick:()=>{P(X),C(""),R(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between text-left",children:[g.jsx("span",{className:"font-bold text-xs",children:X.name}),g.jsx(_p,{className:"w-3 h-3 text-slate-300"})]},X.id))})})]})})}),g.jsx("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:g.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[g.jsx(pg,{className:"w-5 h-5 text-orange-600"})," Carrito"]})}),g.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:d.map((X,me)=>g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[g.jsxs("div",{className:"min-w-0",children:[g.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:X.name}),g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:[X.quantity," x $",X.price.toLocaleString()]})]}),g.jsx("button",{onClick:()=>h(d.filter((Qe,jt)=>jt!==me)),className:"text-slate-300 hover:text-red-500",children:g.jsx(cl,{className:"w-4 h-4"})})]},me))}),g.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total"}),g.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",ye.toLocaleString()]})]}),g.jsxs("button",{disabled:d.length===0,onClick:()=>v(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3",children:["COBRAR ",g.jsx(_p,{className:"w-6 h-6"})]})]})]})]}),y&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[g.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Pago"}),g.jsx("button",{onClick:()=>v(!1),className:"p-2 bg-slate-100 rounded-full",children:g.jsx(Jr,{className:"w-6 h-6 text-slate-400"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Detalle de Medios de Pago"}),g.jsx("div",{className:"space-y-2",children:O.map(X=>{var me;return g.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(jc,{className:"w-5 h-5 text-green-500"}),g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"font-bold text-slate-700 capitalize",children:X.method.replace("_"," ")}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:["Hacia: ",(me=s.find(Qe=>Qe.id===X.targetBoxId))==null?void 0:me.name]}),X.commissionAmount>0&&g.jsxs("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 bg-orange-100 text-orange-700 rounded",children:["Comisin ",X.commissionRate,"% (-$",X.commissionAmount,")"]})]})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"font-black text-slate-900",children:["$",X.amount.toLocaleString()]}),g.jsxs("p",{className:"text-[10px] text-green-600 font-bold",children:["Neto: $",X.netAmount.toLocaleString()]})]}),g.jsx("button",{onClick:()=>U(O.filter(Qe=>Qe.id!==X.id)),className:"text-red-400 hover:text-red-600",children:g.jsx(cl,{className:"w-4 h-4"})})]})]},X.id)})}),g.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[g.jsxs("div",{className:"space-y-1 md:col-span-1",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Medio"}),g.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.method,onChange:X=>G({...B,method:X.target.value}),children:[g.jsx("option",{value:"efectivo",children:"Efectivo"}),g.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),g.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),g.jsx("option",{value:"transferencia",children:"Transferencia"}),g.jsx("option",{value:"cuenta_corriente",children:"Cta. Corriente"})]})]}),g.jsxs("div",{className:"space-y-1 md:col-span-1",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Monto Bruto"}),g.jsxs("div",{className:"relative",children:[g.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300"}),g.jsx("input",{type:"number",placeholder:"0.00",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold text-xs",value:B.amount||"",onChange:X=>G({...B,amount:parseFloat(X.target.value)||0})})]})]}),g.jsxs("div",{className:"space-y-1 md:col-span-2",children:[g.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase ml-1",children:"Caja Destino"}),g.jsxs("select",{className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-xs bg-white",value:B.targetBoxId,onChange:X=>G({...B,targetBoxId:X.target.value}),children:[g.jsx("option",{value:"",children:"Seleccionar Caja..."}),s.filter(X=>X.status==="abierta").map(X=>g.jsxs("option",{value:X.id,children:[X.name," ($",X.balance.toLocaleString(),")"]},X.id))]})]})]}),B.amount>0&&g.jsxs("div",{className:"flex items-center gap-3 p-3 bg-orange-50 border border-orange-100 rounded-xl animate-in fade-in",children:[g.jsx(Db,{className:"w-4 h-4 text-orange-600"}),g.jsxs("span",{className:"text-[10px] font-bold text-orange-800 uppercase",children:["Comisin bancaria: ",t.paymentCommissions[B.method]||0,"% (-$",(B.amount*((t.paymentCommissions[B.method]||0)/100)).toFixed(2),"). Ingresar neto a caja: $",(B.amount*(1-(t.paymentCommissions[B.method]||0)/100)).toFixed(2)]})]}),g.jsxs("button",{onClick:Ie,className:"w-full py-3 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[g.jsx(Zr,{className:"w-4 h-4"})," Registrar Cobro"]})]})]})]}),g.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Liquidacin Final"}),g.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:M})]}),g.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[g.jsxs("div",{className:"flex justify-between items-baseline",children:[g.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),g.jsxs("span",{className:"text-4xl font-black text-white",children:["$",ye.toLocaleString()]})]}),g.jsxs("div",{className:"flex justify-between items-center text-green-400 font-bold uppercase text-[10px] tracking-widest",children:[g.jsx("span",{children:"A Recibir (Neto)"}),g.jsxs("span",{children:["$",O.reduce((X,me)=>X+me.netAmount,0).toLocaleString()]})]})]}),g.jsx("div",{className:"space-y-4 pt-8 border-t border-white/10",children:g.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[g.jsx("span",{className:"text-slate-400",children:"Restante Cobrar:"}),g.jsxs("span",{className:Q>0?"text-red-500":"text-orange-500",children:["$",Q.toLocaleString()]})]})})]}),g.jsxs("button",{onClick:et,disabled:x||M!=="presupuesto"&&Math.abs(Q)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[x?g.jsx(Ri,{className:"w-6 h-6 animate-spin"}):g.jsx(jc,{className:"w-6 h-6"}),x?"PROCESANDO...":"FINALIZAR VENTA"]})]})]})}),w&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),g.jsx("button",{onClick:()=>_(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("div",{className:"p-8 space-y-5",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Descripcin"}),g.jsx("input",{type:"text",value:T.name,onChange:X=>N({...T,name:X.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsx("div",{className:"grid grid-cols-2 gap-4",children:g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Precio"}),g.jsx("input",{type:"number",value:T.price||"",onChange:X=>N({...T,price:parseFloat(X.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none font-bold"})]})}),g.jsx("button",{onClick:ie,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Aadir"})]})]})})]})};var Hge={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wge,Kge;function Jge(){return{geminiUrl:Wge,vertexUrl:Kge}}function Yge(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Jge();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qi{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function m(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];m(c,e.slice(o+1),n[u])}else for(const u of l)m(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];m(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>f(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Xge(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Px(t,i,o,0,s)}}function Px(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Px(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const h of n.slice(r))h==="*"?d.push(u):d.push(h);m(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Px(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qge(t){const e={},n=f(t,["operationName"]);n!=null&&m(e,["operationName"],n);const r=f(t,["resourceName"]);return r!=null&&m(e,["_url","resourceName"],r),e}function Zge(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],tye(s)),e}function eye(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response"]);return s!=null&&m(e,["response"],nye(s)),e}function tye(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>rye(s))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function nye(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>iye(s))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function rye(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],cye(n)),e}function iye(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],dye(n)),e}function oye(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function sye(t){const e={},n=f(t,["operationName"]);return n!=null&&m(e,["_url","operationName"],n),e}function aye(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response"]);return s!=null&&m(e,["response"],lye(s)),e}function lye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function Yj(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response"]);return s!=null&&m(e,["response"],uye(s)),e}function uye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function cye(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],WE(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function dye(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],WE(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var iN;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(iN||(iN={}));var oN;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(oN||(oN={}));var sN;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(sN||(sN={}));var pt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(pt||(pt={}));var aN;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(aN||(aN={}));var lN;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(lN||(lN={}));var uN;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(uN||(uN={}));var cN;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(cN||(cN={}));var dN;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(dN||(dN={}));var fN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(fN||(fN={}));var hN;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(hN||(hN={}));var pN;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(pN||(pN={}));var mN;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(mN||(mN={}));var gN;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(gN||(gN={}));var yN;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yN||(yN={}));var vN;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(vN||(vN={}));var _N;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_N||(_N={}));var xN;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(xN||(xN={}));var wN;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wN||(wN={}));var bN;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bN||(bN={}));var EN;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(EN||(EN={}));var Em;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Em||(Em={}));var TN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(TN||(TN={}));var SN;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(SN||(SN={}));var AN;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(AN||(AN={}));var Nx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nx||(Nx={}));var IN;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(IN||(IN={}));var CN;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(CN||(CN={}));var kx;(function(t){t.COLLECTION="COLLECTION"})(kx||(kx={}));var PN;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(PN||(PN={}));var NN;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(NN||(NN={}));var kN;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kN||(kN={}));var RN;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(RN||(RN={}));var MN;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(MN||(MN={}));var ON;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ON||(ON={}));var DN;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(DN||(DN={}));var LN;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(LN||(LN={}));var $N;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})($N||($N={}));var jN;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(jN||(jN={}));var VN;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(VN||(VN={}));var UN;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(UN||(UN={}));var FN;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(FN||(FN={}));var BN;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(BN||(BN={}));var GN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(GN||(GN={}));var qN;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(qN||(qN={}));var zN;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(zN||(zN={}));var HN;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(HN||(HN={}));var WN;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(WN||(WN={}));var KN;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(KN||(KN={}));var JN;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(JN||(JN={}));var YN;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(YN||(YN={}));var XN;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(XN||(XN={}));var QN;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(QN||(QN={}));var ZN;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ZN||(ZN={}));var ek;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(ek||(ek={}));var tk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(tk||(tk={}));var Ia;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ia||(Ia={}));class Rx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Du{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class nk{}class rk{}class fye{}class hye{}class pye{}class mye{}class ik{}class ok{}class sk{}class gye{}class Tm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Tm;let i;const o=e;return n?i=eye(o):i=Zge(o),Object.assign(r,i),r}}class ak{}class lk{}class uk{}class ck{}class yye{}class vye{}class _ye{}class KE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new KE,o=aye(e);return Object.assign(r,o),r}}class xye{}class wye{}class bye{}class dk{}class Eye{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Tye{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class JE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new JE,o=Yj(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Xj(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Qj(t){return Array.isArray(t)?t.map(e=>Sm(e)):[Sm(t)]}function Sm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Zj(t){const e=Sm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function eV(t){const e=Sm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function tV(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>fk(e)):[fk(t)]}function Mx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function hk(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function pk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function yn(t){if(t==null)throw new Error("ContentUnion is required");return Mx(t)?t:{role:"user",parts:tV(t)}}function YE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=yn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=yn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>yn(n)):[yn(e)]}function fr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(hk(t)||pk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[yn(t)]}const e=[],n=[],r=Mx(t[0]);for(const i of t){const o=Mx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(hk(i)||pk(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:tV(n)}),e}function Sye(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(pt).includes(n[0].toUpperCase())?n[0].toUpperCase():pt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(pt).includes(r.toUpperCase())?r.toUpperCase():pt.TYPE_UNSPECIFIED})}}function za(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Sye(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(pt).includes(a.toUpperCase())?a.toUpperCase():pt.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=za(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(za(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=za(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function XE(t){return za(t)}function QE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ZE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function tu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=za(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=za(e.response));return t}function nu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Aye(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function zi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Aye(t,e,"cachedContents")}function nV(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wo(t){return WE(t)}function Iye(t){return t!=null&&typeof t=="object"&&"name"in t}function Cye(t){return t!=null&&typeof t=="object"&&"video"in t}function Pye(t){return t!=null&&typeof t=="object"&&"uri"in t}function rV(t){var e;let n;if(Iye(t)&&(n=t.name),!(Pye(t)&&(n=t.uri,n===void 0))&&!(Cye(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function iV(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function oV(t){for(const e of["models","tunedModels","publisherModels"])if(Nye(t,e))return t[e];return[]}function Nye(t,e){return t!==null&&typeof t=="object"&&e in t}function kye(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Rye(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=kye(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function sV(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Mye(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function aV(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ru(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function lV(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oye(t){const e={},n=f(t,["responsesFile"]);n!=null&&m(e,["fileName"],n);const r=f(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>pve(s))),m(e,["inlinedResponses"],o)}const i=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["inlinedEmbedContentResponses"],o)}return e}function Dye(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsDestination","outputUriPrefix"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigqueryDestination","outputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function Lye(t){const e={},n=f(t,["format"]);n!=null&&m(e,["predictionsFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsDestination","outputUriPrefix"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigqueryDestination","outputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Nh(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata","displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["metadata","state"]);i!=null&&m(e,["state"],lV(i));const o=f(t,["metadata","createTime"]);o!=null&&m(e,["createTime"],o);const s=f(t,["metadata","endTime"]);s!=null&&m(e,["endTime"],s);const a=f(t,["metadata","updateTime"]);a!=null&&m(e,["updateTime"],a);const l=f(t,["metadata","model"]);l!=null&&m(e,["model"],l);const u=f(t,["metadata","output"]);return u!=null&&m(e,["dest"],Oye(aV(u))),e}function Ox(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["state"]);i!=null&&m(e,["state"],lV(i));const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["createTime"]);s!=null&&m(e,["createTime"],s);const a=f(t,["startTime"]);a!=null&&m(e,["startTime"],a);const l=f(t,["endTime"]);l!=null&&m(e,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(e,["updateTime"],u);const c=f(t,["model"]);c!=null&&m(e,["model"],c);const d=f(t,["inputConfig"]);d!=null&&m(e,["src"],$ye(d));const h=f(t,["outputConfig"]);h!=null&&m(e,["dest"],Dye(aV(h)));const y=f(t,["completionStats"]);return y!=null&&m(e,["completionStats"],y),e}function $ye(t){const e={},n=f(t,["instancesFormat"]);n!=null&&m(e,["format"],n);const r=f(t,["gcsSource","uris"]);r!=null&&m(e,["gcsUri"],r);const i=f(t,["bigquerySource","inputUri"]);return i!=null&&m(e,["bigqueryUri"],i),e}function jye(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=f(e,["fileName"]);r!=null&&m(n,["fileName"],r);const i=f(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>hve(t,s))),m(n,["requests","requests"],o)}return n}function Vye(t){const e={},n=f(t,["format"]);n!=null&&m(e,["instancesFormat"],n);const r=f(t,["gcsUri"]);r!=null&&m(e,["gcsSource","uris"],r);const i=f(t,["bigqueryUri"]);if(i!=null&&m(e,["bigquerySource","inputUri"],i),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Uye(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Fye(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Bye(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Gye(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],qye(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function qye(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function uV(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>wve(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function zye(t,e){const n={},r=f(t,["displayName"]);if(e!==void 0&&r!=null&&m(e,["batch","displayName"],r),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Hye(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["dest"]);return e!==void 0&&i!=null&&m(e,["outputConfig"],Lye(Mye(i))),n}function mk(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],jye(t,sV(t,i)));const o=f(e,["config"]);return o!=null&&zye(o,n),n}function Wye(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],ze(t,r));const i=f(e,["src"]);i!=null&&m(n,["inputConfig"],Vye(sV(t,i)));const o=f(e,["config"]);return o!=null&&Hye(o,n),n}function Kye(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["batch","displayName"],r),n}function Jye(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["src"]);i!=null&&m(n,["batch","inputConfig"],nve(t,i));const o=f(e,["config"]);return o!=null&&Kye(o,n),n}function Yye(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Xye(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function Qye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function Zye(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);return o!=null&&m(e,["error"],o),e}function eve(t,e){const n={},r=f(e,["contents"]);if(r!=null){let o=YE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["requests[]","request","content"],o)}const i=f(e,["config"]);return i!=null&&(m(n,["_self"],tve(i,n)),Xge(n,{"requests[].*":"requests[].request.*"})),n}function tve(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nve(t,e){const n={},r=f(e,["fileName"]);r!=null&&m(n,["file_name"],r);const i=f(e,["inlinedRequests"]);return i!=null&&m(n,["requests"],eve(t,i)),n}function rve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function ive(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ove(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&m(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function sve(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],uV(yn(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&m(r,["topP"],s);const a=f(e,["topK"]);a!=null&&m(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&m(r,["seed"],w);const _=f(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=f(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],XE(x));const b=f(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(U=>bve(U))),m(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=nu(N);Array.isArray(O)&&(O=O.map(U=>Tve(tu(U)))),m(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],Eve(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],zi(t,P));const S=f(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],QE(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&m(r,["imageConfig"],fve(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ave(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Gye(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function lve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function uve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],ru(t,r)),n}function cve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function dve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function fve(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hve(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["request","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let a=fr(i);Array.isArray(a)&&(a=a.map(l=>uV(l))),m(n,["request","contents"],a)}const o=f(e,["metadata"]);o!=null&&m(n,["metadata"],o);const s=f(e,["config"]);return s!=null&&m(n,["request","generationConfig"],sve(t,s,f(n,["request"],{}))),n}function pve(t){const e={},n=f(t,["response"]);n!=null&&m(e,["response"],ave(n));const r=f(t,["error"]);return r!=null&&m(e,["error"],r),e}function mve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);if(e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);e!==void 0&&i!=null&&m(e,["_query","pageToken"],i);const o=f(t,["filter"]);return e!==void 0&&o!=null&&m(e,["_query","filter"],o),n}function yve(t){const e={},n=f(t,["config"]);return n!=null&&mve(n,e),e}function vve(t){const e={},n=f(t,["config"]);return n!=null&&gve(n,e),e}function _ve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Nh(s))),m(e,["batchJobs"],o)}return e}function xve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ox(s))),m(e,["batchJobs"],o)}return e}function wve(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],rve(o));const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],ive(s));const a=f(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Uye(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function bve(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function Eve(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],ove(r)),e}function Tve(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],cve(s));const a=f(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],dve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ji;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ji||(ji={}));class Ys{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sve extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=mk(this.apiClient,e),r=n._url,i=ce("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const h=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=h,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Wye(this.apiClient,e);return a=ce("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ox(c))}else{const u=mk(this.apiClient,e);return a=ce("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Nh(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Jye(this.apiClient,e);return o=ce("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Nh(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uve(this.apiClient,e);return a=ce("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ox(c))}else{const u=lve(this.apiClient,e);return a=ce("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Nh(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=Bye(this.apiClient,e);s=ce("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Fye(this.apiClient,e);s=ce("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vve(e);return a=ce("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=xve(c),h=new dk;return Object.assign(h,d),h})}else{const u=yve(e);return a=ce("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=_ve(c),h=new dk;return Object.assign(h,d),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Xye(this.apiClient,e);return a=ce("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Zye(c))}else{const u=Yye(this.apiClient,e);return a=ce("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Qye(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ave(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function gk(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jve(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function Ive(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let c=fr(s);Array.isArray(c)&&(c=c.map(d=>gk(d))),m(e,["contents"],c)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],gk(yn(a)));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Xve(d))),m(e,["tools"],c)}const u=f(t,["toolConfig"]);if(e!==void 0&&u!=null&&m(e,["toolConfig"],Yve(u)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Cve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);e!==void 0&&i!=null&&m(e,["expireTime"],i);const o=f(t,["displayName"]);e!==void 0&&o!=null&&m(e,["displayName"],o);const s=f(t,["contents"]);if(e!==void 0&&s!=null){let d=fr(s);Array.isArray(d)&&(d=d.map(h=>h)),m(e,["contents"],d)}const a=f(t,["systemInstruction"]);e!==void 0&&a!=null&&m(e,["systemInstruction"],yn(a));const l=f(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>Qve(h))),m(e,["tools"],d)}const u=f(t,["toolConfig"]);e!==void 0&&u!=null&&m(e,["toolConfig"],u);const c=f(t,["kmsKeyName"]);return e!==void 0&&c!=null&&m(e,["encryption_spec","kmsKeyName"],c),n}function Pve(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],Xj(t,r));const i=f(e,["config"]);return i!=null&&Ive(i,n),n}function Nve(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["model"],Xj(t,r));const i=f(e,["config"]);return i!=null&&Cve(i,n),n}function kve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],zi(t,r)),n}function Rve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],zi(t,r)),n}function Mve(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Ove(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function Dve(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lve(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $ve(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&m(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function jve(t){const e={},n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Vve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],zi(t,r)),n}function Uve(t,e){const n={},r=f(e,["name"]);return r!=null&&m(n,["_url","name"],zi(t,r)),n}function Fve(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Bve(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Gve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function qve(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function zve(t){const e={},n=f(t,["config"]);return n!=null&&Gve(n,e),e}function Hve(t){const e={},n=f(t,["config"]);return n!=null&&qve(n,e),e}function Wve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function Kve(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["cachedContents"],o)}return e}function Jve(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],Dve(o));const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],Lve(s));const a=f(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],Ave(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Yve(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],$ve(r)),e}function Xve(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Fve(s));const a=f(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],Bve(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function Qve(t){const e={},n=f(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>jve(h))),m(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function Zve(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function e0e(t,e){const n={},r=f(t,["ttl"]);e!==void 0&&r!=null&&m(e,["ttl"],r);const i=f(t,["expireTime"]);return e!==void 0&&i!=null&&m(e,["expireTime"],i),n}function t0e(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],zi(t,r));const i=f(e,["config"]);return i!=null&&Zve(i,n),n}function n0e(t,e){const n={},r=f(e,["name"]);r!=null&&m(n,["_url","name"],zi(t,r));const i=f(e,["config"]);return i!=null&&e0e(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0e extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Nve(this.apiClient,e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Pve(this.apiClient,e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Uve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=Vve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Rve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Ove(c),h=new uk;return Object.assign(h,d),h})}else{const u=kve(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Mve(c),h=new uk;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=n0e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=t0e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Hve(e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Kve(c),h=new ck;return Object.assign(h,d),h})}else{const u=zve(e);return a=ce("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Wve(c),h=new ck;return Object.assign(h,d),h})}}}function Am(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function kr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,d)}}function a(y,v){r[y]&&(i[y]=function(w){return new Promise(function(_,x){o.push([y,w,_,x])>1||l(y,w)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(w){h(o[0][3],w)}}function u(y){y.value instanceof Te?Promise.resolve(y.value.v).then(c,d):h(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Rr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof yk=="function"?yk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i0e(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:cV(n)}function cV(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function o0e(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function vk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!cV(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class s0e{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new a0e(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class a0e{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),o0e(o)}async sendMessage(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=yn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?vk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,h=Rr(e),y;y=yield Te(h.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const v=a;if(i0e(v)){const w=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield Te(v)}}catch(v){o={error:v}}finally{try{!d&&!i&&(s=h.return)&&(yield Te(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...vk(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ed extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ed.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function l0e(t){const e={},n=f(t,["file"]);return n!=null&&m(e,["file"],n),e}function u0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function c0e(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],rV(n)),e}function d0e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function f0e(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","file"],rV(n)),e}function h0e(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function p0e(t){const e={},n=f(t,["config"]);return n!=null&&h0e(n,e),e}function m0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g0e extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=p0e(e);return o=ce("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=m0e(l),c=new xye;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=l0e(e);return o=ce("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=u0e(l),c=new wye;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=f0e(e);return o=ce("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=c0e(e);return o=ce("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=d0e(l),c=new bye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kh(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function y0e(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>M0e(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function v0e(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function _0e(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function x0e(t){const e={},n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function w0e(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=f(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=f(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const _=f(t,["routingConfig"]);_!=null&&m(e,["routingConfig"],_);const x=f(t,["seed"]);x!=null&&m(e,["seed"],x);const b=f(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&m(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&m(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function b0e(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function E0e(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function T0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],ZE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],y0e(yn(v)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=nu(w);Array.isArray(P)&&(P=P.map(S=>D0e(tu(S)))),m(e,["setup","tools"],P)}const _=f(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],O0e(_));const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function S0e(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],w0e(r));const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],ZE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],yn(v));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let S=nu(w);Array.isArray(S)&&(S=S.map(C=>L0e(tu(C)))),m(e,["setup","tools"],S)}const _=f(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],_);const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);e!==void 0&&A!=null&&m(e,["setup","proactivity"],A);const P=f(t,["explicitVadSignal"]);return e!==void 0&&P!=null&&m(e,["setup","explicitVadSignal"],P),n}function A0e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],T0e(i,n)),n}function I0e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],S0e(i,n)),n}function C0e(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&m(e,["musicGenerationConfig"],n),e}function P0e(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["weightedPrompts"],r)}return e}function N0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=Qj(n);Array.isArray(u)&&(u=u.map(c=>kh(c))),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],kh(eV(r)));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],kh(Zj(o)));const s=f(t,["text"]);s!=null&&m(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function k0e(t){const e={},n=f(t,["media"]);if(n!=null){let u=Qj(n);Array.isArray(u)&&(u=u.map(c=>c)),m(e,["mediaChunks"],u)}const r=f(t,["audio"]);r!=null&&m(e,["audio"],eV(r));const i=f(t,["audioStreamEnd"]);i!=null&&m(e,["audioStreamEnd"],i);const o=f(t,["video"]);o!=null&&m(e,["video"],Zj(o));const s=f(t,["text"]);s!=null&&m(e,["text"],s);const a=f(t,["activityStart"]);a!=null&&m(e,["activityStart"],a);const l=f(t,["activityEnd"]);return l!=null&&m(e,["activityEnd"],l),e}function R0e(t){const e={},n=f(t,["setupComplete"]);n!=null&&m(e,["setupComplete"],n);const r=f(t,["serverContent"]);r!=null&&m(e,["serverContent"],r);const i=f(t,["toolCall"]);i!=null&&m(e,["toolCall"],i);const o=f(t,["toolCallCancellation"]);o!=null&&m(e,["toolCallCancellation"],o);const s=f(t,["usageMetadata"]);s!=null&&m(e,["usageMetadata"],$0e(s));const a=f(t,["goAway"]);a!=null&&m(e,["goAway"],a);const l=f(t,["sessionResumptionUpdate"]);l!=null&&m(e,["sessionResumptionUpdate"],l);const u=f(t,["voiceActivityDetectionSignal"]);u!=null&&m(e,["voiceActivityDetectionSignal"],u);const c=f(t,["voiceActivity"]);return c!=null&&m(e,["voiceActivity"],j0e(c)),e}function M0e(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],v0e(o));const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],_0e(s));const a=f(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],kh(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function O0e(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function D0e(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],b0e(s));const a=f(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],E0e(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function L0e(t){const e={},n=f(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>x0e(h))),m(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function $0e(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&m(e,["promptTokenCount"],n);const r=f(t,["cachedContentTokenCount"]);r!=null&&m(e,["cachedContentTokenCount"],r);const i=f(t,["candidatesTokenCount"]);i!=null&&m(e,["responseTokenCount"],i);const o=f(t,["toolUsePromptTokenCount"]);o!=null&&m(e,["toolUsePromptTokenCount"],o);const s=f(t,["thoughtsTokenCount"]);s!=null&&m(e,["thoughtsTokenCount"],s);const a=f(t,["totalTokenCount"]);a!=null&&m(e,["totalTokenCount"],a);const l=f(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["promptTokensDetails"],y)}const u=f(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["cacheTokensDetails"],y)}const c=f(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["responseTokensDetails"],y)}const d=f(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>v)),m(e,["toolUsePromptTokensDetails"],y)}const h=f(t,["trafficType"]);return h!=null&&m(e,["trafficType"],h),e}function j0e(t){const e={},n=f(t,["type"]);return n!=null&&m(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0e(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function U0e(t){const e={},n=f(t,["content"]);n!=null&&m(e,["content"],n);const r=f(t,["citationMetadata"]);r!=null&&m(e,["citationMetadata"],F0e(r));const i=f(t,["tokenCount"]);i!=null&&m(e,["tokenCount"],i);const o=f(t,["finishReason"]);o!=null&&m(e,["finishReason"],o);const s=f(t,["avgLogprobs"]);s!=null&&m(e,["avgLogprobs"],s);const a=f(t,["groundingMetadata"]);a!=null&&m(e,["groundingMetadata"],a);const l=f(t,["index"]);l!=null&&m(e,["index"],l);const u=f(t,["logprobsResult"]);u!=null&&m(e,["logprobsResult"],u);const c=f(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),m(e,["safetyRatings"],h)}const d=f(t,["urlContextMetadata"]);return d!=null&&m(e,["urlContextMetadata"],d),e}function F0e(t){const e={},n=f(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),m(e,["citations"],r)}return e}function B0e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let o=fr(i);Array.isArray(o)&&(o=o.map(s=>s)),m(n,["contents"],o)}return n}function G0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["tokensInfo"],i)}return e}function q0e(t){const e={},n=f(t,["values"]);n!=null&&m(e,["values"],n);const r=f(t,["statistics"]);return r!=null&&m(e,["statistics"],z0e(r)),e}function z0e(t){const e={},n=f(t,["truncated"]);n!=null&&m(e,["truncated"],n);const r=f(t,["token_count"]);return r!=null&&m(e,["tokenCount"],r),e}function ry(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>exe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function H0e(t){const e={},n=f(t,["controlType"]);n!=null&&m(e,["controlType"],n);const r=f(t,["enableControlImageComputation"]);return r!=null&&m(e,["computeControl"],r),e}function W0e(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function K0e(t,e){const n={},r=f(t,["systemInstruction"]);e!==void 0&&r!=null&&m(e,["systemInstruction"],yn(r));const i=f(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>pV(a))),m(e,["tools"],s)}const o=f(t,["generationConfig"]);return e!==void 0&&o!=null&&m(e,["generationConfig"],V_e(o)),n}function J0e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>ry(a))),m(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&W0e(o),n}function Y0e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&K0e(o,n),n}function X0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);r!=null&&m(e,["totalTokens"],r);const i=f(t,["cachedContentTokenCount"]);return i!=null&&m(e,["cachedContentTokenCount"],i),e}function Q0e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["totalTokens"]);return r!=null&&m(e,["totalTokens"],r),e}function Z0e(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function e_e(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function t_e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function n_e(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}function r_e(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const _=f(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=f(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const b=f(t,["editMode"]);e!==void 0&&b!=null&&m(e,["parameters","editMode"],b);const T=f(t,["baseSteps"]);return e!==void 0&&T!=null&&m(e,["parameters","editConfig","baseSteps"],T),n}function i_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>sxe(l))),m(n,["instances[0]","referenceImages"],a)}const s=f(e,["config"]);return s!=null&&r_e(s,n),n}function o_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iy(o))),m(e,["generatedImages"],i)}return e}function s_e(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["requests[]","taskType"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["requests[]","title"],i);const o=f(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&m(e,["requests[]","outputDimensionality"],o),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function a_e(t,e){const n={},r=f(t,["taskType"]);e!==void 0&&r!=null&&m(e,["instances[]","task_type"],r);const i=f(t,["title"]);e!==void 0&&i!=null&&m(e,["instances[]","title"],i);const o=f(t,["outputDimensionality"]);e!==void 0&&o!=null&&m(e,["parameters","outputDimensionality"],o);const s=f(t,["mimeType"]);e!==void 0&&s!=null&&m(e,["instances[]","mimeType"],s);const a=f(t,["autoTruncate"]);return e!==void 0&&a!=null&&m(e,["parameters","autoTruncate"],a),n}function l_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let a=YE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),m(n,["requests[]","content"],a)}const o=f(e,["config"]);o!=null&&s_e(o,n);const s=f(e,["model"]);return s!==void 0&&m(n,["requests[]","model"],ze(t,s)),n}function u_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let s=YE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["instances[]","content"],s)}const o=f(e,["config"]);return o!=null&&a_e(o,n),n}function c_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function d_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>q0e(s))),m(e,["embeddings"],o)}const i=f(t,["metadata"]);return i!=null&&m(e,["metadata"],i),e}function f_e(t){const e={},n=f(t,["endpoint"]);n!=null&&m(e,["name"],n);const r=f(t,["deployedModelId"]);return r!=null&&m(e,["deployedModelId"],r),e}function h_e(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function p_e(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m_e(t){const e={},n=f(t,["allowedFunctionNames"]);n!=null&&m(e,["allowedFunctionNames"],n);const r=f(t,["mode"]);if(r!=null&&m(e,["mode"],r),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function g_e(t){const e={},n=f(t,["description"]);n!=null&&m(e,["description"],n);const r=f(t,["name"]);r!=null&&m(e,["name"],r);const i=f(t,["parameters"]);i!=null&&m(e,["parameters"],i);const o=f(t,["parametersJsonSchema"]);o!=null&&m(e,["parametersJsonSchema"],o);const s=f(t,["response"]);s!=null&&m(e,["response"],s);const a=f(t,["responseJsonSchema"]);if(a!=null&&m(e,["responseJsonSchema"],a),f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function y_e(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],ry(yn(i)));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&m(r,["topP"],s);const a=f(e,["topK"]);a!=null&&m(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&m(r,["seed"],w);const _=f(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=f(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],XE(x));const b=f(e,["responseJsonSchema"]);if(b!=null&&m(r,["responseJsonSchema"],b),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=f(e,["safetySettings"]);if(n!==void 0&&T!=null){let O=T;Array.isArray(O)&&(O=O.map(U=>axe(U))),m(n,["safetySettings"],O)}const N=f(e,["tools"]);if(n!==void 0&&N!=null){let O=nu(N);Array.isArray(O)&&(O=O.map(U=>pxe(tu(U)))),m(n,["tools"],O)}const A=f(e,["toolConfig"]);if(n!==void 0&&A!=null&&m(n,["toolConfig"],hxe(A)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=f(e,["cachedContent"]);n!==void 0&&P!=null&&m(n,["cachedContent"],zi(t,P));const S=f(e,["responseModalities"]);S!=null&&m(r,["responseModalities"],S);const C=f(e,["mediaResolution"]);C!=null&&m(r,["mediaResolution"],C);const I=f(e,["speechConfig"]);if(I!=null&&m(r,["speechConfig"],QE(I)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=f(e,["thinkingConfig"]);R!=null&&m(r,["thinkingConfig"],R);const M=f(e,["imageConfig"]);M!=null&&m(r,["imageConfig"],q_e(M));const D=f(e,["enableEnhancedCivicAnswers"]);if(D!=null&&m(r,["enableEnhancedCivicAnswers"],D),f(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function v_e(t,e,n){const r={},i=f(e,["systemInstruction"]);n!==void 0&&i!=null&&m(n,["systemInstruction"],yn(i));const o=f(e,["temperature"]);o!=null&&m(r,["temperature"],o);const s=f(e,["topP"]);s!=null&&m(r,["topP"],s);const a=f(e,["topK"]);a!=null&&m(r,["topK"],a);const l=f(e,["candidateCount"]);l!=null&&m(r,["candidateCount"],l);const u=f(e,["maxOutputTokens"]);u!=null&&m(r,["maxOutputTokens"],u);const c=f(e,["stopSequences"]);c!=null&&m(r,["stopSequences"],c);const d=f(e,["responseLogprobs"]);d!=null&&m(r,["responseLogprobs"],d);const h=f(e,["logprobs"]);h!=null&&m(r,["logprobs"],h);const y=f(e,["presencePenalty"]);y!=null&&m(r,["presencePenalty"],y);const v=f(e,["frequencyPenalty"]);v!=null&&m(r,["frequencyPenalty"],v);const w=f(e,["seed"]);w!=null&&m(r,["seed"],w);const _=f(e,["responseMimeType"]);_!=null&&m(r,["responseMimeType"],_);const x=f(e,["responseSchema"]);x!=null&&m(r,["responseSchema"],XE(x));const b=f(e,["responseJsonSchema"]);b!=null&&m(r,["responseJsonSchema"],b);const T=f(e,["routingConfig"]);T!=null&&m(r,["routingConfig"],T);const N=f(e,["modelSelectionConfig"]);N!=null&&m(r,["modelConfig"],N);const A=f(e,["safetySettings"]);if(n!==void 0&&A!=null){let W=A;Array.isArray(W)&&(W=W.map(V=>V)),m(n,["safetySettings"],W)}const P=f(e,["tools"]);if(n!==void 0&&P!=null){let W=nu(P);Array.isArray(W)&&(W=W.map(V=>pV(tu(V)))),m(n,["tools"],W)}const S=f(e,["toolConfig"]);n!==void 0&&S!=null&&m(n,["toolConfig"],S);const C=f(e,["labels"]);n!==void 0&&C!=null&&m(n,["labels"],C);const I=f(e,["cachedContent"]);n!==void 0&&I!=null&&m(n,["cachedContent"],zi(t,I));const R=f(e,["responseModalities"]);R!=null&&m(r,["responseModalities"],R);const M=f(e,["mediaResolution"]);M!=null&&m(r,["mediaResolution"],M);const D=f(e,["speechConfig"]);D!=null&&m(r,["speechConfig"],QE(D));const O=f(e,["audioTimestamp"]);O!=null&&m(r,["audioTimestamp"],O);const U=f(e,["thinkingConfig"]);U!=null&&m(r,["thinkingConfig"],U);const B=f(e,["imageConfig"]);if(B!=null&&m(r,["imageConfig"],z_e(B)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=f(e,["modelArmorConfig"]);return n!==void 0&&G!=null&&m(n,["modelArmorConfig"],G),r}function _k(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>ry(a))),m(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],y_e(t,o,n)),n}function xk(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["contents"]);if(i!=null){let s=fr(i);Array.isArray(s)&&(s=s.map(a=>a)),m(n,["contents"],s)}const o=f(e,["config"]);return o!=null&&m(n,["generationConfig"],v_e(t,o,n)),n}function wk(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>U0e(u))),m(e,["candidates"],l)}const i=f(t,["modelVersion"]);i!=null&&m(e,["modelVersion"],i);const o=f(t,["promptFeedback"]);o!=null&&m(e,["promptFeedback"],o);const s=f(t,["responseId"]);s!=null&&m(e,["responseId"],s);const a=f(t,["usageMetadata"]);return a!=null&&m(e,["usageMetadata"],a),e}function bk(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),m(e,["candidates"],u)}const i=f(t,["createTime"]);i!=null&&m(e,["createTime"],i);const o=f(t,["modelVersion"]);o!=null&&m(e,["modelVersion"],o);const s=f(t,["promptFeedback"]);s!=null&&m(e,["promptFeedback"],s);const a=f(t,["responseId"]);a!=null&&m(e,["responseId"],a);const l=f(t,["usageMetadata"]);return l!=null&&m(e,["usageMetadata"],l),e}function __e(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["aspectRatio"]);e!==void 0&&i!=null&&m(e,["parameters","aspectRatio"],i);const o=f(t,["guidanceScale"]);if(e!==void 0&&o!=null&&m(e,["parameters","guidanceScale"],o),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=f(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&m(e,["parameters","safetySetting"],s);const a=f(t,["personGeneration"]);e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a);const l=f(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&m(e,["parameters","includeSafetyAttributes"],l);const u=f(t,["includeRaiReason"]);e!==void 0&&u!=null&&m(e,["parameters","includeRaiReason"],u);const c=f(t,["language"]);e!==void 0&&c!=null&&m(e,["parameters","language"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","mimeType"],d);const h=f(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&m(e,["parameters","outputOptions","compressionQuality"],h),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=f(t,["imageSize"]);if(e!==void 0&&y!=null&&m(e,["parameters","sampleImageSize"],y),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function x_e(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["negativePrompt"]);e!==void 0&&i!=null&&m(e,["parameters","negativePrompt"],i);const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&m(e,["parameters","sampleCount"],o);const s=f(t,["aspectRatio"]);e!==void 0&&s!=null&&m(e,["parameters","aspectRatio"],s);const a=f(t,["guidanceScale"]);e!==void 0&&a!=null&&m(e,["parameters","guidanceScale"],a);const l=f(t,["seed"]);e!==void 0&&l!=null&&m(e,["parameters","seed"],l);const u=f(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&m(e,["parameters","safetySetting"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&m(e,["parameters","includeSafetyAttributes"],d);const h=f(t,["includeRaiReason"]);e!==void 0&&h!=null&&m(e,["parameters","includeRaiReason"],h);const y=f(t,["language"]);e!==void 0&&y!=null&&m(e,["parameters","language"],y);const v=f(t,["outputMimeType"]);e!==void 0&&v!=null&&m(e,["parameters","outputOptions","mimeType"],v);const w=f(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&m(e,["parameters","outputOptions","compressionQuality"],w);const _=f(t,["addWatermark"]);e!==void 0&&_!=null&&m(e,["parameters","addWatermark"],_);const x=f(t,["labels"]);e!==void 0&&x!=null&&m(e,["labels"],x);const b=f(t,["imageSize"]);e!==void 0&&b!=null&&m(e,["parameters","sampleImageSize"],b);const T=f(t,["enhancePrompt"]);return e!==void 0&&T!=null&&m(e,["parameters","enhancePrompt"],T),n}function w_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&__e(o,n),n}function b_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["config"]);return o!=null&&x_e(o,n),n}function E_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>D_e(s))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],fV(i)),e}function T_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>iy(s))),m(e,["generatedImages"],o)}const i=f(t,["positivePromptSafetyAttributes"]);return i!=null&&m(e,["positivePromptSafetyAttributes"],hV(i)),e}function S_e(t,e){const n={},r=f(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=f(t,["durationSeconds"]);if(e!==void 0&&i!=null&&m(e,["parameters","durationSeconds"],i),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=f(t,["aspectRatio"]);e!==void 0&&o!=null&&m(e,["parameters","aspectRatio"],o);const s=f(t,["resolution"]);e!==void 0&&s!=null&&m(e,["parameters","resolution"],s);const a=f(t,["personGeneration"]);if(e!==void 0&&a!=null&&m(e,["parameters","personGeneration"],a),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=f(t,["negativePrompt"]);e!==void 0&&l!=null&&m(e,["parameters","negativePrompt"],l);const u=f(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&m(e,["parameters","enhancePrompt"],u),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=f(t,["lastFrame"]);e!==void 0&&c!=null&&m(e,["instances[0]","lastFrame"],oy(c));const d=f(t,["referenceImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>Ixe(y))),m(e,["instances[0]","referenceImages"],h)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function A_e(t,e){const n={},r=f(t,["numberOfVideos"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["outputGcsUri"]);e!==void 0&&i!=null&&m(e,["parameters","storageUri"],i);const o=f(t,["fps"]);e!==void 0&&o!=null&&m(e,["parameters","fps"],o);const s=f(t,["durationSeconds"]);e!==void 0&&s!=null&&m(e,["parameters","durationSeconds"],s);const a=f(t,["seed"]);e!==void 0&&a!=null&&m(e,["parameters","seed"],a);const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&m(e,["parameters","aspectRatio"],l);const u=f(t,["resolution"]);e!==void 0&&u!=null&&m(e,["parameters","resolution"],u);const c=f(t,["personGeneration"]);e!==void 0&&c!=null&&m(e,["parameters","personGeneration"],c);const d=f(t,["pubsubTopic"]);e!==void 0&&d!=null&&m(e,["parameters","pubsubTopic"],d);const h=f(t,["negativePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","negativePrompt"],h);const y=f(t,["enhancePrompt"]);e!==void 0&&y!=null&&m(e,["parameters","enhancePrompt"],y);const v=f(t,["generateAudio"]);e!==void 0&&v!=null&&m(e,["parameters","generateAudio"],v);const w=f(t,["lastFrame"]);e!==void 0&&w!=null&&m(e,["instances[0]","lastFrame"],Lr(w));const _=f(t,["referenceImages"]);if(e!==void 0&&_!=null){let T=_;Array.isArray(T)&&(T=T.map(N=>Cxe(N))),m(e,["instances[0]","referenceImages"],T)}const x=f(t,["mask"]);e!==void 0&&x!=null&&m(e,["instances[0]","mask"],Axe(x));const b=f(t,["compressionQuality"]);return e!==void 0&&b!=null&&m(e,["parameters","compressionQuality"],b),n}function I_e(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response","generateVideoResponse"]);return s!=null&&m(e,["response"],k_e(s)),e}function C_e(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response"]);return s!=null&&m(e,["response"],R_e(s)),e}function P_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],oy(o));const s=f(e,["video"]);s!=null&&m(n,["instances[0]","video"],mV(s));const a=f(e,["source"]);a!=null&&M_e(a,n);const l=f(e,["config"]);return l!=null&&S_e(l,n),n}function N_e(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["prompt"]);i!=null&&m(n,["instances[0]","prompt"],i);const o=f(e,["image"]);o!=null&&m(n,["instances[0]","image"],Lr(o));const s=f(e,["video"]);s!=null&&m(n,["instances[0]","video"],gV(s));const a=f(e,["source"]);a!=null&&O_e(a,n);const l=f(e,["config"]);return l!=null&&A_e(l,n),n}function k_e(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>$_e(s))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function R_e(t){const e={},n=f(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>j_e(s))),m(e,["generatedVideos"],o)}const r=f(t,["raiMediaFilteredCount"]);r!=null&&m(e,["raiMediaFilteredCount"],r);const i=f(t,["raiMediaFilteredReasons"]);return i!=null&&m(e,["raiMediaFilteredReasons"],i),e}function M_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],oy(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],mV(o)),n}function O_e(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Lr(i));const o=f(t,["video"]);return e!==void 0&&o!=null&&m(e,["instances[0]","video"],gV(o)),n}function D_e(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],H_e(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);return i!=null&&m(e,["safetyAttributes"],fV(i)),e}function iy(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["image"],dV(n));const r=f(t,["raiFilteredReason"]);r!=null&&m(e,["raiFilteredReason"],r);const i=f(t,["_self"]);i!=null&&m(e,["safetyAttributes"],hV(i));const o=f(t,["prompt"]);return o!=null&&m(e,["enhancedPrompt"],o),e}function L_e(t){const e={},n=f(t,["_self"]);n!=null&&m(e,["mask"],dV(n));const r=f(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(e,["labels"],i)}return e}function $_e(t){const e={},n=f(t,["video"]);return n!=null&&m(e,["video"],Txe(n)),e}function j_e(t){const e={},n=f(t,["_self"]);return n!=null&&m(e,["video"],Sxe(n)),e}function V_e(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&m(e,["modelConfig"],n);const r=f(t,["responseJsonSchema"]);r!=null&&m(e,["responseJsonSchema"],r);const i=f(t,["audioTimestamp"]);i!=null&&m(e,["audioTimestamp"],i);const o=f(t,["candidateCount"]);o!=null&&m(e,["candidateCount"],o);const s=f(t,["enableAffectiveDialog"]);s!=null&&m(e,["enableAffectiveDialog"],s);const a=f(t,["frequencyPenalty"]);a!=null&&m(e,["frequencyPenalty"],a);const l=f(t,["logprobs"]);l!=null&&m(e,["logprobs"],l);const u=f(t,["maxOutputTokens"]);u!=null&&m(e,["maxOutputTokens"],u);const c=f(t,["mediaResolution"]);c!=null&&m(e,["mediaResolution"],c);const d=f(t,["presencePenalty"]);d!=null&&m(e,["presencePenalty"],d);const h=f(t,["responseLogprobs"]);h!=null&&m(e,["responseLogprobs"],h);const y=f(t,["responseMimeType"]);y!=null&&m(e,["responseMimeType"],y);const v=f(t,["responseModalities"]);v!=null&&m(e,["responseModalities"],v);const w=f(t,["responseSchema"]);w!=null&&m(e,["responseSchema"],w);const _=f(t,["routingConfig"]);_!=null&&m(e,["routingConfig"],_);const x=f(t,["seed"]);x!=null&&m(e,["seed"],x);const b=f(t,["speechConfig"]);b!=null&&m(e,["speechConfig"],b);const T=f(t,["stopSequences"]);T!=null&&m(e,["stopSequences"],T);const N=f(t,["temperature"]);N!=null&&m(e,["temperature"],N);const A=f(t,["thinkingConfig"]);A!=null&&m(e,["thinkingConfig"],A);const P=f(t,["topK"]);P!=null&&m(e,["topK"],P);const S=f(t,["topP"]);if(S!=null&&m(e,["topP"],S),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function U_e(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function F_e(t,e){const n={},r=f(e,["model"]);return r!=null&&m(n,["_url","name"],ze(t,r)),n}function B_e(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function G_e(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function q_e(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);if(r!=null&&m(e,["imageSize"],r),f(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function z_e(t){const e={},n=f(t,["aspectRatio"]);n!=null&&m(e,["aspectRatio"],n);const r=f(t,["imageSize"]);r!=null&&m(e,["imageSize"],r);const i=f(t,["personGeneration"]);i!=null&&m(e,["personGeneration"],i);const o=f(t,["outputMimeType"]);o!=null&&m(e,["imageOutputOptions","mimeType"],o);const s=f(t,["outputCompressionQuality"]);return s!=null&&m(e,["imageOutputOptions","compressionQuality"],s),e}function H_e(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&m(e,["imageBytes"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function dV(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["imageBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function oy(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&m(e,["bytesBase64Encoded"],Wo(n));const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function Lr(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["imageBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function W_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],iV(t,a)),r}function K_e(t,e,n){const r={},i=f(e,["pageSize"]);n!==void 0&&i!=null&&m(n,["_query","pageSize"],i);const o=f(e,["pageToken"]);n!==void 0&&o!=null&&m(n,["_query","pageToken"],o);const s=f(e,["filter"]);n!==void 0&&s!=null&&m(n,["_query","filter"],s);const a=f(e,["queryBase"]);return n!==void 0&&a!=null&&m(n,["_url","models_url"],iV(t,a)),r}function J_e(t,e){const n={},r=f(e,["config"]);return r!=null&&W_e(t,r,n),n}function Y_e(t,e){const n={},r=f(e,["config"]);return r!=null&&K_e(t,r,n),n}function X_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=oV(i);Array.isArray(o)&&(o=o.map(s=>Dx(s))),m(e,["models"],o)}return e}function Q_e(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["_self"]);if(i!=null){let o=oV(i);Array.isArray(o)&&(o=o.map(s=>Lx(s))),m(e,["models"],o)}return e}function Z_e(t){const e={},n=f(t,["maskMode"]);n!=null&&m(e,["maskMode"],n);const r=f(t,["segmentationClasses"]);r!=null&&m(e,["maskClasses"],r);const i=f(t,["maskDilation"]);return i!=null&&m(e,["dilation"],i),e}function Dx(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["version"]);o!=null&&m(e,["version"],o);const s=f(t,["_self"]);s!=null&&m(e,["tunedModelInfo"],mxe(s));const a=f(t,["inputTokenLimit"]);a!=null&&m(e,["inputTokenLimit"],a);const l=f(t,["outputTokenLimit"]);l!=null&&m(e,["outputTokenLimit"],l);const u=f(t,["supportedGenerationMethods"]);u!=null&&m(e,["supportedActions"],u);const c=f(t,["temperature"]);c!=null&&m(e,["temperature"],c);const d=f(t,["maxTemperature"]);d!=null&&m(e,["maxTemperature"],d);const h=f(t,["topP"]);h!=null&&m(e,["topP"],h);const y=f(t,["topK"]);y!=null&&m(e,["topK"],y);const v=f(t,["thinking"]);return v!=null&&m(e,["thinking"],v),e}function Lx(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["displayName"]);r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);i!=null&&m(e,["description"],i);const o=f(t,["versionId"]);o!=null&&m(e,["version"],o);const s=f(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>f_e(h))),m(e,["endpoints"],d)}const a=f(t,["labels"]);a!=null&&m(e,["labels"],a);const l=f(t,["_self"]);l!=null&&m(e,["tunedModelInfo"],gxe(l));const u=f(t,["defaultCheckpointId"]);u!=null&&m(e,["defaultCheckpointId"],u);const c=f(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>h)),m(e,["checkpoints"],d)}return e}function exe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],h_e(o));const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],p_e(s));const a=f(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],V0e(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function txe(t){const e={},n=f(t,["productImage"]);return n!=null&&m(e,["image"],Lr(n)),e}function nxe(t,e){const n={},r=f(t,["numberOfImages"]);e!==void 0&&r!=null&&m(e,["parameters","sampleCount"],r);const i=f(t,["baseSteps"]);e!==void 0&&i!=null&&m(e,["parameters","baseSteps"],i);const o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&m(e,["parameters","storageUri"],o);const s=f(t,["seed"]);e!==void 0&&s!=null&&m(e,["parameters","seed"],s);const a=f(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&m(e,["parameters","safetySetting"],a);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&m(e,["parameters","personGeneration"],l);const u=f(t,["addWatermark"]);e!==void 0&&u!=null&&m(e,["parameters","addWatermark"],u);const c=f(t,["outputMimeType"]);e!==void 0&&c!=null&&m(e,["parameters","outputOptions","mimeType"],c);const d=f(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&m(e,["parameters","outputOptions","compressionQuality"],d);const h=f(t,["enhancePrompt"]);e!==void 0&&h!=null&&m(e,["parameters","enhancePrompt"],h);const y=f(t,["labels"]);return e!==void 0&&y!=null&&m(e,["labels"],y),n}function rxe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["source"]);i!=null&&oxe(i,n);const o=f(e,["config"]);return o!=null&&nxe(o,n),n}function ixe(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>iy(i))),m(e,["generatedImages"],r)}return e}function oxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["personImage"]);e!==void 0&&i!=null&&m(e,["instances[0]","personImage","image"],Lr(i));const o=f(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>txe(a))),m(e,["instances[0]","productImages"],s)}return n}function sxe(t){const e={},n=f(t,["referenceImage"]);n!=null&&m(e,["referenceImage"],Lr(n));const r=f(t,["referenceId"]);r!=null&&m(e,["referenceId"],r);const i=f(t,["referenceType"]);i!=null&&m(e,["referenceType"],i);const o=f(t,["maskImageConfig"]);o!=null&&m(e,["maskImageConfig"],Z_e(o));const s=f(t,["controlImageConfig"]);s!=null&&m(e,["controlImageConfig"],H0e(s));const a=f(t,["styleImageConfig"]);a!=null&&m(e,["styleImageConfig"],a);const l=f(t,["subjectImageConfig"]);return l!=null&&m(e,["subjectImageConfig"],l),e}function fV(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function hV(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&m(e,["categories"],n);const r=f(t,["safetyAttributes","scores"]);r!=null&&m(e,["scores"],r);const i=f(t,["contentType"]);return i!=null&&m(e,["contentType"],i),e}function axe(t){const e={},n=f(t,["category"]);if(n!=null&&m(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=f(t,["threshold"]);return r!=null&&m(e,["threshold"],r),e}function lxe(t){const e={},n=f(t,["image"]);return n!=null&&m(e,["image"],Lr(n)),e}function uxe(t,e){const n={},r=f(t,["mode"]);e!==void 0&&r!=null&&m(e,["parameters","mode"],r);const i=f(t,["maxPredictions"]);e!==void 0&&i!=null&&m(e,["parameters","maxPredictions"],i);const o=f(t,["confidenceThreshold"]);e!==void 0&&o!=null&&m(e,["parameters","confidenceThreshold"],o);const s=f(t,["maskDilation"]);e!==void 0&&s!=null&&m(e,["parameters","maskDilation"],s);const a=f(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&m(e,["parameters","binaryColorThreshold"],a);const l=f(t,["labels"]);return e!==void 0&&l!=null&&m(e,["labels"],l),n}function cxe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["source"]);i!=null&&fxe(i,n);const o=f(e,["config"]);return o!=null&&uxe(o,n),n}function dxe(t){const e={},n=f(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>L_e(i))),m(e,["generatedMasks"],r)}return e}function fxe(t,e){const n={},r=f(t,["prompt"]);e!==void 0&&r!=null&&m(e,["instances[0]","prompt"],r);const i=f(t,["image"]);e!==void 0&&i!=null&&m(e,["instances[0]","image"],Lr(i));const o=f(t,["scribbleImage"]);return e!==void 0&&o!=null&&m(e,["instances[0]","scribble"],lxe(o)),n}function hxe(t){const e={},n=f(t,["retrievalConfig"]);n!=null&&m(e,["retrievalConfig"],n);const r=f(t,["functionCallingConfig"]);return r!=null&&m(e,["functionCallingConfig"],m_e(r)),e}function pxe(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],B_e(s));const a=f(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],G_e(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}function pV(t){const e={},n=f(t,["retrieval"]);n!=null&&m(e,["retrieval"],n);const r=f(t,["computerUse"]);if(r!=null&&m(e,["computerUse"],r),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=f(t,["codeExecution"]);i!=null&&m(e,["codeExecution"],i);const o=f(t,["enterpriseWebSearch"]);o!=null&&m(e,["enterpriseWebSearch"],o);const s=f(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>g_e(h))),m(e,["functionDeclarations"],d)}const a=f(t,["googleMaps"]);a!=null&&m(e,["googleMaps"],a);const l=f(t,["googleSearch"]);l!=null&&m(e,["googleSearch"],l);const u=f(t,["googleSearchRetrieval"]);u!=null&&m(e,["googleSearchRetrieval"],u);const c=f(t,["urlContext"]);return c!=null&&m(e,["urlContext"],c),e}function mxe(t){const e={},n=f(t,["baseModel"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function gxe(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&m(e,["baseModel"],n);const r=f(t,["createTime"]);r!=null&&m(e,["createTime"],r);const i=f(t,["updateTime"]);return i!=null&&m(e,["updateTime"],i),e}function yxe(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function vxe(t,e){const n={},r=f(t,["displayName"]);e!==void 0&&r!=null&&m(e,["displayName"],r);const i=f(t,["description"]);e!==void 0&&i!=null&&m(e,["description"],i);const o=f(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&m(e,["defaultCheckpointId"],o),n}function _xe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","name"],ze(t,r));const i=f(e,["config"]);return i!=null&&yxe(i,n),n}function xxe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["config"]);return i!=null&&vxe(i,n),n}function wxe(t,e){const n={},r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&m(e,["parameters","storageUri"],r);const i=f(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&m(e,["parameters","safetySetting"],i);const o=f(t,["personGeneration"]);e!==void 0&&o!=null&&m(e,["parameters","personGeneration"],o);const s=f(t,["includeRaiReason"]);e!==void 0&&s!=null&&m(e,["parameters","includeRaiReason"],s);const a=f(t,["outputMimeType"]);e!==void 0&&a!=null&&m(e,["parameters","outputOptions","mimeType"],a);const l=f(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&m(e,["parameters","outputOptions","compressionQuality"],l);const u=f(t,["enhanceInputImage"]);e!==void 0&&u!=null&&m(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=f(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&m(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["numberOfImages"]);e!==void 0&&h!=null&&m(e,["parameters","sampleCount"],h);const y=f(t,["mode"]);return e!==void 0&&y!=null&&m(e,["parameters","mode"],y),n}function bxe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["_url","model"],ze(t,r));const i=f(e,["image"]);i!=null&&m(n,["instances[0]","image"],Lr(i));const o=f(e,["upscaleFactor"]);o!=null&&m(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=f(e,["config"]);return s!=null&&wxe(s,n),n}function Exe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>iy(o))),m(e,["generatedImages"],i)}return e}function Txe(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["encodedVideo"]);r!=null&&m(e,["videoBytes"],Wo(r));const i=f(t,["encoding"]);return i!=null&&m(e,["mimeType"],i),e}function Sxe(t){const e={},n=f(t,["gcsUri"]);n!=null&&m(e,["uri"],n);const r=f(t,["bytesBase64Encoded"]);r!=null&&m(e,["videoBytes"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}function Axe(t){const e={},n=f(t,["image"]);n!=null&&m(e,["_self"],Lr(n));const r=f(t,["maskMode"]);return r!=null&&m(e,["maskMode"],r),e}function Ixe(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],oy(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function Cxe(t){const e={},n=f(t,["image"]);n!=null&&m(e,["image"],Lr(n));const r=f(t,["referenceType"]);return r!=null&&m(e,["referenceType"],r),e}function mV(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["uri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["encodedVideo"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["encoding"],i),e}function gV(t){const e={},n=f(t,["uri"]);n!=null&&m(e,["gcsUri"],n);const r=f(t,["videoBytes"]);r!=null&&m(e,["bytesBase64Encoded"],Wo(r));const i=f(t,["mimeType"]);return i!=null&&m(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pxe(t,e){const n={},r=f(t,["displayName"]);return e!==void 0&&r!=null&&m(e,["displayName"],r),n}function Nxe(t){const e={},n=f(t,["config"]);return n!=null&&Pxe(n,e),e}function kxe(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Rxe(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&kxe(r,e),e}function Mxe(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Oxe(t,e){const n={},r=f(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["customMetadata"],o)}const i=f(t,["chunkingConfig"]);return e!==void 0&&i!=null&&m(e,["chunkingConfig"],i),n}function Dxe(t){const e={},n=f(t,["name"]);n!=null&&m(e,["name"],n);const r=f(t,["metadata"]);r!=null&&m(e,["metadata"],r);const i=f(t,["done"]);i!=null&&m(e,["done"],i);const o=f(t,["error"]);o!=null&&m(e,["error"],o);const s=f(t,["response"]);return s!=null&&m(e,["response"],$xe(s)),e}function Lxe(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["fileName"]);r!=null&&m(e,["fileName"],r);const i=f(t,["config"]);return i!=null&&Oxe(i,e),e}function $xe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["parent"]);r!=null&&m(e,["parent"],r);const i=f(t,["documentName"]);return i!=null&&m(e,["documentName"],i),e}function jxe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function Vxe(t){const e={},n=f(t,["config"]);return n!=null&&jxe(n,e),e}function Uxe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["fileSearchStores"],o)}return e}function yV(t,e){const n={},r=f(t,["mimeType"]);e!==void 0&&r!=null&&m(e,["mimeType"],r);const i=f(t,["displayName"]);e!==void 0&&i!=null&&m(e,["displayName"],i);const o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),m(e,["customMetadata"],a)}const s=f(t,["chunkingConfig"]);return e!==void 0&&s!=null&&m(e,["chunkingConfig"],s),n}function Fxe(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&m(e,["_url","file_search_store_name"],n);const r=f(t,["config"]);return r!=null&&yV(r,e),e}function Bxe(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&m(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gxe="Content-Type",qxe="X-Server-Timeout",zxe="User-Agent",$x="x-goog-api-client",Hxe="1.38.0",Wxe=`google-genai-sdk/${Hxe}`,Kxe="v1beta1",Jxe="v1beta";class Yxe{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Kxe}else{if(!this.clientOptions.apiKey)throw new Ed({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Jxe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===kx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&Xxe(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ek(i),new Rx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await Ek(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Te(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const v=JSON.parse(d);if("error"in v){const w=JSON.parse(JSON.stringify(v.error)),_=w.status,x=w.code,b=`got status: ${_}. ${JSON.stringify(v)}`;if(x>=400&&x<600)throw new Ed({message:b,status:x})}}catch(v){if(v.name==="ApiError")throw v}s+=d;let h=-1,y=0;for(;;){h=-1,y=0;for(const _ of l){const x=s.indexOf(_);x!==-1&&(h===-1||x<h)&&(h=x,y=_.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const w=v.trim();if(w.startsWith(a)){const _=w.substring(a.length).trim();try{const x=new Response(_,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Te(new Rx(x))}catch(x){throw new Error(`exception parsing stream chunk ${_}. ${x}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=Wxe+" "+this.clientOptions.userAgentExtra;return e[zxe]=n,e[$x]=n,e[Gxe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(qxe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=ce("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&yV(r,d);const h=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function Ek(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Ed({message:i,status:n}):new Error(i)}}function Xxe(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qxe="mcp_used/unknown";let Zxe=!1;function vV(t){for(const e of t)if(ewe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Zxe}function _V(t){var e;const n=(e=t[$x])!==null&&e!==void 0?e:"";t[$x]=(n+` ${Qxe}`).trimStart()}function ewe(t){return t!==null&&typeof t=="object"&&t instanceof eT}function twe(t){return kr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Te(n.listTools({cursor:i}));for(const a of s.tools)yield yield Te(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class eT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new eT(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Rr(twe(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const h=d.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Rye(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nwe(t,e,n){const r=new Tye;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class rwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=swe(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(T=>{u=T}),d=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:T=>{nwe(y,d.onmessage,T)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(T){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(T){}},w=this.webSocketFactory.create(l,owe(s),v);w.connect(),await c;const b={setup:{model:ze(this.apiClient,e.model)}};return w.send(JSON.stringify(b)),new iwe(w,this.apiClient)}}class iwe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=P0e(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=C0e(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ia.PLAY)}pause(){this.sendPlaybackControl(Ia.PAUSE)}stop(){this.sendPlaybackControl(Ia.STOP)}resetContext(){this.sendPlaybackControl(Ia.RESET_CONTEXT)}close(){this.conn.close()}}function owe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function swe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const awe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lwe(t,e,n){const r=new Eye;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=R0e(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class uwe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new rwe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&vV(e.config.tools)&&_V(d);const h=hwe(d);if(this.apiClient.isVertexAI()){const I=this.apiClient.getProject(),R=this.apiClient.getLocation(),M=this.apiClient.getApiKey(),D=!!I&&!!R||!!M;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const I=this.apiClient.getApiKey();let R="BidiGenerateContent",M="key";I!=null&&I.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",M="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${R}?${M}=${I}`}let y=()=>{};const v=new Promise(I=>{y=I}),w=e.callbacks,_=function(){var I;(I=w==null?void 0:w.onopen)===null||I===void 0||I.call(w),y({})},x=this.apiClient,b={onopen:_,onmessage:I=>{lwe(x,w.onmessage,I)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(I){}},T=this.webSocketFactory.create(c,fwe(h),b);T.connect(),await v;let N=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const I=this.apiClient.getProject(),R=this.apiClient.getLocation();I&&R&&(N=`projects/${I}/locations/${R}/`+N)}let A={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Em.AUDIO]}:e.config.responseModalities=[Em.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],S=[];for(const I of P)if(this.isCallableTool(I)){const R=I;S.push(await R.tool())}else S.push(I);S.length>0&&(e.config.tools=S);const C={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?A=I0e(this.apiClient,C):A=A0e(this.apiClient,C),delete A.config,T.send(JSON.stringify(A)),new dwe(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cwe={turnComplete:!0};class dwe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=fr(n.turns),e.isVertexAI()||(r=r.map(i=>ry(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(awe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},cwe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:k0e(e)}:n={realtimeInput:N0e(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fwe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hwe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tk=10;function Sk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ha(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ha(t){return"callTool"in t&&typeof t.callTool=="function"}function pwe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Ha(i)))!==null&&r!==void 0?r:!1}function Ak(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Ha(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function Ik(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mwe extends qi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!pwe(n)||Sk(n.config))return await this.generateContentInternal(l);const u=Ak(n);if(u.length>0){const w=u.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,d;const h=fr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Tk;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,_=[];for(const x of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Ha(x)){const T=await x.callTool(c.functionCalls);_.push(...T)}v++,d={role:"user",parts:_},l.contents=fr(l.contents),l.contents.push(w),l.contents.push(d),Ik(l.config)&&(h.push(w),h.push(d))}return Ik(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),Sk(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=Ak(n);if(l.length>0){const d=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Ys(ji.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Ha(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&vV(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),_V(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Ha(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Tk;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return kr(this,arguments,function*(){for(var h,y,v,w,_,x;a<o;){s&&(a++,s=!1);const A=yield Te(u.processParamsMaybeAddMcpUsage(d)),P=yield Te(u.generateContentStreamInternal(A)),S=[],C=[];try{for(var b=!0,T=(y=void 0,Rr(P)),N;N=yield Te(T.next()),h=N.done,!h;b=!0){w=N.value,b=!1;const I=w;if(yield yield Te(I),I.candidates&&(!((_=I.candidates[0])===null||_===void 0)&&_.content)){C.push(I.candidates[0].content);for(const R of(x=I.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(a<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(R.functionCall.name)){const M=yield Te(c.get(R.functionCall.name).callTool([R.functionCall]));S.push(...M)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(I){y={error:I}}finally{try{!b&&!h&&(v=T.return)&&(yield Te(v.call(T)))}finally{if(y)throw y.error}}if(S.length>0){s=!0;const I=new Du;I.candidates=[{content:{role:"user",parts:S}}],yield yield Te(I);const R=[];R.push(...C),R.push({role:"user",parts:S});const M=fr(d.contents).concat(R);d.contents=M}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xk(this.apiClient,e);return a=ce("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=bk(c),h=new Du;return Object.assign(h,d),h})}else{const u=_k(this.apiClient,e);return a=ce("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=wk(c),h=new Du;return Object.assign(h,d),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xk(this.apiClient,e);return a=ce("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return kr(this,arguments,function*(){var h,y,v,w;try{for(var _=!0,x=Rr(d),b;b=yield Te(x.next()),h=b.done,!h;_=!0){w=b.value,_=!1;const T=w,N=bk(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Du;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!_&&!h&&(v=x.return)&&(yield Te(v.call(x)))}finally{if(y)throw y.error}}})})}else{const u=_k(this.apiClient,e);return a=ce("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return kr(this,arguments,function*(){var h,y,v,w;try{for(var _=!0,x=Rr(d),b;b=yield Te(x.next()),h=b.done,!h;_=!0){w=b.value,_=!1;const T=w,N=wk(yield Te(T.json()));N.sdkHttpResponse={headers:T.headers};const A=new Du;Object.assign(A,N),yield yield Te(A)}}catch(T){y={error:T}}finally{try{!_&&!h&&(v=x.return)&&(yield Te(v.call(x)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=u_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=d_e(c),h=new nk;return Object.assign(h,d),h})}else{const u=l_e(this.apiClient,e);return a=ce("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=c_e(c),h=new nk;return Object.assign(h,d),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=b_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=T_e(c),h=new rk;return Object.assign(h,d),h})}else{const u=w_e(this.apiClient,e);return a=ce("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=E_e(c),h=new rk;return Object.assign(h,d),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=i_e(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=o_e(l),c=new fye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=bxe(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=Exe(l),c=new hye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=rxe(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=ixe(l),c=new pye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=cxe(this.apiClient,e);return o=ce("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=dxe(l),c=new mye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=F_e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Lx(c))}else{const u=U_e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dx(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Y_e(this.apiClient,e);return a=ce("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Q_e(c),h=new ik;return Object.assign(h,d),h})}else{const u=J_e(this.apiClient,e);return a=ce("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=X_e(c),h=new ik;return Object.assign(h,d),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xxe(this.apiClient,e);return a=ce("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Lx(c))}else{const u=_xe(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Dx(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=e_e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=n_e(c),h=new ok;return Object.assign(h,d),h})}else{const u=Z0e(this.apiClient,e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=t_e(c),h=new ok;return Object.assign(h,d),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Y0e(this.apiClient,e);return a=ce("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Q0e(c),h=new sk;return Object.assign(h,d),h})}else{const u=J0e(this.apiClient,e);return a=ce("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=X0e(c),h=new sk;return Object.assign(h,d),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=B0e(this.apiClient,e);return o=ce("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=G0e(l),c=new gye;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=N_e(this.apiClient,e);return a=ce("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=C_e(c),h=new Tm;return Object.assign(h,d),h})}else{const u=P_e(this.apiClient,e);return a=ce("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=I_e(c),h=new Tm;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gwe extends qi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sye(e);return a=ce("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=oye(e);return a=ce("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Qge(e);return o=ce("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ywe(t){const e={},n=f(t,["data"]);if(n!=null&&m(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function vwe(t){const e={},n=f(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Iwe(o))),m(e,["parts"],i)}const r=f(t,["role"]);return r!=null&&m(e,["role"],r),e}function _we(t,e,n){const r={},i=f(e,["expireTime"]);n!==void 0&&i!=null&&m(n,["expireTime"],i);const o=f(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&m(n,["newSessionExpireTime"],o);const s=f(e,["uses"]);n!==void 0&&s!=null&&m(n,["uses"],s);const a=f(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&m(n,["bidiGenerateContentSetup"],Awe(t,a));const l=f(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&m(n,["fieldMask"],l),r}function xwe(t,e){const n={},r=f(e,["config"]);return r!=null&&m(n,["config"],_we(t,r,n)),n}function wwe(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&m(e,["fileUri"],n);const r=f(t,["mimeType"]);return r!=null&&m(e,["mimeType"],r),e}function bwe(t){const e={},n=f(t,["id"]);n!=null&&m(e,["id"],n);const r=f(t,["args"]);r!=null&&m(e,["args"],r);const i=f(t,["name"]);if(i!=null&&m(e,["name"],i),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ewe(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&m(e,["enableWidget"],n),e}function Twe(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&m(e,["timeRangeFilter"],n),e}function Swe(t,e){const n={},r=f(t,["generationConfig"]);e!==void 0&&r!=null&&m(e,["setup","generationConfig"],r);const i=f(t,["responseModalities"]);e!==void 0&&i!=null&&m(e,["setup","generationConfig","responseModalities"],i);const o=f(t,["temperature"]);e!==void 0&&o!=null&&m(e,["setup","generationConfig","temperature"],o);const s=f(t,["topP"]);e!==void 0&&s!=null&&m(e,["setup","generationConfig","topP"],s);const a=f(t,["topK"]);e!==void 0&&a!=null&&m(e,["setup","generationConfig","topK"],a);const l=f(t,["maxOutputTokens"]);e!==void 0&&l!=null&&m(e,["setup","generationConfig","maxOutputTokens"],l);const u=f(t,["mediaResolution"]);e!==void 0&&u!=null&&m(e,["setup","generationConfig","mediaResolution"],u);const c=f(t,["seed"]);e!==void 0&&c!=null&&m(e,["setup","generationConfig","seed"],c);const d=f(t,["speechConfig"]);e!==void 0&&d!=null&&m(e,["setup","generationConfig","speechConfig"],ZE(d));const h=f(t,["thinkingConfig"]);e!==void 0&&h!=null&&m(e,["setup","generationConfig","thinkingConfig"],h);const y=f(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&m(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=f(t,["systemInstruction"]);e!==void 0&&v!=null&&m(e,["setup","systemInstruction"],vwe(yn(v)));const w=f(t,["tools"]);if(e!==void 0&&w!=null){let P=nu(w);Array.isArray(P)&&(P=P.map(S=>Pwe(tu(S)))),m(e,["setup","tools"],P)}const _=f(t,["sessionResumption"]);e!==void 0&&_!=null&&m(e,["setup","sessionResumption"],Cwe(_));const x=f(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&m(e,["setup","inputAudioTranscription"],x);const b=f(t,["outputAudioTranscription"]);e!==void 0&&b!=null&&m(e,["setup","outputAudioTranscription"],b);const T=f(t,["realtimeInputConfig"]);e!==void 0&&T!=null&&m(e,["setup","realtimeInputConfig"],T);const N=f(t,["contextWindowCompression"]);e!==void 0&&N!=null&&m(e,["setup","contextWindowCompression"],N);const A=f(t,["proactivity"]);if(e!==void 0&&A!=null&&m(e,["setup","proactivity"],A),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Awe(t,e){const n={},r=f(e,["model"]);r!=null&&m(n,["setup","model"],ze(t,r));const i=f(e,["config"]);return i!=null&&m(n,["config"],Swe(i,n)),n}function Iwe(t){const e={},n=f(t,["mediaResolution"]);n!=null&&m(e,["mediaResolution"],n);const r=f(t,["codeExecutionResult"]);r!=null&&m(e,["codeExecutionResult"],r);const i=f(t,["executableCode"]);i!=null&&m(e,["executableCode"],i);const o=f(t,["fileData"]);o!=null&&m(e,["fileData"],wwe(o));const s=f(t,["functionCall"]);s!=null&&m(e,["functionCall"],bwe(s));const a=f(t,["functionResponse"]);a!=null&&m(e,["functionResponse"],a);const l=f(t,["inlineData"]);l!=null&&m(e,["inlineData"],ywe(l));const u=f(t,["text"]);u!=null&&m(e,["text"],u);const c=f(t,["thought"]);c!=null&&m(e,["thought"],c);const d=f(t,["thoughtSignature"]);d!=null&&m(e,["thoughtSignature"],d);const h=f(t,["videoMetadata"]);return h!=null&&m(e,["videoMetadata"],h),e}function Cwe(t){const e={},n=f(t,["handle"]);if(n!=null&&m(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Pwe(t){const e={};if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=f(t,["computerUse"]);n!=null&&m(e,["computerUse"],n);const r=f(t,["fileSearch"]);r!=null&&m(e,["fileSearch"],r);const i=f(t,["codeExecution"]);if(i!=null&&m(e,["codeExecution"],i),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=f(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),m(e,["functionDeclarations"],c)}const s=f(t,["googleMaps"]);s!=null&&m(e,["googleMaps"],Ewe(s));const a=f(t,["googleSearch"]);a!=null&&m(e,["googleSearch"],Twe(a));const l=f(t,["googleSearchRetrieval"]);l!=null&&m(e,["googleSearchRetrieval"],l);const u=f(t,["urlContext"]);return u!=null&&m(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Nwe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function kwe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Nwe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Rwe extends qi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=xwe(this.apiClient,e);o=ce("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=kwe(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mwe(t,e){const n={},r=f(t,["force"]);return e!==void 0&&r!=null&&m(e,["_query","force"],r),n}function Owe(t){const e={},n=f(t,["name"]);n!=null&&m(e,["_url","name"],n);const r=f(t,["config"]);return r!=null&&Mwe(r,e),e}function Dwe(t){const e={},n=f(t,["name"]);return n!=null&&m(e,["_url","name"],n),e}function Lwe(t,e){const n={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&m(e,["_query","pageSize"],r);const i=f(t,["pageToken"]);return e!==void 0&&i!=null&&m(e,["_query","pageToken"],i),n}function $we(t){const e={},n=f(t,["parent"]);n!=null&&m(e,["_url","parent"],n);const r=f(t,["config"]);return r!=null&&Lwe(r,e),e}function jwe(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&m(e,["sdkHttpResponse"],n);const r=f(t,["nextPageToken"]);r!=null&&m(e,["nextPageToken"],r);const i=f(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),m(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vwe extends qi{constructor(e){super(),this.apiClient=e,this.list=async n=>new Ys(ji.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Dwe(e);return o=ce("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Owe(e);i=ce("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$we(e);return o=ce("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jwe(l),c=new yye;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uwe extends qi{constructor(e,n=new Vwe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Ys(ji.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Nxe(e);return o=ce("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Mxe(e);return o=ce("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Rxe(e);i=ce("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Vxe(e);return o=ce("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Uxe(l),c=new vye;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Fxe(e);return o=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Bxe(l),c=new _ye;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Lxe(e);return o=ce("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Dxe(l),c=new KE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let xV=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return xV=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Fwe=()=>xV();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Vx=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gr extends Error{}class Sn extends gr{constructor(e,n,r,i){super(`${Sn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new sy({message:r,cause:Vx(n)});const o=n;return e===400?new bV(e,o,r,i):e===401?new EV(e,o,r,i):e===403?new TV(e,o,r,i):e===404?new SV(e,o,r,i):e===409?new AV(e,o,r,i):e===422?new IV(e,o,r,i):e===429?new CV(e,o,r,i):e>=500?new PV(e,o,r,i):new Sn(e,o,r,i)}}class Ux extends Sn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class sy extends Sn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class wV extends sy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class bV extends Sn{}class EV extends Sn{}class TV extends Sn{}class SV extends Sn{}class AV extends Sn{}class IV extends Sn{}class CV extends Sn{}class PV extends Sn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bwe=/^[a-z][a-z0-9+.-]*:/i,Gwe=t=>Bwe.test(t);let Fx=t=>(Fx=Array.isArray,Fx(t));const qwe=Fx;let zwe=qwe;const Ck=zwe;function Hwe(t){if(!t)return!0;for(const e in t)return!1;return!0}function Wwe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const Kwe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new gr(`${t} must be an integer`);if(e<0)throw new gr(`${t} must be a positive integer`);return e},Jwe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ywe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ca="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xwe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const Qwe=()=>{var t,e,n,r,i;const o=Xwe();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Nk(Deno.build.os),"X-Stainless-Arch":Pk(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":Nk((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Pk((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=Zwe();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ca,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function Zwe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const Pk=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Nk=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let rh;const ebe=()=>rh??(rh=Qwe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tbe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function NV(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nbe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return NV({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function kV(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function rbe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ibe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const RV=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function jv(t,e,n){return RV(),new File(t,e??"unknown_file",n)}function obe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sbe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MV=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",abe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&MV(t),lbe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function ube(t,e,n){if(RV(),t=await t,abe(t))return t instanceof File?t:jv([await t.arrayBuffer()],t.name);if(lbe(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),jv(await Bx(i),e,n)}const r=await Bx(t);if(e||(e=obe(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return jv(r,e,n)}async function Bx(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(MV(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(sbe(t))try{for(var a=!0,l=Rr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Bx(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${cbe(t)}`)}return s}function cbe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OV{constructor(e){this._client=e}}OV._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DV(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const kk=Object.freeze(Object.create(null)),dbe=(t=DV)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,h)=>{var y,v,w;/[?#]/.test(d)&&(i=!0);const _=r[h];let x=(i?encodeURIComponent:t)(""+_);return h!==r.length&&(_==null||typeof _=="object"&&_.toString===((w=Object.getPrototypeOf((v=Object.getPrototypeOf((y=_.hasOwnProperty)!==null&&y!==void 0?y:kk))!==null&&v!==void 0?v:kk))===null||w===void 0?void 0:w.toString))&&(x=_+"",o.push({start:c.length+d.length,length:x.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),c+d+(h===r.length?"":x)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),w="^".repeat(y.length);return c=y.start+y.length,h+v+w},"");throw new gr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${d}`)}return s},ih=dbe(DV);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LV extends OV{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Am(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new gr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new gr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ih`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(ih`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(ih`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Am(o,["api_version"]);return this._client.get(ih`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}LV._key=Object.freeze(["interactions"]);class $V extends LV{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fbe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let oh;function tT(t){let e;return(oh??(e=new globalThis.TextEncoder,oh=e.encode.bind(e)))(t)}let sh;function Rk(t){let e;return(sh??(e=new globalThis.TextDecoder,sh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ay{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?tT(e):e;this.buffer=fbe([this.buffer,n]);const r=[];let i;for(;(i=hbe(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Rk(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Rk(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ay.NEWLINE_CHARS=new Set([`
`,"\r"]);ay.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hbe(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function pbe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Im={off:0,error:200,warn:300,info:400,debug:500},Mk=(t,e,n)=>{if(t){if(Wwe(Im,t))return t;xn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Im))}`)}};function Hu(){}function ah(t,e,n){return!e||Im[t]>Im[n]?Hu:e[t].bind(e)}const mbe={error:Hu,warn:Hu,info:Hu,debug:Hu};let Ok=new WeakMap;function xn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return mbe;const i=Ok.get(n);if(i&&i[0]===r)return i[1];const o={error:ah("error",n,r),warn:ah("warn",n,r),info:ah("info",n,r),debug:ah("debug",n,r)};return Ok.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ca{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?xn(r):console;function s(){return kr(this,arguments,function*(){var l,u,c,d;if(i)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Rr(gbe(e,n)),w;w=yield Te(v.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const _=d;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Te(JSON.parse(_.data))}catch(x){throw o.error("Could not parse message into JSON:",_.data),o.error("From chunk:",_.raw),x}}}catch(_){u={error:_}}finally{try{!y&&!l&&(c=v.return)&&(yield Te(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(jx(_))return yield Te(void 0);throw _}finally{h||n.abort()}})}return new Ca(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return kr(this,arguments,function*(){var l,u,c,d;const h=new ay,y=kV(e);try{for(var v=!0,w=Rr(y),_;_=yield Te(w.next()),l=_.done,!l;v=!0){d=_.value,v=!1;const x=d;for(const b of h.decode(x))yield yield Te(b)}}catch(x){u={error:x}}finally{try{!v&&!l&&(c=w.return)&&(yield Te(c.call(w)))}finally{if(u)throw u.error}}for(const x of h.flush())yield yield Te(x)})}function s(){return kr(this,arguments,function*(){var l,u,c,d;if(i)throw new gr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Rr(o()),w;w=yield Te(v.next()),l=w.done,!l;y=!0){d=w.value,y=!1;const _=d;h||_&&(yield yield Te(JSON.parse(_)))}}catch(_){u={error:_}}finally{try{!y&&!l&&(c=v.return)&&(yield Te(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(_){if(jx(_))return yield Te(void 0);throw _}finally{h||n.abort()}})}return new Ca(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ca(()=>i(e),this.controller,this.client),new Ca(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return NV({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=tT(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function gbe(t,e){return kr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new gr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new gr("Attempted to iterate over a response with no body");const a=new vbe,l=new ay,u=kV(t.body);try{for(var c=!0,d=Rr(ybe(u)),h;h=yield Te(d.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const w=a.decode(v);w&&(yield yield Te(w))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield Te(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Te(v))}})}function ybe(t){return kr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Rr(t),u;u=yield Te(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?tT(c):c;let h=new Uint8Array(s.length+d.length);h.set(s),h.set(d,s.length),s=h;let y;for(;(y=pbe(s))!==-1;)yield yield Te(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Te(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Te(s))})}class vbe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=_be(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function _be(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xbe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return xn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ca.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return xn(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nT extends Promise{constructor(e,n,r=xbe){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new nT(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jV=Symbol("brand.privateNullableHeaders");function*wbe(t){if(!t)return;if(jV in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Ck(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=Ck(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Lu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of wbe(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[jV]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Hge)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var VV;class ly{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Vv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Vv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,h=Am(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:ly.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=Mk(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:Mk(Vv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:tbe(),this.encoder=ibe,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Lu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Lu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Lu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new gr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ca}`}defaultIdempotencyKey(){return`stainless-node-retry-${Fwe()}`}makeStatusError(e,n,r,i){return Sn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Gwe(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Hwe(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new nT(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(xn(this).debug(`[${h}] sending request`,us({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Ux;const w=new AbortController,_=await this.fetchWithTimeout(c,u,d,w).catch(Vx),x=Date.now();if(_ instanceof globalThis.Error){const T=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Ux;const N=jx(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return xn(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${T}`),xn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${T})`,us({retryOfRequestLogID:r,url:c,durationMs:x-v,message:_.message})),this.retryRequest(a,n,r??h);throw xn(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),xn(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:c,durationMs:x-v,message:_.message})),N?new wV:new sy({cause:_})}const b=`[${h}${y}] ${u.method} ${c} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${x-v}ms`;if(!_.ok){const T=await this.shouldRetry(_);if(n&&T){const I=`retrying, ${n} attempts remaining`;return await rbe(_.body),xn(this).info(`${b} - ${I}`),xn(this).debug(`[${h}] response error (${I})`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),this.retryRequest(a,n,r??h,_.headers)}const N=T?"error; no more retries left":"error; not retryable";xn(this).info(`${b} - ${N}`);const A=await _.text().catch(I=>Vx(I).message),P=Jwe(A),S=P?void 0:A;throw xn(this).debug(`[${h}] response error (${N})`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,message:S,durationMs:Date.now()-v})),this.makeStatusError(_.status,P,S,_.headers)}return xn(this).info(b),xn(this).debug(`[${h}] response start`,us({retryOfRequestLogID:r,url:_.url,status:_.status,headers:_.headers,durationMs:x-v})),{response:_,options:a,controller:w,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Am(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await Ywe(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&Kwe("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Lu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),ebe()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Lu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nbe(e)}:this.encoder({body:e,headers:r})}}ly.DEFAULT_TIMEOUT=6e4;class zt extends ly{constructor(){super(...arguments),this.interactions=new $V(this)}}VV=zt;zt.GeminiNextGenAPIClient=VV;zt.GeminiNextGenAPIClientError=gr;zt.APIError=Sn;zt.APIConnectionError=sy;zt.APIConnectionTimeoutError=wV;zt.APIUserAbortError=Ux;zt.NotFoundError=SV;zt.ConflictError=AV;zt.RateLimitError=CV;zt.BadRequestError=bV;zt.AuthenticationError=EV;zt.InternalServerError=PV;zt.PermissionDeniedError=TV;zt.UnprocessableEntityError=IV;zt.toFile=ube;zt.Interactions=$V;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bbe(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Ebe(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Tbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Sbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);return r!=null&&m(n,["sdkHttpResponse"],r),n}function Abe(t,e,n){const r={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=f(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&m(e,["displayName"],i),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=f(t,["epochCount"]);e!==void 0&&o!=null&&m(e,["tuningTask","hyperparameters","epochCount"],o);const s=f(t,["learningRateMultiplier"]);if(s!=null&&m(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=f(t,["batchSize"]);e!==void 0&&a!=null&&m(e,["tuningTask","hyperparameters","batchSize"],a);const l=f(t,["learningRate"]);if(e!==void 0&&l!=null&&m(e,["tuningTask","hyperparameters","learningRate"],l),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function Ibe(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec"],Dk(y))}else if(i==="PREFERENCE_TUNING"){const y=f(t,["validationDataset"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec"],Dk(y))}const o=f(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&m(e,["tunedModelDisplayName"],o);const s=f(t,["description"]);e!==void 0&&s!=null&&m(e,["description"],s);let a=f(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=f(t,["epochCount"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=f(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=f(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=f(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=f(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=f(t,["adapterSize"]);e!==void 0&&y!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=f(t,["labels"]);e!==void 0&&d!=null&&m(e,["labels"],d);const h=f(t,["beta"]);return e!==void 0&&h!=null&&m(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function Cbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Vbe(o);const s=f(t,["config"]);return s!=null&&Abe(s,n),n}function Pbe(t,e){const n={},r=f(t,["baseModel"]);r!=null&&m(n,["baseModel"],r);const i=f(t,["preTunedModel"]);i!=null&&m(n,["preTunedModel"],i);const o=f(t,["trainingDataset"]);o!=null&&Ube(o,n,e);const s=f(t,["config"]);return s!=null&&Ibe(s,n,e),n}function Nbe(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function kbe(t,e){const n={},r=f(t,["name"]);return r!=null&&m(n,["_url","name"],r),n}function Rbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function Mbe(t,e,n){const r={},i=f(t,["pageSize"]);e!==void 0&&i!=null&&m(e,["_query","pageSize"],i);const o=f(t,["pageToken"]);e!==void 0&&o!=null&&m(e,["_query","pageToken"],o);const s=f(t,["filter"]);return e!==void 0&&s!=null&&m(e,["_query","filter"],s),r}function Obe(t,e){const n={},r=f(t,["config"]);return r!=null&&Rbe(r,n),n}function Dbe(t,e){const n={},r=f(t,["config"]);return r!=null&&Mbe(r,n),n}function Lbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>UV(a))),m(n,["tuningJobs"],s)}return n}function $be(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["nextPageToken"]);i!=null&&m(n,["nextPageToken"],i);const o=f(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Gx(a))),m(n,["tuningJobs"],s)}return n}function jbe(t,e){const n={},r=f(t,["name"]);r!=null&&m(n,["model"],r);const i=f(t,["name"]);return i!=null&&m(n,["endpoint"],i),n}function Vbe(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=f(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),m(n,["examples","examples"],i)}return n}function Ube(t,e,n){const r={};let i=f(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=f(t,["gcsUri"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=f(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=f(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&m(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function UV(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],nV(o));const s=f(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=f(t,["tuningTask","startTime"]);a!=null&&m(n,["startTime"],a);const l=f(t,["tuningTask","completeTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["description"]);c!=null&&m(n,["description"],c);const d=f(t,["baseModel"]);d!=null&&m(n,["baseModel"],d);const h=f(t,["_self"]);return h!=null&&m(n,["tunedModel"],jbe(h)),n}function Gx(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["state"]);o!=null&&m(n,["state"],nV(o));const s=f(t,["createTime"]);s!=null&&m(n,["createTime"],s);const a=f(t,["startTime"]);a!=null&&m(n,["startTime"],a);const l=f(t,["endTime"]);l!=null&&m(n,["endTime"],l);const u=f(t,["updateTime"]);u!=null&&m(n,["updateTime"],u);const c=f(t,["error"]);c!=null&&m(n,["error"],c);const d=f(t,["description"]);d!=null&&m(n,["description"],d);const h=f(t,["baseModel"]);h!=null&&m(n,["baseModel"],h);const y=f(t,["tunedModel"]);y!=null&&m(n,["tunedModel"],y);const v=f(t,["preTunedModel"]);v!=null&&m(n,["preTunedModel"],v);const w=f(t,["supervisedTuningSpec"]);w!=null&&m(n,["supervisedTuningSpec"],w);const _=f(t,["preferenceOptimizationSpec"]);_!=null&&m(n,["preferenceOptimizationSpec"],_);const x=f(t,["tuningDataStats"]);x!=null&&m(n,["tuningDataStats"],x);const b=f(t,["encryptionSpec"]);b!=null&&m(n,["encryptionSpec"],b);const T=f(t,["partnerModelTuningSpec"]);T!=null&&m(n,["partnerModelTuningSpec"],T);const N=f(t,["customBaseModel"]);N!=null&&m(n,["customBaseModel"],N);const A=f(t,["experiment"]);A!=null&&m(n,["experiment"],A);const P=f(t,["labels"]);P!=null&&m(n,["labels"],P);const S=f(t,["outputUri"]);S!=null&&m(n,["outputUri"],S);const C=f(t,["pipelineJob"]);C!=null&&m(n,["pipelineJob"],C);const I=f(t,["serviceAccount"]);I!=null&&m(n,["serviceAccount"],I);const R=f(t,["tunedModelDisplayName"]);R!=null&&m(n,["tunedModelDisplayName"],R);const M=f(t,["veoTuningSpec"]);return M!=null&&m(n,["veoTuningSpec"],M),n}function Fbe(t,e){const n={},r=f(t,["sdkHttpResponse"]);r!=null&&m(n,["sdkHttpResponse"],r);const i=f(t,["name"]);i!=null&&m(n,["name"],i);const o=f(t,["metadata"]);o!=null&&m(n,["metadata"],o);const s=f(t,["done"]);s!=null&&m(n,["done"],s);const a=f(t,["error"]);return a!=null&&m(n,["error"],a),n}function Dk(t,e){const n={},r=f(t,["gcsUri"]);r!=null&&m(n,["validationDatasetUri"],r);const i=f(t,["vertexDatasetResource"]);return i!=null&&m(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bbe extends qi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Ys(ji.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Nx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kbe(e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Gx(c))}else{const u=Nbe(e);return a=ce("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>UV(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Dbe(e);return a=ce("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=$be(c),h=new ak;return Object.assign(h,d),h})}else{const u=Obe(e);return a=ce("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Lbe(c),h=new ak;return Object.assign(h,d),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Ebe(e);return a=ce("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Sbe(c),h=new lk;return Object.assign(h,d),h})}else{const u=bbe(e);return a=ce("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const d=Tbe(c),h=new lk;return Object.assign(h,d),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=Pbe(e,e);return o=ce("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Gx(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Cbe(e);return o=ce("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Fbe(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gbe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qbe=1024*1024*8,zbe=3,Hbe=1e3,Wbe=2,Cm="x-goog-upload-status";async function Kbe(t,e,n){var r;const i=await FV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function Jbe(t,e,n){var r;const i=await FV(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Cm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=Yj(o),a=new JE;return Object.assign(a,s),a}async function FV(t,e,n){var r,i;let o=0,s=0,a=new Rx(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(qbe,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,h=Hbe;for(;d<zbe&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Cm]));)d++,await Xbe(h),h=h*Wbe;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Cm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function Ybe(t){return{size:t.size,type:t.type}}function Xbe(t){return new Promise(e=>setTimeout(e,t))}class Qbe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Kbe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Jbe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Ybe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zbe{create(e,n,r){return new eEe(e,n,r)}}class eEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lk="x-goog-api-key";class tEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(Lk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Lk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nEe="gl-node/";class rEe{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yge(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new tEe(this.apiKey);this.apiClient=new Yxe({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nEe+"web",uploader:new Qbe,downloader:new Gbe}),this.models=new mwe(this.apiClient),this.live=new uwe(this.apiClient,i,new Zbe),this.batches=new Sve(this.apiClient),this.chats=new s0e(this.models,this.apiClient),this.caches=new r0e(this.apiClient),this.files=new g0e(this.apiClient),this.operations=new gwe(this.apiClient),this.authTokens=new Rwe(this.apiClient),this.tunings=new Bbe(this.apiClient),this.fileSearchStores=new Uwe(this.apiClient)}}var iEe={};async function oEe(t,e){const n=new rEe({apiKey:iEe.API_KEY});try{const r=await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:pt.OBJECT,properties:{invoiceNumber:{type:pt.STRING},supplierName:{type:pt.STRING},supplierCuit:{type:pt.STRING},date:{type:pt.STRING},items:{type:pt.ARRAY,items:{type:pt.OBJECT,properties:{sku:{type:pt.STRING},description:{type:pt.STRING},quantity:{type:pt.NUMBER},unitPrice:{type:pt.NUMBER},total:{type:pt.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:pt.NUMBER},iva:{type:pt.NUMBER},totalAmount:{type:pt.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}catch(r){throw console.error("Error en analyzeInvoice:",r),r}}const sEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e}=fg(),n=$.useRef(null),[r,i]=$.useState("ia"),[o,s]=$.useState(!1),[a,l]=$.useState(!1),[u,c]=$.useState(null),[d,h]=$.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=x=>{var T;const b=(T=x.target.files)==null?void 0:T[0];if(b){const N=new FileReader;N.onload=A=>{var P;c({name:b.name,type:b.type,preview:(P=A.target)==null?void 0:P.result})},N.readAsDataURL(b)}},v=async()=>{if(u){s(!0);try{const x=u.preview.split(",")[1],b=await oEe(x,u.type),T=await Promise.all(b.items.map(async N=>{const{products:A}=await e({limit:1,searchTerm:N.sku||N.description.split(" ")[0],orderByField:"name"});return{...N,matchedProduct:A[0]}}));h({invoiceNumber:b.invoiceNumber||"",supplierName:b.supplierName||"",date:b.date||new Date().toISOString().split("T")[0],items:T})}catch(x){console.error(x),alert("Error al procesar el documento con IA.")}finally{s(!1)}}},w=async()=>{l(!0);try{for(const x of d.items)if(x.matchedProduct){const b=(x.matchedProduct.stock||0)+x.quantity;await t(x.matchedProduct.id,{costPrice:x.unitPrice,stock:b})}alert("Compra registrada. Inventario y costos actualizados."),h({invoiceNumber:"",supplierName:"",date:"",items:[]}),c(null)}finally{l(!1)}},_=d.items.reduce((x,b)=>x+b.unitPrice*b.quantity,0);return g.jsxs("div",{className:"space-y-6 pb-20",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),g.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),g.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[g.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(o_,{className:"w-4 h-4"})," IA Scan"]}),g.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${r==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[g.jsx(Zr,{className:"w-4 h-4"})," Manual"]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[g.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[r==="ia"&&g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(z9,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),u?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[u.type.includes("image")?g.jsx("img",{src:u.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):g.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[g.jsx(Vc,{className:"w-16 h-16 mb-4 text-orange-500"}),g.jsx("p",{className:"font-bold text-center text-sm",children:u.name})]}),g.jsx("button",{onClick:()=>c(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:g.jsx(Jr,{className:"w-5 h-5"})})]}),g.jsxs("button",{onClick:v,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?g.jsx(Ri,{className:"w-5 h-5 animate-spin"}):g.jsx(o_,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):g.jsxs("div",{onClick:()=>{var x;return(x=n.current)==null?void 0:x.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:g.jsx(Vc,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),g.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),g.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),g.jsx("input",{ref:n,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(Db,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),g.jsx("input",{value:d.supplierName,onChange:x=>h({...d,supplierName:x.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),g.jsx("input",{value:d.invoiceNumber,onChange:x=>h({...d,invoiceNumber:x.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),g.jsx("input",{type:"date",value:d.date,onChange:x=>h({...d,date:x.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),g.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[g.jsx(mD,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),g.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[d.items.length," Items"]})]}),g.jsx("div",{className:"flex-1 overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),g.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),g.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),g.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:d.items.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:"p-20 text-center",children:g.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[g.jsx(i_,{className:"w-12 h-12"}),g.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):d.items.map((x,b)=>g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsx("td",{className:"px-8 py-4",children:g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.description}),x.matchedProduct?g.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[g.jsx(jc,{className:"w-3 h-3"}),g.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",x.matchedProduct.name]})]}):g.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[g.jsx(Ph,{className:"w-3 h-3"}),g.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),g.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:x.quantity}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",x.unitPrice.toLocaleString()]}),g.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",x.total.toLocaleString()]}),g.jsx("td",{className:"px-6 py-4 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:g.jsx(cl,{className:"w-4 h-4"})})})]},b))})]})}),g.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[g.jsxs("div",{className:"flex items-center gap-8",children:[g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),g.jsxs("p",{className:"text-3xl font-black",children:["$",_.toLocaleString()]})]}),g.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),g.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(_*1.21).toLocaleString()]})]})]}),g.jsxs("button",{onClick:w,disabled:a||d.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[a?g.jsx(Ri,{className:"animate-spin w-6 h-6"}):g.jsx(Lb,{className:"w-6 h-6"}),a?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},aEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),[l,u]=$.useState({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c=async()=>{o(!0);try{const y=await Po(ke(pe,"clients"));e(y.docs.map(v=>({id:v.id,...v.data()})))}catch(y){console.error(y)}finally{o(!1)}};$.useEffect(()=>{c()},[]);const d=async y=>{y.preventDefault();try{await Kt(ke(pe,"clients"),{...l,createdAt:new Date().toISOString()}),a(!1),u({name:"",dni:"",cuit:"",phone:"",email:"",address:"",balance:0}),c()}catch{alert("Error al guardar cliente")}},h=t.filter(y=>{var v;return y.name.toLowerCase().includes(n.toLowerCase())||((v=y.cuit)==null?void 0:v.includes(n))});return g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Cartera de Clientes"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de cuentas corrientes y fidelizacin."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all active:scale-95",children:[g.jsx(Zr,{size:20})," Nuevo Cliente"]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-50 text-orange-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(Bd,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Clientes"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.length})]})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-red-50 text-red-600 rounded-2xl flex items-center justify-center shadow-sm",children:g.jsx(Vb,{})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Saldo Pendiente"}),g.jsx("p",{className:"text-3xl font-black text-red-600",children:"$0"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex flex-col md:flex-row gap-4 justify-between items-center",children:[g.jsxs("div",{className:"relative w-full md:w-96",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500/20 font-bold text-slate-700",value:n,onChange:y=>r(y.target.value)})]}),g.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-widest text-slate-400 hover:text-orange-600 transition-colors",children:[g.jsx(M9,{size:16})," Exportar Listado"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Nombre / Razn Social"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"CUIT / DNI"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando datos..."})}):h.map(y=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors group",children:[g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-full flex items-center justify-center font-black text-slate-400 text-xs",children:(y.name||"U").substring(0,2).toUpperCase()}),g.jsx("p",{className:"font-bold text-slate-800",children:y.name})]})}),g.jsx("td",{className:"px-8 py-5 font-mono text-xs text-slate-400",children:y.cuit||y.dni}),g.jsx("td",{className:"px-8 py-5",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("button",{className:"p-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-colors",children:g.jsx(B9,{size:14})}),g.jsx("button",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:g.jsx(F9,{size:14})})]})}),g.jsxs("td",{className:`px-8 py-5 text-right font-black text-lg ${y.balance<0?"text-red-500":"text-green-600"}`,children:["$",(y.balance||0).toLocaleString()]})]},y.id))})]})})]}),s&&g.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm flex items-center justify-center p-6 z-50",children:g.jsxs("div",{className:"bg-white rounded-[3rem] p-10 w-full max-w-2xl shadow-2xl animate-in zoom-in duration-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"Nuevo Cliente"}),g.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:g.jsx(Jr,{size:24})})]}),g.jsxs("form",{onSubmit:d,className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"col-span-2 space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Nombre Completo"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.name,onChange:y=>u({...l,name:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"CUIT / DNI"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.cuit,onChange:y=>u({...l,cuit:y.target.value})})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Telfono"}),g.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border rounded-2xl font-bold",value:l.phone,onChange:y=>u({...l,phone:y.target.value})})]}),g.jsx("button",{type:"submit",className:"col-span-2 py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-lg",children:"Registrar Cliente"})]})]})})]})},lEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),[s,a]=$.useState(!1),l=async()=>{o(!0);try{const u=await Po(ke(pe,"suppliers"));e(u.docs.map(c=>({id:c.id,...c.data()})))}catch(u){console.error(u)}finally{o(!1)}};return $.useEffect(()=>{l()},[]),g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 pb-20",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Proveedores"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Gestin de compras y cadena de suministro."})]}),g.jsxs("button",{onClick:()=>a(!0),className:"bg-slate-900 hover:bg-black text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl transition-all",children:[g.jsx(Zr,{size:20})," Nuevo Proveedor"]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsx("div",{className:"p-8 border-b border-slate-50 bg-slate-50/20 flex justify-between items-center",children:g.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-[0.2em]",children:"Listado Maestre"})}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Empresa"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Rubro"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Contacto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Saldo Cta."})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:i?g.jsx("tr",{children:g.jsx("td",{colSpan:4,className:"text-center py-20 text-slate-400 font-bold",children:"Cargando..."})}):t.map(u=>g.jsxs("tr",{className:"hover:bg-slate-50/80 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:u.name||u.company}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-full text-[9px] font-black uppercase",children:u.category||"General"})}),g.jsx("td",{className:"px-8 py-5 font-medium text-slate-500 text-sm",children:u.phone}),g.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900",children:["$",(u.balance||0).toLocaleString()]})]},u.id))})]})]})]})},uEe=()=>{const{transactions:t,boxes:e,addBox:n,updateBox:r,deleteBox:i,addTransaction:o}=fg(),[s,a]=$.useState("boxes"),[l,u]=$.useState({show:!1,type:null}),[c,d]=$.useState(!1),[h,y]=$.useState(!1),[v,w]=$.useState(null),[_,x]=$.useState(null),[b,T]=$.useState(!1),N=$.useMemo(()=>e.reduce((I,R)=>I+R.balance,0),[e]),A=$.useMemo(()=>e.filter(I=>I.type==="efectivo").reduce((I,R)=>I+R.balance,0),[e]),P=async I=>{I.preventDefault();const R=new FormData(I.currentTarget),M=parseFloat(R.get("amount")),D=R.get("boxId"),O=l.type,U=e.find(B=>B.id===D);if(!U){alert("Debes seleccionar una caja de origen.");return}try{await o({date:new Date().toISOString(),amount:M,type:O,boxId:D,category:R.get("category"),description:R.get("description"),paymentDetails:[{id:`pm-${Date.now()}`,method:R.get("method"),amount:M,netAmount:M}]});const B=O==="egreso"?U.balance-M:U.balance+M;await r(D,{balance:B}),u({show:!1,type:null}),alert("Movimiento registrado y saldo actualizado.")}catch{alert("Error al registrar movimiento.")}},S=async I=>{I.preventDefault(),T(!0);const R=new FormData(I.currentTarget),M=R.get("name"),D=R.get("type"),O=R.get("responsible"),U=parseFloat(R.get("balance"))||0;try{_?await r(_.id,{name:M,type:D,responsible:O}):await n({name:M,type:D,responsible:O,balance:U,status:"abierta"}),y(!1),x(null)}finally{T(!1)}},C=async I=>{window.confirm("Ests seguro de eliminar este fondo? Esta accin es irreversible.")&&await i(I)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Pagos"}),g.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Registra sueldos, impuestos y gestiona tus fondos."})]}),g.jsxs("div",{className:"flex flex-wrap gap-3",children:[g.jsxs("button",{onClick:()=>u({show:!0,type:"egreso"}),className:"flex items-center gap-3 bg-red-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-red-600/20 hover:bg-red-700 transition-all active:scale-95",children:[g.jsx(uD,{className:"w-5 h-5"})," Registrar Gasto / Pago"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"ingreso"}),className:"flex items-center gap-3 bg-green-600 text-white px-8 py-3.5 rounded-[1.5rem] font-black text-xs uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-700 transition-all active:scale-95",children:[g.jsx(b9,{className:"w-5 h-5"})," Ingreso Manual"]}),g.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[g.jsx("button",{onClick:()=>a("boxes"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="boxes"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Fondos"}),g.jsx("button",{onClick:()=>a("history"),className:`px-6 py-2.5 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${s==="history"?"bg-slate-900 text-white shadow-lg":"text-slate-500 hover:bg-slate-50"}`,children:"Historial"})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[g.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[g.jsxs("div",{className:"relative z-10",children:[g.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),g.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),g.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[g.jsx(wp,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),g.jsx(Ua,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:g.jsx(cA,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",A.toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:g.jsx(fA,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="banco").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]}),g.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[g.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:g.jsx(r_,{className:"w-8 h-8"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Cuentas Digitales"}),g.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",e.filter(I=>I.type==="virtual").reduce((I,R)=>I+R.balance,0).toLocaleString()]})]})]})]}),s==="boxes"?g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[g.jsx("div",{className:"lg:col-span-2 space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.map(I=>g.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[g.jsxs("div",{className:"flex justify-between items-start mb-6",children:[g.jsx("div",{className:`p-4 rounded-2xl ${I.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:I.type==="banco"?g.jsx(fA,{className:"w-6 h-6"}):I.type==="virtual"?g.jsx(r_,{className:"w-6 h-6"}):g.jsx(Vb,{className:"w-6 h-6"})}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("button",{onClick:()=>{x(I),y(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:g.jsx(gD,{className:"w-4 h-4"})}),g.jsx("button",{onClick:()=>C(I.id),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",children:g.jsx(cl,{className:"w-4 h-4"})})]})]}),g.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:I.name}),g.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",I.balance.toLocaleString()]}),I.status==="abierta"&&g.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[g.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[g.jsx(Bd,{className:"w-4 h-4"}),g.jsxs("span",{children:["Resp: ",g.jsx("span",{className:"text-slate-800",children:I.responsible||"Sistema"})]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[g.jsxs("button",{onClick:()=>{w(I),d(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[g.jsx(I9,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),g.jsxs("button",{onClick:()=>u({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[g.jsx(E9,{className:"w-4 h-4"})," Transferir"]})]})]}),I.status==="cerrada"&&g.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[g.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",I.lastClosed]}),g.jsxs("button",{onClick:()=>r(I.id,{status:"abierta"}),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[g.jsx(Zr,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},I.id)),g.jsxs("button",{onClick:()=>{x(null),y(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[g.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:g.jsx(Zr,{className:"w-8 h-8"})}),g.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),g.jsx("div",{className:"space-y-6",children:g.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[g.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(yD,{className:"w-4 h-4 text-orange-600"})," Control de Gastos"]}),g.jsx("p",{className:"text-slate-400 text-xs font-medium px-2",children:"Usa los botones superiores para registrar pagos de sueldos, impuestos y servicios de forma rpida."}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-3xl flex items-center gap-4",children:[g.jsx("div",{className:"p-3 bg-white rounded-2xl text-orange-600 shadow-sm",children:g.jsx(Db,{className:"w-5 h-5"})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-900 uppercase",children:"Sueldos de Personal"}),g.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase",children:'Se liquidan desde "Personal"'})]})]})]})})]}):g.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[g.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[g.jsxs("div",{className:"relative flex-1 w-full",children:[g.jsx(Ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),g.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),g.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[g.jsx(L9,{className:"w-4 h-4"})," Filtros"]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),g.jsx("th",{className:"px-8 py-5",children:"Caja"}),g.jsx("th",{className:"px-8 py-5",children:"Concepto"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),g.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-100",children:t.slice(0,20).map(I=>{var R;return g.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(I.date).toLocaleDateString()}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(I.date).toLocaleTimeString()})]}),g.jsx("td",{className:"px-8 py-5",children:g.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((R=e.find(M=>M.id===I.boxId))==null?void 0:R.name)||"Mostrador"})}),g.jsxs("td",{className:"px-8 py-5",children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:I.category||"Varios"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:I.description})]}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsxs("span",{className:`text-lg font-black ${I.type==="egreso"?"text-red-600":"text-green-600"}`,children:[I.type==="egreso"?"-":"+","$",I.amount.toLocaleString()]})}),g.jsx("td",{className:"px-8 py-5 text-center",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600",children:g.jsx(hD,{className:"w-5 h-5"})})})]},I.id)})})]})})]}),l.show&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${l.type==="ingreso"?"bg-green-600":l.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:g.jsx(cA,{className:"w-6 h-6"})}),g.jsxs("div",{children:[g.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",l.type]}),g.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Gestin manual de fondos"})]})]}),g.jsx("button",{onClick:()=>u({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:P,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Seleccionar Caja / Fondo"}),g.jsxs("div",{className:"relative",children:[g.jsxs("select",{name:"boxId",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-slate-800 bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500 appearance-none",required:!0,children:[g.jsx("option",{value:"",children:"Elegir caja..."}),e.map(I=>g.jsxs("option",{value:I.id,children:[I.name," ($",I.balance.toLocaleString(),")"]},I.id))]}),g.jsx(C9,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none"})]}),g.jsxs("p",{className:"text-[10px] text-slate-400 italic ml-1",children:["El dinero se ",l.type==="egreso"?"restar":"sumar"," de la caja elegida."]})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),g.jsxs("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[g.jsx("option",{value:"gasto",children:"Gasto General"}),g.jsx("option",{value:"sueldo",children:"Sueldo / Adelanto"}),g.jsx("option",{value:"impuesto",children:"Impuestos / Tasas"}),g.jsx("option",{value:"venta",children:"Venta / Cobranza"}),g.jsx("option",{value:"ajuste",children:"Ajuste de Saldo"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),g.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),g.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Ej: Pago de Luz local central..."})]}),g.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4 -mx-8 -mb-8",children:[g.jsx("button",{type:"button",onClick:()=>u({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),g.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${l.type==="ingreso"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:"Confirmar Registro"})]})]})]})}),h&&g.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[g.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:_?"Editar Fondo":"Nueva Caja / Fondo"}),g.jsx("button",{onClick:()=>y(!1),children:g.jsx(Jr,{className:"w-6 h-6"})})]}),g.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Descriptivo"}),g.jsx("input",{name:"name",defaultValue:_==null?void 0:_.name,required:!0,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"Ej: Caja Principal, Cuenta Galicia..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),g.jsxs("select",{name:"type",defaultValue:_==null?void 0:_.type,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold bg-white",children:[g.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),g.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),g.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"})]})]}),!_&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),g.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold",placeholder:"0.00"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),g.jsx("input",{name:"responsible",defaultValue:_==null?void 0:_.responsible,className:"w-full px-5 py-3 border border-slate-200 rounded-xl font-bold"})]}),g.jsx("button",{type:"submit",disabled:b,className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 disabled:opacity-50",children:b?g.jsx(Ri,{className:"animate-spin w-5 h-5 mx-auto"}):_?"Guardar Cambios":"Crear Fondo"})]})]})})]})},cEe=({isAdmin:t,companyInfo:e,setCompanyInfo:n})=>{const[r,i]=$.useState("company"),o=()=>{alert("Configuracin actualizada correctamente.")};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("header",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Configuracin"}),g.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona los datos de tu empresa."})]}),g.jsxs("button",{onClick:o,className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-black uppercase text-xs flex items-center gap-2 shadow-xl",children:[g.jsx(Lb,{size:18})," Guardar"]})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[g.jsx("aside",{className:"w-full lg:w-64 space-y-2",children:[{id:"company",label:"Mi Empresa",icon:dA},{id:"printing",label:"Impresin",icon:pA},{id:"afip",label:"ARCA / AFIP",icon:wp},{id:"margins",label:"Ganancias",icon:hA}].map(s=>g.jsxs("button",{onClick:()=>i(s.id),className:`w-full flex items-center justify-between px-6 py-4 rounded-2xl font-bold text-sm transition-all ${r===s.id?"bg-slate-900 text-white shadow-lg":"bg-white text-slate-400 hover:bg-slate-50 border border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(s.icon,{size:18}),g.jsx("span",{children:s.label})]}),r===s.id&&g.jsx(_p,{size:14})]},s.id))}),g.jsxs("div",{className:"flex-1 bg-white rounded-[3rem] p-10 shadow-sm border border-slate-100 min-h-[500px]",children:[r==="company"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(dA,{className:"text-orange-600"})," Empresa"]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Nombre"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"Ferretera Bruzzone"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"CUIT"}),g.jsx("input",{type:"text",className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none",defaultValue:"30-71122334-9"})]})]})]}),r==="printing"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(pA,{className:"text-orange-600"})," Impresin"]}),g.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] flex justify-between items-center",children:[g.jsx("p",{className:"font-bold text-slate-800",children:"Formato de Hoja"}),g.jsxs("select",{className:"p-3 bg-white rounded-xl font-bold border-none outline-none shadow-sm",children:[g.jsx("option",{children:"80mm (Ticket)"}),g.jsx("option",{children:"A4 (Factura)"})]})]})]}),r==="afip"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("div",{className:"bg-orange-50 p-8 rounded-[2.5rem] border border-orange-100 flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-xl font-black text-orange-900 tracking-tight",children:"ARCA / AFIP"}),g.jsx("p",{className:"text-sm text-orange-700 italic",children:"Servicio de Facturacin en Lnea"})]}),g.jsx(wp,{size:40,className:"text-orange-600"})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Punto de Venta"}),g.jsx("input",{type:"number",className:"w-full p-4 bg-slate-50 rounded-2xl font-black text-xl",defaultValue:"5"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"IVA"}),g.jsxs("select",{className:"w-full p-4 bg-slate-50 rounded-2xl font-bold outline-none border-none",children:[g.jsx("option",{children:"Responsable Inscripto"}),g.jsx("option",{children:"Monotributista"})]})]})]})]}),r==="margins"&&g.jsxs("div",{className:"space-y-8 animate-in slide-in-from-right-4",children:[g.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2 uppercase",children:[g.jsx(hA,{className:"text-orange-600"})," Ganancias"]}),g.jsxs("div",{className:"bg-slate-900 p-10 rounded-[3rem] text-white",children:[g.jsx("p",{className:"text-[10px] font-black uppercase text-orange-400 mb-4",children:"Markup Sugerido"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("input",{type:"number",className:"bg-white/10 text-white text-5xl font-black p-4 rounded-2xl w-40 outline-none",defaultValue:"30"}),g.jsx("span",{className:"text-4xl font-black text-slate-500",children:"%"})]})]})]})]})]})]})},dEe=()=>{const[t,e]=$.useState([]),[n,r]=$.useState(""),[i,o]=$.useState(!0),s=async()=>{o(!0);const l=await Po(ke(pe,"products"));e(l.docs.map(u=>({id:u.id,...u.data()}))),o(!1)};$.useEffect(()=>{s()},[]);const a=async l=>{const u=Ke(pe,"products",l.id);await Nn(u,{isPublic:!l.isPublic}),s()};return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"E-Commerce"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de catlogo online y sucursal digital."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:g.jsx(Uc,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Productos Online"}),g.jsx("p",{className:"text-3xl font-black text-slate-800",children:t.filter(l=>l.isPublic).length})]})]}),g.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-[2.5rem] shadow-2xl flex items-center gap-5",children:[g.jsx("div",{className:"w-14 h-14 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-900/40",children:g.jsx(jb,{size:24})}),g.jsxs("div",{children:[g.jsx("p",{className:"text-orange-400 font-bold text-[10px] uppercase tracking-widest mb-1",children:"Ventas Web Mes"}),g.jsx("p",{className:"text-3xl font-black text-white",children:"$0.00"})]})]})]}),g.jsxs("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:[g.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[g.jsxs("h3",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[g.jsx(xD,{size:16,className:"text-orange-500"})," Catlogo Digital"]}),g.jsxs("div",{className:"relative w-96",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:16}),g.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-100 rounded-xl font-bold text-sm",value:n,onChange:l=>r(l.target.value)})]})]}),g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-50/50",children:[g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Producto"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase",children:"Estado Web"}),g.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:t.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())).map(l=>g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-5 font-bold text-slate-800",children:l.name}),g.jsx("td",{className:"px-8 py-5",children:l.isPublic?g.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 font-black text-[9px] uppercase bg-green-50 px-3 py-1 rounded-full w-fit",children:[g.jsx(hD,{size:12})," Pblico"]}):g.jsxs("span",{className:"flex items-center gap-1.5 text-slate-400 font-black text-[9px] uppercase bg-slate-100 px-3 py-1 rounded-full w-fit",children:[g.jsx(O9,{size:12})," Privado"]})}),g.jsx("td",{className:"px-8 py-5 text-right",children:g.jsx("button",{onClick:()=>a(l),className:`px-4 py-2 rounded-xl font-black text-[10px] uppercase transition-all ${l.isPublic?"bg-slate-100 text-slate-400 hover:text-red-500":"bg-orange-600 text-white shadow-lg"}`,children:l.isPublic?"Quitar":"Publicar"})})]},l.id))})]})]})]})},fEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Cotizaciones"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Presupuestos para obras y clientes industriales."})]}),g.jsxs("button",{className:"bg-orange-600 hover:bg-orange-700 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl shadow-orange-600/20 transition-all",children:[g.jsx(Zr,{size:20})," Nuevo Presupuesto"]})]}),g.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-dashed border-slate-200 text-center",children:[g.jsx(Vc,{size:48,className:"mx-auto text-slate-200 mb-4"}),g.jsx("p",{className:"text-slate-400 font-bold italic",children:"No hay cotizaciones pendientes de aprobacin."})]})]}),hEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800",children:"Ajuste de Stock"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Correcciones manuales por rotura, prdida o conteo."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm min-h-[400px]",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsx(Ds,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),g.jsx("input",{type:"text",placeholder:"Buscar producto a ajustar...",className:"w-full pl-12 pr-4 py-4 bg-slate-50 rounded-2xl font-bold outline-none"})]}),g.jsx("p",{className:"text-center text-slate-300 font-bold py-20 italic",children:"Busca un producto para iniciar el ajuste."})]}),g.jsx("div",{className:"bg-slate-100 rounded-[3rem] border-2 border-dashed border-slate-200 flex items-center justify-center p-10 text-center text-slate-400 font-bold",children:"Selecciona un artculo para ver las opciones de correccin."})]})]}),pEe=()=>g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Personal y Accesos"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Control de permisos y usuarios del ERP."})]}),g.jsxs("button",{className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:bg-black transition-all",children:[g.jsx(K9,{size:20})," Nuevo Acceso"]})]}),g.jsx("div",{className:"bg-white rounded-[3rem] shadow-sm border border-slate-100 overflow-hidden",children:g.jsxs("table",{className:"w-full text-left",children:[g.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),g.jsx("th",{className:"px-8 py-5",children:"Rango"}),g.jsx("th",{className:"px-8 py-5 text-right",children:"Acciones"})]})}),g.jsx("tbody",{className:"divide-y divide-slate-50",children:g.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[g.jsx("td",{className:"px-8 py-6",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("div",{className:"w-10 h-10 bg-orange-600 text-white rounded-full flex items-center justify-center font-black",children:"AD"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-slate-800 text-sm",children:"Administrador Maestro"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"admin@bruzzone.com"})]})]})}),g.jsx("td",{className:"px-8 py-6",children:g.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-600 rounded-full text-[9px] font-black uppercase",children:"Admin Total"})}),g.jsx("td",{className:"px-8 py-6 text-right",children:g.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:g.jsx(cl,{size:18})})})]})})]})})]}),mEe=()=>{const[t,e]=$.useState(!1);return g.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 text-left",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight uppercase",children:"Importacin Masiva"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Carga miles de productos de forma instantnea mediante archivos Excel o CSV."})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{onDragOver:n=>{n.preventDefault(),e(!0)},onDragLeave:()=>e(!1),className:`bg-white p-20 rounded-[3rem] border-4 border-dashed transition-all flex flex-col items-center justify-center text-center group cursor-pointer ${t?"border-orange-500 bg-orange-50":"border-slate-100 hover:border-orange-200"}`,children:[g.jsx("div",{className:`w-24 h-24 rounded-full flex items-center justify-center mb-6 transition-all ${t?"bg-orange-600 text-white animate-bounce":"bg-slate-50 text-slate-300 group-hover:bg-white group-hover:text-orange-500"}`,children:g.jsx(D9,{size:48})}),g.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Suelte su archivo aqu"}),g.jsx("p",{className:"text-slate-400 text-sm mt-2 max-w-xs",children:"Arrastre el listado de precios de su proveedor o haga clic para buscar en su PC."}),g.jsxs("div",{className:"mt-10 flex gap-4",children:[g.jsx("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] shadow-xl",children:"Seleccionar Archivo"}),g.jsx("button",{className:"px-8 py-4 bg-slate-100 text-slate-500 rounded-2xl font-black text-[10px] uppercase tracking-[0.2em] hover:bg-slate-200 transition-all",children:"Ver Ejemplo"})]})]}),g.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-start gap-4",children:[g.jsx(w9,{className:"text-orange-600 shrink-0",size:24}),g.jsxs("div",{className:"text-xs font-medium text-orange-800 leading-relaxed",children:[g.jsx("strong",{children:"Instrucciones:"})," Asegrese de que el archivo tenga las columnas:",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"CODIGO"}),",",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"DESCRIPCION"}),",",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"PRECIO_COSTO"})," y",g.jsx("code",{className:"mx-1 bg-white px-1 rounded",children:"RUBRO"}),"."]})]})]}),g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] border border-slate-100 shadow-sm",children:[g.jsxs("h3",{className:"font-black text-slate-800 text-xs uppercase tracking-widest mb-6 flex items-center gap-2",children:[g.jsx(R9,{size:16,className:"text-blue-600"})," ltimas Cargas"]}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-bold text-sm text-slate-800",children:"Precios_Alba.csv"}),g.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Ayer 18:30"})]}),g.jsx("span",{className:"text-[10px] font-black text-green-600 uppercase",children:"xito"})]})})]})})]})]})},gEe=()=>g.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500 text-left",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Marcas & Rubros"}),g.jsx("p",{className:"text-slate-500 font-medium italic",children:"Organiza la jerarqua de tus productos."})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[g.jsx(A9,{className:"text-orange-600",size:16})," Rubros (Categoras)"]}),g.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:g.jsx(Zr,{size:18})})]}),g.jsx("div",{className:"space-y-3",children:["Herramientas Elctricas","Pinturas","Plomera","Bulonera"].map(t=>g.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl flex justify-between font-bold text-slate-700",children:[t," ",g.jsx($b,{size:14,className:"text-slate-300"})]},t))})]}),g.jsxs("div",{className:"bg-white p-8 rounded-[3rem] shadow-sm border border-slate-100",children:[g.jsxs("div",{className:"flex justify-between items-center mb-8",children:[g.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-widest text-xs flex items-center gap-2",children:[g.jsx(jc,{className:"text-blue-600",size:16})," Marcas Principales"]}),g.jsx("button",{className:"p-2 bg-slate-900 text-white rounded-xl hover:bg-black transition-all",children:g.jsx(Zr,{size:18})})]}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:["Bosch","DeWalt","Sinteplast","Alba","Ipsa","Ferrum"].map(t=>g.jsx("div",{className:"p-4 border border-slate-100 rounded-2xl text-center font-black text-slate-400 uppercase text-[10px] tracking-widest",children:t},t))})]})]})]}),yEe=()=>{const[t,e]=$.useState(["dashboard"]),[n,r]=$.useState("dashboard"),[i,o]=$.useState(!1),[s,a]=$.useState({name:"",role:"admin"}),l=(h,y)=>{a({name:y,role:h}),o(!0)},u=h=>{t.includes(h)||e(y=>[...y,h]),r(h)},c=h=>{if(h==="dashboard")return;const y=t.filter(v=>v!==h);e(y),n===h&&r(y[y.length-1])};if(!i)return g.jsx(Q9,{onLoginSuccess:l});const d=h=>{switch(h){case"dashboard":return g.jsx(Bge,{openTab:u});case"inventory":return g.jsx(qge,{});case"sales":return g.jsx(zge,{});case"purchases":return g.jsx(sEe,{});case"clients":return g.jsx(aEe,{});case"suppliers":return g.jsx(lEe,{});case"cashier":return g.jsx(uEe,{});case"quotes":return g.jsx(fEe,{});case"ecommerce":return g.jsx(dEe,{});case"stock-adjustment":return g.jsx(hEe,{});case"users":return g.jsx(pEe,{});case"bulk-import":return g.jsx(mEe,{});case"catalog-config":return g.jsx(gEe,{});case"settings":return g.jsx(cEe,{isAdmin:s.role==="admin",companyInfo:{},setCompanyInfo:()=>{}});default:return g.jsx("div",{className:"p-10",children:"Mdulo en construccin"})}};return g.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden font-sans",children:[g.jsx(J9,{activeTab:n,setActiveTab:u,currentUser:s,onLogout:()=>o(!1)}),g.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[g.jsx(X9,{openTabs:t,activeTabId:n,setActiveTabId:r,onCloseTab:c}),g.jsx("main",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:t.map(h=>g.jsx("div",{className:h===n?"block":"hidden",children:d(h)},h))})]})]})};function vEe(){return g.jsx(v9,{children:g.jsx(yEe,{})})}const BV=document.getElementById("root");if(!BV)throw new Error("Could not find root element to mount to");const _Ee=Uv.createRoot(BV);_Ee.render(g.jsx(j.StrictMode,{children:g.jsx(vEe,{})}));
