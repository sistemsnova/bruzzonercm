(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vI={exports:{}},yg={},bI={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=Symbol.for("react.element"),f3=Symbol.for("react.portal"),h3=Symbol.for("react.fragment"),p3=Symbol.for("react.strict_mode"),m3=Symbol.for("react.profiler"),g3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),y3=Symbol.for("react.forward_ref"),v3=Symbol.for("react.suspense"),b3=Symbol.for("react.memo"),w3=Symbol.for("react.lazy"),oE=Symbol.iterator;function _3(t){return t===null||typeof t!="object"?null:(t=oE&&t[oE]||t["@@iterator"],typeof t=="function"?t:null)}var wI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_I=Object.assign,NI={};function uc(t,e,n){this.props=t,this.context=e,this.refs=NI,this.updater=n||wI}uc.prototype.isReactComponent={};uc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};uc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SI(){}SI.prototype=uc.prototype;function Kw(t,e,n){this.props=t,this.context=e,this.refs=NI,this.updater=n||wI}var Jw=Kw.prototype=new SI;Jw.constructor=Kw;_I(Jw,uc.prototype);Jw.isPureReactComponent=!0;var lE=Array.isArray,EI=Object.prototype.hasOwnProperty,Yw={current:null},TI={key:!0,ref:!0,__self:!0,__source:!0};function AI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)EI.call(e,r)&&!TI.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ff,type:t,key:i,ref:o,props:s,_owner:Yw.current}}function N3(t,e){return{$$typeof:ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xw(t){return typeof t=="object"&&t!==null&&t.$$typeof===ff}function S3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cE=/\/+/g;function xx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?S3(""+t.key):e.toString(36)}function Fh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ff:case f3:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xx(o,0):r,lE(s)?(n="",t!=null&&(n=t.replace(cE,"$&/")+"/"),Fh(s,e,n,"",function(u){return u})):s!=null&&(Xw(s)&&(s=N3(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",lE(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+xx(i,l);o+=Fh(i,e,n,c,s)}else if(c=_3(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+xx(i,l++),o+=Fh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zf(t,e,n){if(t==null)return t;var r=[],s=0;return Fh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function E3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ln={current:null},Uh={transition:null},T3={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:Yw};function kI(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Zf,forEach:function(t,e,n){Zf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zf(t,function(){e++}),e},toArray:function(t){return Zf(t,function(e){return e})||[]},only:function(t){if(!Xw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=uc;De.Fragment=h3;De.Profiler=m3;De.PureComponent=Kw;De.StrictMode=p3;De.Suspense=v3;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T3;De.act=kI;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_I({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Yw.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)EI.call(e,c)&&!TI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ff,type:t.type,key:s,ref:i,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:x3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g3,_context:t},t.Consumer=t};De.createElement=AI;De.createFactory=function(t){var e=AI.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:y3,render:t}};De.isValidElement=Xw;De.lazy=function(t){return{$$typeof:w3,_payload:{_status:-1,_result:t},_init:E3}};De.memo=function(t,e){return{$$typeof:b3,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};De.unstable_act=kI;De.useCallback=function(t,e){return Ln.current.useCallback(t,e)};De.useContext=function(t){return Ln.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Ln.current.useDeferredValue(t)};De.useEffect=function(t,e){return Ln.current.useEffect(t,e)};De.useId=function(){return Ln.current.useId()};De.useImperativeHandle=function(t,e,n){return Ln.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Ln.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Ln.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Ln.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Ln.current.useReducer(t,e,n)};De.useRef=function(t){return Ln.current.useRef(t)};De.useState=function(t){return Ln.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Ln.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Ln.current.useTransition()};De.version="18.3.1";bI.exports=De;var D=bI.exports;const U=et(D);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A3=D,k3=Symbol.for("react.element"),C3=Symbol.for("react.fragment"),j3=Object.prototype.hasOwnProperty,P3=A3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I3={key:!0,ref:!0,__self:!0,__source:!0};function CI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)j3.call(e,r)&&!I3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:k3,type:t,key:i,ref:o,props:s,_owner:P3.current}}yg.Fragment=C3;yg.jsx=CI;yg.jsxs=CI;vI.exports=yg;var a=vI.exports,Oy={},jI={exports:{}},ur={},PI={exports:{}},II={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var J=V.length;V.push(H);e:for(;0<J;){var W=J-1>>>1,X=V[W];if(0<s(X,H))V[W]=H,V[J]=X,J=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],J=V.pop();if(J!==H){V[0]=J;e:for(var W=0,X=V.length,se=X>>>1;W<se;){var be=2*(W+1)-1,z=V[be],Q=be+1,ee=V[Q];if(0>s(z,J))Q<X&&0>s(ee,z)?(V[W]=ee,V[Q]=J,W=Q):(V[W]=z,V[be]=J,W=be);else if(Q<X&&0>s(ee,J))V[W]=ee,V[Q]=J,W=Q;else break e}}return H}function s(V,H){var J=V.sortIndex-H.sortIndex;return J!==0?J:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,x=!1,y=!1,b=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var H=n(u);H!==null;){if(H.callback===null)r(u);else if(H.startTime<=V)r(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function C(V){if(b=!1,S(V),!y)if(n(c)!==null)y=!0,$(T);else{var H=n(u);H!==null&&B(C,H.startTime-V)}}function T(V,H){y=!1,b&&(b=!1,N(A),A=-1),x=!0;var J=h;try{for(S(H),f=n(c);f!==null&&(!(f.expirationTime>H)||V&&!P());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var X=W(f.expirationTime<=H);H=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),S(H)}else r(c);f=n(c)}if(f!==null)var se=!0;else{var be=n(u);be!==null&&B(C,be.startTime-H),se=!1}return se}finally{f=null,h=J,x=!1}}var w=!1,E=null,A=-1,j=5,M=-1;function P(){return!(t.unstable_now()-M<j)}function O(){if(E!==null){var V=t.unstable_now();M=V;var H=!0;try{H=E(!0,V)}finally{H?R():(w=!1,E=null)}}else w=!1}var R;if(typeof _=="function")R=function(){_(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,F=q.port2;q.port1.onmessage=O,R=function(){F.postMessage(null)}}else R=function(){v(O,0)};function $(V){E=V,w||(w=!0,R())}function B(V,H){A=v(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){y||x||(y=!0,$(T))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var J=h;h=H;try{return V()}finally{h=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=h;h=V;try{return H()}finally{h=J}},t.unstable_scheduleCallback=function(V,H,J){var W=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,V){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=J+X,V={id:d++,callback:H,priorityLevel:V,startTime:J,expirationTime:X,sortIndex:-1},J>W?(V.sortIndex=J,e(u,V),n(c)===null&&V===n(u)&&(b?(N(A),A=-1):b=!0,B(C,J-W))):(V.sortIndex=X,e(c,V),y||x||(y=!0,$(T))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var H=h;return function(){var J=h;h=H;try{return V.apply(this,arguments)}finally{h=J}}}})(II);PI.exports=II;var R3=PI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3=D,or=R3;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RI=new Set,Ju={};function fo(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(Ju[t]=e,t=0;t<e.length;t++)RI.add(e[t])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dy=Object.prototype.hasOwnProperty,O3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uE={},dE={};function D3(t){return Dy.call(dE,t)?!0:Dy.call(uE,t)?!1:O3.test(t)?dE[t]=!0:(uE[t]=!0,!1)}function L3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $3(t,e,n,r){if(e===null||typeof e>"u"||L3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qw=/[\-:]([a-z])/g;function Zw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qw,Zw);cn[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qw,Zw);cn[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qw,Zw);cn[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function e1(t,e,n,r){var s=cn.hasOwnProperty(e)?cn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($3(e,n,s,r)&&(n=null),r||s===null?D3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ii=M3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eh=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Do=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),Ly=Symbol.for("react.profiler"),MI=Symbol.for("react.provider"),OI=Symbol.for("react.context"),n1=Symbol.for("react.forward_ref"),$y=Symbol.for("react.suspense"),Vy=Symbol.for("react.suspense_list"),r1=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),DI=Symbol.for("react.offscreen"),fE=Symbol.iterator;function Kc(t){return t===null||typeof t!="object"?null:(t=fE&&t[fE]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,yx;function gu(t){if(yx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yx=e&&e[1]||""}return`
`+yx+t}var vx=!1;function bx(t,e){if(!t||vx)return"";vx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{vx=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gu(t):""}function V3(t){switch(t.tag){case 5:return gu(t.type);case 16:return gu("Lazy");case 13:return gu("Suspense");case 19:return gu("SuspenseList");case 0:case 2:case 15:return t=bx(t.type,!1),t;case 11:return t=bx(t.type.render,!1),t;case 1:return t=bx(t.type,!0),t;default:return""}}function Fy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Do:return"Fragment";case Oo:return"Portal";case Ly:return"Profiler";case t1:return"StrictMode";case $y:return"Suspense";case Vy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OI:return(t.displayName||"Context")+".Consumer";case MI:return(t._context.displayName||"Context")+".Provider";case n1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case r1:return e=t.displayName||null,e!==null?e:Fy(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return Fy(t(e))}catch{}}return null}function F3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fy(e);case 8:return e===t1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function U3(t){var e=LI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function th(t){t._valueTracker||(t._valueTracker=U3(t))}function $I(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Uy(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function hE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VI(t,e){e=e.checked,e!=null&&e1(t,"checked",e,!1)}function By(t,e){VI(t,e);var n=Xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qy(t,e.type,n):e.hasOwnProperty("defaultValue")&&qy(t,e.type,Xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qy(t,e,n){(e!=="number"||hp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xu=Array.isArray;function tl(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(xu(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xi(n)}}function FI(t,e){var n=Xi(e.value),r=Xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function UI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?UI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nh,BI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nh=nh||document.createElement("div"),nh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B3=["Webkit","ms","Moz","O"];Object.keys(Au).forEach(function(t){B3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Au[e]=Au[t]})});function qI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Au.hasOwnProperty(t)&&Au[t]?(""+e).trim():e+"px"}function zI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var q3=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hy(t,e){if(e){if(q3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Wy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ky=null;function s1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jy=null,nl=null,rl=null;function xE(t){if(t=mf(t)){if(typeof Jy!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Ng(e),Jy(t.stateNode,t.type,e))}}function GI(t){nl?rl?rl.push(t):rl=[t]:nl=t}function HI(){if(nl){var t=nl,e=rl;if(rl=nl=null,xE(t),e)for(t=0;t<e.length;t++)xE(e[t])}}function WI(t,e){return t(e)}function KI(){}var wx=!1;function JI(t,e,n){if(wx)return t(e,n);wx=!0;try{return WI(t,e,n)}finally{wx=!1,(nl!==null||rl!==null)&&(KI(),HI())}}function Xu(t,e){var n=t.stateNode;if(n===null)return null;var r=Ng(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var Yy=!1;if(zs)try{var Jc={};Object.defineProperty(Jc,"passive",{get:function(){Yy=!0}}),window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Yy=!1}function z3(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var ku=!1,pp=null,mp=!1,Xy=null,G3={onError:function(t){ku=!0,pp=t}};function H3(t,e,n,r,s,i,o,l,c){ku=!1,pp=null,z3.apply(G3,arguments)}function W3(t,e,n,r,s,i,o,l,c){if(H3.apply(this,arguments),ku){if(ku){var u=pp;ku=!1,pp=null}else throw Error(ce(198));mp||(mp=!0,Xy=u)}}function ho(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function yE(t){if(ho(t)!==t)throw Error(ce(188))}function K3(t){var e=t.alternate;if(!e){if(e=ho(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return yE(s),t;if(i===r)return yE(s),e;i=i.sibling}throw Error(ce(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function XI(t){return t=K3(t),t!==null?QI(t):null}function QI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QI(t);if(e!==null)return e;t=t.sibling}return null}var ZI=or.unstable_scheduleCallback,vE=or.unstable_cancelCallback,J3=or.unstable_shouldYield,Y3=or.unstable_requestPaint,Ct=or.unstable_now,X3=or.unstable_getCurrentPriorityLevel,i1=or.unstable_ImmediatePriority,eR=or.unstable_UserBlockingPriority,gp=or.unstable_NormalPriority,Q3=or.unstable_LowPriority,tR=or.unstable_IdlePriority,vg=null,os=null;function Z3(t){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(vg,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:nV,eV=Math.log,tV=Math.LN2;function nV(t){return t>>>=0,t===0?32:31-(eV(t)/tV|0)|0}var rh=64,sh=4194304;function yu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function xp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=yu(l):(i&=o,i!==0&&(r=yu(i)))}else o=n&~s,o!==0?r=yu(o):i!==0&&(r=yu(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),s=1<<n,r|=t[n],e&=~s;return r}function rV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Fr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=rV(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Qy(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nR(){var t=rh;return rh<<=1,!(rh&4194240)&&(rh=64),t}function _x(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function iV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Fr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function a1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Qe=0;function rR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sR,o1,iR,aR,oR,Zy=!1,ih=[],Oi=null,Di=null,Li=null,Qu=new Map,Zu=new Map,_i=[],aV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bE(t,e){switch(t){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Li=null;break;case"pointerover":case"pointerout":Qu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(e.pointerId)}}function Yc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=mf(e),e!==null&&o1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oV(t,e,n,r,s){switch(e){case"focusin":return Oi=Yc(Oi,t,e,n,r,s),!0;case"dragenter":return Di=Yc(Di,t,e,n,r,s),!0;case"mouseover":return Li=Yc(Li,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qu.set(i,Yc(Qu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zu.set(i,Yc(Zu.get(i)||null,t,e,n,r,s)),!0}return!1}function lR(t){var e=Pa(t.target);if(e!==null){var n=ho(e);if(n!==null){if(e=n.tag,e===13){if(e=YI(n),e!==null){t.blockedOn=e,oR(t.priority,function(){iR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ev(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ky=r,n.target.dispatchEvent(r),Ky=null}else return e=mf(n),e!==null&&o1(e),t.blockedOn=n,!1;e.shift()}return!0}function wE(t,e,n){Bh(t)&&n.delete(e)}function lV(){Zy=!1,Oi!==null&&Bh(Oi)&&(Oi=null),Di!==null&&Bh(Di)&&(Di=null),Li!==null&&Bh(Li)&&(Li=null),Qu.forEach(wE),Zu.forEach(wE)}function Xc(t,e){t.blockedOn===e&&(t.blockedOn=null,Zy||(Zy=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,lV)))}function ed(t){function e(s){return Xc(s,t)}if(0<ih.length){Xc(ih[0],t);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oi!==null&&Xc(Oi,t),Di!==null&&Xc(Di,t),Li!==null&&Xc(Li,t),Qu.forEach(e),Zu.forEach(e),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)lR(n),n.blockedOn===null&&_i.shift()}var sl=ii.ReactCurrentBatchConfig,yp=!0;function cV(t,e,n,r){var s=Qe,i=sl.transition;sl.transition=null;try{Qe=1,l1(t,e,n,r)}finally{Qe=s,sl.transition=i}}function uV(t,e,n,r){var s=Qe,i=sl.transition;sl.transition=null;try{Qe=4,l1(t,e,n,r)}finally{Qe=s,sl.transition=i}}function l1(t,e,n,r){if(yp){var s=ev(t,e,n,r);if(s===null)Ix(t,e,r,vp,n),bE(t,r);else if(oV(s,t,e,n,r))r.stopPropagation();else if(bE(t,r),e&4&&-1<aV.indexOf(t)){for(;s!==null;){var i=mf(s);if(i!==null&&sR(i),i=ev(t,e,n,r),i===null&&Ix(t,e,r,vp,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ix(t,e,r,null,n)}}var vp=null;function ev(t,e,n,r){if(vp=null,t=s1(r),t=Pa(t),t!==null)if(e=ho(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vp=t,null}function cR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(X3()){case i1:return 1;case eR:return 4;case gp:case Q3:return 16;case tR:return 536870912;default:return 16}default:return 16}}var Ci=null,c1=null,qh=null;function uR(){if(qh)return qh;var t,e=c1,n=e.length,r,s="value"in Ci?Ci.value:Ci.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return qh=s.slice(t,1<r?1-r:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ah(){return!0}function _E(){return!1}function dr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ah:_E,this.isPropagationStopped=_E,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ah)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ah)},persist:function(){},isPersistent:ah}),e}var dc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=dr(dc),pf=wt({},dc,{view:0,detail:0}),dV=dr(pf),Nx,Sx,Qc,bg=wt({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qc&&(Qc&&t.type==="mousemove"?(Nx=t.screenX-Qc.screenX,Sx=t.screenY-Qc.screenY):Sx=Nx=0,Qc=t),Nx)},movementY:function(t){return"movementY"in t?t.movementY:Sx}}),NE=dr(bg),fV=wt({},bg,{dataTransfer:0}),hV=dr(fV),pV=wt({},pf,{relatedTarget:0}),Ex=dr(pV),mV=wt({},dc,{animationName:0,elapsedTime:0,pseudoElement:0}),gV=dr(mV),xV=wt({},dc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yV=dr(xV),vV=wt({},dc,{data:0}),SE=dr(vV),bV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_V={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_V[t])?!!e[t]:!1}function d1(){return NV}var SV=wt({},pf,{key:function(t){if(t.key){var e=bV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d1,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EV=dr(SV),TV=wt({},bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EE=dr(TV),AV=wt({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d1}),kV=dr(AV),CV=wt({},dc,{propertyName:0,elapsedTime:0,pseudoElement:0}),jV=dr(CV),PV=wt({},bg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),IV=dr(PV),RV=[9,13,27,32],f1=zs&&"CompositionEvent"in window,Cu=null;zs&&"documentMode"in document&&(Cu=document.documentMode);var MV=zs&&"TextEvent"in window&&!Cu,dR=zs&&(!f1||Cu&&8<Cu&&11>=Cu),TE=" ",AE=!1;function fR(t,e){switch(t){case"keyup":return RV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lo=!1;function OV(t,e){switch(t){case"compositionend":return hR(e);case"keypress":return e.which!==32?null:(AE=!0,TE);case"textInput":return t=e.data,t===TE&&AE?null:t;default:return null}}function DV(t,e){if(Lo)return t==="compositionend"||!f1&&fR(t,e)?(t=uR(),qh=c1=Ci=null,Lo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dR&&e.locale!=="ko"?null:e.data;default:return null}}var LV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LV[t.type]:e==="textarea"}function pR(t,e,n,r){GI(r),e=bp(e,"onChange"),0<e.length&&(n=new u1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ju=null,td=null;function $V(t){ER(t,0)}function wg(t){var e=Fo(t);if($I(e))return t}function VV(t,e){if(t==="change")return e}var mR=!1;if(zs){var Tx;if(zs){var Ax="oninput"in document;if(!Ax){var CE=document.createElement("div");CE.setAttribute("oninput","return;"),Ax=typeof CE.oninput=="function"}Tx=Ax}else Tx=!1;mR=Tx&&(!document.documentMode||9<document.documentMode)}function jE(){ju&&(ju.detachEvent("onpropertychange",gR),td=ju=null)}function gR(t){if(t.propertyName==="value"&&wg(td)){var e=[];pR(e,td,t,s1(t)),JI($V,e)}}function FV(t,e,n){t==="focusin"?(jE(),ju=e,td=n,ju.attachEvent("onpropertychange",gR)):t==="focusout"&&jE()}function UV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wg(td)}function BV(t,e){if(t==="click")return wg(e)}function qV(t,e){if(t==="input"||t==="change")return wg(e)}function zV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:zV;function nd(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Dy.call(e,s)||!Wr(t[s],e[s]))return!1}return!0}function PE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function IE(t,e){var n=PE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=PE(n)}}function xR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yR(){for(var t=window,e=hp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hp(t.document)}return e}function h1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function GV(t){var e=yR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xR(n.ownerDocument.documentElement,n)){if(r!==null&&h1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=IE(n,i);var o=IE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HV=zs&&"documentMode"in document&&11>=document.documentMode,$o=null,tv=null,Pu=null,nv=!1;function RE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nv||$o==null||$o!==hp(r)||(r=$o,"selectionStart"in r&&h1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Pu&&nd(Pu,r)||(Pu=r,r=bp(tv,"onSelect"),0<r.length&&(e=new u1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=$o)))}function oh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vo={animationend:oh("Animation","AnimationEnd"),animationiteration:oh("Animation","AnimationIteration"),animationstart:oh("Animation","AnimationStart"),transitionend:oh("Transition","TransitionEnd")},kx={},vR={};zs&&(vR=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function _g(t){if(kx[t])return kx[t];if(!Vo[t])return t;var e=Vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vR)return kx[t]=e[n];return t}var bR=_g("animationend"),wR=_g("animationiteration"),_R=_g("animationstart"),NR=_g("transitionend"),SR=new Map,ME="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){SR.set(t,e),fo(e,[t])}for(var Cx=0;Cx<ME.length;Cx++){var jx=ME[Cx],WV=jx.toLowerCase(),KV=jx[0].toUpperCase()+jx.slice(1);ia(WV,"on"+KV)}ia(bR,"onAnimationEnd");ia(wR,"onAnimationIteration");ia(_R,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(NR,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JV=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function OE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,W3(r,e,void 0,t),t.currentTarget=null}function ER(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;OE(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;OE(s,l,u),i=c}}}if(mp)throw t=Xy,mp=!1,Xy=null,t}function ft(t,e){var n=e[ov];n===void 0&&(n=e[ov]=new Set);var r=t+"__bubble";n.has(r)||(TR(e,t,2,!1),n.add(r))}function Px(t,e,n){var r=0;e&&(r|=4),TR(n,t,r,e)}var lh="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[lh]){t[lh]=!0,RI.forEach(function(n){n!=="selectionchange"&&(JV.has(n)||Px(n,!1,t),Px(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lh]||(e[lh]=!0,Px("selectionchange",!1,e))}}function TR(t,e,n,r){switch(cR(e)){case 1:var s=cV;break;case 4:s=uV;break;default:s=l1}n=s.bind(null,e,n,t),s=void 0,!Yy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ix(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pa(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}JI(function(){var u=i,d=s1(n),f=[];e:{var h=SR.get(t);if(h!==void 0){var x=u1,y=t;switch(t){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":x=EV;break;case"focusin":y="focus",x=Ex;break;case"focusout":y="blur",x=Ex;break;case"beforeblur":case"afterblur":x=Ex;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=hV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=kV;break;case bR:case wR:case _R:x=gV;break;case NR:x=jV;break;case"scroll":x=dV;break;case"wheel":x=IV;break;case"copy":case"cut":case"paste":x=yV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=EE}var b=(e&4)!==0,v=!b&&t==="scroll",N=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,S;_!==null;){S=_;var C=S.stateNode;if(S.tag===5&&C!==null&&(S=C,N!==null&&(C=Xu(_,N),C!=null&&b.push(sd(_,C,S)))),v)break;_=_.return}0<b.length&&(h=new x(h,y,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",h&&n!==Ky&&(y=n.relatedTarget||n.fromElement)&&(Pa(y)||y[Gs]))break e;if((x||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=u,y=y?Pa(y):null,y!==null&&(v=ho(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=u),x!==y)){if(b=NE,C="onMouseLeave",N="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=EE,C="onPointerLeave",N="onPointerEnter",_="pointer"),v=x==null?h:Fo(x),S=y==null?h:Fo(y),h=new b(C,_+"leave",x,n,d),h.target=v,h.relatedTarget=S,C=null,Pa(d)===u&&(b=new b(N,_+"enter",y,n,d),b.target=S,b.relatedTarget=v,C=b),v=C,x&&y)t:{for(b=x,N=y,_=0,S=b;S;S=Ao(S))_++;for(S=0,C=N;C;C=Ao(C))S++;for(;0<_-S;)b=Ao(b),_--;for(;0<S-_;)N=Ao(N),S--;for(;_--;){if(b===N||N!==null&&b===N.alternate)break t;b=Ao(b),N=Ao(N)}b=null}else b=null;x!==null&&DE(f,h,x,b,!1),y!==null&&v!==null&&DE(f,v,y,b,!0)}}e:{if(h=u?Fo(u):window,x=h.nodeName&&h.nodeName.toLowerCase(),x==="select"||x==="input"&&h.type==="file")var T=VV;else if(kE(h))if(mR)T=qV;else{T=UV;var w=FV}else(x=h.nodeName)&&x.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=BV);if(T&&(T=T(t,u))){pR(f,T,n,d);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&qy(h,"number",h.value)}switch(w=u?Fo(u):window,t){case"focusin":(kE(w)||w.contentEditable==="true")&&($o=w,tv=u,Pu=null);break;case"focusout":Pu=tv=$o=null;break;case"mousedown":nv=!0;break;case"contextmenu":case"mouseup":case"dragend":nv=!1,RE(f,n,d);break;case"selectionchange":if(HV)break;case"keydown":case"keyup":RE(f,n,d)}var E;if(f1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Lo?fR(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(dR&&n.locale!=="ko"&&(Lo||A!=="onCompositionStart"?A==="onCompositionEnd"&&Lo&&(E=uR()):(Ci=d,c1="value"in Ci?Ci.value:Ci.textContent,Lo=!0)),w=bp(u,A),0<w.length&&(A=new SE(A,t,null,n,d),f.push({event:A,listeners:w}),E?A.data=E:(E=hR(n),E!==null&&(A.data=E)))),(E=MV?OV(t,n):DV(t,n))&&(u=bp(u,"onBeforeInput"),0<u.length&&(d=new SE("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}ER(f,e)})}function sd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bp(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xu(t,n),i!=null&&r.unshift(sd(t,i,s)),i=Xu(t,e),i!=null&&r.push(sd(t,i,s))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Xu(n,i),c!=null&&o.unshift(sd(n,c,l))):s||(c=Xu(n,i),c!=null&&o.push(sd(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YV=/\r\n?/g,XV=/\u0000|\uFFFD/g;function LE(t){return(typeof t=="string"?t:""+t).replace(YV,`
`).replace(XV,"")}function ch(t,e,n){if(e=LE(e),LE(t)!==e&&n)throw Error(ce(425))}function wp(){}var rv=null,sv=null;function iv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var av=typeof setTimeout=="function"?setTimeout:void 0,QV=typeof clearTimeout=="function"?clearTimeout:void 0,$E=typeof Promise=="function"?Promise:void 0,ZV=typeof queueMicrotask=="function"?queueMicrotask:typeof $E<"u"?function(t){return $E.resolve(null).then(t).catch(eF)}:av;function eF(t){setTimeout(function(){throw t})}function Rx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ed(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ed(e)}function $i(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fc=Math.random().toString(36).slice(2),rs="__reactFiber$"+fc,id="__reactProps$"+fc,Gs="__reactContainer$"+fc,ov="__reactEvents$"+fc,tF="__reactListeners$"+fc,nF="__reactHandles$"+fc;function Pa(t){var e=t[rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gs]||n[rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VE(t);t!==null;){if(n=t[rs])return n;t=VE(t)}return e}t=n,n=t.parentNode}return null}function mf(t){return t=t[rs]||t[Gs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Ng(t){return t[id]||null}var lv=[],Uo=-1;function aa(t){return{current:t}}function mt(t){0>Uo||(t.current=lv[Uo],lv[Uo]=null,Uo--)}function ct(t,e){Uo++,lv[Uo]=t.current,t.current=e}var Qi={},Tn=aa(Qi),Wn=aa(!1),Ka=Qi;function bl(t,e){var n=t.type.contextTypes;if(!n)return Qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Kn(t){return t=t.childContextTypes,t!=null}function _p(){mt(Wn),mt(Tn)}function FE(t,e,n){if(Tn.current!==Qi)throw Error(ce(168));ct(Tn,e),ct(Wn,n)}function AR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ce(108,F3(t)||"Unknown",s));return wt({},n,r)}function Np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Ka=Tn.current,ct(Tn,t),ct(Wn,Wn.current),!0}function UE(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=AR(t,e,Ka),r.__reactInternalMemoizedMergedChildContext=t,mt(Wn),mt(Tn),ct(Tn,t)):mt(Wn),ct(Wn,n)}var Ps=null,Sg=!1,Mx=!1;function kR(t){Ps===null?Ps=[t]:Ps.push(t)}function rF(t){Sg=!0,kR(t)}function oa(){if(!Mx&&Ps!==null){Mx=!0;var t=0,e=Qe;try{var n=Ps;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ps=null,Sg=!1}catch(s){throw Ps!==null&&(Ps=Ps.slice(t+1)),ZI(i1,oa),s}finally{Qe=e,Mx=!1}}return null}var Bo=[],qo=0,Sp=null,Ep=0,mr=[],gr=0,Ja=null,Is=1,Rs="";function _a(t,e){Bo[qo++]=Ep,Bo[qo++]=Sp,Sp=t,Ep=e}function CR(t,e,n){mr[gr++]=Is,mr[gr++]=Rs,mr[gr++]=Ja,Ja=t;var r=Is;t=Rs;var s=32-Fr(r)-1;r&=~(1<<s),n+=1;var i=32-Fr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Is=1<<32-Fr(e)+s|n<<s|r,Rs=i+t}else Is=1<<i|n<<s|r,Rs=t}function p1(t){t.return!==null&&(_a(t,1),CR(t,1,0))}function m1(t){for(;t===Sp;)Sp=Bo[--qo],Bo[qo]=null,Ep=Bo[--qo],Bo[qo]=null;for(;t===Ja;)Ja=mr[--gr],mr[gr]=null,Rs=mr[--gr],mr[gr]=null,Is=mr[--gr],mr[gr]=null}var ir=null,rr=null,gt=!1,$r=null;function jR(t,e){var n=yr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ir=t,rr=$i(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ir=t,rr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ja!==null?{id:Is,overflow:Rs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ir=t,rr=null,!0):!1;default:return!1}}function cv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uv(t){if(gt){var e=rr;if(e){var n=e;if(!BE(t,e)){if(cv(t))throw Error(ce(418));e=$i(n.nextSibling);var r=ir;e&&BE(t,e)?jR(r,n):(t.flags=t.flags&-4097|2,gt=!1,ir=t)}}else{if(cv(t))throw Error(ce(418));t.flags=t.flags&-4097|2,gt=!1,ir=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ir=t}function uh(t){if(t!==ir)return!1;if(!gt)return qE(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iv(t.type,t.memoizedProps)),e&&(e=rr)){if(cv(t))throw PR(),Error(ce(418));for(;e;)jR(t,e),e=$i(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rr=$i(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rr=null}}else rr=ir?$i(t.stateNode.nextSibling):null;return!0}function PR(){for(var t=rr;t;)t=$i(t.nextSibling)}function wl(){rr=ir=null,gt=!1}function g1(t){$r===null?$r=[t]:$r.push(t)}var sF=ii.ReactCurrentBatchConfig;function Zc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function dh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function zE(t){var e=t._init;return e(t._payload)}function IR(t){function e(N,_){if(t){var S=N.deletions;S===null?(N.deletions=[_],N.flags|=16):S.push(_)}}function n(N,_){if(!t)return null;for(;_!==null;)e(N,_),_=_.sibling;return null}function r(N,_){for(N=new Map;_!==null;)_.key!==null?N.set(_.key,_):N.set(_.index,_),_=_.sibling;return N}function s(N,_){return N=Bi(N,_),N.index=0,N.sibling=null,N}function i(N,_,S){return N.index=S,t?(S=N.alternate,S!==null?(S=S.index,S<_?(N.flags|=2,_):S):(N.flags|=2,_)):(N.flags|=1048576,_)}function o(N){return t&&N.alternate===null&&(N.flags|=2),N}function l(N,_,S,C){return _===null||_.tag!==6?(_=Ux(S,N.mode,C),_.return=N,_):(_=s(_,S),_.return=N,_)}function c(N,_,S,C){var T=S.type;return T===Do?d(N,_,S.props.children,C,S.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vi&&zE(T)===_.type)?(C=s(_,S.props),C.ref=Zc(N,_,S),C.return=N,C):(C=Xh(S.type,S.key,S.props,null,N.mode,C),C.ref=Zc(N,_,S),C.return=N,C)}function u(N,_,S,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Bx(S,N.mode,C),_.return=N,_):(_=s(_,S.children||[]),_.return=N,_)}function d(N,_,S,C,T){return _===null||_.tag!==7?(_=Ba(S,N.mode,C,T),_.return=N,_):(_=s(_,S),_.return=N,_)}function f(N,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ux(""+_,N.mode,S),_.return=N,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eh:return S=Xh(_.type,_.key,_.props,null,N.mode,S),S.ref=Zc(N,null,_),S.return=N,S;case Oo:return _=Bx(_,N.mode,S),_.return=N,_;case vi:var C=_._init;return f(N,C(_._payload),S)}if(xu(_)||Kc(_))return _=Ba(_,N.mode,S,null),_.return=N,_;dh(N,_)}return null}function h(N,_,S,C){var T=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return T!==null?null:l(N,_,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:return S.key===T?c(N,_,S,C):null;case Oo:return S.key===T?u(N,_,S,C):null;case vi:return T=S._init,h(N,_,T(S._payload),C)}if(xu(S)||Kc(S))return T!==null?null:d(N,_,S,C,null);dh(N,S)}return null}function x(N,_,S,C,T){if(typeof C=="string"&&C!==""||typeof C=="number")return N=N.get(S)||null,l(_,N,""+C,T);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case eh:return N=N.get(C.key===null?S:C.key)||null,c(_,N,C,T);case Oo:return N=N.get(C.key===null?S:C.key)||null,u(_,N,C,T);case vi:var w=C._init;return x(N,_,S,w(C._payload),T)}if(xu(C)||Kc(C))return N=N.get(S)||null,d(_,N,C,T,null);dh(_,C)}return null}function y(N,_,S,C){for(var T=null,w=null,E=_,A=_=0,j=null;E!==null&&A<S.length;A++){E.index>A?(j=E,E=null):j=E.sibling;var M=h(N,E,S[A],C);if(M===null){E===null&&(E=j);break}t&&E&&M.alternate===null&&e(N,E),_=i(M,_,A),w===null?T=M:w.sibling=M,w=M,E=j}if(A===S.length)return n(N,E),gt&&_a(N,A),T;if(E===null){for(;A<S.length;A++)E=f(N,S[A],C),E!==null&&(_=i(E,_,A),w===null?T=E:w.sibling=E,w=E);return gt&&_a(N,A),T}for(E=r(N,E);A<S.length;A++)j=x(E,N,A,S[A],C),j!==null&&(t&&j.alternate!==null&&E.delete(j.key===null?A:j.key),_=i(j,_,A),w===null?T=j:w.sibling=j,w=j);return t&&E.forEach(function(P){return e(N,P)}),gt&&_a(N,A),T}function b(N,_,S,C){var T=Kc(S);if(typeof T!="function")throw Error(ce(150));if(S=T.call(S),S==null)throw Error(ce(151));for(var w=T=null,E=_,A=_=0,j=null,M=S.next();E!==null&&!M.done;A++,M=S.next()){E.index>A?(j=E,E=null):j=E.sibling;var P=h(N,E,M.value,C);if(P===null){E===null&&(E=j);break}t&&E&&P.alternate===null&&e(N,E),_=i(P,_,A),w===null?T=P:w.sibling=P,w=P,E=j}if(M.done)return n(N,E),gt&&_a(N,A),T;if(E===null){for(;!M.done;A++,M=S.next())M=f(N,M.value,C),M!==null&&(_=i(M,_,A),w===null?T=M:w.sibling=M,w=M);return gt&&_a(N,A),T}for(E=r(N,E);!M.done;A++,M=S.next())M=x(E,N,A,M.value,C),M!==null&&(t&&M.alternate!==null&&E.delete(M.key===null?A:M.key),_=i(M,_,A),w===null?T=M:w.sibling=M,w=M);return t&&E.forEach(function(O){return e(N,O)}),gt&&_a(N,A),T}function v(N,_,S,C){if(typeof S=="object"&&S!==null&&S.type===Do&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case eh:e:{for(var T=S.key,w=_;w!==null;){if(w.key===T){if(T=S.type,T===Do){if(w.tag===7){n(N,w.sibling),_=s(w,S.props.children),_.return=N,N=_;break e}}else if(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vi&&zE(T)===w.type){n(N,w.sibling),_=s(w,S.props),_.ref=Zc(N,w,S),_.return=N,N=_;break e}n(N,w);break}else e(N,w);w=w.sibling}S.type===Do?(_=Ba(S.props.children,N.mode,C,S.key),_.return=N,N=_):(C=Xh(S.type,S.key,S.props,null,N.mode,C),C.ref=Zc(N,_,S),C.return=N,N=C)}return o(N);case Oo:e:{for(w=S.key;_!==null;){if(_.key===w)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(N,_.sibling),_=s(_,S.children||[]),_.return=N,N=_;break e}else{n(N,_);break}else e(N,_);_=_.sibling}_=Bx(S,N.mode,C),_.return=N,N=_}return o(N);case vi:return w=S._init,v(N,_,w(S._payload),C)}if(xu(S))return y(N,_,S,C);if(Kc(S))return b(N,_,S,C);dh(N,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(N,_.sibling),_=s(_,S),_.return=N,N=_):(n(N,_),_=Ux(S,N.mode,C),_.return=N,N=_),o(N)):n(N,_)}return v}var _l=IR(!0),RR=IR(!1),Tp=aa(null),Ap=null,zo=null,x1=null;function y1(){x1=zo=Ap=null}function v1(t){var e=Tp.current;mt(Tp),t._currentValue=e}function dv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function il(t,e){Ap=t,x1=zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function Nr(t){var e=t._currentValue;if(x1!==t)if(t={context:t,memoizedValue:e,next:null},zo===null){if(Ap===null)throw Error(ce(308));zo=t,Ap.dependencies={lanes:0,firstContext:t}}else zo=zo.next=t;return e}var Ia=null;function b1(t){Ia===null?Ia=[t]:Ia.push(t)}function MR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,b1(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hs(t,r)}function Hs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bi=!1;function w1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hs(t,n)}return s=r.interleaved,s===null?(e.next=e,b1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hs(t,n)}function Gh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a1(t,n)}}function GE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kp(t,e,n,r){var s=t.updateQueue;bi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,x=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,b=l;switch(h=e,x=n,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(x,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(x,f,h):y,h==null)break e;f=wt({},f,h);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else x={eventTime:x,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=x,c=f):d=d.next=x,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=f}}function HE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ce(191,s));s.call(r)}}}var gf={},ls=aa(gf),ad=aa(gf),od=aa(gf);function Ra(t){if(t===gf)throw Error(ce(174));return t}function _1(t,e){switch(ct(od,e),ct(ad,t),ct(ls,gf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gy(e,t)}mt(ls),ct(ls,e)}function Nl(){mt(ls),mt(ad),mt(od)}function DR(t){Ra(od.current);var e=Ra(ls.current),n=Gy(e,t.type);e!==n&&(ct(ad,t),ct(ls,n))}function N1(t){ad.current===t&&(mt(ls),mt(ad))}var yt=aa(0);function Cp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ox=[];function S1(){for(var t=0;t<Ox.length;t++)Ox[t]._workInProgressVersionPrimary=null;Ox.length=0}var Hh=ii.ReactCurrentDispatcher,Dx=ii.ReactCurrentBatchConfig,Ya=0,vt=null,Ft=null,Kt=null,jp=!1,Iu=!1,ld=0,iF=0;function mn(){throw Error(ce(321))}function E1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function T1(t,e,n,r,s,i){if(Ya=i,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hh.current=t===null||t.memoizedState===null?cF:uF,t=n(r,s),Iu){i=0;do{if(Iu=!1,ld=0,25<=i)throw Error(ce(301));i+=1,Kt=Ft=null,e.updateQueue=null,Hh.current=dF,t=n(r,s)}while(Iu)}if(Hh.current=Pp,e=Ft!==null&&Ft.next!==null,Ya=0,Kt=Ft=vt=null,jp=!1,e)throw Error(ce(300));return t}function A1(){var t=ld!==0;return ld=0,t}function ns(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Sr(){if(Ft===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Kt===null?vt.memoizedState:Kt.next;if(e!==null)Kt=e,Ft=t;else{if(t===null)throw Error(ce(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Kt===null?vt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function cd(t,e){return typeof e=="function"?e(t):e}function Lx(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=Ft,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Ya&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,vt.lanes|=d,Xa|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Wr(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,vt.lanes|=i,Xa|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $x(t){var e=Sr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Wr(i,e.memoizedState)||(Gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LR(){}function $R(t,e){var n=vt,r=Sr(),s=e(),i=!Wr(r.memoizedState,s);if(i&&(r.memoizedState=s,Gn=!0),r=r.queue,k1(UR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,ud(9,FR.bind(null,n,r,s,e),void 0,null),Yt===null)throw Error(ce(349));Ya&30||VR(n,e,s)}return s}function VR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FR(t,e,n,r){e.value=n,e.getSnapshot=r,BR(e)&&qR(t)}function UR(t,e,n){return n(function(){BR(e)&&qR(t)})}function BR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function qR(t){var e=Hs(t,1);e!==null&&Ur(e,t,1,-1)}function WE(t){var e=ns();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cd,lastRenderedState:t},e.queue=t,t=t.dispatch=lF.bind(null,vt,t),[e.memoizedState,t]}function ud(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zR(){return Sr().memoizedState}function Wh(t,e,n,r){var s=ns();vt.flags|=t,s.memoizedState=ud(1|e,n,void 0,r===void 0?null:r)}function Eg(t,e,n,r){var s=Sr();r=r===void 0?null:r;var i=void 0;if(Ft!==null){var o=Ft.memoizedState;if(i=o.destroy,r!==null&&E1(r,o.deps)){s.memoizedState=ud(e,n,i,r);return}}vt.flags|=t,s.memoizedState=ud(1|e,n,i,r)}function KE(t,e){return Wh(8390656,8,t,e)}function k1(t,e){return Eg(2048,8,t,e)}function GR(t,e){return Eg(4,2,t,e)}function HR(t,e){return Eg(4,4,t,e)}function WR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KR(t,e,n){return n=n!=null?n.concat([t]):null,Eg(4,4,WR.bind(null,e,t),n)}function C1(){}function JR(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YR(t,e){var n=Sr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XR(t,e,n){return Ya&21?(Wr(n,e)||(n=nR(),vt.lanes|=n,Xa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function aF(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=Dx.transition;Dx.transition={};try{t(!1),e()}finally{Qe=n,Dx.transition=r}}function QR(){return Sr().memoizedState}function oF(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZR(t))eM(e,n);else if(n=MR(t,e,n,r),n!==null){var s=On();Ur(n,t,r,s),tM(n,e,r)}}function lF(t,e,n){var r=Ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZR(t))eM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Wr(l,o)){var c=e.interleaved;c===null?(s.next=s,b1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=MR(t,e,s,r),n!==null&&(s=On(),Ur(n,t,r,s),tM(n,e,r))}}function ZR(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function eM(t,e){Iu=jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a1(t,n)}}var Pp={readContext:Nr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},cF={readContext:Nr,useCallback:function(t,e){return ns().memoizedState=[t,e===void 0?null:e],t},useContext:Nr,useEffect:KE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4194308,4,WR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wh(4,2,t,e)},useMemo:function(t,e){var n=ns();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ns();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oF.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=ns();return t={current:t},e.memoizedState=t},useState:WE,useDebugValue:C1,useDeferredValue:function(t){return ns().memoizedState=t},useTransition:function(){var t=WE(!1),e=t[0];return t=aF.bind(null,t[1]),ns().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,s=ns();if(gt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Yt===null)throw Error(ce(349));Ya&30||VR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,KE(UR.bind(null,r,i,t),[t]),r.flags|=2048,ud(9,FR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ns(),e=Yt.identifierPrefix;if(gt){var n=Rs,r=Is;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uF={readContext:Nr,useCallback:JR,useContext:Nr,useEffect:k1,useImperativeHandle:KR,useInsertionEffect:GR,useLayoutEffect:HR,useMemo:YR,useReducer:Lx,useRef:zR,useState:function(){return Lx(cd)},useDebugValue:C1,useDeferredValue:function(t){var e=Sr();return XR(e,Ft.memoizedState,t)},useTransition:function(){var t=Lx(cd)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:$R,useId:QR,unstable_isNewReconciler:!1},dF={readContext:Nr,useCallback:JR,useContext:Nr,useEffect:k1,useImperativeHandle:KR,useInsertionEffect:GR,useLayoutEffect:HR,useMemo:YR,useReducer:$x,useRef:zR,useState:function(){return $x(cd)},useDebugValue:C1,useDeferredValue:function(t){var e=Sr();return Ft===null?e.memoizedState=t:XR(e,Ft.memoizedState,t)},useTransition:function(){var t=$x(cd)[0],e=Sr().memoizedState;return[t,e]},useMutableSource:LR,useSyncExternalStore:$R,useId:QR,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Tg={isMounted:function(t){return(t=t._reactInternals)?ho(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),s=Ui(t),i=Fs(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Ur(e,t,s,r),Gh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),s=Ui(t),i=Fs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vi(t,i,s),e!==null&&(Ur(e,t,s,r),Gh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Ui(t),s=Fs(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vi(t,s,r),e!==null&&(Ur(e,t,r,n),Gh(e,t,r))}};function JE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!nd(n,r)||!nd(s,i):!0}function nM(t,e,n){var r=!1,s=Qi,i=e.contextType;return typeof i=="object"&&i!==null?i=Nr(i):(s=Kn(e)?Ka:Tn.current,r=e.contextTypes,i=(r=r!=null)?bl(t,s):Qi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Tg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function YE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Tg.enqueueReplaceState(e,e.state,null)}function hv(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},w1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nr(i):(i=Kn(e)?Ka:Tn.current,s.context=bl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fv(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Tg.enqueueReplaceState(s,s.state,null),kp(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Sl(t,e){try{var n="",r=e;do n+=V3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Vx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fF=typeof WeakMap=="function"?WeakMap:Map;function rM(t,e,n){n=Fs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rp||(Rp=!0,Sv=r),pv(t,e)},n}function sM(t,e,n){n=Fs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){pv(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pv(t,e),typeof r!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function XE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fF;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=TF.bind(null,t,e,n),e.then(t,t))}function QE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fs(-1,1),e.tag=2,Vi(n,e,1))),n.lanes|=1),t)}var hF=ii.ReactCurrentOwner,Gn=!1;function Pn(t,e,n,r){e.child=t===null?RR(e,null,n,r):_l(e,t.child,n,r)}function eT(t,e,n,r,s){n=n.render;var i=e.ref;return il(e,s),r=T1(t,e,n,r,i,s),n=A1(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ws(t,e,s)):(gt&&n&&p1(e),e.flags|=1,Pn(t,e,r,s),e.child)}function tT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!L1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iM(t,e,i,r,s)):(t=Xh(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:nd,n(o,r)&&t.ref===e.ref)return Ws(t,e,s)}return e.flags|=1,t=Bi(i,r),t.ref=e.ref,t.return=e,e.child=t}function iM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(nd(i,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,Ws(t,e,s)}return mv(t,e,n,r,s)}function aM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ho,er),er|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(Ho,er),er|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ct(Ho,er),er|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ct(Ho,er),er|=r;return Pn(t,e,s,n),e.child}function oM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mv(t,e,n,r,s){var i=Kn(n)?Ka:Tn.current;return i=bl(e,i),il(e,s),n=T1(t,e,n,r,i,s),r=A1(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ws(t,e,s)):(gt&&r&&p1(e),e.flags|=1,Pn(t,e,n,s),e.child)}function nT(t,e,n,r,s){if(Kn(n)){var i=!0;Np(e)}else i=!1;if(il(e,s),e.stateNode===null)Kh(t,e),nM(e,n,r),hv(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Nr(u):(u=Kn(n)?Ka:Tn.current,u=bl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&YE(e,o,r,u),bi=!1;var h=e.memoizedState;o.state=h,kp(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Wn.current||bi?(typeof d=="function"&&(fv(e,n,d,r),c=e.memoizedState),(l=bi||JE(e,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OR(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Or(e.type,l),o.props=u,f=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nr(c):(c=Kn(n)?Ka:Tn.current,c=bl(e,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&YE(e,o,r,c),bi=!1,h=e.memoizedState,o.state=h,kp(e,r,o,s);var y=e.memoizedState;l!==f||h!==y||Wn.current||bi?(typeof x=="function"&&(fv(e,n,x,r),y=e.memoizedState),(u=bi||JE(e,n,u,r,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return gv(t,e,n,r,i,s)}function gv(t,e,n,r,s,i){oM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&UE(e,n,!1),Ws(t,e,i);r=e.stateNode,hF.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_l(e,t.child,null,i),e.child=_l(e,null,l,i)):Pn(t,e,l,i),e.memoizedState=r.state,s&&UE(e,n,!0),e.child}function lM(t){var e=t.stateNode;e.pendingContext?FE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&FE(t,e.context,!1),_1(t,e.containerInfo)}function rT(t,e,n,r,s){return wl(),g1(s),e.flags|=256,Pn(t,e,n,r),e.child}var xv={dehydrated:null,treeContext:null,retryLane:0};function yv(t){return{baseLanes:t,cachePool:null,transitions:null}}function cM(t,e,n){var r=e.pendingProps,s=yt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ct(yt,s&1),t===null)return uv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Cg(o,r,0,null),t=Ba(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=yv(n),e.memoizedState=xv,t):j1(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return pF(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Bi(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Bi(l,i):(i=Ba(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?yv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=xv,r}return i=t.child,t=i.sibling,r=Bi(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j1(t,e){return e=Cg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fh(t,e,n,r){return r!==null&&g1(r),_l(e,t.child,null,n),t=j1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pF(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Vx(Error(ce(422))),fh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Cg({mode:"visible",children:r.children},s,0,null),i=Ba(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_l(e,t.child,null,o),e.child.memoizedState=yv(o),e.memoizedState=xv,i);if(!(e.mode&1))return fh(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ce(419)),r=Vx(i,r,void 0),fh(t,e,o,r)}if(l=(o&t.childLanes)!==0,Gn||l){if(r=Yt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hs(t,s),Ur(r,t,s,-1))}return D1(),r=Vx(Error(ce(421))),fh(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=AF.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,rr=$i(s.nextSibling),ir=e,gt=!0,$r=null,t!==null&&(mr[gr++]=Is,mr[gr++]=Rs,mr[gr++]=Ja,Is=t.id,Rs=t.overflow,Ja=e),e=j1(e,r.children),e.flags|=4096,e)}function sT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dv(t.return,e,n)}function Fx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pn(t,e,r.children,n),r=yt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sT(t,n,e);else if(t.tag===19)sT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(yt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Cp(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Cp(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fx(e,!0,n,null,i);break;case"together":Fx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ws(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Bi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mF(t,e,n){switch(e.tag){case 3:lM(e),wl();break;case 5:DR(e);break;case 1:Kn(e.type)&&Np(e);break;case 4:_1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ct(Tp,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(yt,yt.current&1),e.flags|=128,null):n&e.child.childLanes?cM(t,e,n):(ct(yt,yt.current&1),t=Ws(t,e,n),t!==null?t.sibling:null);ct(yt,yt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ct(yt,yt.current),r)break;return null;case 22:case 23:return e.lanes=0,aM(t,e,n)}return Ws(t,e,n)}var dM,vv,fM,hM;dM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vv=function(){};fM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ra(ls.current);var i=null;switch(n){case"input":s=Uy(t,s),r=Uy(t,r),i=[];break;case"select":s=wt({},s,{value:void 0}),r=wt({},r,{value:void 0}),i=[];break;case"textarea":s=zy(t,s),r=zy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wp)}Hy(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ju.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ju.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ft("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hM=function(t,e,n,r){n!==r&&(e.flags|=4)};function eu(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gF(t,e,n){var r=e.pendingProps;switch(m1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Kn(e.type)&&_p(),gn(e),null;case 3:return r=e.stateNode,Nl(),mt(Wn),mt(Tn),S1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(Av($r),$r=null))),vv(t,e),gn(e),null;case 5:N1(e);var s=Ra(od.current);if(n=e.type,t!==null&&e.stateNode!=null)fM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return gn(e),null}if(t=Ra(ls.current),uh(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[rs]=e,r[id]=i,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(s=0;s<vu.length;s++)ft(vu[s],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":hE(r,i),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ft("invalid",r);break;case"textarea":mE(r,i),ft("invalid",r)}Hy(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ch(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ch(r.textContent,l,t),s=["children",""+l]):Ju.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":th(r),pE(r,i,!0);break;case"textarea":th(r),gE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=wp)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=UI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[rs]=e,t[id]=r,dM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wy(n,r),n){case"dialog":ft("cancel",t),ft("close",t),s=r;break;case"iframe":case"object":case"embed":ft("load",t),s=r;break;case"video":case"audio":for(s=0;s<vu.length;s++)ft(vu[s],t);s=r;break;case"source":ft("error",t),s=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),s=r;break;case"details":ft("toggle",t),s=r;break;case"input":hE(t,r),s=Uy(t,r),ft("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=wt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":mE(t,r),s=zy(t,r),ft("invalid",t);break;default:s=r}Hy(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?zI(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BI(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Yu(t,c):typeof c=="number"&&Yu(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ju.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ft("scroll",t):c!=null&&e1(t,i,c,o))}switch(n){case"input":th(t),pE(t,r,!1);break;case"textarea":th(t),gE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?tl(t,!!r.multiple,i,!1):r.defaultValue!=null&&tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=wp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)hM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Ra(od.current),Ra(ls.current),uh(e)){if(r=e.stateNode,n=e.memoizedProps,r[rs]=e,(i=r.nodeValue!==n)&&(t=ir,t!==null))switch(t.tag){case 3:ch(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ch(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[rs]=e,e.stateNode=r}return gn(e),null;case 13:if(mt(yt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&rr!==null&&e.mode&1&&!(e.flags&128))PR(),wl(),e.flags|=98560,i=!1;else if(i=uh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ce(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ce(317));i[rs]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),i=!1}else $r!==null&&(Av($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Bt===0&&(Bt=3):D1())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return Nl(),vv(t,e),t===null&&rd(e.stateNode.containerInfo),gn(e),null;case 10:return v1(e.type._context),gn(e),null;case 17:return Kn(e.type)&&_p(),gn(e),null;case 19:if(mt(yt),i=e.memoizedState,i===null)return gn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)eu(i,!1);else{if(Bt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cp(t),o!==null){for(e.flags|=128,eu(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(yt,yt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ct()>El&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304)}else{if(!r)if(t=Cp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!gt)return gn(e),null}else 2*Ct()-i.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,eu(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ct(),e.sibling=null,n=yt.current,ct(yt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?er&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function xF(t,e){switch(m1(e),e.tag){case 1:return Kn(e.type)&&_p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nl(),mt(Wn),mt(Tn),S1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return N1(e),null;case 13:if(mt(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(yt),null;case 4:return Nl(),null;case 10:return v1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var hh=!1,bn=!1,yF=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function bv(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var iT=!1;function vF(t,e){if(rv=yp,t=yR(),h1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var x;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(x=f.firstChild)!==null;)h=f,f=x;for(;;){if(f===t)break t;if(h===n&&++u===s&&(l=o),h===i&&++d===r&&(c=o),(x=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(sv={focusedElem:t,selectionRange:n},yp=!1,xe=e;xe!==null;)if(e=xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xe=t;else for(;xe!==null;){e=xe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,v=y.memoizedState,N=e.stateNode,_=N.getSnapshotBeforeUpdate(e.elementType===e.type?b:Or(e.type,b),v);N.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(C){Tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}return y=iT,iT=!1,y}function Ru(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&bv(e,n,i)}s=s.next}while(s!==r)}}function Ag(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pM(t){var e=t.alternate;e!==null&&(t.alternate=null,pM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rs],delete e[id],delete e[ov],delete e[tF],delete e[nF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mM(t){return t.tag===5||t.tag===3||t.tag===4}function aT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _v(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wp));else if(r!==4&&(t=t.child,t!==null))for(_v(t,e,n),t=t.sibling;t!==null;)_v(t,e,n),t=t.sibling}function Nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Nv(t,e,n),t=t.sibling;t!==null;)Nv(t,e,n),t=t.sibling}var rn=null,Dr=!1;function gi(t,e,n){for(n=n.child;n!==null;)gM(t,e,n),n=n.sibling}function gM(t,e,n){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(vg,n)}catch{}switch(n.tag){case 5:bn||Go(n,e);case 6:var r=rn,s=Dr;rn=null,gi(t,e,n),rn=r,Dr=s,rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Dr?(t=rn,n=n.stateNode,t.nodeType===8?Rx(t.parentNode,n):t.nodeType===1&&Rx(t,n),ed(t)):Rx(rn,n.stateNode));break;case 4:r=rn,s=Dr,rn=n.stateNode.containerInfo,Dr=!0,gi(t,e,n),rn=r,Dr=s;break;case 0:case 11:case 14:case 15:if(!bn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&bv(n,e,o),s=s.next}while(s!==r)}gi(t,e,n);break;case 1:if(!bn&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Tt(n,e,l)}gi(t,e,n);break;case 21:gi(t,e,n);break;case 22:n.mode&1?(bn=(r=bn)||n.memoizedState!==null,gi(t,e,n),bn=r):gi(t,e,n);break;default:gi(t,e,n)}}function oT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yF),e.forEach(function(r){var s=kF.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Dr=!1;break e;case 3:rn=l.stateNode.containerInfo,Dr=!0;break e;case 4:rn=l.stateNode.containerInfo,Dr=!0;break e}l=l.return}if(rn===null)throw Error(ce(160));gM(i,o,s),rn=null,Dr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Tt(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xM(e,t),e=e.sibling}function xM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),es(t),r&4){try{Ru(3,t,t.return),Ag(3,t)}catch(b){Tt(t,t.return,b)}try{Ru(5,t,t.return)}catch(b){Tt(t,t.return,b)}}break;case 1:Ir(e,t),es(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(Ir(e,t),es(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var s=t.stateNode;try{Yu(s,"")}catch(b){Tt(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&VI(s,i),Wy(l,o);var u=Wy(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?zI(s,f):d==="dangerouslySetInnerHTML"?BI(s,f):d==="children"?Yu(s,f):e1(s,d,f,u)}switch(l){case"input":By(s,i);break;case"textarea":FI(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?tl(s,!!i.multiple,x,!1):h!==!!i.multiple&&(i.defaultValue!=null?tl(s,!!i.multiple,i.defaultValue,!0):tl(s,!!i.multiple,i.multiple?[]:"",!1))}s[id]=i}catch(b){Tt(t,t.return,b)}}break;case 6:if(Ir(e,t),es(t),r&4){if(t.stateNode===null)throw Error(ce(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){Tt(t,t.return,b)}}break;case 3:if(Ir(e,t),es(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ed(e.containerInfo)}catch(b){Tt(t,t.return,b)}break;case 4:Ir(e,t),es(t);break;case 13:Ir(e,t),es(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(R1=Ct())),r&4&&oT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bn=(u=bn)||d,Ir(e,t),bn=u):Ir(e,t),es(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(xe=t,d=t.child;d!==null;){for(f=xe=d;xe!==null;){switch(h=xe,x=h.child,h.tag){case 0:case 11:case 14:case 15:Ru(4,h,h.return);break;case 1:Go(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(b){Tt(r,n,b)}}break;case 5:Go(h,h.return);break;case 22:if(h.memoizedState!==null){cT(f);continue}}x!==null?(x.return=h,xe=x):cT(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=qI("display",o))}catch(b){Tt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Tt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),es(t),r&4&&oT(t);break;case 21:break;default:Ir(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mM(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yu(s,""),r.flags&=-33);var i=aT(t);Nv(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=aT(t);_v(t,l,o);break;default:throw Error(ce(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bF(t,e,n){xe=t,yM(t)}function yM(t,e,n){for(var r=(t.mode&1)!==0;xe!==null;){var s=xe,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||hh;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||bn;l=hh;var u=bn;if(hh=o,(bn=c)&&!u)for(xe=s;xe!==null;)o=xe,c=o.child,o.tag===22&&o.memoizedState!==null?uT(s):c!==null?(c.return=o,xe=c):uT(s);for(;i!==null;)xe=i,yM(i),i=i.sibling;xe=s,hh=l,bn=u}lT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,xe=i):lT(t)}}function lT(t){for(;xe!==null;){var e=xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||Ag(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!bn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&HE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ed(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}bn||e.flags&512&&wv(e)}catch(h){Tt(e,e.return,h)}}if(e===t){xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}}function cT(t){for(;xe!==null;){var e=xe;if(e===t){xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xe=n;break}xe=e.return}}function uT(t){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ag(4,e)}catch(c){Tt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Tt(e,s,c)}}var i=e.return;try{wv(e)}catch(c){Tt(e,i,c)}break;case 5:var o=e.return;try{wv(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){xe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,xe=l;break}xe=e.return}}var wF=Math.ceil,Ip=ii.ReactCurrentDispatcher,P1=ii.ReactCurrentOwner,br=ii.ReactCurrentBatchConfig,qe=0,Yt=null,Rt=null,on=0,er=0,Ho=aa(0),Bt=0,dd=null,Xa=0,kg=0,I1=0,Mu=null,Bn=null,R1=0,El=1/0,Cs=null,Rp=!1,Sv=null,Fi=null,ph=!1,ji=null,Mp=0,Ou=0,Ev=null,Jh=-1,Yh=0;function On(){return qe&6?Ct():Jh!==-1?Jh:Jh=Ct()}function Ui(t){return t.mode&1?qe&2&&on!==0?on&-on:sF.transition!==null?(Yh===0&&(Yh=nR()),Yh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:cR(t.type)),t):1}function Ur(t,e,n,r){if(50<Ou)throw Ou=0,Ev=null,Error(ce(185));hf(t,n,r),(!(qe&2)||t!==Yt)&&(t===Yt&&(!(qe&2)&&(kg|=n),Bt===4&&Ni(t,on)),Jn(t,r),n===1&&qe===0&&!(e.mode&1)&&(El=Ct()+500,Sg&&oa()))}function Jn(t,e){var n=t.callbackNode;sV(t,e);var r=xp(t,t===Yt?on:0);if(r===0)n!==null&&vE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vE(n),e===1)t.tag===0?rF(dT.bind(null,t)):kR(dT.bind(null,t)),ZV(function(){!(qe&6)&&oa()}),n=null;else{switch(rR(r)){case 1:n=i1;break;case 4:n=eR;break;case 16:n=gp;break;case 536870912:n=tR;break;default:n=gp}n=TM(n,vM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vM(t,e){if(Jh=-1,Yh=0,qe&6)throw Error(ce(327));var n=t.callbackNode;if(al()&&t.callbackNode!==n)return null;var r=xp(t,t===Yt?on:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Op(t,r);else{e=r;var s=qe;qe|=2;var i=wM();(Yt!==t||on!==e)&&(Cs=null,El=Ct()+500,Ua(t,e));do try{SF();break}catch(l){bM(t,l)}while(!0);y1(),Ip.current=i,qe=s,Rt!==null?e=0:(Yt=null,on=0,e=Bt)}if(e!==0){if(e===2&&(s=Qy(t),s!==0&&(r=s,e=Tv(t,s))),e===1)throw n=dd,Ua(t,0),Ni(t,r),Jn(t,Ct()),n;if(e===6)Ni(t,r);else{if(s=t.current.alternate,!(r&30)&&!_F(s)&&(e=Op(t,r),e===2&&(i=Qy(t),i!==0&&(r=i,e=Tv(t,i))),e===1))throw n=dd,Ua(t,0),Ni(t,r),Jn(t,Ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:Na(t,Bn,Cs);break;case 3:if(Ni(t,r),(r&130023424)===r&&(e=R1+500-Ct(),10<e)){if(xp(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=av(Na.bind(null,t,Bn,Cs),e);break}Na(t,Bn,Cs);break;case 4:if(Ni(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Fr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wF(r/1960))-r,10<r){t.timeoutHandle=av(Na.bind(null,t,Bn,Cs),r);break}Na(t,Bn,Cs);break;case 5:Na(t,Bn,Cs);break;default:throw Error(ce(329))}}}return Jn(t,Ct()),t.callbackNode===n?vM.bind(null,t):null}function Tv(t,e){var n=Mu;return t.current.memoizedState.isDehydrated&&(Ua(t,e).flags|=256),t=Op(t,e),t!==2&&(e=Bn,Bn=n,e!==null&&Av(e)),t}function Av(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function _F(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Wr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ni(t,e){for(e&=~I1,e&=~kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function dT(t){if(qe&6)throw Error(ce(327));al();var e=xp(t,0);if(!(e&1))return Jn(t,Ct()),null;var n=Op(t,e);if(t.tag!==0&&n===2){var r=Qy(t);r!==0&&(e=r,n=Tv(t,r))}if(n===1)throw n=dd,Ua(t,0),Ni(t,e),Jn(t,Ct()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Na(t,Bn,Cs),Jn(t,Ct()),null}function M1(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(El=Ct()+500,Sg&&oa())}}function Qa(t){ji!==null&&ji.tag===0&&!(qe&6)&&al();var e=qe;qe|=1;var n=br.transition,r=Qe;try{if(br.transition=null,Qe=1,t)return t()}finally{Qe=r,br.transition=n,qe=e,!(qe&6)&&oa()}}function O1(){er=Ho.current,mt(Ho)}function Ua(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,QV(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(m1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_p();break;case 3:Nl(),mt(Wn),mt(Tn),S1();break;case 5:N1(r);break;case 4:Nl();break;case 13:mt(yt);break;case 19:mt(yt);break;case 10:v1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(Yt=t,Rt=t=Bi(t.current,null),on=er=e,Bt=0,dd=null,I1=kg=Xa=0,Bn=Mu=null,Ia!==null){for(e=0;e<Ia.length;e++)if(n=Ia[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ia=null}return t}function bM(t,e){do{var n=Rt;try{if(y1(),Hh.current=Pp,jp){for(var r=vt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}jp=!1}if(Ya=0,Kt=Ft=vt=null,Iu=!1,ld=0,P1.current=null,n===null||n.return===null){Bt=1,dd=e,Rt=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=QE(o);if(x!==null){x.flags&=-257,ZE(x,o,l,i,e),x.mode&1&&XE(i,u,e),e=x,c=u;var y=e.updateQueue;if(y===null){var b=new Set;b.add(c),e.updateQueue=b}else y.add(c);break e}else{if(!(e&1)){XE(i,u,e),D1();break e}c=Error(ce(426))}}else if(gt&&l.mode&1){var v=QE(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),ZE(v,o,l,i,e),g1(Sl(c,l));break e}}i=c=Sl(c,l),Bt!==4&&(Bt=2),Mu===null?Mu=[i]:Mu.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var N=rM(i,c,e);GE(i,N);break e;case 1:l=c;var _=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fi===null||!Fi.has(S)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=sM(i,l,e);GE(i,C);break e}}i=i.return}while(i!==null)}NM(n)}catch(T){e=T,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function wM(){var t=Ip.current;return Ip.current=Pp,t===null?Pp:t}function D1(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),Yt===null||!(Xa&268435455)&&!(kg&268435455)||Ni(Yt,on)}function Op(t,e){var n=qe;qe|=2;var r=wM();(Yt!==t||on!==e)&&(Cs=null,Ua(t,e));do try{NF();break}catch(s){bM(t,s)}while(!0);if(y1(),qe=n,Ip.current=r,Rt!==null)throw Error(ce(261));return Yt=null,on=0,Bt}function NF(){for(;Rt!==null;)_M(Rt)}function SF(){for(;Rt!==null&&!J3();)_M(Rt)}function _M(t){var e=EM(t.alternate,t,er);t.memoizedProps=t.pendingProps,e===null?NM(t):Rt=e,P1.current=null}function NM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xF(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,Rt=null;return}}else if(n=gF(n,e,er),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Bt===0&&(Bt=5)}function Na(t,e,n){var r=Qe,s=br.transition;try{br.transition=null,Qe=1,EF(t,e,n,r)}finally{br.transition=s,Qe=r}return null}function EF(t,e,n,r){do al();while(ji!==null);if(qe&6)throw Error(ce(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(iV(t,i),t===Yt&&(Rt=Yt=null,on=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ph||(ph=!0,TM(gp,function(){return al(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=br.transition,br.transition=null;var o=Qe;Qe=1;var l=qe;qe|=4,P1.current=null,vF(t,n),xM(n,t),GV(sv),yp=!!rv,sv=rv=null,t.current=n,bF(n),Y3(),qe=l,Qe=o,br.transition=i}else t.current=n;if(ph&&(ph=!1,ji=t,Mp=s),i=t.pendingLanes,i===0&&(Fi=null),Z3(n.stateNode),Jn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Rp)throw Rp=!1,t=Sv,Sv=null,t;return Mp&1&&t.tag!==0&&al(),i=t.pendingLanes,i&1?t===Ev?Ou++:(Ou=0,Ev=t):Ou=0,oa(),null}function al(){if(ji!==null){var t=rR(Mp),e=br.transition,n=Qe;try{if(br.transition=null,Qe=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,Mp=0,qe&6)throw Error(ce(331));var s=qe;for(qe|=4,xe=t.current;xe!==null;){var i=xe,o=i.child;if(xe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:Ru(8,d,i)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var h=d.sibling,x=d.return;if(pM(d),d===u){xe=null;break}if(h!==null){h.return=x,xe=h;break}xe=x}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var v=b.sibling;b.sibling=null,b=v}while(b!==null)}}xe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,xe=o;else e:for(;xe!==null;){if(i=xe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ru(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,xe=N;break e}xe=i.return}}var _=t.current;for(xe=_;xe!==null;){o=xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,xe=S;else e:for(o=_;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ag(9,l)}}catch(T){Tt(l,l.return,T)}if(l===o){xe=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,xe=C;break e}xe=l.return}}if(qe=s,oa(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(vg,t)}catch{}r=!0}return r}finally{Qe=n,br.transition=e}}return!1}function fT(t,e,n){e=Sl(n,e),e=rM(t,e,1),t=Vi(t,e,1),e=On(),t!==null&&(hf(t,1,e),Jn(t,e))}function Tt(t,e,n){if(t.tag===3)fT(t,t,n);else for(;e!==null;){if(e.tag===3){fT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fi===null||!Fi.has(r))){t=Sl(n,t),t=sM(e,t,1),e=Vi(e,t,1),t=On(),e!==null&&(hf(e,1,t),Jn(e,t));break}}e=e.return}}function TF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(on&n)===n&&(Bt===4||Bt===3&&(on&130023424)===on&&500>Ct()-R1?Ua(t,0):I1|=n),Jn(t,e)}function SM(t,e){e===0&&(t.mode&1?(e=sh,sh<<=1,!(sh&130023424)&&(sh=4194304)):e=1);var n=On();t=Hs(t,e),t!==null&&(hf(t,e,n),Jn(t,n))}function AF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),SM(t,n)}function kF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),SM(t,n)}var EM;EM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,mF(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,gt&&e.flags&1048576&&CR(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kh(t,e),t=e.pendingProps;var s=bl(e,Tn.current);il(e,n),s=T1(null,e,r,t,s,n);var i=A1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(i=!0,Np(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,w1(e),s.updater=Tg,e.stateNode=s,s._reactInternals=e,hv(e,r,t,n),e=gv(null,e,r,!0,i,n)):(e.tag=0,gt&&i&&p1(e),Pn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=jF(r),t=Or(r,t),s){case 0:e=mv(null,e,r,t,n);break e;case 1:e=nT(null,e,r,t,n);break e;case 11:e=eT(null,e,r,t,n);break e;case 14:e=tT(null,e,r,Or(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),mv(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),nT(t,e,r,s,n);case 3:e:{if(lM(e),t===null)throw Error(ce(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OR(t,e),kp(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Sl(Error(ce(423)),e),e=rT(t,e,r,n,s);break e}else if(r!==s){s=Sl(Error(ce(424)),e),e=rT(t,e,r,n,s);break e}else for(rr=$i(e.stateNode.containerInfo.firstChild),ir=e,gt=!0,$r=null,n=RR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),r===s){e=Ws(t,e,n);break e}Pn(t,e,r,n)}e=e.child}return e;case 5:return DR(e),t===null&&uv(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,iv(r,s)?o=null:i!==null&&iv(r,i)&&(e.flags|=32),oM(t,e),Pn(t,e,o,n),e.child;case 6:return t===null&&uv(e),null;case 13:return cM(t,e,n);case 4:return _1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):Pn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),eT(t,e,r,s,n);case 7:return Pn(t,e,e.pendingProps,n),e.child;case 8:return Pn(t,e,e.pendingProps.children,n),e.child;case 12:return Pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ct(Tp,r._currentValue),r._currentValue=o,i!==null)if(Wr(i.value,o)){if(i.children===s.children&&!Wn.current){e=Ws(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Fs(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),dv(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ce(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dv(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,il(e,n),s=Nr(s),r=r(s),e.flags|=1,Pn(t,e,r,n),e.child;case 14:return r=e.type,s=Or(r,e.pendingProps),s=Or(r.type,s),tT(t,e,r,s,n);case 15:return iM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),Kh(t,e),e.tag=1,Kn(r)?(t=!0,Np(e)):t=!1,il(e,n),nM(e,r,s),hv(e,r,s,n),gv(null,e,r,!0,t,n);case 19:return uM(t,e,n);case 22:return aM(t,e,n)}throw Error(ce(156,e.tag))};function TM(t,e){return ZI(t,e)}function CF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yr(t,e,n,r){return new CF(t,e,n,r)}function L1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jF(t){if(typeof t=="function")return L1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===n1)return 11;if(t===r1)return 14}return 2}function Bi(t,e){var n=t.alternate;return n===null?(n=yr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xh(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")L1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Do:return Ba(n.children,s,i,e);case t1:o=8,s|=8;break;case Ly:return t=yr(12,n,e,s|2),t.elementType=Ly,t.lanes=i,t;case $y:return t=yr(13,n,e,s),t.elementType=$y,t.lanes=i,t;case Vy:return t=yr(19,n,e,s),t.elementType=Vy,t.lanes=i,t;case DI:return Cg(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case MI:o=10;break e;case OI:o=9;break e;case n1:o=11;break e;case r1:o=14;break e;case vi:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=yr(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ba(t,e,n,r){return t=yr(7,t,r,e),t.lanes=n,t}function Cg(t,e,n,r){return t=yr(22,t,r,e),t.elementType=DI,t.lanes=n,t.stateNode={isHidden:!1},t}function Ux(t,e,n){return t=yr(6,t,null,e),t.lanes=n,t}function Bx(t,e,n){return e=yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function PF(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_x(0),this.expirationTimes=_x(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_x(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $1(t,e,n,r,s,i,o,l,c){return t=new PF(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=yr(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(i),t}function IF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function AM(t){if(!t)return Qi;t=t._reactInternals;e:{if(ho(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Kn(n))return AR(t,n,e)}return e}function kM(t,e,n,r,s,i,o,l,c){return t=$1(n,r,!0,t,s,i,o,l,c),t.context=AM(null),n=t.current,r=On(),s=Ui(n),i=Fs(r,s),i.callback=e??null,Vi(n,i,s),t.current.lanes=s,hf(t,s,r),Jn(t,r),t}function jg(t,e,n,r){var s=e.current,i=On(),o=Ui(s);return n=AM(n),e.context===null?e.context=n:e.pendingContext=n,e=Fs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vi(s,e,o),t!==null&&(Ur(t,s,o,i),Gh(t,s,o)),o}function Dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function hT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V1(t,e){hT(t,e),(t=t.alternate)&&hT(t,e)}function RF(){return null}var CM=typeof reportError=="function"?reportError:function(t){console.error(t)};function F1(t){this._internalRoot=t}Pg.prototype.render=F1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));jg(t,e,null,null)};Pg.prototype.unmount=F1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){jg(null,t,null,null)}),e[Gs]=null}};function Pg(t){this._internalRoot=t}Pg.prototype.unstable_scheduleHydration=function(t){if(t){var e=aR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_i.length&&e!==0&&e<_i[n].priority;n++);_i.splice(n,0,t),n===0&&lR(t)}};function U1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pT(){}function MF(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Dp(o);i.call(u)}}var o=kM(e,r,t,0,null,!1,!1,"",pT);return t._reactRootContainer=o,t[Gs]=o.current,rd(t.nodeType===8?t.parentNode:t),Qa(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Dp(c);l.call(u)}}var c=$1(t,0,!1,null,null,!1,!1,"",pT);return t._reactRootContainer=c,t[Gs]=c.current,rd(t.nodeType===8?t.parentNode:t),Qa(function(){jg(e,c,n,r)}),c}function Rg(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Dp(o);l.call(c)}}jg(e,o,t,s)}else o=MF(n,e,t,s,r);return Dp(o)}sR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yu(e.pendingLanes);n!==0&&(a1(e,n|1),Jn(e,Ct()),!(qe&6)&&(El=Ct()+500,oa()))}break;case 13:Qa(function(){var r=Hs(t,1);if(r!==null){var s=On();Ur(r,t,1,s)}}),V1(t,1)}};o1=function(t){if(t.tag===13){var e=Hs(t,134217728);if(e!==null){var n=On();Ur(e,t,134217728,n)}V1(t,134217728)}};iR=function(t){if(t.tag===13){var e=Ui(t),n=Hs(t,e);if(n!==null){var r=On();Ur(n,t,e,r)}V1(t,e)}};aR=function(){return Qe};oR=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};Jy=function(t,e,n){switch(e){case"input":if(By(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ng(r);if(!s)throw Error(ce(90));$I(r),By(r,s)}}}break;case"textarea":FI(t,n);break;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}};WI=M1;KI=Qa;var OF={usingClientEntryPoint:!1,Events:[mf,Fo,Ng,GI,HI,M1]},tu={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DF={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XI(t),t===null?null:t.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||RF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mh.isDisabled&&mh.supportsFiber)try{vg=mh.inject(DF),os=mh}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OF;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(e))throw Error(ce(200));return IF(t,e,null,n)};ur.createRoot=function(t,e){if(!U1(t))throw Error(ce(299));var n=!1,r="",s=CM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$1(t,1,!1,null,null,n,!1,r,s),t[Gs]=e.current,rd(t.nodeType===8?t.parentNode:t),new F1(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=XI(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return Qa(t)};ur.hydrate=function(t,e,n){if(!Ig(e))throw Error(ce(200));return Rg(null,t,e,!0,n)};ur.hydrateRoot=function(t,e,n){if(!U1(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=CM;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kM(e,null,t,1,n??null,s,!1,i,o),t[Gs]=e.current,rd(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pg(e)};ur.render=function(t,e,n){if(!Ig(e))throw Error(ce(200));return Rg(null,t,e,!1,n)};ur.unmountComponentAtNode=function(t){if(!Ig(t))throw Error(ce(40));return t._reactRootContainer?(Qa(function(){Rg(null,null,t,!1,function(){t._reactRootContainer=null,t[Gs]=null})}),!0):!1};ur.unstable_batchedUpdates=M1;ur.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ig(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Rg(t,e,n,!1,r)};ur.version="18.3.1-next-f1338f8080-20240426";function jM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jM)}catch(t){console.error(t)}}jM(),jI.exports=ur;var LF=jI.exports,mT=LF;Oy.createRoot=mT.createRoot,Oy.hydrateRoot=mT.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>D.createElement("svg",{ref:d,...$F,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${VF(t)}`,l].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=te("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=te("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=te("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=te("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=te("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=te("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=te("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=te("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=te("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=te("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=te("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=te("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=te("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=te("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=te("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=te("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=te("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=te("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=te("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=te("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=te("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=te("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=te("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=te("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=te("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=te("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=te("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=te("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=te("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=te("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=te("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=te("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=te("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=te("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=te("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=te("FilePenLine",[["path",{d:"m18 5-3-3H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"h0fsxq"}],["path",{d:"M8 18h1",key:"13wk12"}],["path",{d:"M18.4 9.6a2 2 0 1 1 3 3L17 17l-4 1 1-4Z",key:"dyo8mm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=te("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=te("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=te("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=te("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=te("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=te("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=te("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=te("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=te("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=te("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=te("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=te("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=te("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=te("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=te("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=te("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=te("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=te("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=te("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=te("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=te("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=te("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=te("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=te("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=te("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=te("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=te("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=te("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=te("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=te("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=te("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=te("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=te("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=te("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=te("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=te("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=te("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=te("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=te("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=te("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=te("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=te("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=te("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=te("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=te("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=te("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=te("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=te("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=te("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=te("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=te("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=te("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=te("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=te("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=te("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=te("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=te("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=te("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=te("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),_U=({activeTab:t,setActiveTab:e,companyInfo:n,currentUser:r,onLogout:s})=>{const[i,o]=D.useState([]);U.useEffect(()=>{o(c.map(u=>u.name))},[]);const l=u=>{o(d=>d.includes(u)?d.filter(f=>f!==u):[...d,u])},c=[{name:"Principal",icon:eU,items:[{id:"dashboard",label:"Dashboard",icon:tU}]},{name:"Comercial",icon:bT,items:[{id:"sales",label:"Ventas",icon:bT},{id:"remitos",label:"Remitos",icon:OM},{id:"quotes",label:"Cotizaciones",icon:Bp},{id:"orders",label:"Pedidos",icon:Rv},{id:"clients",label:"Clientes",icon:Xr},{id:"loyalty",label:"Fidelizacin",icon:Iv},{id:"ecommerce",label:"E-Commerce",icon:zi}]},{name:"Productos & Abastecimiento",icon:Cv,items:[{id:"inventory",label:"Inventario",icon:Cv},{id:"missing-items",label:"Faltantes",icon:MM},{id:"stock-adjustment",label:"Ajuste de Stock",icon:Tl},{id:"bulk-modification",label:"Modificacin Masiva",icon:q1},{id:"warehouse",label:"Depsito",icon:Ov},{id:"purchase-orders",label:"Pedidos Compra",icon:rU},{id:"suppliers",label:"Proveedores",icon:ys},{id:"prices",label:"Lista Precios",icon:Lu},{id:"bulk-import",label:"Importar Datos",icon:Pv}]},{name:"Administracin & Finanzas",icon:yd,items:[{id:"cashier",label:"Cajas y Pagos",icon:yd},{id:"purchases",label:"Compras & IA",icon:xd},{id:"balances",label:"Saldos y Deudas",icon:gd},{id:"installments",label:"Cuotas Internas",icon:qi},{id:"finance",label:"Finanzas",icon:Kr},{id:"reports",label:"Informes e IVA",icon:zF}]},{name:"Configuracin",icon:Zi,items:[{id:"branches",label:"Sucursales",icon:Ma},{id:"users",label:"Usuarios",icon:wU},{id:"settings",label:"Configuracin",icon:Zi},{id:"data",label:"Gestin de Datos",icon:kv}]},{name:"Integraciones",icon:Du,items:[{id:"integrations",label:"Conexiones Externas",icon:Du}]}];return a.jsxs("div",{className:"w-64 bg-slate-900 text-white flex flex-col h-screen border-r border-slate-800",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[n.logo&&n.showLogoInSidebar?a.jsx("img",{src:n.logo,className:"w-10 h-10 rounded-lg object-cover bg-white",alt:"Logo Empresa"}):a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:a.jsx(Qh,{className:"w-6 h-6 text-white"})}),a.jsx("span",{className:"text-xl font-bold tracking-tight truncate",children:n.name})]})}),a.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto custom-scrollbar text-left overscroll-contain",children:c.map(u=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("button",{onClick:()=>l(u.name),className:"w-full flex items-center justify-between px-4 pt-4 pb-2 text-xs font-black text-slate-500 uppercase tracking-widest hover:text-slate-300 transition-colors",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(u.icon,{className:"w-4 h-4"}),u.name]}),a.jsx(RM,{className:`w-4 h-4 transition-transform ${i.includes(u.name)?"rotate-0":"-rotate-90"}`})]}),i.includes(u.name)&&a.jsx("div",{className:"space-y-1 animate-in fade-in slide-in-from-top duration-200",children:u.items.map(d=>a.jsxs("button",{onClick:()=>e(d.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all ${t===d.id?"bg-orange-500 text-white shadow-lg shadow-orange-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[a.jsx(d.icon,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:d.label})]},d.id))})]},u.name))}),a.jsxs("div",{className:"p-4 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 rounded-xl mb-4",children:[" ",a.jsx("img",{src:"https://picsum.photos/40/40",className:"w-10 h-10 rounded-full border border-slate-700",alt:"User"}),a.jsxs("div",{className:"overflow-hidden text-left",children:[a.jsx("p",{className:"text-sm font-semibold truncate",children:r.name}),a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-wider",children:r.role})]})]}),a.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all text-red-400 hover:bg-red-900 hover:text-white bg-red-950/50",children:[a.jsx(sU,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"truncate",children:"Cerrar Sesin"})]})]})]})};function qM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=qM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Re(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=qM(t))&&(r&&(r+=" "),r+=e);return r}var NU=Array.isArray,Xn=NU,SU=typeof Qf=="object"&&Qf&&Qf.Object===Object&&Qf,zM=SU,EU=zM,TU=typeof self=="object"&&self&&self.Object===Object&&self,AU=EU||TU||Function("return this")(),_s=AU,kU=_s,CU=kU.Symbol,yf=CU,TT=yf,GM=Object.prototype,jU=GM.hasOwnProperty,PU=GM.toString,nu=TT?TT.toStringTag:void 0;function IU(t){var e=jU.call(t,nu),n=t[nu];try{t[nu]=void 0;var r=!0}catch{}var s=PU.call(t);return r&&(e?t[nu]=n:delete t[nu]),s}var RU=IU,MU=Object.prototype,OU=MU.toString;function DU(t){return OU.call(t)}var LU=DU,AT=yf,$U=RU,VU=LU,FU="[object Null]",UU="[object Undefined]",kT=AT?AT.toStringTag:void 0;function BU(t){return t==null?t===void 0?UU:FU:kT&&kT in Object(t)?$U(t):VU(t)}var ai=BU;function qU(t){return t!=null&&typeof t=="object"}var oi=qU,zU=ai,GU=oi,HU="[object Symbol]";function WU(t){return typeof t=="symbol"||GU(t)&&zU(t)==HU}var hc=WU,KU=Xn,JU=hc,YU=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,XU=/^\w*$/;function QU(t,e){if(KU(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||JU(t)?!0:XU.test(t)||!YU.test(t)||e!=null&&t in Object(e)}var Y1=QU;function ZU(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var la=ZU;const pc=et(la);var e8=ai,t8=la,n8="[object AsyncFunction]",r8="[object Function]",s8="[object GeneratorFunction]",i8="[object Proxy]";function a8(t){if(!t8(t))return!1;var e=e8(t);return e==r8||e==s8||e==n8||e==i8}var X1=a8;const Ee=et(X1);var o8=_s,l8=o8["__core-js_shared__"],c8=l8,Hx=c8,CT=function(){var t=/[^.]+$/.exec(Hx&&Hx.keys&&Hx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function u8(t){return!!CT&&CT in t}var d8=u8,f8=Function.prototype,h8=f8.toString;function p8(t){if(t!=null){try{return h8.call(t)}catch{}try{return t+""}catch{}}return""}var HM=p8,m8=X1,g8=d8,x8=la,y8=HM,v8=/[\\^$.*+?()[\]{}|]/g,b8=/^\[object .+?Constructor\]$/,w8=Function.prototype,_8=Object.prototype,N8=w8.toString,S8=_8.hasOwnProperty,E8=RegExp("^"+N8.call(S8).replace(v8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function T8(t){if(!x8(t)||g8(t))return!1;var e=m8(t)?E8:b8;return e.test(y8(t))}var A8=T8;function k8(t,e){return t==null?void 0:t[e]}var C8=k8,j8=A8,P8=C8;function I8(t,e){var n=P8(t,e);return j8(n)?n:void 0}var po=I8,R8=po,M8=R8(Object,"create"),Og=M8,jT=Og;function O8(){this.__data__=jT?jT(null):{},this.size=0}var D8=O8;function L8(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var $8=L8,V8=Og,F8="__lodash_hash_undefined__",U8=Object.prototype,B8=U8.hasOwnProperty;function q8(t){var e=this.__data__;if(V8){var n=e[t];return n===F8?void 0:n}return B8.call(e,t)?e[t]:void 0}var z8=q8,G8=Og,H8=Object.prototype,W8=H8.hasOwnProperty;function K8(t){var e=this.__data__;return G8?e[t]!==void 0:W8.call(e,t)}var J8=K8,Y8=Og,X8="__lodash_hash_undefined__";function Q8(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Y8&&e===void 0?X8:e,this}var Z8=Q8,eB=D8,tB=$8,nB=z8,rB=J8,sB=Z8;function mc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mc.prototype.clear=eB;mc.prototype.delete=tB;mc.prototype.get=nB;mc.prototype.has=rB;mc.prototype.set=sB;var iB=mc;function aB(){this.__data__=[],this.size=0}var oB=aB;function lB(t,e){return t===e||t!==t&&e!==e}var Q1=lB,cB=Q1;function uB(t,e){for(var n=t.length;n--;)if(cB(t[n][0],e))return n;return-1}var Dg=uB,dB=Dg,fB=Array.prototype,hB=fB.splice;function pB(t){var e=this.__data__,n=dB(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():hB.call(e,n,1),--this.size,!0}var mB=pB,gB=Dg;function xB(t){var e=this.__data__,n=gB(e,t);return n<0?void 0:e[n][1]}var yB=xB,vB=Dg;function bB(t){return vB(this.__data__,t)>-1}var wB=bB,_B=Dg;function NB(t,e){var n=this.__data__,r=_B(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var SB=NB,EB=oB,TB=mB,AB=yB,kB=wB,CB=SB;function gc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gc.prototype.clear=EB;gc.prototype.delete=TB;gc.prototype.get=AB;gc.prototype.has=kB;gc.prototype.set=CB;var Lg=gc,jB=po,PB=_s,IB=jB(PB,"Map"),Z1=IB,PT=iB,RB=Lg,MB=Z1;function OB(){this.size=0,this.__data__={hash:new PT,map:new(MB||RB),string:new PT}}var DB=OB;function LB(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var $B=LB,VB=$B;function FB(t,e){var n=t.__data__;return VB(e)?n[typeof e=="string"?"string":"hash"]:n.map}var $g=FB,UB=$g;function BB(t){var e=UB(this,t).delete(t);return this.size-=e?1:0,e}var qB=BB,zB=$g;function GB(t){return zB(this,t).get(t)}var HB=GB,WB=$g;function KB(t){return WB(this,t).has(t)}var JB=KB,YB=$g;function XB(t,e){var n=YB(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var QB=XB,ZB=DB,e9=qB,t9=HB,n9=JB,r9=QB;function xc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xc.prototype.clear=ZB;xc.prototype.delete=e9;xc.prototype.get=t9;xc.prototype.has=n9;xc.prototype.set=r9;var e_=xc,WM=e_,s9="Expected a function";function t_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(s9);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(t_.Cache||WM),n}t_.Cache=WM;var KM=t_;const i9=et(KM);var a9=KM,o9=500;function l9(t){var e=a9(t,function(r){return n.size===o9&&n.clear(),r}),n=e.cache;return e}var c9=l9,u9=c9,d9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f9=/\\(\\)?/g,h9=u9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(d9,function(n,r,s,i){e.push(s?i.replace(f9,"$1"):r||n)}),e}),p9=h9;function m9(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var n_=m9,IT=yf,g9=n_,x9=Xn,y9=hc,RT=IT?IT.prototype:void 0,MT=RT?RT.toString:void 0;function JM(t){if(typeof t=="string")return t;if(x9(t))return g9(t,JM)+"";if(y9(t))return MT?MT.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var v9=JM,b9=v9;function w9(t){return t==null?"":b9(t)}var YM=w9,_9=Xn,N9=Y1,S9=p9,E9=YM;function T9(t,e){return _9(t)?t:N9(t,e)?[t]:S9(E9(t))}var XM=T9,A9=hc;function k9(t){if(typeof t=="string"||A9(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Vg=k9,C9=XM,j9=Vg;function P9(t,e){e=C9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[j9(e[n++])];return n&&n==r?t:void 0}var r_=P9,I9=r_;function R9(t,e,n){var r=t==null?void 0:I9(t,e);return r===void 0?n:r}var QM=R9;const ar=et(QM);function M9(t){return t==null}var O9=M9;const Ie=et(O9);var D9=ai,L9=Xn,$9=oi,V9="[object String]";function F9(t){return typeof t=="string"||!L9(t)&&$9(t)&&D9(t)==V9}var U9=F9;const Za=et(U9);var ZM={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_=Symbol.for("react.element"),i_=Symbol.for("react.portal"),Fg=Symbol.for("react.fragment"),Ug=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),qg=Symbol.for("react.provider"),zg=Symbol.for("react.context"),B9=Symbol.for("react.server_context"),Gg=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Wg=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),Jg=Symbol.for("react.lazy"),q9=Symbol.for("react.offscreen"),eO;eO=Symbol.for("react.module.reference");function kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case s_:switch(t=t.type,t){case Fg:case Bg:case Ug:case Hg:case Wg:return t;default:switch(t=t&&t.$$typeof,t){case B9:case zg:case Gg:case Jg:case Kg:case qg:return t;default:return e}}case i_:return e}}}tt.ContextConsumer=zg;tt.ContextProvider=qg;tt.Element=s_;tt.ForwardRef=Gg;tt.Fragment=Fg;tt.Lazy=Jg;tt.Memo=Kg;tt.Portal=i_;tt.Profiler=Bg;tt.StrictMode=Ug;tt.Suspense=Hg;tt.SuspenseList=Wg;tt.isAsyncMode=function(){return!1};tt.isConcurrentMode=function(){return!1};tt.isContextConsumer=function(t){return kr(t)===zg};tt.isContextProvider=function(t){return kr(t)===qg};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===s_};tt.isForwardRef=function(t){return kr(t)===Gg};tt.isFragment=function(t){return kr(t)===Fg};tt.isLazy=function(t){return kr(t)===Jg};tt.isMemo=function(t){return kr(t)===Kg};tt.isPortal=function(t){return kr(t)===i_};tt.isProfiler=function(t){return kr(t)===Bg};tt.isStrictMode=function(t){return kr(t)===Ug};tt.isSuspense=function(t){return kr(t)===Hg};tt.isSuspenseList=function(t){return kr(t)===Wg};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Fg||t===Bg||t===Ug||t===Hg||t===Wg||t===q9||typeof t=="object"&&t!==null&&(t.$$typeof===Jg||t.$$typeof===Kg||t.$$typeof===qg||t.$$typeof===zg||t.$$typeof===Gg||t.$$typeof===eO||t.getModuleId!==void 0)};tt.typeOf=kr;ZM.exports=tt;var z9=ZM.exports,G9=ai,H9=oi,W9="[object Number]";function K9(t){return typeof t=="number"||H9(t)&&G9(t)==W9}var tO=K9;const J9=et(tO);var Y9=tO;function X9(t){return Y9(t)&&t!=+t}var Q9=X9;const yc=et(Q9);var In=function(e){return e===0?0:e>0?1:-1},Oa=function(e){return Za(e)&&e.indexOf("%")===e.length-1},le=function(e){return J9(e)&&!yc(e)},Z9=function(e){return Ie(e)},qt=function(e){return le(e)||Za(e)},eq=0,vc=function(e){var n=++eq;return"".concat(e||"").concat(n)},Rn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!Za(e))return r;var i;if(Oa(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return yc(i)&&(i=r),s&&i>n&&(i=n),i},Si=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},tq=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},s=0;s<n;s++)if(!r[e[s]])r[e[s]]=!0;else return!0;return!1},qn=function(e,n){return le(e)&&le(n)?function(r){return e+r*(n-e)}:function(){return n}};function Wp(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ar(r,e))===n})}var nq=function(e,n){return le(e)&&le(n)?e-n:Za(e)&&Za(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ll(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}var rq=["viewBox","children"],sq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OT=["points","pathLength"],Wx={svg:rq,polygon:OT,polyline:OT},a_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!pc(r))return null;var s={};return Object.keys(r).forEach(function(i){a_.includes(i)&&(s[i]=n||function(o){return r[i](r,o)})}),s},iq=function(e,n,r){return function(s){return e(n,r,s),null}},eo=function(e,n,r){if(!pc(e)||Dv(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];a_.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=iq(o,n,r))}),s},aq=["children"],oq=["children"];function DT(t,e){if(t==null)return{};var n=lq(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}var LT={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Us=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$T=null,Kx=null,o_=function t(e){if(e===$T&&Array.isArray(Kx))return Kx;var n=[];return D.Children.forEach(e,function(r){Ie(r)||(z9.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Kx=n,$T=e,n};function wr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(s){return Us(s)}):r=[Us(e)],o_(t).forEach(function(s){var i=ar(s,"type.displayName")||ar(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function tr(t,e){var n=wr(t,e);return n&&n[0]}var VT=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,s=n.height;return!(!le(r)||r<=0||!le(s)||s<=0)},cq=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uq=function(e){return e&&e.type&&Za(e.type)&&cq.indexOf(e.type)>=0},dq=function(e){return e&&Lv(e)==="object"&&"clipDot"in e},fq=function(e,n,r,s){var i,o=(i=Wx==null?void 0:Wx[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Ee(e)&&(s&&o.includes(n)||sq.includes(n))||r&&a_.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(D.isValidElement(e)&&(s=e.props),!pc(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;fq((l=s)===null||l===void 0?void 0:l[o],o,n,r)&&(i[o]=s[o])}),i},$v=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return FT(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=e[s],o=n[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!FT(i,o))return!1}return!0},FT=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},s=r.children,i=DT(r,aq),o=n.props||{},l=o.children,c=DT(o,oq);return s&&l?ll(i,c)&&$v(s,l):!s&&!l?ll(i,c):!1}return!1},UT=function(e,n){var r=[],s={};return o_(e).forEach(function(i,o){if(uq(i))r.push(i);else if(i){var l=Us(i.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);r.push(f),s[l]=!0}}}),r},hq=function(e){var n=e&&e.type;return n&&LT[n]?LT[n]:null},pq=function(e,n){return o_(n).indexOf(e)},mq=["children","width","height","viewBox","className","style","title","desc"];function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}function gq(t,e){if(t==null)return{};var n=xq(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fv(t){var e=t.children,n=t.width,r=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=gq(t,mq),d=s||{width:n,height:r,x:0,y:0},f=Re("recharts-surface",i);return U.createElement("svg",Vv({},_e(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),U.createElement("title",null,l),U.createElement("desc",null,c),e)}var yq=["children","className"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uv.apply(this,arguments)}function vq(t,e){if(t==null)return{};var n=bq(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Be=U.forwardRef(function(t,e){var n=t.children,r=t.className,s=vq(t,yq),i=Re("recharts-layer",r);return U.createElement("g",Uv({className:i},_e(s,!0),{ref:e}),n)}),Br=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]};function wq(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var _q=wq,Nq=_q;function Sq(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Nq(t,e,n)}var Eq=Sq,Tq="\\ud800-\\udfff",Aq="\\u0300-\\u036f",kq="\\ufe20-\\ufe2f",Cq="\\u20d0-\\u20ff",jq=Aq+kq+Cq,Pq="\\ufe0e\\ufe0f",Iq="\\u200d",Rq=RegExp("["+Iq+Tq+jq+Pq+"]");function Mq(t){return Rq.test(t)}var nO=Mq;function Oq(t){return t.split("")}var Dq=Oq,rO="\\ud800-\\udfff",Lq="\\u0300-\\u036f",$q="\\ufe20-\\ufe2f",Vq="\\u20d0-\\u20ff",Fq=Lq+$q+Vq,Uq="\\ufe0e\\ufe0f",Bq="["+rO+"]",Bv="["+Fq+"]",qv="\\ud83c[\\udffb-\\udfff]",qq="(?:"+Bv+"|"+qv+")",sO="[^"+rO+"]",iO="(?:\\ud83c[\\udde6-\\uddff]){2}",aO="[\\ud800-\\udbff][\\udc00-\\udfff]",zq="\\u200d",oO=qq+"?",lO="["+Uq+"]?",Gq="(?:"+zq+"(?:"+[sO,iO,aO].join("|")+")"+lO+oO+")*",Hq=lO+oO+Gq,Wq="(?:"+[sO+Bv+"?",Bv,iO,aO,Bq].join("|")+")",Kq=RegExp(qv+"(?="+qv+")|"+Wq+Hq,"g");function Jq(t){return t.match(Kq)||[]}var Yq=Jq,Xq=Dq,Qq=nO,Zq=Yq;function ez(t){return Qq(t)?Zq(t):Xq(t)}var tz=ez,nz=Eq,rz=nO,sz=tz,iz=YM;function az(t){return function(e){e=iz(e);var n=rz(e)?sz(e):void 0,r=n?n[0]:e.charAt(0),s=n?nz(n,1).join(""):e.slice(1);return r[t]()+s}}var oz=az,lz=oz,cz=lz("toUpperCase"),uz=cz;const Yg=et(uz);function ot(t){return function(){return t}}const cO=Math.cos,Jp=Math.sin,Qr=Math.sqrt,Yp=Math.PI,Xg=2*Yp,zv=Math.PI,Gv=2*zv,Sa=1e-6,dz=Gv-Sa;function uO(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function fz(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uO;const n=10**e;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class hz{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uO:fz(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,s){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,n,r,s,i,o){this._append`C${+e},${+n},${+r},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,s,i){if(e=+e,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=r-e,u=s-n,d=o-e,f=l-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Sa)if(!(Math.abs(f*c-u*d)>Sa)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,y=s-l,b=c*c+u*u,v=x*x+y*y,N=Math.sqrt(b),_=Math.sqrt(h),S=i*Math.tan((zv-Math.acos((b+h-v)/(2*N*_)))/2),C=S/_,T=S/N;Math.abs(C-1)>Sa&&this._append`L${e+C*d},${n+C*f}`,this._append`A${i},${i},0,0,${+(f*x>d*y)},${this._x1=e+T*c},${this._y1=n+T*u}`}}arc(e,n,r,s,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),c=r*Math.sin(s),u=e+l,d=n+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sa||Math.abs(this._y1-d)>Sa)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Gv+Gv),h>dz?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sa&&this._append`A${r},${r},0,${+(h>=zv)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function l_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new hz(e)}function c_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dO(t){this._context=t}dO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Qg(t){return new dO(t)}function fO(t){return t[0]}function hO(t){return t[1]}function pO(t,e){var n=ot(!0),r=null,s=Qg,i=null,o=l_(l);t=typeof t=="function"?t:t===void 0?fO:ot(t),e=typeof e=="function"?e:e===void 0?hO:ot(e);function l(c){var u,d=(c=c_(c)).length,f,h=!1,x;for(r==null&&(i=s(x=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(f,u,c),+e(f,u,c));if(x)return i=null,x+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ot(!!c),l):n},l.curve=function(c){return arguments.length?(s=c,r!=null&&(i=s(r)),l):s},l.context=function(c){return arguments.length?(c==null?r=i=null:i=s(r=c),l):r},l}function gh(t,e,n){var r=null,s=ot(!0),i=null,o=Qg,l=null,c=l_(u);t=typeof t=="function"?t:t===void 0?fO:ot(+t),e=typeof e=="function"?e:ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?hO:ot(+n);function u(f){var h,x,y,b=(f=c_(f)).length,v,N=!1,_,S=new Array(b),C=new Array(b);for(i==null&&(l=o(_=c())),h=0;h<=b;++h){if(!(h<b&&s(v=f[h],h,f))===N)if(N=!N)x=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=h-1;y>=x;--y)l.point(S[y],C[y]);l.lineEnd(),l.areaEnd()}N&&(S[h]=+t(v,h,f),C[h]=+e(v,h,f),l.point(r?+r(v,h,f):S[h],n?+n(v,h,f):C[h]))}if(_)return l=null,_+""||null}function d(){return pO().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:ot(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class mO{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function pz(t){return new mO(t,!0)}function mz(t){return new mO(t,!1)}const u_={draw(t,e){const n=Qr(e/Yp);t.moveTo(n,0),t.arc(0,0,n,0,Xg)}},gz={draw(t,e){const n=Qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},gO=Qr(1/3),xz=gO*2,yz={draw(t,e){const n=Qr(e/xz),r=n*gO;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},vz={draw(t,e){const n=Qr(e),r=-n/2;t.rect(r,r,n,n)}},bz=.8908130915292852,xO=Jp(Yp/10)/Jp(7*Yp/10),wz=Jp(Xg/10)*xO,_z=-cO(Xg/10)*xO,Nz={draw(t,e){const n=Qr(e*bz),r=wz*n,s=_z*n;t.moveTo(0,-n),t.lineTo(r,s);for(let i=1;i<5;++i){const o=Xg*i/5,l=cO(o),c=Jp(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*s,c*r+l*s)}t.closePath()}},Jx=Qr(3),Sz={draw(t,e){const n=-Qr(e/(Jx*3));t.moveTo(0,n*2),t.lineTo(-Jx*n,-n),t.lineTo(Jx*n,-n),t.closePath()}},fr=-.5,hr=Qr(3)/2,Hv=1/Qr(12),Ez=(Hv/2+1)*3,Tz={draw(t,e){const n=Qr(e/Ez),r=n/2,s=n*Hv,i=r,o=n*Hv+n,l=-i,c=o;t.moveTo(r,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(fr*r-hr*s,hr*r+fr*s),t.lineTo(fr*i-hr*o,hr*i+fr*o),t.lineTo(fr*l-hr*c,hr*l+fr*c),t.lineTo(fr*r+hr*s,fr*s-hr*r),t.lineTo(fr*i+hr*o,fr*o-hr*i),t.lineTo(fr*l+hr*c,fr*c-hr*l),t.closePath()}};function Az(t,e){let n=null,r=l_(s);t=typeof t=="function"?t:ot(t||u_),e=typeof e=="function"?e:ot(e===void 0?64:+e);function s(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:ot(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:ot(+i),s):e},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function Xp(){}function Qp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function yO(t){this._context=t}yO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kz(t){return new yO(t)}function vO(t){this._context=t}vO.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cz(t){return new vO(t)}function bO(t){this._context=t}bO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jz(t){return new bO(t)}function wO(t){this._context=t}wO.prototype={areaStart:Xp,areaEnd:Xp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Pz(t){return new wO(t)}function BT(t){return t<0?-1:1}function qT(t,e,n){var r=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(r||s<0&&-0),o=(n-t._y1)/(s||r<0&&-0),l=(i*s+o*r)/(r+s);return(BT(i)+BT(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function zT(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yx(t,e,n){var r=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-r)/3;t._context.bezierCurveTo(r+l,s+l*e,i-l,o-l*n,i,o)}function Zp(t){this._context=t}Zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yx(this,this._t0,zT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yx(this,zT(this,n=qT(this,t,e)),n);break;default:Yx(this,this._t0,n=qT(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function _O(t){this._context=new NO(t)}(_O.prototype=Object.create(Zp.prototype)).point=function(t,e){Zp.prototype.point.call(this,e,t)};function NO(t){this._context=t}NO.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,s,i){this._context.bezierCurveTo(e,t,r,n,i,s)}};function Iz(t){return new Zp(t)}function Rz(t){return new _O(t)}function SO(t){this._context=t}SO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=GT(t),s=GT(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function GT(t){var e,n=t.length-1,r,s=new Array(n),i=new Array(n),o=new Array(n);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=s[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(s[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[n-1]=(t[n]+s[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function Mz(t){return new SO(t)}function Zg(t,e){this._context=t,this._t=e}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Oz(t){return new Zg(t,.5)}function Dz(t){return new Zg(t,0)}function Lz(t){return new Zg(t,1)}function kl(t,e){if((o=t.length)>1)for(var n=1,r,s,i=t[e[0]],o,l=i.length;n<o;++n)for(s=i,i=t[e[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Wv(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $z(t,e){return t[e]}function Vz(t){const e=[];return e.key=t,e}function Fz(){var t=ot([]),e=Wv,n=kl,r=$z;function s(i){var o=Array.from(t.apply(this,arguments),Vz),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,i)]).data=f;for(l=0,d=c_(e(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ot(Array.from(i)),s):t},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:ot(+i),s):r},s.order=function(i){return arguments.length?(e=i==null?Wv:typeof i=="function"?i:ot(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(n=i??kl,s):n},s}function Uz(t,e){if((r=t.length)>0){for(var n,r,s=0,i=t[0].length,o;s<i;++s){for(o=n=0;n<r;++n)o+=t[n][s][1]||0;if(o)for(n=0;n<r;++n)t[n][s][1]/=o}kl(t,e)}}function Bz(t,e){if((s=t.length)>0){for(var n=0,r=t[e[0]],s,i=r.length;n<i;++n){for(var o=0,l=0;o<s;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}kl(t,e)}}function qz(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var n=0,r=1,s,i,o;r<i;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[r][1]||0,h=d[r-1][1]||0,x=(f-h)/2,y=0;y<l;++y){var b=t[e[y]],v=b[r][1]||0,N=b[r-1][1]||0;x+=v-N}c+=f,u+=x*f}s[r-1][1]+=s[r-1][0]=n,c&&(n-=u/c)}s[r-1][1]+=s[r-1][0]=n,kl(t,e)}}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}var zz=["type","size","sizeType"];function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kv.apply(this,arguments)}function HT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function WT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HT(Object(n),!0).forEach(function(r){Gz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gz(t,e,n){return e=Hz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hz(t){var e=Wz(t,"string");return vd(e)=="symbol"?e:e+""}function Wz(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kz(t,e){if(t==null)return{};var n=Jz(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jz(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EO={symbolCircle:u_,symbolCross:gz,symbolDiamond:yz,symbolSquare:vz,symbolStar:Nz,symbolTriangle:Sz,symbolWye:Tz},Yz=Math.PI/180,Xz=function(e){var n="symbol".concat(Yg(e));return EO[n]||u_},Qz=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*Yz;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zz=function(e,n){EO["symbol".concat(Yg(e))]=n},d_=function(e){var n=e.type,r=n===void 0?"circle":n,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=Kz(e,zz),u=WT(WT({},c),{},{type:r,size:i,sizeType:l}),d=function(){var v=Xz(r),N=Az().type(v).size(Qz(i,l,r));return N()},f=u.className,h=u.cx,x=u.cy,y=_e(u,!0);return h===+h&&x===+x&&i===+i?U.createElement("path",Kv({},y,{className:Re("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(x,")"),d:d()})):null};d_.registerSymbol=Zz;function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jv.apply(this,arguments)}function KT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function eG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(n),!0).forEach(function(r){bd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AO(r.key),r)}}function rG(t,e,n){return e&&nG(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sG(t,e,n){return e=em(e),iG(t,TO()?Reflect.construct(e,n||[],em(t).constructor):e.apply(t,n))}function iG(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aG(t)}function aG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TO=function(){return!!t})()}function em(t){return em=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},em(t)}function oG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Yv(t,e)}function bd(t,e,n){return e=AO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AO(t){var e=lG(t,"string");return Cl(e)=="symbol"?e:e+""}function lG(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pr=32,f_=function(t){function e(){return tG(this,e),sG(this,e,arguments)}return oG(e,t),rG(e,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=pr/2,o=pr/6,l=pr/3,c=r.inactive?s:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:pr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(pr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(pr/8,"h").concat(pr,"v").concat(pr*3/4,"h").concat(-pr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=eG({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(d_,{fill:c,cx:i,cy:i,size:pr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:pr,height:pr},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,y){var b=x.formatter||c,v=Re(bd(bd({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Ee(x.value)?null:x.value;Br(!Ee(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=x.inactive?u:x.color;return U.createElement("li",Jv({className:v,style:f,key:"legend-item-".concat(y)},eo(r.props,x,y)),U.createElement(Fv,{width:o,height:o,viewBox:d,style:h},r.renderIcon(x)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(N,x,y):N))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,o=r.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(D.PureComponent);bd(f_,"displayName","Legend");bd(f_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cG=Lg;function uG(){this.__data__=new cG,this.size=0}var dG=uG;function fG(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var hG=fG;function pG(t){return this.__data__.get(t)}var mG=pG;function gG(t){return this.__data__.has(t)}var xG=gG,yG=Lg,vG=Z1,bG=e_,wG=200;function _G(t,e){var n=this.__data__;if(n instanceof yG){var r=n.__data__;if(!vG||r.length<wG-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new bG(r)}return n.set(t,e),this.size=n.size,this}var NG=_G,SG=Lg,EG=dG,TG=hG,AG=mG,kG=xG,CG=NG;function bc(t){var e=this.__data__=new SG(t);this.size=e.size}bc.prototype.clear=EG;bc.prototype.delete=TG;bc.prototype.get=AG;bc.prototype.has=kG;bc.prototype.set=CG;var kO=bc,jG="__lodash_hash_undefined__";function PG(t){return this.__data__.set(t,jG),this}var IG=PG;function RG(t){return this.__data__.has(t)}var MG=RG,OG=e_,DG=IG,LG=MG;function tm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new OG;++e<n;)this.add(t[e])}tm.prototype.add=tm.prototype.push=DG;tm.prototype.has=LG;var CO=tm;function $G(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var jO=$G;function VG(t,e){return t.has(e)}var PO=VG,FG=CO,UG=jO,BG=PO,qG=1,zG=2;function GG(t,e,n,r,s,i){var o=n&qG,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),d=i.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,x=n&zG?new FG:void 0;for(i.set(t,e),i.set(e,t);++f<l;){var y=t[f],b=e[f];if(r)var v=o?r(b,y,f,e,t,i):r(y,b,f,t,e,i);if(v!==void 0){if(v)continue;h=!1;break}if(x){if(!UG(e,function(N,_){if(!BG(x,_)&&(y===N||s(y,N,n,r,i)))return x.push(_)})){h=!1;break}}else if(!(y===b||s(y,b,n,r,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var IO=GG,HG=_s,WG=HG.Uint8Array,KG=WG;function JG(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var YG=JG;function XG(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var h_=XG,JT=yf,YT=KG,QG=Q1,ZG=IO,e7=YG,t7=h_,n7=1,r7=2,s7="[object Boolean]",i7="[object Date]",a7="[object Error]",o7="[object Map]",l7="[object Number]",c7="[object RegExp]",u7="[object Set]",d7="[object String]",f7="[object Symbol]",h7="[object ArrayBuffer]",p7="[object DataView]",XT=JT?JT.prototype:void 0,Xx=XT?XT.valueOf:void 0;function m7(t,e,n,r,s,i,o){switch(n){case p7:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case h7:return!(t.byteLength!=e.byteLength||!i(new YT(t),new YT(e)));case s7:case i7:case l7:return QG(+t,+e);case a7:return t.name==e.name&&t.message==e.message;case c7:case d7:return t==e+"";case o7:var l=e7;case u7:var c=r&n7;if(l||(l=t7),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=r7,o.set(t,e);var d=ZG(l(t),l(e),r,s,i,o);return o.delete(t),d;case f7:if(Xx)return Xx.call(t)==Xx.call(e)}return!1}var g7=m7;function x7(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var RO=x7,y7=RO,v7=Xn;function b7(t,e,n){var r=e(t);return v7(t)?r:y7(r,n(t))}var w7=b7;function _7(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var N7=_7;function S7(){return[]}var E7=S7,T7=N7,A7=E7,k7=Object.prototype,C7=k7.propertyIsEnumerable,QT=Object.getOwnPropertySymbols,j7=QT?function(t){return t==null?[]:(t=Object(t),T7(QT(t),function(e){return C7.call(t,e)}))}:A7,P7=j7;function I7(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var R7=I7,M7=ai,O7=oi,D7="[object Arguments]";function L7(t){return O7(t)&&M7(t)==D7}var $7=L7,ZT=$7,V7=oi,MO=Object.prototype,F7=MO.hasOwnProperty,U7=MO.propertyIsEnumerable,B7=ZT(function(){return arguments}())?ZT:function(t){return V7(t)&&F7.call(t,"callee")&&!U7.call(t,"callee")},p_=B7,nm={exports:{}};function q7(){return!1}var z7=q7;nm.exports;(function(t,e){var n=_s,r=z7,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(nm,nm.exports);var OO=nm.exports,G7=9007199254740991,H7=/^(?:0|[1-9]\d*)$/;function W7(t,e){var n=typeof t;return e=e??G7,!!e&&(n=="number"||n!="symbol"&&H7.test(t))&&t>-1&&t%1==0&&t<e}var m_=W7,K7=9007199254740991;function J7(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=K7}var g_=J7,Y7=ai,X7=g_,Q7=oi,Z7="[object Arguments]",eH="[object Array]",tH="[object Boolean]",nH="[object Date]",rH="[object Error]",sH="[object Function]",iH="[object Map]",aH="[object Number]",oH="[object Object]",lH="[object RegExp]",cH="[object Set]",uH="[object String]",dH="[object WeakMap]",fH="[object ArrayBuffer]",hH="[object DataView]",pH="[object Float32Array]",mH="[object Float64Array]",gH="[object Int8Array]",xH="[object Int16Array]",yH="[object Int32Array]",vH="[object Uint8Array]",bH="[object Uint8ClampedArray]",wH="[object Uint16Array]",_H="[object Uint32Array]",ht={};ht[pH]=ht[mH]=ht[gH]=ht[xH]=ht[yH]=ht[vH]=ht[bH]=ht[wH]=ht[_H]=!0;ht[Z7]=ht[eH]=ht[fH]=ht[tH]=ht[hH]=ht[nH]=ht[rH]=ht[sH]=ht[iH]=ht[aH]=ht[oH]=ht[lH]=ht[cH]=ht[uH]=ht[dH]=!1;function NH(t){return Q7(t)&&X7(t.length)&&!!ht[Y7(t)]}var SH=NH;function EH(t){return function(e){return t(e)}}var DO=EH,rm={exports:{}};rm.exports;(function(t,e){var n=zM,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(rm,rm.exports);var TH=rm.exports,AH=SH,kH=DO,e2=TH,t2=e2&&e2.isTypedArray,CH=t2?kH(t2):AH,LO=CH,jH=R7,PH=p_,IH=Xn,RH=OO,MH=m_,OH=LO,DH=Object.prototype,LH=DH.hasOwnProperty;function $H(t,e){var n=IH(t),r=!n&&PH(t),s=!n&&!r&&RH(t),i=!n&&!r&&!s&&OH(t),o=n||r||s||i,l=o?jH(t.length,String):[],c=l.length;for(var u in t)(e||LH.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||MH(u,c)))&&l.push(u);return l}var VH=$H,FH=Object.prototype;function UH(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||FH;return t===n}var BH=UH;function qH(t,e){return function(n){return t(e(n))}}var $O=qH,zH=$O,GH=zH(Object.keys,Object),HH=GH,WH=BH,KH=HH,JH=Object.prototype,YH=JH.hasOwnProperty;function XH(t){if(!WH(t))return KH(t);var e=[];for(var n in Object(t))YH.call(t,n)&&n!="constructor"&&e.push(n);return e}var QH=XH,ZH=X1,eW=g_;function tW(t){return t!=null&&eW(t.length)&&!ZH(t)}var vf=tW,nW=VH,rW=QH,sW=vf;function iW(t){return sW(t)?nW(t):rW(t)}var e0=iW,aW=w7,oW=P7,lW=e0;function cW(t){return aW(t,lW,oW)}var uW=cW,n2=uW,dW=1,fW=Object.prototype,hW=fW.hasOwnProperty;function pW(t,e,n,r,s,i){var o=n&dW,l=n2(t),c=l.length,u=n2(e),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in e:hW.call(e,h)))return!1}var x=i.get(t),y=i.get(e);if(x&&y)return x==e&&y==t;var b=!0;i.set(t,e),i.set(e,t);for(var v=o;++f<c;){h=l[f];var N=t[h],_=e[h];if(r)var S=o?r(_,N,h,e,t,i):r(N,_,h,t,e,i);if(!(S===void 0?N===_||s(N,_,n,r,i):S)){b=!1;break}v||(v=h=="constructor")}if(b&&!v){var C=t.constructor,T=e.constructor;C!=T&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof T=="function"&&T instanceof T)&&(b=!1)}return i.delete(t),i.delete(e),b}var mW=pW,gW=po,xW=_s,yW=gW(xW,"DataView"),vW=yW,bW=po,wW=_s,_W=bW(wW,"Promise"),NW=_W,SW=po,EW=_s,TW=SW(EW,"Set"),VO=TW,AW=po,kW=_s,CW=AW(kW,"WeakMap"),jW=CW,Xv=vW,Qv=Z1,Zv=NW,eb=VO,tb=jW,FO=ai,wc=HM,r2="[object Map]",PW="[object Object]",s2="[object Promise]",i2="[object Set]",a2="[object WeakMap]",o2="[object DataView]",IW=wc(Xv),RW=wc(Qv),MW=wc(Zv),OW=wc(eb),DW=wc(tb),Ea=FO;(Xv&&Ea(new Xv(new ArrayBuffer(1)))!=o2||Qv&&Ea(new Qv)!=r2||Zv&&Ea(Zv.resolve())!=s2||eb&&Ea(new eb)!=i2||tb&&Ea(new tb)!=a2)&&(Ea=function(t){var e=FO(t),n=e==PW?t.constructor:void 0,r=n?wc(n):"";if(r)switch(r){case IW:return o2;case RW:return r2;case MW:return s2;case OW:return i2;case DW:return a2}return e});var LW=Ea,Qx=kO,$W=IO,VW=g7,FW=mW,l2=LW,c2=Xn,u2=OO,UW=LO,BW=1,d2="[object Arguments]",f2="[object Array]",xh="[object Object]",qW=Object.prototype,h2=qW.hasOwnProperty;function zW(t,e,n,r,s,i){var o=c2(t),l=c2(e),c=o?f2:l2(t),u=l?f2:l2(e);c=c==d2?xh:c,u=u==d2?xh:u;var d=c==xh,f=u==xh,h=c==u;if(h&&u2(t)){if(!u2(e))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Qx),o||UW(t)?$W(t,e,n,r,s,i):VW(t,e,c,n,r,s,i);if(!(n&BW)){var x=d&&h2.call(t,"__wrapped__"),y=f&&h2.call(e,"__wrapped__");if(x||y){var b=x?t.value():t,v=y?e.value():e;return i||(i=new Qx),s(b,v,n,r,i)}}return h?(i||(i=new Qx),FW(t,e,n,r,s,i)):!1}var GW=zW,HW=GW,p2=oi;function UO(t,e,n,r,s){return t===e?!0:t==null||e==null||!p2(t)&&!p2(e)?t!==t&&e!==e:HW(t,e,n,r,UO,s)}var x_=UO,WW=kO,KW=x_,JW=1,YW=2;function XW(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var c=l[0],u=t[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var f=new WW;if(r)var h=r(u,d,c,t,e,f);if(!(h===void 0?KW(d,u,JW|YW,r,f):h))return!1}}return!0}var QW=XW,ZW=la;function eK(t){return t===t&&!ZW(t)}var BO=eK,tK=BO,nK=e0;function rK(t){for(var e=nK(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,tK(s)]}return e}var sK=rK;function iK(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var qO=iK,aK=QW,oK=sK,lK=qO;function cK(t){var e=oK(t);return e.length==1&&e[0][2]?lK(e[0][0],e[0][1]):function(n){return n===t||aK(n,t,e)}}var uK=cK;function dK(t,e){return t!=null&&e in Object(t)}var fK=dK,hK=XM,pK=p_,mK=Xn,gK=m_,xK=g_,yK=Vg;function vK(t,e,n){e=hK(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=yK(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&xK(s)&&gK(o,s)&&(mK(t)||pK(t)))}var bK=vK,wK=fK,_K=bK;function NK(t,e){return t!=null&&_K(t,e,wK)}var SK=NK,EK=x_,TK=QM,AK=SK,kK=Y1,CK=BO,jK=qO,PK=Vg,IK=1,RK=2;function MK(t,e){return kK(t)&&CK(e)?jK(PK(t),e):function(n){var r=TK(n,t);return r===void 0&&r===e?AK(n,t):EK(e,r,IK|RK)}}var OK=MK;function DK(t){return t}var _c=DK;function LK(t){return function(e){return e==null?void 0:e[t]}}var $K=LK,VK=r_;function FK(t){return function(e){return VK(e,t)}}var UK=FK,BK=$K,qK=UK,zK=Y1,GK=Vg;function HK(t){return zK(t)?BK(GK(t)):qK(t)}var WK=HK,KK=uK,JK=OK,YK=_c,XK=Xn,QK=WK;function ZK(t){return typeof t=="function"?t:t==null?YK:typeof t=="object"?XK(t)?JK(t[0],t[1]):KK(t):QK(t)}var Ns=ZK;function eJ(t,e,n,r){for(var s=t.length,i=n+(r?1:-1);r?i--:++i<s;)if(e(t[i],i,t))return i;return-1}var zO=eJ;function tJ(t){return t!==t}var nJ=tJ;function rJ(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}var sJ=rJ,iJ=zO,aJ=nJ,oJ=sJ;function lJ(t,e,n){return e===e?oJ(t,e,n):iJ(t,aJ,n)}var cJ=lJ,uJ=cJ;function dJ(t,e){var n=t==null?0:t.length;return!!n&&uJ(t,e,0)>-1}var fJ=dJ;function hJ(t,e,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(e,t[r]))return!0;return!1}var pJ=hJ;function mJ(){}var gJ=mJ,Zx=VO,xJ=gJ,yJ=h_,vJ=1/0,bJ=Zx&&1/yJ(new Zx([,-0]))[1]==vJ?function(t){return new Zx(t)}:xJ,wJ=bJ,_J=CO,NJ=fJ,SJ=pJ,EJ=PO,TJ=wJ,AJ=h_,kJ=200;function CJ(t,e,n){var r=-1,s=NJ,i=t.length,o=!0,l=[],c=l;if(n)o=!1,s=SJ;else if(i>=kJ){var u=e?null:TJ(t);if(u)return AJ(u);o=!1,s=EJ,c=new _J}else c=e?[]:l;e:for(;++r<i;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;e&&c.push(f),l.push(d)}else s(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var jJ=CJ,PJ=Ns,IJ=jJ;function RJ(t,e){return t&&t.length?IJ(t,PJ(e)):[]}var MJ=RJ;const m2=et(MJ);function GO(t,e,n){return e===!0?m2(t,n):Ee(e)?m2(t,e):t}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}var OJ=["ref"];function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WO(r.key),r)}}function LJ(t,e,n){return e&&x2(t.prototype,e),n&&x2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $J(t,e,n){return e=sm(e),VJ(t,HO()?Reflect.construct(e,n||[],sm(t).constructor):e.apply(t,n))}function VJ(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FJ(t)}function FJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HO=function(){return!!t})()}function sm(t){return sm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sm(t)}function UJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nb(t,e)}function nb(t,e){return nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nb(t,e)}function t0(t,e,n){return e=WO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WO(t){var e=BJ(t,"string");return jl(e)=="symbol"?e:e+""}function BJ(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qJ(t,e){if(t==null)return{};var n=zJ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GJ(t){return t.value}function HJ(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=qJ(e,OJ);return U.createElement(f_,n)}var y2=1,qa=function(t){function e(){var n;DJ(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=$J(this,e,[].concat(s)),t0(n,"lastBoundingBox",{width:-1,height:-1}),n}return UJ(e,t),LJ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>y2||Math.abs(s.height-this.lastBoundingBox.height)>y2)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?As({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();f={left:((u||0)-x.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return As(As({},f),h)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=As(As({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(x){r.wrapperNode=x}},HJ(i,As(As({},this.props),{},{payload:GO(d,u,GJ)})))}}],[{key:"getWithHeight",value:function(r,s){var i=As(As({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&le(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||s}:null}}])}(D.PureComponent);t0(qa,"displayName","Legend");t0(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v2=yf,WJ=p_,KJ=Xn,b2=v2?v2.isConcatSpreadable:void 0;function JJ(t){return KJ(t)||WJ(t)||!!(b2&&t&&t[b2])}var YJ=JJ,XJ=RO,QJ=YJ;function KO(t,e,n,r,s){var i=-1,o=t.length;for(n||(n=QJ),s||(s=[]);++i<o;){var l=t[i];e>0&&n(l)?e>1?KO(l,e-1,n,r,s):XJ(s,l):r||(s[s.length]=l)}return s}var JO=KO;function ZJ(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++s];if(n(i[c],c,i)===!1)break}return e}}var eY=ZJ,tY=eY,nY=tY(),rY=nY,sY=rY,iY=e0;function aY(t,e){return t&&sY(t,e,iY)}var YO=aY,oY=vf;function lY(t,e){return function(n,r){if(n==null)return n;if(!oY(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var cY=lY,uY=YO,dY=cY,fY=dY(uY),y_=fY,hY=y_,pY=vf;function mY(t,e){var n=-1,r=pY(t)?Array(t.length):[];return hY(t,function(s,i,o){r[++n]=e(s,i,o)}),r}var XO=mY;function gY(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var xY=gY,w2=hc;function yY(t,e){if(t!==e){var n=t!==void 0,r=t===null,s=t===t,i=w2(t),o=e!==void 0,l=e===null,c=e===e,u=w2(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!s)return 1;if(!r&&!i&&!u&&t<e||u&&n&&s&&!r&&!i||l&&n&&s||!o&&s||!c)return-1}return 0}var vY=yY,bY=vY;function wY(t,e,n){for(var r=-1,s=t.criteria,i=e.criteria,o=s.length,l=n.length;++r<o;){var c=bY(s[r],i[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return t.index-e.index}var _Y=wY,ey=n_,NY=r_,SY=Ns,EY=XO,TY=xY,AY=DO,kY=_Y,CY=_c,jY=Xn;function PY(t,e,n){e.length?e=ey(e,function(i){return jY(i)?function(o){return NY(o,i.length===1?i[0]:i)}:i}):e=[CY];var r=-1;e=ey(e,AY(SY));var s=EY(t,function(i,o,l){var c=ey(e,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return TY(s,function(i,o){return kY(i,o,n)})}var IY=PY;function RY(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var MY=RY,OY=MY,_2=Math.max;function DY(t,e,n){return e=_2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=_2(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),OY(t,this,l)}}var LY=DY;function $Y(t){return function(){return t}}var VY=$Y,FY=po,UY=function(){try{var t=FY(Object,"defineProperty");return t({},"",{}),t}catch{}}(),QO=UY,BY=VY,N2=QO,qY=_c,zY=N2?function(t,e){return N2(t,"toString",{configurable:!0,enumerable:!1,value:BY(e),writable:!0})}:qY,GY=zY,HY=800,WY=16,KY=Date.now;function JY(t){var e=0,n=0;return function(){var r=KY(),s=WY-(r-n);if(n=r,s>0){if(++e>=HY)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var YY=JY,XY=GY,QY=YY,ZY=QY(XY),eX=ZY,tX=_c,nX=LY,rX=eX;function sX(t,e){return rX(nX(t,e,tX),t+"")}var iX=sX,aX=Q1,oX=vf,lX=m_,cX=la;function uX(t,e,n){if(!cX(n))return!1;var r=typeof e;return(r=="number"?oX(n)&&lX(e,n.length):r=="string"&&e in n)?aX(n[e],t):!1}var n0=uX,dX=JO,fX=IY,hX=iX,S2=n0,pX=hX(function(t,e){if(t==null)return[];var n=e.length;return n>1&&S2(t,e[0],e[1])?e=[]:n>2&&S2(e[0],e[1],e[2])&&(e=[e[0]]),fX(t,dX(e,1),[])}),mX=pX;const v_=et(mX);function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function rb(){return rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rb.apply(this,arguments)}function gX(t,e){return bX(t)||vX(t,e)||yX(t,e)||xX()}function xX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yX(t,e){if(t){if(typeof t=="string")return E2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bX(t){if(Array.isArray(t))return t}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){wX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wX(t,e,n){return e=_X(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _X(t){var e=NX(t,"string");return wd(e)=="symbol"?e:e+""}function NX(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SX(t){return Array.isArray(t)&&qt(t[0])&&qt(t[1])?t.join(" ~ "):t}var EX=function(e){var n=e.separator,r=n===void 0?" : ":n,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,h=e.itemSorter,x=e.wrapperClassName,y=e.labelClassName,b=e.label,v=e.labelFormatter,N=e.accessibilityLayer,_=N===void 0?!1:N,S=function(){if(d&&d.length){var O={padding:0,margin:0},R=(h?v_(d,h):d).map(function(q,F){if(q.type==="none")return null;var $=ty({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},l),B=q.formatter||f||SX,V=q.value,H=q.name,J=V,W=H;if(B&&J!=null&&W!=null){var X=B(V,H,q,F,d);if(Array.isArray(X)){var se=gX(X,2);J=se[0],W=se[1]}else J=X}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:$},qt(W)?U.createElement("span",{className:"recharts-tooltip-item-name"},W):null,qt(W)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},J),U.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},R)}return null},C=ty({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),T=ty({margin:0},u),w=!Ie(b),E=w?b:"",A=Re("recharts-default-tooltip",x),j=Re("recharts-tooltip-label",y);w&&v&&d!==void 0&&d!==null&&(E=v(b,d));var M=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",rb({className:A,style:C},M),U.createElement("p",{className:j,style:T},U.isValidElement(E)?E:"".concat(E)),S())};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function yh(t,e,n){return e=TX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TX(t){var e=AX(t,"string");return _d(e)=="symbol"?e:e+""}function AX(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru="recharts-tooltip-wrapper",kX={visibility:"hidden"};function CX(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Re(ru,yh(yh(yh(yh({},"".concat(ru,"-right"),le(n)&&e&&le(e.x)&&n>=e.x),"".concat(ru,"-left"),le(n)&&e&&le(e.x)&&n<e.x),"".concat(ru,"-bottom"),le(r)&&e&&le(e.y)&&r>=e.y),"".concat(ru,"-top"),le(r)&&e&&le(e.y)&&r<e.y))}function A2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&le(i[r]))return i[r];var d=n[r]-l-s,f=n[r]+s;if(e[r])return o[r]?d:f;if(o[r]){var h=d,x=c[r];return h<x?Math.max(f,c[r]):Math.max(d,c[r])}var y=f+l,b=c[r]+u;return y>b?Math.max(d,c[r]):Math.max(f,c[r])}function jX(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=A2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=A2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=jX({translateX:d,translateY:f,useTranslate3d:l})):u=kX,{cssProperties:u,cssClasses:CX({translateX:d,translateY:f,coordinate:n})}}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function C2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e4(r.key),r)}}function MX(t,e,n){return e&&RX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OX(t,e,n){return e=im(e),DX(t,ZO()?Reflect.construct(e,n||[],im(t).constructor):e.apply(t,n))}function DX(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LX(t)}function LX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZO=function(){return!!t})()}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}function $X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sb(t,e)}function sb(t,e){return sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},sb(t,e)}function ib(t,e,n){return e=e4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e4(t){var e=VX(t,"string");return Pl(e)=="symbol"?e:e+""}function VX(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j2=1,FX=function(t){function e(){var n;IX(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=OX(this,e,[].concat(s)),ib(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ib(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return $X(e,t),MX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>j2||Math.abs(r.height-this.state.lastBoundingBox.height)>j2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,x=s.offset,y=s.position,b=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,_=s.wrapperStyle,S=PX({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:x,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),C=S.cssClasses,T=S.cssProperties,w=C2(C2({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:C,style:w,ref:function(A){r.wrapperNode=A}},u)}}])}(D.PureComponent),UX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mo={isSsr:UX()};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){b_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n4(r.key),r)}}function zX(t,e,n){return e&&qX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GX(t,e,n){return e=am(e),HX(t,t4()?Reflect.construct(e,n||[],am(t).constructor):e.apply(t,n))}function HX(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WX(t)}function WX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t4=function(){return!!t})()}function am(t){return am=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},am(t)}function KX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ab(t,e)}function b_(t,e,n){return e=n4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n4(t){var e=JX(t,"string");return Il(e)=="symbol"?e:e+""}function JX(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YX(t){return t.dataKey}function XX(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(EX,e)}var Un=function(t){function e(){return BX(this,e),GX(this,e,arguments)}return KX(e,t),zX(e,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,x=s.offset,y=s.payload,b=s.payloadUniqBy,v=s.position,N=s.reverseDirection,_=s.useTranslate3d,S=s.viewBox,C=s.wrapperStyle,T=y??[];f&&T.length&&(T=GO(y.filter(function(E){return E.value!=null&&(E.hide!==!0||r.props.includeHidden)}),b,YX));var w=T.length>0;return U.createElement(FX,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:w,offset:x,position:v,reverseDirection:N,useTranslate3d:_,viewBox:S,wrapperStyle:C},XX(u,I2(I2({},this.props),{},{payload:T})))}}])}(D.PureComponent);b_(Un,"displayName","Tooltip");b_(Un,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var QX=_s,ZX=function(){return QX.Date.now()},eQ=ZX,tQ=/\s/;function nQ(t){for(var e=t.length;e--&&tQ.test(t.charAt(e)););return e}var rQ=nQ,sQ=rQ,iQ=/^\s+/;function aQ(t){return t&&t.slice(0,sQ(t)+1).replace(iQ,"")}var oQ=aQ,lQ=oQ,R2=la,cQ=hc,M2=NaN,uQ=/^[-+]0x[0-9a-f]+$/i,dQ=/^0b[01]+$/i,fQ=/^0o[0-7]+$/i,hQ=parseInt;function pQ(t){if(typeof t=="number")return t;if(cQ(t))return M2;if(R2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=R2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=lQ(t);var n=dQ.test(t);return n||fQ.test(t)?hQ(t.slice(2),n?2:8):uQ.test(t)?M2:+t}var r4=pQ,mQ=la,ny=eQ,O2=r4,gQ="Expected a function",xQ=Math.max,yQ=Math.min;function vQ(t,e,n){var r,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(gQ);e=O2(e)||0,mQ(n)&&(d=!!n.leading,f="maxWait"in n,i=f?xQ(O2(n.maxWait)||0,e):i,h="trailing"in n?!!n.trailing:h);function x(w){var E=r,A=s;return r=s=void 0,u=w,o=t.apply(A,E),o}function y(w){return u=w,l=setTimeout(N,e),d?x(w):o}function b(w){var E=w-c,A=w-u,j=e-E;return f?yQ(j,i-A):j}function v(w){var E=w-c,A=w-u;return c===void 0||E>=e||E<0||f&&A>=i}function N(){var w=ny();if(v(w))return _(w);l=setTimeout(N,b(w))}function _(w){return l=void 0,h&&r?x(w):(r=s=void 0,o)}function S(){l!==void 0&&clearTimeout(l),u=0,r=c=s=l=void 0}function C(){return l===void 0?o:_(ny())}function T(){var w=ny(),E=v(w);if(r=arguments,s=this,c=w,E){if(l===void 0)return y(c);if(f)return clearTimeout(l),l=setTimeout(N,e),x(c)}return l===void 0&&(l=setTimeout(N,e)),o}return T.cancel=S,T.flush=C,T}var bQ=vQ,wQ=bQ,_Q=la,NQ="Expected a function";function SQ(t,e,n){var r=!0,s=!0;if(typeof t!="function")throw new TypeError(NQ);return _Q(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),wQ(t,e,{leading:r,maxWait:e,trailing:s})}var EQ=SQ;const s4=et(EQ);function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){TQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TQ(t,e,n){return e=AQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AQ(t){var e=kQ(t,"string");return Nd(e)=="symbol"?e:e+""}function kQ(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CQ(t,e){return RQ(t)||IQ(t,e)||PQ(t,e)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PQ(t,e){if(t){if(typeof t=="string")return L2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L2(t,e)}}function L2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function RQ(t){if(Array.isArray(t))return t}var $u=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,x=t.children,y=t.debounce,b=y===void 0?0:y,v=t.id,N=t.className,_=t.onResize,S=t.style,C=S===void 0?{}:S,T=D.useRef(null),w=D.useRef();w.current=_,D.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var E=D.useState({containerWidth:s.width,containerHeight:s.height}),A=CQ(E,2),j=A[0],M=A[1],P=D.useCallback(function(R,q){M(function(F){var $=Math.round(R),B=Math.round(q);return F.containerWidth===$&&F.containerHeight===B?F:{containerWidth:$,containerHeight:B}})},[]);D.useEffect(function(){var R=function(H){var J,W=H[0].contentRect,X=W.width,se=W.height;P(X,se),(J=w.current)===null||J===void 0||J.call(w,X,se)};b>0&&(R=s4(R,b,{trailing:!0,leading:!1}));var q=new ResizeObserver(R),F=T.current.getBoundingClientRect(),$=F.width,B=F.height;return P($,B),q.observe(T.current),function(){q.disconnect()}},[P,b]);var O=D.useMemo(function(){var R=j.containerWidth,q=j.containerHeight;if(R<0||q<0)return null;Br(Oa(o)||Oa(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Br(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Oa(o)?R:o,$=Oa(c)?q:c;n&&n>0&&(F?$=F/n:$&&(F=$*n),h&&$>h&&($=h)),Br(F>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,$,o,c,d,f,n);var B=!Array.isArray(x)&&Us(x.type).endsWith("Chart");return U.Children.map(x,function(V){return U.isValidElement(V)?D.cloneElement(V,vh({width:F,height:$},B?{style:vh({height:"100%",width:"100%",maxHeight:$,maxWidth:F},V.props.style)}:{})):V})},[n,x,c,h,f,d,j,o]);return U.createElement("div",{id:v?"".concat(v):void 0,className:Re("recharts-responsive-container",N),style:vh(vh({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:T},O)}),r0=function(e){return null};r0.displayName="Cell";function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){MQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MQ(t,e,n){return e=OQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OQ(t){var e=DQ(t,"string");return Sd(e)=="symbol"?e:e+""}function DQ(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ko={widthCache:{},cacheCount:0},LQ=2e3,$Q={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},V2="recharts_measurement_span";function VQ(t){var e=ob({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Vu=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mo.isSsr)return{width:0,height:0};var r=VQ(n),s=JSON.stringify({text:e,copyStyle:r});if(ko.widthCache[s])return ko.widthCache[s];try{var i=document.getElementById(V2);i||(i=document.createElement("span"),i.setAttribute("id",V2),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=ob(ob({},$Q),r);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ko.widthCache[s]=c,++ko.cacheCount>LQ&&(ko.cacheCount=0,ko.widthCache={}),c}catch{return{width:0,height:0}}},FQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function om(t,e){return zQ(t)||qQ(t,e)||BQ(t,e)||UQ()}function UQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BQ(t,e){if(t){if(typeof t=="string")return F2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F2(t,e)}}function F2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zQ(t){if(Array.isArray(t))return t}function GQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WQ(r.key),r)}}function HQ(t,e,n){return e&&U2(t.prototype,e),n&&U2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WQ(t){var e=KQ(t,"string");return Ed(e)=="symbol"?e:e+""}function KQ(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XQ=Object.keys(i4),Wo="NaN";function QQ(t,e){return t*i4[e]}var bh=function(){function t(e,n){GQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!JQ.test(n)&&(this.num=NaN,this.unit=""),XQ.includes(n)&&(this.num=QQ(e,n),this.unit="px")}return HQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=YQ.exec(n))!==null&&r!==void 0?r:[],i=om(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function a4(t){if(t.includes(Wo))return Wo;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=B2.exec(e))!==null&&n!==void 0?n:[],s=om(r,4),i=s[1],o=s[2],l=s[3],c=bh.parse(i??""),u=bh.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Wo;e=e.replace(B2,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=q2.exec(e))!==null&&f!==void 0?f:[],x=om(h,4),y=x[1],b=x[2],v=x[3],N=bh.parse(y??""),_=bh.parse(v??""),S=b==="+"?N.add(_):N.subtract(_);if(S.isNaN())return Wo;e=e.replace(q2,S.toString())}return e}var z2=/\(([^()]*)\)/;function ZQ(t){for(var e=t;e.includes("(");){var n=z2.exec(e),r=om(n,2),s=r[1];e=e.replace(z2,a4(s))}return e}function eZ(t){var e=t.replace(/\s+/g,"");return e=ZQ(e),e=a4(e),e}function tZ(t){try{return eZ(t)}catch{return Wo}}function ry(t){var e=tZ(t.slice(5,-1));return e===Wo?"":e}var nZ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rZ=["dx","dy","angle","className","breakAll"];function lb(){return lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lb.apply(this,arguments)}function G2(t,e){if(t==null)return{};var n=sZ(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sZ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H2(t,e){return lZ(t)||oZ(t,e)||aZ(t,e)||iZ()}function iZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aZ(t,e){if(t){if(typeof t=="string")return W2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W2(t,e)}}function W2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lZ(t){if(Array.isArray(t))return t}var o4=/[ \f\n\r\t\v\u2028\u2029]+/,l4=function(e){var n=e.children,r=e.breakAll,s=e.style;try{var i=[];Ie(n)||(r?i=n.toString().split(""):i=n.toString().split(o4));var o=i.map(function(c){return{word:c,width:Vu(c,s).width}}),l=r?0:Vu("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},cZ=function(e,n,r,s,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=le(o),f=l,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function($,B){var V=B.word,H=B.width,J=$[$.length-1];if(J&&(s==null||i||J.width+H+r<Number(s)))J.words.push(V),J.width+=H+r;else{var W={words:[V],width:H};$.push(W)}return $},[])},x=h(n),y=function(F){return F.reduce(function($,B){return $.width>B.width?$:B})};if(!d)return x;for(var b="",v=function(F){var $=f.slice(0,F),B=l4({breakAll:u,style:c,children:$+b}).wordsWithComputedWidth,V=h(B),H=V.length>o||y(V).width>Number(s);return[H,V]},N=0,_=f.length-1,S=0,C;N<=_&&S<=f.length-1;){var T=Math.floor((N+_)/2),w=T-1,E=v(w),A=H2(E,2),j=A[0],M=A[1],P=v(T),O=H2(P,1),R=O[0];if(!j&&!R&&(N=T+1),j&&R&&(_=T-1),!j&&R){C=M;break}S++}return C||x},K2=function(e){var n=Ie(e)?[]:e.toString().split(o4);return[{words:n}]},uZ=function(e){var n=e.width,r=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((n||r)&&!mo.isSsr){var c,u,d=l4({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return K2(s);return cZ({breakAll:o,children:s,maxLines:l,style:i},c,u,n,r)}return K2(s)},J2="#808080",to=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,x=h===void 0?"start":h,y=e.verticalAnchor,b=y===void 0?"end":y,v=e.fill,N=v===void 0?J2:v,_=G2(e,nZ),S=D.useMemo(function(){return uZ({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),C=_.dx,T=_.dy,w=_.angle,E=_.className,A=_.breakAll,j=G2(_,rZ);if(!qt(r)||!qt(i))return null;var M=r+(le(C)?C:0),P=i+(le(T)?T:0),O;switch(b){case"start":O=ry("calc(".concat(u,")"));break;case"middle":O=ry("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=ry("calc(".concat(S.length-1," * -").concat(l,")"));break}var R=[];if(f){var q=S[0].width,F=_.width;R.push("scale(".concat((le(F)?F/q:1)/q,")"))}return w&&R.push("rotate(".concat(w,", ").concat(M,", ").concat(P,")")),R.length&&(j.transform=R.join(" ")),U.createElement("text",lb({},_e(j,!0),{x:M,y:P,className:Re("recharts-text",E),textAnchor:x,fill:N.includes("url")?J2:N}),S.map(function($,B){var V=$.words.join(A?"":" ");return U.createElement("tspan",{x:M,dy:B===0?O:l,key:"".concat(V,"-").concat(B)},V)}))};function Gi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dZ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function w_(t){let e,n,r;t.length!==2?(e=Gi,n=(l,c)=>Gi(t(l),c),r=(l,c)=>t(l)-c):(e=t===Gi||t===dZ?t:fZ,n=t,r=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function fZ(){return 0}function c4(t){return t===null?NaN:+t}function*hZ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pZ=w_(Gi),bf=pZ.right;w_(c4).center;class Y2 extends Map{constructor(e,n=xZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,s]of e)this.set(r,s)}get(e){return super.get(X2(this,e))}has(e){return super.has(X2(this,e))}set(e,n){return super.set(mZ(this,e),n)}delete(e){return super.delete(gZ(this,e))}}function X2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function mZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function gZ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xZ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function yZ(t=Gi){if(t===Gi)return u4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function u4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vZ=Math.sqrt(50),bZ=Math.sqrt(10),wZ=Math.sqrt(2);function lm(t,e,n){const r=(e-t)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=vZ?10:i>=bZ?5:i>=wZ?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?lm(t,e,n*2):[l,c,u]}function cb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[s,i,o]=r?lm(e,t,n):lm(t,e,n);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function ub(t,e,n){return e=+e,t=+t,n=+n,lm(t,e,n)[2]}function db(t,e,n){e=+e,t=+t,n=+n;const r=e<t,s=r?ub(e,t,n):ub(t,e,n);return(r?-1:1)*(s<0?1/-s:s)}function Q2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Z2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function d4(t,e,n=0,r=1/0,s){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(s=s===void 0?u4:yZ(s);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(e-u*f/c+h)),y=Math.min(r,Math.floor(e+(c-u)*f/c+h));d4(t,e,x,y,s)}const i=t[e];let o=n,l=r;for(su(t,n,e),s(t[r],i)>0&&su(t,n,r);o<l;){for(su(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[n],i)===0?su(t,n,l):(++l,su(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function su(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Z(t,e,n){if(t=Float64Array.from(hZ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Z2(t);if(e>=1)return Q2(t);var r,s=(r-1)*e,i=Math.floor(s),o=Q2(d4(t,i).subarray(0,i+1)),l=Z2(t.subarray(i+1));return o+(l-o)*(s-i)}}function NZ(t,e,n=c4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,s=(r-1)*e,i=Math.floor(s),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function SZ(t,e,n){t=+t,e=+e,n=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(s);++r<s;)i[r]=t+r*n;return i}function Cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function li(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fb=Symbol("implicit");function __(){var t=new Y2,e=[],n=[],r=fb;function s(i){let o=t.get(i);if(o===void 0){if(r!==fb)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Y2;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return __(e,n).unknown(r)},Cr.apply(s,arguments),s}function Td(){var t=__().unknown(void 0),e=t.domain,n=t.range,r=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,x=s<r,y=x?s:r,b=x?r:s;i=(b-y)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),y+=(b-y-i*(h-c))*d,o=i*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=SZ(h).map(function(N){return y+i*N});return n(x?v.reverse():v)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,s]=h,r=+r,s=+s,f()):[r,s]},t.rangeRound=function(h){return[r,s]=h,r=+r,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,f()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Td(e(),[r,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Cr.apply(f(),arguments)}function f4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return f4(e())},t}function Fu(){return f4(Td.apply(null,arguments).paddingInner(1))}function N_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function h4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wf(){}var Ad=.7,cm=1/Ad,cl="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EZ=/^#([0-9a-f]{3,8})$/,TZ=new RegExp(`^rgb\\(${cl},${cl},${cl}\\)$`),AZ=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),kZ=new RegExp(`^rgba\\(${cl},${cl},${cl},${kd}\\)$`),CZ=new RegExp(`^rgba\\(${cs},${cs},${cs},${kd}\\)$`),jZ=new RegExp(`^hsl\\(${kd},${cs},${cs}\\)$`),PZ=new RegExp(`^hsla\\(${kd},${cs},${cs},${kd}\\)$`),eA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N_(wf,Cd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tA,formatHex:tA,formatHex8:IZ,formatHsl:RZ,formatRgb:nA,toString:nA});function tA(){return this.rgb().formatHex()}function IZ(){return this.rgb().formatHex8()}function RZ(){return p4(this).formatHsl()}function nA(){return this.rgb().formatRgb()}function Cd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=EZ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rA(e):n===3?new Hn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?wh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?wh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=TZ.exec(t))?new Hn(e[1],e[2],e[3],1):(e=AZ.exec(t))?new Hn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kZ.exec(t))?wh(e[1],e[2],e[3],e[4]):(e=CZ.exec(t))?wh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jZ.exec(t))?aA(e[1],e[2]/100,e[3]/100,1):(e=PZ.exec(t))?aA(e[1],e[2]/100,e[3]/100,e[4]):eA.hasOwnProperty(t)?rA(eA[t]):t==="transparent"?new Hn(NaN,NaN,NaN,0):null}function rA(t){return new Hn(t>>16&255,t>>8&255,t&255,1)}function wh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Hn(t,e,n,r)}function MZ(t){return t instanceof wf||(t=Cd(t)),t?(t=t.rgb(),new Hn(t.r,t.g,t.b,t.opacity)):new Hn}function hb(t,e,n,r){return arguments.length===1?MZ(t):new Hn(t,e,n,r??1)}function Hn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}N_(Hn,hb,h4(wf,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ad:Math.pow(Ad,t),new Hn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Hn(za(this.r),za(this.g),za(this.b),um(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sA,formatHex:sA,formatHex8:OZ,formatRgb:iA,toString:iA}));function sA(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}`}function OZ(){return`#${Da(this.r)}${Da(this.g)}${Da(this.b)}${Da((isNaN(this.opacity)?1:this.opacity)*255)}`}function iA(){const t=um(this.opacity);return`${t===1?"rgb(":"rgba("}${za(this.r)}, ${za(this.g)}, ${za(this.b)}${t===1?")":`, ${t})`}`}function um(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function za(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Da(t){return t=za(t),(t<16?"0":"")+t.toString(16)}function aA(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vr(t,e,n,r)}function p4(t){if(t instanceof Vr)return new Vr(t.h,t.s,t.l,t.opacity);if(t instanceof wf||(t=Cd(t)),!t)return new Vr;if(t instanceof Vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,s=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Vr(o,l,c,t.opacity)}function DZ(t,e,n,r){return arguments.length===1?p4(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}N_(Vr,DZ,h4(wf,{brighter(t){return t=t==null?cm:Math.pow(cm,t),new Vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ad:Math.pow(Ad,t),new Vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,s=2*n-r;return new Hn(sy(t>=240?t-240:t+120,s,r),sy(t,s,r),sy(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Vr(oA(this.h),_h(this.s),_h(this.l),um(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=um(this.opacity);return`${t===1?"hsl(":"hsla("}${oA(this.h)}, ${_h(this.s)*100}%, ${_h(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oA(t){return t=(t||0)%360,t<0?t+360:t}function _h(t){return Math.max(0,Math.min(1,t||0))}function sy(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const S_=t=>()=>t;function LZ(t,e){return function(n){return t+n*e}}function $Z(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function VZ(t){return(t=+t)==1?m4:function(e,n){return n-e?$Z(e,n,t):S_(isNaN(e)?n:e)}}function m4(t,e){var n=e-t;return n?LZ(t,n):S_(isNaN(t)?e:t)}const lA=function t(e){var n=VZ(e);function r(s,i){var o=n((s=hb(s)).r,(i=hb(i)).r),l=n(s.g,i.g),c=n(s.b,i.b),u=m4(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return r.gamma=t,r}(1);function FZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=t[s]*(1-i)+e[s]*i;return r}}function UZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function BZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Nc(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(l){for(o=0;o<r;++o)i[o]=s[o](l);return i}}function qZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function dm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zZ(t,e){var n={},r={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?n[s]=Nc(t[s],e[s]):r[s]=e[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var pb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iy=new RegExp(pb.source,"g");function GZ(t){return function(){return t}}function HZ(t){return function(e){return t(e)+""}}function WZ(t,e){var n=pb.lastIndex=iy.lastIndex=0,r,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=pb.exec(t))&&(s=iy.exec(e));)(i=s.index)>n&&(i=e.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:dm(r,s)})),n=iy.lastIndex;return n<e.length&&(i=e.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?HZ(c[0].x):GZ(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Nc(t,e){var n=typeof e,r;return e==null||n==="boolean"?S_(e):(n==="number"?dm:n==="string"?(r=Cd(e))?(e=r,lA):WZ:e instanceof Cd?lA:e instanceof Date?qZ:UZ(e)?FZ:Array.isArray(e)?BZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zZ:dm)(t,e)}function E_(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function KZ(t,e){e===void 0&&(e=t,t=Nc);for(var n=0,r=e.length-1,s=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(s,s=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[l](o-l)}}function JZ(t){return function(){return t}}function fm(t){return+t}var cA=[0,1];function Mn(t){return t}function mb(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JZ(isNaN(e)?NaN:.5)}function YZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function XZ(t,e,n){var r=t[0],s=t[1],i=e[0],o=e[1];return s<r?(r=mb(s,r),i=n(o,i)):(r=mb(r,s),i=n(i,o)),function(l){return i(r(l))}}function QZ(t,e,n){var r=Math.min(t.length,e.length)-1,s=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)s[o]=mb(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(l){var c=bf(t,l,1,r)-1;return i[c](s[c](l))}}function _f(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function s0(){var t=cA,e=cA,n=Nc,r,s,i,o=Mn,l,c,u;function d(){var h=Math.min(t.length,e.length);return o!==Mn&&(o=YZ(t[0],t[h-1])),l=h>2?QZ:XZ,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(s((u||(u=l(e,t.map(r),dm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,fm),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=E_,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Mn,d()):o!==Mn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,x){return r=h,s=x,d()}}function T_(){return s0()(Mn,Mn)}function ZZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rl(t){return t=hm(Math.abs(t)),t?t[1]:NaN}function eee(t,e){return function(n,r){for(var s=n.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),i.push(n.substring(s-=l,s+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function tee(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var nee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function jd(t){if(!(e=nee.exec(t)))throw new Error("invalid format: "+t);var e;return new A_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}jd.prototype=A_.prototype;function A_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}A_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ree(t){e:for(var e=t.length,n=1,r=-1,s;n<e;++n)switch(t[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(s+1):t}var pm;function see(t,e){var n=hm(t,e);if(!n)return pm=void 0,t.toPrecision(e);var r=n[0],s=n[1],i=s-(pm=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hm(t,Math.max(0,e+i-1))[0]}function uA(t,e){var n=hm(t,e);if(!n)return t+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const dA={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ZZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uA(t*100,e),r:uA,s:see,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function fA(t){return t}var hA=Array.prototype.map,pA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function iee(t){var e=t.grouping===void 0||t.thousands===void 0?fA:eee(hA.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?fA:tee(hA.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=jd(f);var x=f.fill,y=f.align,b=f.sign,v=f.symbol,N=f.zero,_=f.width,S=f.comma,C=f.precision,T=f.trim,w=f.type;w==="n"?(S=!0,w="g"):dA[w]||(C===void 0&&(C=12),T=!0,w="g"),(N||x==="0"&&y==="=")&&(N=!0,x="0",y="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():""),A=(v==="$"?r:/[%p]/.test(w)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),j=dA[w],M=/[defgprs%]/.test(w);C=C===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(O){var R=E,q=A,F,$,B;if(w==="c")q=j(O)+q,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:j(Math.abs(O),C),T&&(O=ree(O)),V&&+O==0&&b!=="+"&&(V=!1),R=(V?b==="("?b:l:b==="-"||b==="("?"":b)+R,q=(w==="s"&&!isNaN(O)&&pm!==void 0?pA[8+pm/3]:"")+q+(V&&b==="("?")":""),M){for(F=-1,$=O.length;++F<$;)if(B=O.charCodeAt(F),48>B||B>57){q=(B===46?s+O.slice(F+1):O.slice(F))+q,O=O.slice(0,F);break}}}S&&!N&&(O=e(O,1/0));var H=R.length+O.length+q.length,J=H<_?new Array(_-H+1).join(x):"";switch(S&&N&&(O=e(J+O,J.length?_-q.length:1/0),J=""),y){case"<":O=R+O+q+J;break;case"=":O=R+J+O+q;break;case"^":O=J.slice(0,H=J.length>>1)+R+O+q+J.slice(H);break;default:O=J+R+O+q;break}return i(O)}return P.toString=function(){return f+""},P}function d(f,h){var x=Math.max(-8,Math.min(8,Math.floor(Rl(h)/3)))*3,y=Math.pow(10,-x),b=u((f=jd(f),f.type="f",f),{suffix:pA[8+x/3]});return function(v){return b(y*v)}}return{format:u,formatPrefix:d}}var Nh,k_,g4;aee({thousands:",",grouping:[3],currency:["$",""]});function aee(t){return Nh=iee(t),k_=Nh.format,g4=Nh.formatPrefix,Nh}function oee(t){return Math.max(0,-Rl(Math.abs(t)))}function lee(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rl(e)/3)))*3-Rl(Math.abs(t)))}function cee(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rl(e)-Rl(t))+1}function x4(t,e,n,r){var s=db(t,e,n),i;switch(r=jd(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=lee(s,o))&&(r.precision=i),g4(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=cee(s,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=oee(s))&&(r.precision=i-(r.type==="%")*2);break}}return k_(r)}function ca(t){var e=t.domain;return t.ticks=function(n){var r=e();return cb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var s=e();return x4(s[0],s[s.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),s=0,i=r.length-1,o=r[s],l=r[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=ub(o,l,n),u===c)return r[s]=o,r[i]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function mm(){var t=T_();return t.copy=function(){return _f(t,mm())},Cr.apply(t,arguments),ca(t)}function y4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return y4(t).unknown(e)},t=arguments.length?Array.from(t,fm):[0,1],ca(n)}function v4(t,e){t=t.slice();var n=0,r=t.length-1,s=t[n],i=t[r],o;return i<s&&(o=n,n=r,r=o,o=s,s=i,i=o),t[n]=e.floor(s),t[r]=e.ceil(i),t}function mA(t){return Math.log(t)}function gA(t){return Math.exp(t)}function uee(t){return-Math.log(-t)}function dee(t){return-Math.exp(-t)}function fee(t){return isFinite(t)?+("1e"+t):t<0?0:t}function hee(t){return t===10?fee:t===Math.E?Math.exp:e=>Math.pow(t,e)}function pee(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function xA(t){return(e,n)=>-t(-e,n)}function C_(t){const e=t(mA,gA),n=e.domain;let r=10,s,i;function o(){return s=pee(r),i=hee(r),n()[0]<0?(s=xA(s),i=xA(i),t(uee,dee)):t(mA,gA),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),x=s(d),y,b;const v=l==null?10:+l;let N=[];if(!(r%1)&&x-h<v){if(h=Math.floor(h),x=Math.ceil(x),u>0){for(;h<=x;++h)for(y=1;y<r;++y)if(b=h<0?y/i(-h):y*i(h),!(b<u)){if(b>d)break;N.push(b)}}else for(;h<=x;++h)for(y=r-1;y>=1;--y)if(b=h>0?y/i(-h):y*i(h),!(b<u)){if(b>d)break;N.push(b)}N.length*2<v&&(N=cb(u,d,v))}else N=cb(h,x,Math.min(x-h,v)).map(i);return f?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=jd(c)).precision==null&&(c.trim=!0),c=k_(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},e.nice=()=>n(v4(n(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function b4(){const t=C_(s0()).domain([1,10]);return t.copy=()=>_f(t,b4()).base(t.base()),Cr.apply(t,arguments),t}function yA(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function vA(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function j_(t){var e=1,n=t(yA(e),vA(e));return n.constant=function(r){return arguments.length?t(yA(e=+r),vA(e)):e},ca(n)}function w4(){var t=j_(s0());return t.copy=function(){return _f(t,w4()).constant(t.constant())},Cr.apply(t,arguments)}function bA(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mee(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function gee(t){return t<0?-t*t:t*t}function P_(t){var e=t(Mn,Mn),n=1;function r(){return n===1?t(Mn,Mn):n===.5?t(mee,gee):t(bA(n),bA(1/n))}return e.exponent=function(s){return arguments.length?(n=+s,r()):n},ca(e)}function I_(){var t=P_(s0());return t.copy=function(){return _f(t,I_()).exponent(t.exponent())},Cr.apply(t,arguments),t}function xee(){return I_.apply(null,arguments).exponent(.5)}function wA(t){return Math.sign(t)*t*t}function yee(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _4(){var t=T_(),e=[0,1],n=!1,r;function s(i){var o=yee(t(i));return isNaN(o)?r:n?Math.round(o):o}return s.invert=function(i){return t.invert(wA(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,fm)).map(wA)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return _4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cr.apply(s,arguments),ca(s)}function N4(){var t=[],e=[],n=[],r;function s(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=NZ(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?r:e[bf(n,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Gi),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return N4().domain(t).range(e).unknown(r)},Cr.apply(i,arguments)}function S4(){var t=0,e=1,n=1,r=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[bf(r,c,0,n)]:i}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return S4().domain([t,e]).range(s).unknown(i)},Cr.apply(ca(o),arguments)}function E4(){var t=[.5],e=[0,1],n,r=1;function s(i){return i!=null&&i<=i?e[bf(t,i,0,r)]:n}return s.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return E4().domain(t).range(e).unknown(n)},Cr.apply(s,arguments)}const ay=new Date,oy=new Date;function Gt(t,e,n,r){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},s.filter=i=>Gt(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),n&&(s.count=(i,o)=>(ay.setTime(+i),oy.setTime(+o),t(ay),t(oy),Math.floor(n(ay,oy))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?o=>r(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const gm=Gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);gm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):gm);gm.range;const Ms=1e3,vr=Ms*60,Os=vr*60,Ys=Os*24,R_=Ys*7,_A=Ys*30,ly=Ys*365,La=Gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCSeconds());La.range;const M_=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getMinutes());M_.range;const O_=Gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*vr)},(t,e)=>(e-t)/vr,t=>t.getUTCMinutes());O_.range;const D_=Gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ms-t.getMinutes()*vr)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getHours());D_.range;const L_=Gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Os)},(t,e)=>(e-t)/Os,t=>t.getUTCHours());L_.range;const Nf=Gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vr)/Ys,t=>t.getDate()-1);Nf.range;const i0=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>t.getUTCDate()-1);i0.range;const T4=Gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ys,t=>Math.floor(t/Ys));T4.range;function go(t){return Gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*vr)/R_)}const a0=go(0),xm=go(1),vee=go(2),bee=go(3),Ml=go(4),wee=go(5),_ee=go(6);a0.range;xm.range;vee.range;bee.range;Ml.range;wee.range;_ee.range;function xo(t){return Gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/R_)}const o0=xo(0),ym=xo(1),Nee=xo(2),See=xo(3),Ol=xo(4),Eee=xo(5),Tee=xo(6);o0.range;ym.range;Nee.range;See.range;Ol.range;Eee.range;Tee.range;const $_=Gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$_.range;const V_=Gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());V_.range;const Xs=Gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xs.range;const Qs=Gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Qs.range;function A4(t,e,n,r,s,i){const o=[[La,1,Ms],[La,5,5*Ms],[La,15,15*Ms],[La,30,30*Ms],[i,1,vr],[i,5,5*vr],[i,15,15*vr],[i,30,30*vr],[s,1,Os],[s,3,3*Os],[s,6,6*Os],[s,12,12*Os],[r,1,Ys],[r,2,2*Ys],[n,1,R_],[e,1,_A],[e,3,3*_A],[t,1,ly]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const x=f&&typeof f.range=="function"?f:c(u,d,f),y=x?x.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,x=w_(([,,v])=>v).right(o,h);if(x===o.length)return t.every(db(u/ly,d/ly,f));if(x===0)return gm.every(Math.max(db(u,d,f),1));const[y,b]=o[h/o[x-1][2]<o[x][2]/h?x-1:x];return y.every(b)}return[l,c]}const[Aee,kee]=A4(Qs,V_,o0,T4,L_,O_),[Cee,jee]=A4(Xs,$_,a0,Nf,D_,M_);function cy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function iu(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Pee(t){var e=t.dateTime,n=t.date,r=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=au(s),d=ou(s),f=au(i),h=ou(i),x=au(o),y=ou(o),b=au(l),v=ou(l),N=au(c),_=ou(c),S={a:B,A:V,b:H,B:J,c:null,d:kA,e:kA,f:ete,g:ute,G:fte,H:Xee,I:Qee,j:Zee,L:k4,m:tte,M:nte,p:W,q:X,Q:PA,s:IA,S:rte,u:ste,U:ite,V:ate,w:ote,W:lte,x:null,X:null,y:cte,Y:dte,Z:hte,"%":jA},C={a:se,A:be,b:z,B:Q,c:null,d:CA,e:CA,f:xte,g:Ate,G:Cte,H:pte,I:mte,j:gte,L:j4,m:yte,M:vte,p:ee,q:ue,Q:PA,s:IA,S:bte,u:wte,U:_te,V:Nte,w:Ste,W:Ete,x:null,X:null,y:Tte,Y:kte,Z:jte,"%":jA},T={a:M,A:P,b:O,B:R,c:q,d:TA,e:TA,f:Wee,g:EA,G:SA,H:AA,I:AA,j:qee,L:Hee,m:Bee,M:zee,p:j,q:Uee,Q:Jee,s:Yee,S:Gee,u:Dee,U:Lee,V:$ee,w:Oee,W:Vee,x:F,X:$,y:EA,Y:SA,Z:Fee,"%":Kee};S.x=w(n,S),S.X=w(r,S),S.c=w(e,S),C.x=w(n,C),C.X=w(r,C),C.c=w(e,C);function w(G,oe){return function(de){var ie=[],Oe=-1,Y=0,fe=G.length,Te,Ge,en;for(de instanceof Date||(de=new Date(+de));++Oe<fe;)G.charCodeAt(Oe)===37&&(ie.push(G.slice(Y,Oe)),(Ge=NA[Te=G.charAt(++Oe)])!=null?Te=G.charAt(++Oe):Ge=Te==="e"?" ":"0",(en=oe[Te])&&(Te=en(de,Ge)),ie.push(Te),Y=Oe+1);return ie.push(G.slice(Y,Oe)),ie.join("")}}function E(G,oe){return function(de){var ie=iu(1900,void 0,1),Oe=A(ie,G,de+="",0),Y,fe;if(Oe!=de.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(oe&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Y=uy(iu(ie.y,0,1)),fe=Y.getUTCDay(),Y=fe>4||fe===0?ym.ceil(Y):ym(Y),Y=i0.offset(Y,(ie.V-1)*7),ie.y=Y.getUTCFullYear(),ie.m=Y.getUTCMonth(),ie.d=Y.getUTCDate()+(ie.w+6)%7):(Y=cy(iu(ie.y,0,1)),fe=Y.getDay(),Y=fe>4||fe===0?xm.ceil(Y):xm(Y),Y=Nf.offset(Y,(ie.V-1)*7),ie.y=Y.getFullYear(),ie.m=Y.getMonth(),ie.d=Y.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),fe="Z"in ie?uy(iu(ie.y,0,1)).getUTCDay():cy(iu(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(fe+5)%7:ie.w+ie.U*7-(fe+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,uy(ie)):cy(ie)}}function A(G,oe,de,ie){for(var Oe=0,Y=oe.length,fe=de.length,Te,Ge;Oe<Y;){if(ie>=fe)return-1;if(Te=oe.charCodeAt(Oe++),Te===37){if(Te=oe.charAt(Oe++),Ge=T[Te in NA?oe.charAt(Oe++):Te],!Ge||(ie=Ge(G,de,ie))<0)return-1}else if(Te!=de.charCodeAt(ie++))return-1}return ie}function j(G,oe,de){var ie=u.exec(oe.slice(de));return ie?(G.p=d.get(ie[0].toLowerCase()),de+ie[0].length):-1}function M(G,oe,de){var ie=x.exec(oe.slice(de));return ie?(G.w=y.get(ie[0].toLowerCase()),de+ie[0].length):-1}function P(G,oe,de){var ie=f.exec(oe.slice(de));return ie?(G.w=h.get(ie[0].toLowerCase()),de+ie[0].length):-1}function O(G,oe,de){var ie=N.exec(oe.slice(de));return ie?(G.m=_.get(ie[0].toLowerCase()),de+ie[0].length):-1}function R(G,oe,de){var ie=b.exec(oe.slice(de));return ie?(G.m=v.get(ie[0].toLowerCase()),de+ie[0].length):-1}function q(G,oe,de){return A(G,e,oe,de)}function F(G,oe,de){return A(G,n,oe,de)}function $(G,oe,de){return A(G,r,oe,de)}function B(G){return o[G.getDay()]}function V(G){return i[G.getDay()]}function H(G){return c[G.getMonth()]}function J(G){return l[G.getMonth()]}function W(G){return s[+(G.getHours()>=12)]}function X(G){return 1+~~(G.getMonth()/3)}function se(G){return o[G.getUTCDay()]}function be(G){return i[G.getUTCDay()]}function z(G){return c[G.getUTCMonth()]}function Q(G){return l[G.getUTCMonth()]}function ee(G){return s[+(G.getUTCHours()>=12)]}function ue(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var oe=w(G+="",S);return oe.toString=function(){return G},oe},parse:function(G){var oe=E(G+="",!1);return oe.toString=function(){return G},oe},utcFormat:function(G){var oe=w(G+="",C);return oe.toString=function(){return G},oe},utcParse:function(G){var oe=E(G+="",!0);return oe.toString=function(){return G},oe}}}var NA={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,Iee=/^%/,Ree=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",s=(r?-t:t)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(e)+s:s)}function Mee(t){return t.replace(Ree,"\\$&")}function au(t){return new RegExp("^(?:"+t.map(Mee).join("|")+")","i")}function ou(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Oee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Lee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $ee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function SA(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function EA(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Uee(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function TA(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function qee(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function AA(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Gee(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Hee(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wee(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kee(t,e,n){var r=Iee.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Jee(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Yee(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function kA(t,e){return Ke(t.getDate(),e,2)}function Xee(t,e){return Ke(t.getHours(),e,2)}function Qee(t,e){return Ke(t.getHours()%12||12,e,2)}function Zee(t,e){return Ke(1+Nf.count(Xs(t),t),e,3)}function k4(t,e){return Ke(t.getMilliseconds(),e,3)}function ete(t,e){return k4(t,e)+"000"}function tte(t,e){return Ke(t.getMonth()+1,e,2)}function nte(t,e){return Ke(t.getMinutes(),e,2)}function rte(t,e){return Ke(t.getSeconds(),e,2)}function ste(t){var e=t.getDay();return e===0?7:e}function ite(t,e){return Ke(a0.count(Xs(t)-1,t),e,2)}function C4(t){var e=t.getDay();return e>=4||e===0?Ml(t):Ml.ceil(t)}function ate(t,e){return t=C4(t),Ke(Ml.count(Xs(t),t)+(Xs(t).getDay()===4),e,2)}function ote(t){return t.getDay()}function lte(t,e){return Ke(xm.count(Xs(t)-1,t),e,2)}function cte(t,e){return Ke(t.getFullYear()%100,e,2)}function ute(t,e){return t=C4(t),Ke(t.getFullYear()%100,e,2)}function dte(t,e){return Ke(t.getFullYear()%1e4,e,4)}function fte(t,e){var n=t.getDay();return t=n>=4||n===0?Ml(t):Ml.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function hte(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function CA(t,e){return Ke(t.getUTCDate(),e,2)}function pte(t,e){return Ke(t.getUTCHours(),e,2)}function mte(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function gte(t,e){return Ke(1+i0.count(Qs(t),t),e,3)}function j4(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function xte(t,e){return j4(t,e)+"000"}function yte(t,e){return Ke(t.getUTCMonth()+1,e,2)}function vte(t,e){return Ke(t.getUTCMinutes(),e,2)}function bte(t,e){return Ke(t.getUTCSeconds(),e,2)}function wte(t){var e=t.getUTCDay();return e===0?7:e}function _te(t,e){return Ke(o0.count(Qs(t)-1,t),e,2)}function P4(t){var e=t.getUTCDay();return e>=4||e===0?Ol(t):Ol.ceil(t)}function Nte(t,e){return t=P4(t),Ke(Ol.count(Qs(t),t)+(Qs(t).getUTCDay()===4),e,2)}function Ste(t){return t.getUTCDay()}function Ete(t,e){return Ke(ym.count(Qs(t)-1,t),e,2)}function Tte(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function Ate(t,e){return t=P4(t),Ke(t.getUTCFullYear()%100,e,2)}function kte(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function Cte(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ol(t):Ol.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function jte(){return"+0000"}function jA(){return"%"}function PA(t){return+t}function IA(t){return Math.floor(+t/1e3)}var Co,I4,R4;Pte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Pte(t){return Co=Pee(t),I4=Co.format,Co.parse,R4=Co.utcFormat,Co.utcParse,Co}function Ite(t){return new Date(t)}function Rte(t){return t instanceof Date?+t:+new Date(+t)}function F_(t,e,n,r,s,i,o,l,c,u){var d=T_(),f=d.invert,h=d.domain,x=u(".%L"),y=u(":%S"),b=u("%I:%M"),v=u("%I %p"),N=u("%a %d"),_=u("%b %d"),S=u("%B"),C=u("%Y");function T(w){return(c(w)<w?x:l(w)<w?y:o(w)<w?b:i(w)<w?v:r(w)<w?s(w)<w?N:_:n(w)<w?S:C)(w)}return d.invert=function(w){return new Date(f(w))},d.domain=function(w){return arguments.length?h(Array.from(w,Rte)):h().map(Ite)},d.ticks=function(w){var E=h();return t(E[0],E[E.length-1],w??10)},d.tickFormat=function(w,E){return E==null?T:u(E)},d.nice=function(w){var E=h();return(!w||typeof w.range!="function")&&(w=e(E[0],E[E.length-1],w??10)),w?h(v4(E,w)):d},d.copy=function(){return _f(d,F_(t,e,n,r,s,i,o,l,c,u))},d}function Mte(){return Cr.apply(F_(Cee,jee,Xs,$_,a0,Nf,D_,M_,La,I4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ote(){return Cr.apply(F_(Aee,kee,Qs,V_,o0,i0,L_,O_,La,R4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function l0(){var t=0,e=1,n,r,s,i,o=Mn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-n)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=i(t=+t),r=i(e=+e),s=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var x,y;return arguments.length?([x,y]=h,o=f(x,y),u):[o(0),o(1)]}}return u.range=d(Nc),u.rangeRound=d(E_),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,n=f(t),r=f(e),s=n===r?0:1/(r-n),u}}function ua(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function M4(){var t=ca(l0()(Mn));return t.copy=function(){return ua(t,M4())},li.apply(t,arguments)}function O4(){var t=C_(l0()).domain([1,10]);return t.copy=function(){return ua(t,O4()).base(t.base())},li.apply(t,arguments)}function D4(){var t=j_(l0());return t.copy=function(){return ua(t,D4()).constant(t.constant())},li.apply(t,arguments)}function U_(){var t=P_(l0());return t.copy=function(){return ua(t,U_()).exponent(t.exponent())},li.apply(t,arguments)}function Dte(){return U_.apply(null,arguments).exponent(.5)}function L4(){var t=[],e=Mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((bf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let s of r)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Gi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,s)=>e(s/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>_Z(t,i/r))},n.copy=function(){return L4(e).domain(t)},li.apply(n,arguments)}function c0(){var t=0,e=.5,n=1,r=1,s,i,o,l,c,u=Mn,d,f=!1,h;function x(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-i)*(r*b<r*i?l:c),u(f?Math.max(0,Math.min(1,b)):b))}x.domain=function(b){return arguments.length?([t,e,n]=b,s=d(t=+t),i=d(e=+e),o=d(n=+n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x):[t,e,n]},x.clamp=function(b){return arguments.length?(f=!!b,x):f},x.interpolator=function(b){return arguments.length?(u=b,x):u};function y(b){return function(v){var N,_,S;return arguments.length?([N,_,S]=v,u=KZ(b,[N,_,S]),x):[u(0),u(.5),u(1)]}}return x.range=y(Nc),x.rangeRound=y(E_),x.unknown=function(b){return arguments.length?(h=b,x):h},function(b){return d=b,s=b(t),i=b(e),o=b(n),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),r=i<s?-1:1,x}}function $4(){var t=ca(c0()(Mn));return t.copy=function(){return ua(t,$4())},li.apply(t,arguments)}function V4(){var t=C_(c0()).domain([.1,1,10]);return t.copy=function(){return ua(t,V4()).base(t.base())},li.apply(t,arguments)}function F4(){var t=j_(c0());return t.copy=function(){return ua(t,F4()).constant(t.constant())},li.apply(t,arguments)}function B_(){var t=P_(c0());return t.copy=function(){return ua(t,B_()).exponent(t.exponent())},li.apply(t,arguments)}function Lte(){return B_.apply(null,arguments).exponent(.5)}const RA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Td,scaleDiverging:$4,scaleDivergingLog:V4,scaleDivergingPow:B_,scaleDivergingSqrt:Lte,scaleDivergingSymlog:F4,scaleIdentity:y4,scaleImplicit:fb,scaleLinear:mm,scaleLog:b4,scaleOrdinal:__,scalePoint:Fu,scalePow:I_,scaleQuantile:N4,scaleQuantize:S4,scaleRadial:_4,scaleSequential:M4,scaleSequentialLog:O4,scaleSequentialPow:U_,scaleSequentialQuantile:L4,scaleSequentialSqrt:Dte,scaleSequentialSymlog:D4,scaleSqrt:xee,scaleSymlog:w4,scaleThreshold:E4,scaleTime:Mte,scaleUtc:Ote,tickFormat:x4},Symbol.toStringTag,{value:"Module"}));var $te=hc;function Vte(t,e,n){for(var r=-1,s=t.length;++r<s;){var i=t[r],o=e(i);if(o!=null&&(l===void 0?o===o&&!$te(o):n(o,l)))var l=o,c=i}return c}var u0=Vte;function Fte(t,e){return t>e}var U4=Fte,Ute=u0,Bte=U4,qte=_c;function zte(t){return t&&t.length?Ute(t,qte,Bte):void 0}var Gte=zte;const Pi=et(Gte);function Hte(t,e){return t<e}var B4=Hte,Wte=u0,Kte=B4,Jte=_c;function Yte(t){return t&&t.length?Wte(t,Jte,Kte):void 0}var Xte=Yte;const d0=et(Xte);var Qte=n_,Zte=Ns,ene=XO,tne=Xn;function nne(t,e){var n=tne(t)?Qte:ene;return n(t,Zte(e))}var rne=nne,sne=JO,ine=rne;function ane(t,e){return sne(ine(t,e),1)}var one=ane;const lne=et(one);var cne=x_;function une(t,e){return cne(t,e)}var dne=une;const Dl=et(dne);var Sc=1e9,fne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},z_,xt=!0,Tr="[DecimalError] ",Ga=Tr+"Invalid argument: ",q_=Tr+"Exponent out of range: ",Ec=Math.floor,Ta=Math.pow,hne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,nr,Ht=1e7,pt=7,q4=9007199254740991,vm=Ec(q4/pt),ye={};ye.absoluteValue=ye.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ye.comparedTo=ye.cmp=function(t){var e,n,r,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,s=t.d.length,e=0,n=r<s?r:s;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};ye.decimalPlaces=ye.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ye.dividedBy=ye.div=function(t){return Bs(this,new this.constructor(t))};ye.dividedToIntegerBy=ye.idiv=function(t){var e=this,n=e.constructor;return it(Bs(e,new n(t),0,1),n.precision)};ye.equals=ye.eq=function(t){return!this.cmp(t)};ye.exponent=function(){return Ot(this)};ye.greaterThan=ye.gt=function(t){return this.cmp(t)>0};ye.greaterThanOrEqualTo=ye.gte=function(t){return this.cmp(t)>=0};ye.isInteger=ye.isint=function(){return this.e>this.d.length-2};ye.isNegative=ye.isneg=function(){return this.s<0};ye.isPositive=ye.ispos=function(){return this.s>0};ye.isZero=function(){return this.s===0};ye.lessThan=ye.lt=function(t){return this.cmp(t)<0};ye.lessThanOrEqualTo=ye.lte=function(t){return this.cmp(t)<1};ye.logarithm=ye.log=function(t){var e,n=this,r=n.constructor,s=r.precision,i=s+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(nr))throw Error(Tr+"NaN");if(n.s<1)throw Error(Tr+(n.s?"NaN":"-Infinity"));return n.eq(nr)?new r(0):(xt=!1,e=Bs(Pd(n,i),Pd(t,i),i),xt=!0,it(e,s))};ye.minus=ye.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?H4(e,t):z4(e,(t.s=-t.s,t))};ye.modulo=ye.mod=function(t){var e,n=this,r=n.constructor,s=r.precision;if(t=new r(t),!t.s)throw Error(Tr+"NaN");return n.s?(xt=!1,e=Bs(n,t,0,1).times(t),xt=!0,n.minus(e)):it(new r(n),s)};ye.naturalExponential=ye.exp=function(){return G4(this)};ye.naturalLogarithm=ye.ln=function(){return Pd(this)};ye.negated=ye.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ye.plus=ye.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z4(e,t):H4(e,(t.s=-t.s,t))};ye.precision=ye.sd=function(t){var e,n,r,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ga+t);if(e=Ot(s)+1,r=s.d.length-1,n=r*pt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ye.squareRoot=ye.sqrt=function(){var t,e,n,r,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(t=Ot(l),xt=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=is(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Ec((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(s.toString()),n=c.precision,s=o=n+3;;)if(i=r,r=i.plus(Bs(l,i,o+2)).times(.5),is(i.d).slice(0,o)===(e=is(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(it(i,n+1,0),i.times(i).eq(l)){r=i;break}}else if(e!="9999")break;o+=4}return xt=!0,it(r,n)};ye.times=ye.mul=function(t){var e,n,r,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,x=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,c=h.length,u=x.length,c<u&&(i=h,h=x,x=i,o=c,c=u,u=o),i=[],o=c+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(e=0,s=c+r;s>r;)l=i[s]+x[r]*h[s-r-1]+e,i[s--]=l%Ht|0,e=l/Ht|0;i[s]=(i[s]+e)%Ht|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,xt?it(t,f.precision):t};ye.toDecimalPlaces=ye.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(vs(t,0,Sc),e===void 0?e=r.rounding:vs(e,0,8),it(n,t+Ot(n)+1,e))};ye.toExponential=function(t,e){var n,r=this,s=r.constructor;return t===void 0?n=no(r,!0):(vs(t,0,Sc),e===void 0?e=s.rounding:vs(e,0,8),r=it(new s(r),t+1,e),n=no(r,!0,t+1)),n};ye.toFixed=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?no(s):(vs(t,0,Sc),e===void 0?e=i.rounding:vs(e,0,8),r=it(new i(s),t+Ot(s)+1,e),n=no(r.abs(),!1,t+Ot(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};ye.toInteger=ye.toint=function(){var t=this,e=t.constructor;return it(new e(t),Ot(t)+1,e.rounding)};ye.toNumber=function(){return+this};ye.toPower=ye.pow=function(t){var e,n,r,s,i,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(nr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(nr))return l;if(r=c.precision,t.eq(nr))return it(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=l.s,o){if((n=d<0?-d:d)<=q4){for(s=new c(nr),e=Math.ceil(r/pt+4),xt=!1;n%2&&(s=s.times(l),OA(s.d,e)),n=Ec(n/2),n!==0;)l=l.times(l),OA(l.d,e);return xt=!0,t.s<0?new c(nr).div(s):it(s,r)}}else if(i<0)throw Error(Tr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,xt=!1,s=t.times(Pd(l,r+u)),xt=!0,s=G4(s),s.s=i,s};ye.toPrecision=function(t,e){var n,r,s=this,i=s.constructor;return t===void 0?(n=Ot(s),r=no(s,n<=i.toExpNeg||n>=i.toExpPos)):(vs(t,1,Sc),e===void 0?e=i.rounding:vs(e,0,8),s=it(new i(s),t,e),n=Ot(s),r=no(s,t<=n||n<=i.toExpNeg,t)),r};ye.toSignificantDigits=ye.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(vs(t,1,Sc),e===void 0?e=r.rounding:vs(e,0,8)),it(new r(n),t,e)};ye.toString=ye.valueOf=ye.val=ye.toJSON=ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return no(t,e<=n.toExpNeg||e>=n.toExpPos)};function z4(t,e){var n,r,s,i,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),xt?it(e,f):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(r=c,i=-i,l=u.length):(r=u,s=o,l=c.length),o=Math.ceil(f/pt),l=o>l?o+1:l+1,i>l&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,r=u,u=c,c=r),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Ht|0,c[i]%=Ht;for(n&&(c.unshift(n),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,xt?it(e,f):e}function vs(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ga+t)}function is(t){var e,n,r,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)r=t[e]+"",n=pt-r.length,n&&(i+=wi(n)),i+=r;o=t[e],r=o+"",n=pt-r.length,n&&(i+=wi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Bs=function(){function t(r,s){var i,o=0,l=r.length;for(r=r.slice();l--;)i=r[l]*s+o,r[l]=i%Ht|0,o=i/Ht|0;return o&&r.unshift(o),r}function e(r,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(r[l]!=s[l]){c=r[l]>s[l]?1:-1;break}return c}function n(r,s,i){for(var o=0;i--;)r[i]-=o,o=r[i]<s[i]?1:0,r[i]=o*Ht+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,o){var l,c,u,d,f,h,x,y,b,v,N,_,S,C,T,w,E,A,j=r.constructor,M=r.s==s.s?1:-1,P=r.d,O=s.d;if(!r.s)return new j(r);if(!s.s)throw Error(Tr+"Division by zero");for(c=r.e-s.e,E=O.length,T=P.length,x=new j(M),y=x.d=[],u=0;O[u]==(P[u]||0);)++u;if(O[u]>(P[u]||0)&&--c,i==null?_=i=j.precision:o?_=i+(Ot(r)-Ot(s))+1:_=i,_<0)return new j(0);if(_=_/pt+2|0,u=0,E==1)for(d=0,O=O[0],_++;(u<T||d)&&_--;u++)S=d*Ht+(P[u]||0),y[u]=S/O|0,d=S%O|0;else{for(d=Ht/(O[0]+1)|0,d>1&&(O=t(O,d),P=t(P,d),E=O.length,T=P.length),C=E,b=P.slice(0,E),v=b.length;v<E;)b[v++]=0;A=O.slice(),A.unshift(0),w=O[0],O[1]>=Ht/2&&++w;do d=0,l=e(O,b,E,v),l<0?(N=b[0],E!=v&&(N=N*Ht+(b[1]||0)),d=N/w|0,d>1?(d>=Ht&&(d=Ht-1),f=t(O,d),h=f.length,v=b.length,l=e(f,b,h,v),l==1&&(d--,n(f,E<h?A:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),n(b,f,v),l==-1&&(v=b.length,l=e(O,b,E,v),l<1&&(d++,n(b,E<v?A:O,v))),v=b.length):l===0&&(d++,b=[0]),y[u++]=d,l&&b[0]?b[v++]=P[C]||0:(b=[P[C]],v=1);while((C++<T||b[0]!==void 0)&&_--)}return y[0]||y.shift(),x.e=c,it(x,o?i+Ot(x)+1:i)}}();function G4(t,e){var n,r,s,i,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Ot(t)>16)throw Error(q_+Ot(t));if(!t.s)return new d(nr);for(xt=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Ta(2,u))/Math.LN10*2+5|0,l+=r,n=s=i=new d(nr),d.precision=l;;){if(s=it(s.times(t),l),n=n.times(++c),o=i.plus(Bs(s,n,l)),is(o.d).slice(0,l)===is(i.d).slice(0,l)){for(;u--;)i=it(i.times(i),l);return d.precision=f,e==null?(xt=!0,it(i,f)):i}i=o}}function Ot(t){for(var e=t.e*pt,n=t.d[0];n>=10;n/=10)e++;return e}function dy(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(Tr+"LN10 precision limit exceeded");return it(new t(t.LN10),e)}function wi(t){for(var e="";t--;)e+="0";return e}function Pd(t,e){var n,r,s,i,o,l,c,u,d,f=1,h=10,x=t,y=x.d,b=x.constructor,v=b.precision;if(x.s<1)throw Error(Tr+(x.s?"NaN":"-Infinity"));if(x.eq(nr))return new b(0);if(e==null?(xt=!1,u=v):u=e,x.eq(10))return e==null&&(xt=!0),dy(b,u);if(u+=h,b.precision=u,n=is(y),r=n.charAt(0),i=Ot(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=is(x.d),r=n.charAt(0),f++;i=Ot(x),r>1?(x=new b("0."+n),i++):x=new b(r+"."+n.slice(1))}else return c=dy(b,u+2,v).times(i+""),x=Pd(new b(r+"."+n.slice(1)),u-h).plus(c),b.precision=v,e==null?(xt=!0,it(x,v)):x;for(l=o=x=Bs(x.minus(nr),x.plus(nr),u),d=it(x.times(x),u),s=3;;){if(o=it(o.times(d),u),c=l.plus(Bs(o,new b(s),u)),is(c.d).slice(0,u)===is(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(dy(b,u+2,v).times(i+""))),l=Bs(l,new b(f),u),b.precision=v,e==null?(xt=!0,it(l,v)):l;l=c,s+=2}}function MA(t,e){var n,r,s;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(r,s),e){if(s-=r,n=n-r-1,t.e=Ec(n/pt),t.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<s){for(r&&t.d.push(+e.slice(0,r)),s-=pt;r<s;)t.d.push(+e.slice(r,r+=pt));e=e.slice(r),r=pt-e.length}else r-=s;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>vm||t.e<-vm))throw Error(q_+n)}else t.s=0,t.e=0,t.d=[0];return t}function it(t,e,n){var r,s,i,o,l,c,u,d,f=t.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=pt,s=e,u=f[d=0];else{if(d=Math.ceil((r+1)/pt),i=f.length,d>=i)return t;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=pt,s=r-pt+o}if(n!==void 0&&(i=Ta(10,o-s-1),l=u/i%10|0,c=e<0||f[d+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?s>0?u/Ta(10,o-s):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(i=Ot(t),f.length=1,e=e-i-1,f[0]=Ta(10,(pt-e%pt)%pt),t.e=Ec(-e/pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ta(10,pt-r),f[d]=s>0?(u/Ta(10,o-s)%Ta(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Ht&&(f[0]=1,++t.e);break}else{if(f[d]+=i,f[d]!=Ht)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(xt&&(t.e>vm||t.e<-vm))throw Error(q_+Ot(t));return t}function H4(t,e){var n,r,s,i,o,l,c,u,d,f,h=t.constructor,x=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),xt?it(e,x):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),s=Math.max(Math.ceil(x/pt),l)+2,o>s&&(o=s,n.length=1),n.reverse(),s=o;s--;)n.push(0);n.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Ht-1;--c[i],c[s]+=Ht}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,xt?it(e,x):e):new h(0)}function no(t,e,n){var r,s=Ot(t),i=is(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+wi(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+wi(-s-1)+i,n&&(r=n-o)>0&&(i+=wi(r))):s>=o?(i+=wi(s+1-o),n&&(r=n-s-1)>0&&(i=i+"."+wi(r))):((r=s+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(s+1===o&&(i+="."),i+=wi(r))),t.s<0?"-"+i:i}function OA(t,e){if(t.length>e)return t.length=e,!0}function W4(t){var e,n,r;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ga+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return MA(o,i.toString())}else if(typeof i!="string")throw Error(Ga+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,hne.test(i))MA(o,i);else throw Error(Ga+i)}if(s.prototype=ye,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=W4,s.config=s.set=pne,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return s.config(t),s}function pne(t){if(!t||typeof t!="object")throw Error(Tr+"Object expected");var e,n,r,s=["precision",1,Sc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((r=t[n=s[e]])!==void 0)if(Ec(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(Ga+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ga+n+": "+r);return this}var z_=W4(fne);nr=new z_(1);const nt=z_;function mne(t){return vne(t)||yne(t)||xne(t)||gne()}function gne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xne(t,e){if(t){if(typeof t=="string")return gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gb(t,e)}}function yne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vne(t){if(Array.isArray(t))return gb(t)}function gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bne=function(e){return e},K4={},J4=function(e){return e===K4},DA=function(e){return function n(){return arguments.length===0||arguments.length===1&&J4(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},wne=function t(e,n){return e===1?n:DA(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==K4}).length;return o>=e?n.apply(void 0,s):t(e-o,DA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return J4(f)?c.shift():f});return n.apply(void 0,mne(d).concat(c))}))})},f0=function(e){return wne(e.length,e)},xb=function(e,n){for(var r=[],s=e;s<n;++s)r[s-e]=s;return r},_ne=f0(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Nne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return bne;var s=n.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},yb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Y4=function(e){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,r=e.apply(void 0,i)),r}};function Sne(t){var e;return t===0?e=1:e=Math.floor(new nt(t).abs().log(10).toNumber())+1,e}function Ene(t,e,n){for(var r=new nt(t),s=0,i=[];r.lt(e)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var Tne=f0(function(t,e,n){var r=+t,s=+e;return r+n*(s-r)}),Ane=f0(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kne=f0(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const h0={rangeStep:Ene,getDigitCount:Sne,interpolateNumber:Tne,uninterpolateNumber:Ane,uninterpolateTruncation:kne};function vb(t){return Pne(t)||jne(t)||X4(t)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Pne(t){if(Array.isArray(t))return bb(t)}function Id(t,e){return Mne(t)||Rne(t,e)||X4(t,e)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4(t,e){if(t){if(typeof t=="string")return bb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bb(t,e)}}function bb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rne(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){s=!0,i=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(s)throw i}}return n}}function Mne(t){if(Array.isArray(t))return t}function Q4(t){var e=Id(t,2),n=e[0],r=e[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function Z4(t,e,n){if(t.lte(0))return new nt(0);var r=h0.getDigitCount(t.toNumber()),s=new nt(10).pow(r),i=t.div(s),o=r!==1?.05:.1,l=new nt(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(s);return e?c:new nt(Math.ceil(c))}function One(t,e,n){var r=1,s=new nt(t);if(!s.isint()&&n){var i=Math.abs(t);i<1?(r=new nt(10).pow(h0.getDigitCount(t)-1),s=new nt(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new nt(Math.floor(t)))}else t===0?s=new nt(Math.floor((e-1)/2)):n||(s=new nt(Math.floor(t)));var o=Math.floor((e-1)/2),l=Nne(_ne(function(c){return s.add(new nt(c-o).mul(r)).toNumber()}),xb);return l(0,e)}function e5(t,e,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var i=Z4(new nt(e).sub(t).div(n-1),r,s),o;t<=0&&e>=0?o=new nt(0):(o=new nt(t).add(e).div(2),o=o.sub(new nt(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new nt(e).sub(o).div(i).toNumber()),u=l+c+1;return u>n?e5(t,e,n,r,s+1):(u<n&&(c=e>0?c+(n-u):c,l=e>0?l:l+(n-u)),{step:i,tickMin:o.sub(new nt(l).mul(i)),tickMax:o.add(new nt(c).mul(i))})}function Dne(t){var e=Id(t,2),n=e[0],r=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Q4([n,r]),c=Id(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(vb(xb(0,s-1).map(function(){return 1/0}))):[].concat(vb(xb(0,s-1).map(function(){return-1/0})),[d]);return n>r?yb(f):f}if(u===d)return One(u,s,i);var h=e5(u,d,o,i),x=h.step,y=h.tickMin,b=h.tickMax,v=h0.rangeStep(y,b.add(new nt(.1).mul(x)),x);return n>r?yb(v):v}function Lne(t,e){var n=Id(t,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Q4([r,s]),l=Id(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,s];if(c===u)return[c];var d=Math.max(e,2),f=Z4(new nt(u).sub(c).div(d-1),i,0),h=[].concat(vb(h0.rangeStep(new nt(c),new nt(u).sub(new nt(.99).mul(f)),f)),[u]);return r>s?yb(h):h}var $ne=Y4(Dne),Vne=Y4(Lne),Fne="Invariant failed";function ro(t,e){throw new Error(Fne)}var Une=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function bm(){return bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bm.apply(this,arguments)}function Bne(t,e){return Hne(t)||Gne(t,e)||zne(t,e)||qne()}function qne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zne(t,e){if(t){if(typeof t=="string")return LA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LA(t,e)}}function LA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hne(t){if(Array.isArray(t))return t}function Wne(t,e){if(t==null)return{};var n=Kne(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function Xne(t,e,n){return e&&Yne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qne(t,e,n){return e=wm(e),Zne(t,t5()?Reflect.construct(e,n||[],wm(t).constructor):e.apply(t,n))}function Zne(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ere(t)}function ere(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function tre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},wb(t,e)}function n5(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=nre(t,"string");return Ll(e)=="symbol"?e:e+""}function nre(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p0=function(t){function e(){return Jne(this,e),Qne(this,e,arguments)}return tre(e,t),Xne(e,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=Wne(r,Une),x=_e(h,!1);this.props.direction==="x"&&d.type!=="number"&&ro();var y=c.map(function(b){var v=u(b,l),N=v.x,_=v.y,S=v.value,C=v.errorVal;if(!C)return null;var T=[],w,E;if(Array.isArray(C)){var A=Bne(C,2);w=A[0],E=A[1]}else w=E=C;if(i==="vertical"){var j=d.scale,M=_+s,P=M+o,O=M-o,R=j(S-w),q=j(S+E);T.push({x1:q,y1:P,x2:q,y2:O}),T.push({x1:R,y1:M,x2:q,y2:M}),T.push({x1:R,y1:P,x2:R,y2:O})}else if(i==="horizontal"){var F=f.scale,$=N+s,B=$-o,V=$+o,H=F(S-w),J=F(S+E);T.push({x1:B,y1:J,x2:V,y2:J}),T.push({x1:$,y1:H,x2:$,y2:J}),T.push({x1:B,y1:H,x2:V,y2:H})}return U.createElement(Be,bm({className:"recharts-errorBar",key:"bar-".concat(T.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},x),T.map(function(W){return U.createElement("line",bm({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return U.createElement(Be,{className:"recharts-errorBars"},y)}}])}(U.Component);n5(p0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});n5(p0,"displayName","ErrorBar");function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function $A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$A(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=sre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sre(t){var e=ire(t,"string");return Rd(e)=="symbol"?e:e+""}function ire(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s5=function(e){var n=e.children,r=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=tr(n,qa);if(!o)return null;var l=qa.defaultProps,c=l!==void 0?ya(ya({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,x=f.props,y=x.sectors||x.data||[];return d.concat(y.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,x=h!==void 0?ya(ya({},h),f.props):{},y=x.dataKey,b=x.name,v=x.legendType,N=x.hide;return{inactive:N,dataKey:y,type:c.iconType||v||"square",color:G_(f),value:b||y,payload:x}}),ya(ya(ya({},c),qa.getWithHeight(o,s)),{},{payload:u,item:o})};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function VA(t){return cre(t)||lre(t)||ore(t)||are()}function are(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return _b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _b(t,e)}}function lre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cre(t){if(Array.isArray(t))return _b(t)}function _b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FA(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ul(t,e,n){return e=ure(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=dre(t,"string");return Md(e)=="symbol"?e:e+""}function dre(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ut(t,e,n){return Ie(t)||Ie(e)?n:qt(e)?ar(t,e,n):Ee(e)?e(t):n}function Uu(t,e,n,r){var s=lne(t,function(l){return Ut(l,e)});if(n==="number"){var i=s.filter(function(l){return le(l)||parseFloat(l)});return i.length?[d0(i),Pi(i)]:[1/0,-1/0]}var o=r?s.filter(function(l){return!Ie(l)}):s;return o.map(function(l){return qt(l)||l instanceof Date?l:""})}var fre=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,x=void 0;if(In(f-d)!==In(h-f)){var y=[];if(In(h-f)===In(c[1]-c[0])){x=h;var b=f+c[1]-c[0];y[0]=Math.min(b,(b+d)/2),y[1]=Math.max(b,(b+d)/2)}else{x=d;var v=h+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var N=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(e>N[0]&&e<=N[1]||e>=y[0]&&e<=y[1]){o=s[u].index;break}}else{var _=Math.min(d,h),S=Math.max(d,h);if(e>(_+f)/2&&e<=(S+f)/2){o=s[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){o=r[C].index;break}return o},G_=function(e){var n,r=e,s=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},hre=function(e){var n=e.barSize,r=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,x=f.length;h<x;h++){var y=d[f[h]],b=y.items,v=y.cateAxisId,N=b.filter(function(E){return Us(E.type).indexOf("Bar")>=0});if(N&&N.length){var _=N[0].type.defaultProps,S=_!==void 0?At(At({},_),N[0].props):N[0].props,C=S.barSize,T=S[v];o[T]||(o[T]=[]);var w=Ie(C)?n:C;o[T].push({item:N[0],stackList:N.slice(1),barSize:Ie(w)?void 0:Rn(w,r,0)})}}return o},pre=function(e){var n=e.barGap,r=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Rn(n,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,x=s/c,y=o.reduce(function(C,T){return C+T.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&x>0&&(h=!0,x*=.9,y=c*x);var b=(s-y)/2>>0,v={offset:b-u,size:0};d=o.reduce(function(C,T){var w={item:T.item,position:{offset:v.offset+v.size+u,size:h?x:T.barSize}},E=[].concat(VA(C),[w]);return v=E[E.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:v})}),E},f)}else{var N=Rn(r,s,0,!0);s-2*N-(c-1)*u<=0&&(u=0);var _=(s-2*N-(c-1)*u)/c;_>1&&(_>>=0);var S=l===+l?Math.min(_,l):_;d=o.reduce(function(C,T,w){var E=[].concat(VA(C),[{item:T.item,position:{offset:N+(_+u)*w+(_-S)/2,size:S}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return d},mre=function(e,n,r,s){var i=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=s5({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,x=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&x!=="center"&&le(e[x]))return At(At({},e),{},ul({},x,e[x]+(f||0)));if((b==="horizontal"||b==="vertical"&&x==="center")&&y!=="middle"&&le(e[y]))return At(At({},e),{},ul({},y,e[y]+(h||0)))}return e},gre=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},i5=function(e,n,r,s,i){var o=n.props.children,l=wr(o,p0).filter(function(u){return gre(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=Ut(d,r);if(Ie(f))return u;var h=Array.isArray(f)?[d0(f),Pi(f)]:[f,f],x=c.reduce(function(y,b){var v=Ut(d,b,0),N=h[0]-Math.abs(Array.isArray(v)?v[0]:v),_=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,y[0]),Math.max(_,y[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},xre=function(e,n,r,s,i){var o=n.map(function(l){return i5(e,l,r,i,s)}).filter(function(l){return!Ie(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},a5=function(e,n,r,s,i){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&i5(e,c,u,s)||Uu(e,u,r,i)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},o5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},l5=function(e,n,r,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===r&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(r),l},Ds=function(e,n,r){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(n||r)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?In(l[0]-l[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!yc(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!r?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},fy=new WeakMap,Sh=function(e,n){if(typeof n!="function")return e;fy.has(e)||fy.set(e,new WeakMap);var r=fy.get(e);if(r.has(n))return r.get(n);var s=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},c5=function(e,n,r){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Td(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:mm(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Fu(),realScaleType:"point"}:i==="category"?{scale:Td(),realScaleType:"band"}:{scale:mm(),realScaleType:"linear"};if(Za(s)){var c="scale".concat(Yg(s));return{scale:(RA[c]||Fu)(),realScaleType:RA[c]?c:"point"}}return Ee(s)?{scale:s}:{scale:Fu(),realScaleType:"point"}},UA=1e-4,u5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,s=e.range(),i=Math.min(s[0],s[1])-UA,o=Math.max(s[0],s[1])+UA,l=e(n[0]),c=e(n[r-1]);(l<i||l>o||c<i||c>o)&&e.domain([n[0],n[r-1]])}},yre=function(e,n){if(!e)return null;for(var r=0,s=e.length;r<s;r++)if(e[r].item===n)return e[r].position;return null},vre=function(e,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return e;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!le(e[0])||e[0]<r)&&(i[0]=r),(!le(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},bre=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0,l=0;l<n;++l){var c=yc(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1]):(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1])}},wre=function(e){var n=e.length;if(!(n<=0))for(var r=0,s=e[0].length;r<s;++r)for(var i=0,o=0;o<n;++o){var l=yc(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=i,e[o][r][1]=i+l,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},_re={sign:bre,expand:Uz,none:kl,silhouette:Bz,wiggle:qz,positive:wre},Nre=function(e,n,r){var s=n.map(function(l){return l.props.dataKey}),i=_re[r],o=Fz().keys(s).value(function(l,c){return+Ut(l,c,0)}).order(Wv).offset(i);return o(e)},Sre=function(e,n,r,s,i,o){if(!e)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,h){var x,y=(x=h.type)!==null&&x!==void 0&&x.defaultProps?At(At({},h.type.defaultProps),h.props):h.props,b=y.stackId,v=y.hide;if(v)return f;var N=y[r],_=f[N]||{hasStack:!1,stackGroups:{}};if(qt(b)){var S=_.stackGroups[b]||{numericAxisId:r,cateAxisId:s,items:[]};S.items.push(h),_.hasStack=!0,_.stackGroups[b]=S}else _.stackGroups[vc("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[h]};return At(At({},f),{},ul({},N,_))},c),d={};return Object.keys(u).reduce(function(f,h){var x=u[h];if(x.hasStack){var y={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(b,v){var N=x.stackGroups[v];return At(At({},b),{},ul({},v,{numericAxisId:r,cateAxisId:s,items:N.items,stackedData:Nre(e,N.items,i)}))},y)}return At(At({},f),{},ul({},h,x))},d)},d5=function(e,n){var r=n.realScaleType,s=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=$ne(u,i,l);return e.domain([d0(d),Pi(d)]),{niceTicks:d}}if(i&&s==="number"){var f=e.domain(),h=Vne(f,i,l);return{niceTicks:h}}return null};function BA(t){var e=t.axis,n=t.ticks,r=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(s[e.dataKey])){var l=Wp(n,"value",s[e.dataKey]);if(l)return l.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var c=Ut(s,Ie(o)?e.dataKey:o);return Ie(c)?null:e.scale(c)}var qA=function(e){var n=e.axis,r=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+s:null;var c=Ut(o,n.dataKey,n.domain[l]);return Ie(c)?null:n.scale(c)-i/2+s},Ere=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},Tre=function(e,n){var r,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(qt(i)){var o=n[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},Are=function(e){return e.reduce(function(n,r){return[d0(r.concat([n[0]]).filter(le)),Pi(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},f5=function(e,n,r){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Are(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},zA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nb=function(e,n,r){if(Ee(e))return e(n,r);if(!Array.isArray(e))return n;var s=[];if(le(e[0]))s[0]=r?e[0]:Math.min(e[0],n[0]);else if(zA.test(e[0])){var i=+zA.exec(e[0])[1];s[0]=n[0]-i}else Ee(e[0])?s[0]=e[0](n[0]):s[0]=n[0];if(le(e[1]))s[1]=r?e[1]:Math.max(e[1],n[1]);else if(GA.test(e[1])){var o=+GA.exec(e[1])[1];s[1]=n[1]+o}else Ee(e[1])?s[1]=e[1](n[1]):s[1]=n[1];return s},_m=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!r||s>0)return s}if(e&&n&&n.length>=2){for(var i=v_(n,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},HA=function(e,n,r){return!e||!e.length||Dl(e,ar(r,"type.defaultProps.domain"))?n:e},h5=function(e,n){var r=e.type.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,s=r.dataKey,i=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return At(At({},_e(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:G_(e),value:Ut(n,s),type:c,payload:n,chartType:u,hide:d})};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function WA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WA(Object(n),!0).forEach(function(r){p5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p5(t,e,n){return e=kre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kre(t){var e=Cre(t,"string");return Od(e)=="symbol"?e:e+""}function Cre(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jre(t,e){return Mre(t)||Rre(t,e)||Ire(t,e)||Pre()}function Pre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ire(t,e){if(t){if(typeof t=="string")return KA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KA(t,e)}}function KA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Mre(t){if(Array.isArray(t))return t}var Nm=Math.PI/180,Ore=function(e){return e*180/Math.PI},ut=function(e,n,r,s){return{x:e+Math.cos(-Nm*s)*r,y:n+Math.sin(-Nm*s)*r}},m5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Dre=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,d=Rn(e.cx,o,o/2),f=Rn(e.cy,l,l/2),h=m5(o,l,r),x=Rn(e.innerRadius,h,0),y=Rn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(v,N){var _=n[N],S=_.domain,C=_.reversed,T;if(Ie(_.range))s==="angleAxis"?T=[c,u]:s==="radiusAxis"&&(T=[x,y]),C&&(T=[T[1],T[0]]);else{T=_.range;var w=T,E=jre(w,2);c=E[0],u=E[1]}var A=c5(_,i),j=A.realScaleType,M=A.scale;M.domain(S).range(T),u5(M);var P=d5(M,js(js({},_),{},{realScaleType:j})),O=js(js(js({},_),P),{},{range:T,radius:y,realScaleType:j,scale:M,cx:d,cy:f,innerRadius:x,outerRadius:y,startAngle:c,endAngle:u});return js(js({},v),{},p5({},N,O))},{})},Lre=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-o,2))},$re=function(e,n){var r=e.x,s=e.y,i=n.cx,o=n.cy,l=Lre({x:r,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(r-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:Ore(u),angleInRadian:u}},Vre=function(e){var n=e.startAngle,r=e.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(s,i);return{startAngle:n-o*360,endAngle:r-o*360}},Fre=function(e,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},JA=function(e,n){var r=e.x,s=e.y,i=$re({x:r,y:s},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Vre(n),f=d.startAngle,h=d.endAngle,x=l,y;if(f<=h){for(;x>h;)x-=360;for(;x<f;)x+=360;y=x>=f&&x<=h}else{for(;x>f;)x-=360;for(;x<h;)x+=360;y=x>=h&&x<=f}return y?js(js({},n),{},{radius:o,angle:Fre(x,n)}):null},g5=function(e){return!D.isValidElement(e)&&!Ee(e)&&typeof e!="boolean"?e.className:""};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}var Ure=["offset"];function Bre(t){return Hre(t)||Gre(t)||zre(t)||qre()}function qre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zre(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function Gre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hre(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wre(t,e){if(t==null)return{};var n=Kre(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){Jre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jre(t,e,n){return e=Yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Xre(t,"string");return Dd(e)=="symbol"?e:e+""}function Xre(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(this,arguments)}var Qre=function(e){var n=e.value,r=e.formatter,s=Ie(e.children)?n:e.children;return Ee(r)?r(s):s},Zre=function(e,n){var r=In(n-e),s=Math.min(Math.abs(n-e),360);return r*s},ese=function(e,n,r){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,x=c.startAngle,y=c.endAngle,b=c.clockWise,v=(f+h)/2,N=Zre(x,y),_=N>=0?1:-1,S,C;s==="insideStart"?(S=x+_*o,C=b):s==="insideEnd"?(S=y-_*o,C=!b):s==="end"&&(S=y+_*o,C=b),C=N<=0?C:!C;var T=ut(u,d,v,S),w=ut(u,d,v,S+(C?1:-1)*359),E="M".concat(T.x,",").concat(T.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(w.x,",").concat(w.y),A=Ie(e.id)?vc("recharts-radial-line-"):e.id;return U.createElement("text",Ld({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",l)}),U.createElement("defs",null,U.createElement("path",{id:A,d:E})),U.createElement("textPath",{xlinkHref:"#".concat(A)},n))},tse=function(e){var n=e.viewBox,r=e.offset,s=e.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var x=ut(o,l,u+r,h),y=x.x,b=x.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,N=ut(o,l,v,h),_=N.x,S=N.y;return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},nse=function(e){var n=e.viewBox,r=e.parentViewBox,s=e.offset,i=e.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,x=f>0?"end":"start",y=f>0?"start":"end",b=u>=0?1:-1,v=b*s,N=b>0?"end":"start",_=b>0?"start":"end";if(i==="top"){var S={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:x};return $t($t({},S),r?{height:Math.max(c-r.y,0),width:u}:{})}if(i==="bottom"){var C={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return $t($t({},C),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(i==="left"){var T={x:l-v,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return $t($t({},T),r?{width:Math.max(T.x-r.x,0),height:d}:{})}if(i==="right"){var w={x:l+u+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:d}:{})}var E=r?{width:u,height:d}:{};return i==="insideLeft"?$t({x:l+v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):i==="insideRight"?$t({x:l+u-v,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},E):i==="insideTop"?$t({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},E):i==="insideBottom"?$t({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:x},E):i==="insideTopLeft"?$t({x:l+v,y:c+h,textAnchor:_,verticalAnchor:y},E):i==="insideTopRight"?$t({x:l+u-v,y:c+h,textAnchor:N,verticalAnchor:y},E):i==="insideBottomLeft"?$t({x:l+v,y:c+d-h,textAnchor:_,verticalAnchor:x},E):i==="insideBottomRight"?$t({x:l+u-v,y:c+d-h,textAnchor:N,verticalAnchor:x},E):pc(i)&&(le(i.x)||Oa(i.x))&&(le(i.y)||Oa(i.y))?$t({x:l+Rn(i.x,u),y:c+Rn(i.y,d),textAnchor:"end",verticalAnchor:"end"},E):$t({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},rse=function(e){return"cx"in e&&le(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=Wre(t,Ure),s=$t({offset:n},r),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||Ie(l)&&Ie(c)&&!D.isValidElement(u)&&!Ee(u))return null;if(D.isValidElement(u))return D.cloneElement(u,s);var x;if(Ee(u)){if(x=D.createElement(u,s),D.isValidElement(x))return x}else x=Qre(s);var y=rse(i),b=_e(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ese(s,x,b);var v=y?tse(s):nse(s);return U.createElement(to,Ld({className:Re("recharts-label",f)},b,v,{breakAll:h}),x)}Jt.displayName="Label";var x5=function(e){var n=e.cx,r=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,x=e.top,y=e.left,b=e.width,v=e.height,N=e.clockWise,_=e.labelViewBox;if(_)return _;if(le(b)&&le(v)){if(le(f)&&le(h))return{x:f,y:h,width:b,height:v};if(le(x)&&le(y))return{x,y,width:b,height:v}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},sse=function(e,n){return e?e===!0?U.createElement(Jt,{key:"label-implicit",viewBox:n}):qt(e)?U.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===Jt?D.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Ee(e)?U.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):pc(e)?U.createElement(Jt,Ld({viewBox:n},e,{key:"label-implicit"})):null:null},ise=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var s=e.children,i=x5(e),o=wr(s,Jt).map(function(c,u){return D.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!r)return o;var l=sse(e.label,n||i);return[l].concat(Bre(o))};Jt.parseViewBox=x5;Jt.renderCallByParent=ise;function ase(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var ose=ase;const lse=et(ose);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}var cse=["valueAccessor"],use=["data","dataKey","clockWise","id","textBreakAll"];function dse(t){return mse(t)||pse(t)||hse(t)||fse()}function fse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hse(t,e){if(t){if(typeof t=="string")return Eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Eb(t,e)}}function pse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mse(t){if(Array.isArray(t))return Eb(t)}function Eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sm(){return Sm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sm.apply(this,arguments)}function XA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function QA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XA(Object(n),!0).forEach(function(r){gse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gse(t,e,n){return e=xse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xse(t){var e=yse(t,"string");return $d(e)=="symbol"?e:e+""}function yse(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZA(t,e){if(t==null)return{};var n=vse(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var bse=function(e){return Array.isArray(e.value)?lse(e.value):e.value};function qs(t){var e=t.valueAccessor,n=e===void 0?bse:e,r=ZA(t,cse),s=r.data,i=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=ZA(r,use);return!s||!s.length?null:U.createElement(Be,{className:"recharts-label-list"},s.map(function(d,f){var h=Ie(i)?n(d,f):Ut(d&&d.payload,i),x=Ie(l)?{}:{id:"".concat(l,"-").concat(f)};return U.createElement(Jt,Sm({},_e(d,!0),u,x,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Jt.parseViewBox(Ie(o)?d:QA(QA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}qs.displayName="LabelList";function wse(t,e){return t?t===!0?U.createElement(qs,{key:"labelList-implicit",data:e}):U.isValidElement(t)||Ee(t)?U.createElement(qs,{key:"labelList-implicit",data:e,content:t}):pc(t)?U.createElement(qs,Sm({data:e},t,{key:"labelList-implicit"})):null:null}function _se(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,s=wr(r,qs).map(function(o,l){return D.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!n)return s;var i=wse(t.label,e);return[i].concat(dse(s))}qs.renderCallByParent=_se;function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function tk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){Nse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e,n){return e=Sse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=Ese(t,"string");return Vd(e)=="symbol"?e:e+""}function Ese(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tse=function(e,n){var r=In(n-e),s=Math.min(Math.abs(n-e),359.999);return r*s},Eh=function(e){var n=e.cx,r=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Nm,h=u?i:i+o*f,x=ut(n,r,d,h),y=ut(n,r,s,h),b=u?i-o*f:i,v=ut(n,r,d*Math.cos(f*Nm),b);return{center:x,circleTangency:y,lineTangency:v,theta:f}},y5=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=Tse(o,l),u=o+c,d=ut(n,r,i,o),f=ut(n,r,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var x=ut(n,r,s,o),y=ut(n,r,s,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ase=function(e){var n=e.cx,r=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=In(d-u),h=Eh({cx:n,cy:r,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),x=h.circleTangency,y=h.lineTangency,b=h.theta,v=Eh({cx:n,cy:r,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,_=v.lineTangency,S=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-b-S;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):y5({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var T="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(s>0){var w=Eh({cx:n,cy:r,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=w.circleTangency,A=w.lineTangency,j=w.theta,M=Eh({cx:n,cy:r,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=M.circleTangency,O=M.lineTangency,R=M.theta,q=c?Math.abs(u-d):Math.abs(u-d)-j-R;if(q<0&&o===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},kse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v5=function(e){var n=tk(tk({},kse),e),r=n.cx,s=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(o<i||d===f)return null;var x=Re("recharts-sector",h),y=o-i,b=Rn(l,y,0,!0),v;return b>0&&Math.abs(d-f)<360?v=Ase({cx:r,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=y5({cx:r,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),U.createElement("path",Tb({},_e(n,!0),{className:x,d:v,role:"img"}))};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cse(t,e,n){return e=jse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Pse(t,"string");return Fd(e)=="symbol"?e:e+""}function Pse(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sk={curveBasisClosed:Cz,curveBasisOpen:jz,curveBasis:kz,curveBumpX:pz,curveBumpY:mz,curveLinearClosed:Pz,curveLinear:Qg,curveMonotoneX:Iz,curveMonotoneY:Rz,curveNatural:Mz,curveStep:Oz,curveStepAfter:Lz,curveStepBefore:Dz},Th=function(e){return e.x===+e.x&&e.y===+e.y},lu=function(e){return e.x},cu=function(e){return e.y},Ise=function(e,n){if(Ee(e))return e;var r="curve".concat(Yg(e));return(r==="curveMonotone"||r==="curveBump")&&n?sk["".concat(r).concat(n==="vertical"?"Y":"X")]:sk[r]||Qg},Rse=function(e){var n=e.type,r=n===void 0?"linear":n,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=Ise(r,l),f=u?i.filter(function(b){return Th(b)}):i,h;if(Array.isArray(o)){var x=u?o.filter(function(b){return Th(b)}):o,y=f.map(function(b,v){return rk(rk({},b),{},{base:x[v]})});return l==="vertical"?h=gh().y(cu).x1(lu).x0(function(b){return b.base.x}):h=gh().x(lu).y1(cu).y0(function(b){return b.base.y}),h.defined(Th).curve(d),h(y)}return l==="vertical"&&le(o)?h=gh().y(cu).x1(lu).x0(o):le(o)?h=gh().x(lu).y1(cu).y0(o):h=pO().x(lu).y(cu),h.defined(Th).curve(d),h(f)},dl=function(e){var n=e.className,r=e.points,s=e.path,i=e.pathRef;if((!r||!r.length)&&!s)return null;var o=r&&r.length?Rse(e):s;return D.createElement("path",Ab({},_e(e,!1),Kp(e),{className:Re("recharts-curve",n),d:o,ref:i}))},b5={exports:{}},Mse="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ose=Mse,Dse=Ose;function w5(){}function _5(){}_5.resetWarningCache=w5;var Lse=function(){function t(r,s,i,o,l,c){if(c!==Dse){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_5,resetWarningCache:w5};return n.PropTypes=n,n};b5.exports=Lse();var $se=b5.exports;const Xe=et($se),{getOwnPropertyNames:Vse,getOwnPropertySymbols:Fse}=Object,{hasOwnProperty:Use}=Object.prototype;function hy(t,e){return function(r,s,i){return t(r,s,i)&&e(r,s,i)}}function Ah(t){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,s);const{cache:i}=s,o=i.get(n),l=i.get(r);if(o&&l)return o===r&&l===n;i.set(n,r),i.set(r,n);const c=t(n,r,s);return i.delete(n),i.delete(r),c}}function Bse(t){return t!=null?t[Symbol.toStringTag]:void 0}function ik(t){return Vse(t).concat(Fse(t))}const qse=Object.hasOwn||((t,e)=>Use.call(t,e));function yo(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const zse="__v",Gse="__o",Hse="_owner",{getOwnPropertyDescriptor:ak,keys:ok}=Object;function Wse(t,e){return t.byteLength===e.byteLength&&Em(new Uint8Array(t),new Uint8Array(e))}function Kse(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Jse(t,e){return t.byteLength===e.byteLength&&Em(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Yse(t,e){return yo(t.getTime(),e.getTime())}function Xse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Qse(t,e){return t===e}function lk(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=e.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,x=l.value;if(n.equals(h[0],x[0],c,f,t,e,n)&&n.equals(h[1],x[1],h[0],x[0],t,e,n)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const Zse=yo;function eie(t,e,n){const r=ok(t);let s=r.length;if(ok(e).length!==s)return!1;for(;s-- >0;)if(!N5(t,e,n,r[s]))return!1;return!0}function uu(t,e,n){const r=ik(t);let s=r.length;if(ik(e).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=r[s],!N5(t,e,n,i)||(o=ak(t,i),l=ak(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tie(t,e){return yo(t.valueOf(),e.valueOf())}function nie(t,e){return t.source===e.source&&t.flags===e.flags}function ck(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const s=new Array(r),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=e.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&n.equals(o.value,l.value,o.value,l.value,t,e,n)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Em(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function rie(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function N5(t,e,n,r){return(r===Hse||r===Gse||r===zse)&&(t.$$typeof||e.$$typeof)?!0:qse(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const sie="[object ArrayBuffer]",iie="[object Arguments]",aie="[object Boolean]",oie="[object DataView]",lie="[object Date]",cie="[object Error]",uie="[object Map]",die="[object Number]",fie="[object Object]",hie="[object RegExp]",pie="[object Set]",mie="[object String]",gie={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},xie="[object URL]",yie=Object.prototype.toString;function vie({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:x,unknownTagComparators:y}){return function(v,N,_){if(v===N)return!0;if(v==null||N==null)return!1;const S=typeof v;if(S!==typeof N)return!1;if(S!=="object")return S==="number"?l(v,N,_):S==="function"?i(v,N,_):!1;const C=v.constructor;if(C!==N.constructor)return!1;if(C===Object)return c(v,N,_);if(Array.isArray(v))return e(v,N,_);if(C===Date)return r(v,N,_);if(C===RegExp)return d(v,N,_);if(C===Map)return o(v,N,_);if(C===Set)return f(v,N,_);const T=yie.call(v);if(T===lie)return r(v,N,_);if(T===hie)return d(v,N,_);if(T===uie)return o(v,N,_);if(T===pie)return f(v,N,_);if(T===fie)return typeof v.then!="function"&&typeof N.then!="function"&&c(v,N,_);if(T===xie)return x(v,N,_);if(T===cie)return s(v,N,_);if(T===iie)return c(v,N,_);if(gie[T])return h(v,N,_);if(T===sie)return t(v,N,_);if(T===oie)return n(v,N,_);if(T===aie||T===die||T===mie)return u(v,N,_);if(y){let w=y[T];if(!w){const E=Bse(v);E&&(w=y[E])}if(w)return w(v,N,_)}return!1}}function bie({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Wse,areArraysEqual:n?uu:Kse,areDataViewsEqual:Jse,areDatesEqual:Yse,areErrorsEqual:Xse,areFunctionsEqual:Qse,areMapsEqual:n?hy(lk,uu):lk,areNumbersEqual:Zse,areObjectsEqual:n?uu:eie,arePrimitiveWrappersEqual:tie,areRegExpsEqual:nie,areSetsEqual:n?hy(ck,uu):ck,areTypedArraysEqual:n?hy(Em,uu):Em,areUrlsEqual:rie,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const s=Ah(r.areArraysEqual),i=Ah(r.areMapsEqual),o=Ah(r.areObjectsEqual),l=Ah(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return r}function wie(t){return function(e,n,r,s,i,o,l){return t(e,n,l)}}function _ie({circular:t,comparator:e,createState:n,equals:r,strict:s}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(l,c,{cache:u,equals:r,meta:d,strict:s})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:s})};const i={cache:void 0,equals:r,meta:void 0,strict:s};return function(l,c){return e(l,c,i)}}const Nie=da();da({strict:!0});da({circular:!0});da({circular:!0,strict:!0});da({createInternalComparator:()=>yo});da({strict:!0,createInternalComparator:()=>yo});da({circular:!0,createInternalComparator:()=>yo});da({circular:!0,createInternalComparator:()=>yo,strict:!0});function da(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:s=!1}=t,i=bie(t),o=vie(i),l=n?n(o):wie(o);return _ie({circular:e,comparator:o,createState:r,equals:l,strict:s})}function Sie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function uk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>e?(t(i),n=-1):Sie(s)};requestAnimationFrame(r)}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}function Eie(t){return Cie(t)||kie(t)||Aie(t)||Tie()}function Tie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return dk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dk(t,e)}}function dk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cie(t){if(Array.isArray(t))return t}function jie(){var t={},e=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Eie(o),c=l[0],u=l.slice(1);if(typeof c=="number"){uk(s.bind(null,u),c);return}s(c),uk(s.bind(null,u));return}kb(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(n),!0).forEach(function(r){S5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S5(t,e,n){return e=Pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pie(t){var e=Iie(t,"string");return Ud(e)==="symbol"?e:String(e)}function Iie(t,e){if(Ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},Mie=function(e){return e},Oie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Bu=function(e,n){return Object.keys(n).reduce(function(r,s){return hk(hk({},r),{},S5({},s,e(s,n[s])))},{})},pk=function(e,n,r){return e.map(function(s){return"".concat(Oie(s)," ").concat(n,"ms ").concat(r)}).join(",")};function Die(t,e){return Vie(t)||$ie(t,e)||E5(t,e)||Lie()}function Lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Vie(t){if(Array.isArray(t))return t}function Fie(t){return qie(t)||Bie(t)||E5(t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5(t,e){if(t){if(typeof t=="string")return Cb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cb(t,e)}}function Bie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return Cb(t)}function Cb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Tm=1e-4,T5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},A5=function(e,n){return e.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},mk=function(e,n){return function(r){var s=T5(e,n);return A5(s,r)}},zie=function(e,n){return function(r){var s=T5(e,n),i=[].concat(Fie(s.map(function(o,l){return o*l}).slice(1)),[0]);return A5(i,r)}},gk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Die(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=mk(s,o),h=mk(i,l),x=zie(s,o),y=function(N){return N>1?1:N<0?0:N},b=function(N){for(var _=N>1?1:N,S=_,C=0;C<8;++C){var T=f(S)-_,w=x(S);if(Math.abs(T-_)<Tm||w<Tm)return h(S);S=y(S-T/w)}return h(S)};return b.isStepper=!1,b},Gie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,f,h){var x=-(d-f)*r,y=h*i,b=h+(x-y)*l/1e3,v=h*l/1e3+d;return Math.abs(v-f)<Tm&&Math.abs(b)<Tm?[f,0]:[v,b]};return c.isStepper=!0,c.dt=l,c},Hie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gk(s);case"spring":return Gie();default:if(s.split("(")[0]==="cubic-bezier")return gk(s)}return typeof s=="function"?s:null};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function xk(t){return Jie(t)||Kie(t)||k5(t)||Wie()}function Wie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jie(t){if(Array.isArray(t))return Pb(t)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jb(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Xie(t,"string");return Bd(e)==="symbol"?e:String(e)}function Xie(t,e){if(Bd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qie(t,e){return tae(t)||eae(t,e)||k5(t,e)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k5(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tae(t){if(Array.isArray(t))return t}var Am=function(e,n,r){return e+(n-e)*r},Ib=function(e){var n=e.from,r=e.to;return n!==r},nae=function t(e,n,r){var s=Bu(function(i,o){if(Ib(o)){var l=e(o.from,o.to,o.velocity),c=Qie(l,2),u=c[0],d=c[1];return nn(nn({},o),{},{from:u,velocity:d})}return o},n);return r<1?Bu(function(i,o){return Ib(o)?nn(nn({},o),{},{velocity:Am(o.velocity,s[i].velocity,r),from:Am(o.from,s[i].from,r)}):o},n):t(e,s,r-1)};const rae=function(t,e,n,r,s){var i=Rie(t,e),o=i.reduce(function(v,N){return nn(nn({},v),{},jb({},N,[t[N],e[N]]))},{}),l=i.reduce(function(v,N){return nn(nn({},v),{},jb({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Bu(function(N,_){return _.from},l)},x=function(){return!Object.values(l).filter(Ib).length},y=function(N){u||(u=N);var _=N-u,S=_/n.dt;l=nae(n,l,S),s(nn(nn(nn({},t),e),h())),u=N,x()||(c=requestAnimationFrame(f))},b=function(N){d||(d=N);var _=(N-d)/r,S=Bu(function(T,w){return Am.apply(void 0,xk(w).concat([n(_)]))},o);if(s(nn(nn(nn({},t),e),S)),_<1)c=requestAnimationFrame(f);else{var C=Bu(function(T,w){return Am.apply(void 0,xk(w).concat([n(1)]))},o);s(nn(nn(nn({},t),e),C))}};return f=n.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}var sae=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iae(t,e){if(t==null)return{};var n=aae(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aae(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function py(t){return uae(t)||cae(t)||lae(t)||oae()}function oae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lae(t,e){if(t){if(typeof t=="string")return Rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rb(t,e)}}function cae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uae(t){if(Array.isArray(t))return Rb(t)}function Rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){wu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wu(t,e,n){return e=C5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C5(r.key),r)}}function hae(t,e,n){return e&&fae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C5(t){var e=pae(t,"string");return $l(e)==="symbol"?e:String(e)}function pae(t,e){if($l(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}function Mb(t,e){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Mb(t,e)}function gae(t){var e=xae();return function(){var r=km(t),s;if(e){var i=km(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return Ob(this,s)}}function Ob(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Db(t)}function Db(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function km(t){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},km(t)}var bs=function(t){mae(n,t);var e=gae(n);function n(r,s){var i;dae(this,n),i=e.call(this,r,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Db(i)),i.changeStyle=i.changeStyle.bind(Db(i)),!l||x<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Ob(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Ob(i);i.state={style:c?wu({},c,u):u}}else i.state={style:{}};return i}return hae(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var x={style:c?wu({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(x);return}if(!(Nie(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?f:s.to;if(this.state&&h){var v={style:c?wu({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(v)}this.runAnimation(Rr(Rr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,x=rae(o,l,Hie(u),c,this.changeStyle),y=function(){i.stopJSAnimation=x()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,x=function(b,v,N){if(N===0)return b;var _=v.duration,S=v.easing,C=S===void 0?"ease":S,T=v.style,w=v.properties,E=v.onAnimationEnd,A=N>0?o[N-1]:v,j=w||Object.keys(T);if(typeof C=="function"||C==="spring")return[].concat(py(b),[i.runJSAnimation.bind(i,{from:A.style,to:T,duration:_,easing:C}),_]);var M=pk(j,_,C),P=Rr(Rr(Rr({},A.style),T),{},{transition:M});return[].concat(py(b),[P,_,E]).filter(Mie)};return this.manager.start([c].concat(py(o.reduce(x,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=jie());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,x=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?wu({},l,c):c,v=pk(Object.keys(b),o,u);y.start([d,i,Rr(Rr({},b),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=iae(s,sae),u=D.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(x){var y=x.props,b=y.style,v=b===void 0?{}:b,N=y.className,_=D.cloneElement(x,Rr(Rr({},c),{},{style:Rr(Rr({},v),d),className:N}));return _};return u===1?f(D.Children.only(i)):U.createElement("div",null,D.Children.map(i,function(h){return f(h)}))}}]),n}(D.PureComponent);bs.displayName="Animate";bs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bs.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cm.apply(this,arguments)}function yae(t,e){return _ae(t)||wae(t,e)||bae(t,e)||vae()}function vae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _ae(t){if(Array.isArray(t))return t}function wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _k(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wk(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Eae(t,"string");return qd(e)=="symbol"?e:e+""}function Eae(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nk=function(e,n,r,s,i){var o=Math.min(Math.abs(r)/2,Math.abs(s)/2),l=s>=0?1:-1,c=r>=0?1:-1,u=s>=0&&r>=0||s<0&&r<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,x=4;h<x;h++)f[h]=i[h]>o?o:i[h];d="M".concat(e,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(n)),d+="L ".concat(e+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+l*f[1])),d+="L ".concat(e+r,",").concat(n+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-c*f[2],",").concat(n+s)),d+="L ".concat(e+c*f[3],",").concat(n+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d="M ".concat(e,",").concat(n+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(n,`
            L `).concat(e+r-c*y,",").concat(n,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r,",").concat(n+l*y,`
            L `).concat(e+r,",").concat(n+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+r-c*y,",").concat(n+s,`
            L `).concat(e+c*y,",").concat(n+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(n+s-l*y," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return d},Tae=function(e,n){if(!e||!n)return!1;var r=e.x,s=e.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return r>=u&&r<=d&&s>=f&&s<=h}return!1},Aae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},H_=function(e){var n=_k(_k({},Aae),e),r=D.useRef(),s=D.useState(-1),i=yae(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,x=n.className,y=n.animationEasing,b=n.animationDuration,v=n.animationBegin,N=n.isAnimationActive,_=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=Re("recharts-rectangle",x);return _?U.createElement(bs,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:y,isActive:_},function(C){var T=C.width,w=C.height,E=C.x,A=C.y;return U.createElement(bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,isActive:N,easing:y},U.createElement("path",Cm({},_e(n,!0),{className:S,d:Nk(E,A,T,w,h),ref:r})))}):U.createElement("path",Cm({},_e(n,!0),{className:S,d:Nk(c,u,d,f,h)}))},kae=["points","className","baseLinePoints","connectNulls"];function Ko(){return Ko=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ko.apply(this,arguments)}function Cae(t,e){if(t==null)return{};var n=jae(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sk(t){return Mae(t)||Rae(t)||Iae(t)||Pae()}function Pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iae(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function Rae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mae(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ek=function(e){return e&&e.x===+e.x&&e.y===+e.y},Oae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Ek(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Ek(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},qu=function(e,n){var r=Oae(e);n&&(r=[r.reduce(function(i,o){return[].concat(Sk(i),Sk(o))},[])]);var s=r.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},Dae=function(e,n,r){var s=qu(e,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(qu(n.reverse(),r).slice(1))},Lae=function(e){var n=e.points,r=e.className,s=e.baseLinePoints,i=e.connectNulls,o=Cae(e,kae);if(!n||!n.length)return null;var l=Re("recharts-polygon",r);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=Dae(n,s,i);return U.createElement("g",{className:l},U.createElement("path",Ko({},_e(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?U.createElement("path",Ko({},_e(o,!0),{fill:"none",d:qu(n,i)})):null,c?U.createElement("path",Ko({},_e(o,!0),{fill:"none",d:qu(s,i)})):null)}var d=qu(n,i);return U.createElement("path",Ko({},_e(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}var m0=function(e){var n=e.cx,r=e.cy,s=e.r,i=e.className,o=Re("recharts-dot",i);return n===+n&&r===+r&&s===+s?D.createElement("circle",$b({},_e(e,!1),Kp(e),{className:o,cx:n,cy:r,r:s})):null};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}var $ae=["x","y","top","left","width","height","className"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vb.apply(this,arguments)}function Tk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Vae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tk(Object(n),!0).forEach(function(r){Fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=Bae(t,"string");return zd(e)=="symbol"?e:e+""}function Bae(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qae(t,e){if(t==null)return{};var n=zae(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Gae=function(e,n,r,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(n,"h").concat(r)},Hae=function(e){var n=e.x,r=n===void 0?0:n,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,h=e.height,x=h===void 0?0:h,y=e.className,b=qae(e,$ae),v=Vae({x:r,y:i,top:l,left:u,width:f,height:x},b);return!le(r)||!le(i)||!le(f)||!le(x)||!le(l)||!le(u)?null:U.createElement("path",Vb({},_e(v,!0),{className:Re("recharts-cross",y),d:Gae(r,i,f,x,l,u)}))},Wae=u0,Kae=U4,Jae=Ns;function Yae(t,e){return t&&t.length?Wae(t,Jae(e),Kae):void 0}var Xae=Yae;const Qae=et(Xae);var Zae=u0,eoe=Ns,toe=B4;function noe(t,e){return t&&t.length?Zae(t,eoe(e),toe):void 0}var roe=noe;const soe=et(roe);var ioe=["cx","cy","angle","ticks","axisLine"],aoe=["ticks","tick","angle","tickFormatter","stroke"];function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zu.apply(this,arguments)}function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){g0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kk(t,e){if(t==null)return{};var n=ooe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ooe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function loe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ck(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P5(r.key),r)}}function coe(t,e,n){return e&&Ck(t.prototype,e),n&&Ck(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uoe(t,e,n){return e=jm(e),doe(t,j5()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function doe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return foe(t)}function foe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j5=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fb(t,e)}function Fb(t,e){return Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Fb(t,e)}function g0(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=poe(t,"string");return Vl(e)=="symbol"?e:e+""}function poe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x0=function(t){function e(){return loe(this,e),uoe(this,e,arguments)}return hoe(e,t),coe(e,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return ut(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=Qae(l,function(d){return d.coordinate||0}),u=soe(l,function(d){return d.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=kk(r,ioe),d=l.reduce(function(y,b){return[Math.min(y[0],b.coordinate),Math.max(y[1],b.coordinate)]},[1/0,-1/0]),f=ut(s,i,d[0],o),h=ut(s,i,d[1],o),x=va(va(va({},_e(u,!1)),{},{fill:"none"},_e(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",zu({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,d=kk(s,aoe),f=this.getTickTextAnchor(),h=_e(d,!1),x=_e(o,!1),y=i.map(function(b,v){var N=r.getTickValueCoord(b),_=va(va(va(va({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},h),{},{stroke:"none",fill:u},x),{},{index:v},N),{},{payload:b});return U.createElement(Be,zu({className:Re("recharts-polar-radius-axis-tick",g5(o)),key:"tick-".concat(b.coordinate)},eo(r.props,b,v)),e.renderTickItem(o,_,c?c(b.value,v):b.value))});return U.createElement(Be,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,o=r.tick;return!s||!s.length?null:U.createElement(Be,{className:Re("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,s):Ee(r)?o=r(s):o=U.createElement(to,zu({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(D.PureComponent);g0(x0,"displayName","PolarRadiusAxis");g0(x0,"axisType","radiusAxis");g0(x0,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function ja(){return ja=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ja.apply(this,arguments)}function jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(n),!0).forEach(function(r){y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R5(r.key),r)}}function goe(t,e,n){return e&&Pk(t.prototype,e),n&&Pk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xoe(t,e,n){return e=Pm(e),yoe(t,I5()?Reflect.construct(e,n||[],Pm(t).constructor):e.apply(t,n))}function yoe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return voe(t)}function voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function Pm(t){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pm(t)}function boe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Ub(t,e)}function y0(t,e,n){return e=R5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t){var e=woe(t,"string");return Fl(e)=="symbol"?e:e+""}function woe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _oe=Math.PI/180,Ik=1e-5,v0=function(t){function e(){return moe(this,e),xoe(this,e,arguments)}return boe(e,t),goe(e,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,d=u||8,f=ut(i,o,l,r.coordinate),h=ut(i,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*_oe),o;return i>Ik?o=s==="outer"?"start":"end":i<-Ik?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=ba(ba({},_e(this.props,!1)),{},{fill:"none"},_e(l,!1));if(c==="circle")return U.createElement(m0,ja({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var d=this.props.ticks,f=d.map(function(h){return ut(s,i,o,h.coordinate)});return U.createElement(Lae,ja({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,d=_e(this.props,!1),f=_e(o,!1),h=ba(ba({},d),{},{fill:"none"},_e(l,!1)),x=i.map(function(y,b){var v=r.getTickLineCoord(y),N=r.getTickTextAnchor(y),_=ba(ba(ba({textAnchor:N},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:y,x:v.x2,y:v.y2});return U.createElement(Be,ja({className:Re("recharts-polar-angle-axis-tick",g5(o)),key:"tick-".concat(y.coordinate)},eo(r.props,y,b)),l&&U.createElement("line",ja({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&e.renderTickItem(o,_,c?c(y.value,b):y.value))});return U.createElement(Be,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!s||!s.length?null:U.createElement(Be,{className:Re("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,s):Ee(r)?o=r(s):o=U.createElement(to,ja({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(D.PureComponent);y0(v0,"displayName","PolarAngleAxis");y0(v0,"axisType","angleAxis");y0(v0,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Noe=$O,Soe=Noe(Object.getPrototypeOf,Object),Eoe=Soe,Toe=ai,Aoe=Eoe,koe=oi,Coe="[object Object]",joe=Function.prototype,Poe=Object.prototype,M5=joe.toString,Ioe=Poe.hasOwnProperty,Roe=M5.call(Object);function Moe(t){if(!koe(t)||Toe(t)!=Coe)return!1;var e=Aoe(t);if(e===null)return!0;var n=Ioe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&M5.call(n)==Roe}var Ooe=Moe;const Doe=et(Ooe);var Loe=ai,$oe=oi,Voe="[object Boolean]";function Foe(t){return t===!0||t===!1||$oe(t)&&Loe(t)==Voe}var Uoe=Foe;const Boe=et(Uoe);function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Im(){return Im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Im.apply(this,arguments)}function qoe(t,e){return Woe(t)||Hoe(t,e)||Goe(t,e)||zoe()}function zoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t,e){if(t){if(typeof t=="string")return Rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rk(t,e)}}function Rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hoe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Woe(t){if(Array.isArray(t))return t}function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Ok(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e,n){return e=Joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=Yoe(t,"string");return Gd(e)=="symbol"?e:e+""}function Yoe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dk=function(e,n,r,s,i){var o=r-s,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-o/2,",").concat(n+i),l+="L ".concat(e+r-o/2-s,",").concat(n+i),l+="L ".concat(e,",").concat(n," Z"),l},Xoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Qoe=function(e){var n=Ok(Ok({},Xoe),e),r=D.useRef(),s=D.useState(-1),i=qoe(s,2),o=i[0],l=i[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,x=n.className,y=n.animationEasing,b=n.animationDuration,v=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var _=Re("recharts-trapezoid",x);return N?U.createElement(bs,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:b,animationEasing:y,isActive:N},function(S){var C=S.upperWidth,T=S.lowerWidth,w=S.height,E=S.x,A=S.y;return U.createElement(bs,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:b,easing:y},U.createElement("path",Im({},_e(n,!0),{className:_,d:Dk(E,A,C,T,w),ref:r})))}):U.createElement("g",null,U.createElement("path",Im({},_e(n,!0),{className:_,d:Dk(c,u,d,f,h)})))},Zoe=["option","shapeType","propTransformer","activeClassName","isActive"];function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function ele(t,e){if(t==null)return{};var n=tle(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Rm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nle(t,e,n){return e=rle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rle(t){var e=sle(t,"string");return Hd(e)=="symbol"?e:e+""}function sle(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ile(t,e){return Rm(Rm({},e),t)}function ale(t,e){return t==="symbols"}function $k(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(H_,n);case"trapezoid":return U.createElement(Qoe,n);case"sector":return U.createElement(v5,n);case"symbols":if(ale(e))return U.createElement(d_,n);break;default:return null}}function ole(t){return D.isValidElement(t)?t.props:t}function O5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,s=r===void 0?ile:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=ele(t,Zoe),u;if(D.isValidElement(e))u=D.cloneElement(e,Rm(Rm({},c),ole(e)));else if(Ee(e))u=e(c);else if(Doe(e)&&!Boe(e)){var d=s(e,c);u=U.createElement($k,{shapeType:n,elementProps:d})}else{var f=c;u=U.createElement($k,{shapeType:n,elementProps:f})}return l?U.createElement(Be,{className:o},u):u}function b0(t,e){return e!=null&&"trapezoids"in t.props}function w0(t,e){return e!=null&&"sectors"in t.props}function Wd(t,e){return e!=null&&"points"in t.props}function lle(t,e){var n,r,s=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return s&&i}function cle(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function ule(t,e){var n=t.x===e.x,r=t.y===e.y,s=t.z===e.z;return n&&r&&s}function dle(t,e){var n;return b0(t,e)?n=lle:w0(t,e)?n=cle:Wd(t,e)&&(n=ule),n}function fle(t,e){var n;return b0(t,e)?n="trapezoids":w0(t,e)?n="sectors":Wd(t,e)&&(n="points"),n}function hle(t,e){if(b0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(w0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wd(t,e)?e.payload:{}}function ple(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,s=fle(n,e),i=hle(n,e),o=r.filter(function(c,u){var d=Dl(i,c),f=n.props[s].filter(function(y){var b=dle(n,e);return b(y,e)}),h=n.props[s].indexOf(f[f.length-1]),x=u===h;return d&&x}),l=r.indexOf(o[o.length-1]);return l}var Zh;function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L5(r.key),r)}}function gle(t,e,n){return e&&Fk(t.prototype,e),n&&Fk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xle(t,e,n){return e=Mm(e),yle(t,D5()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function yle(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vle(t)}function vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D5=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function ble(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Bb(t,e)}function xr(t,e,n){return e=L5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L5(t){var e=wle(t,"string");return Ul(e)=="symbol"?e:e+""}function wle(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ci=function(t){function e(n){var r;return mle(this,e),r=xle(this,e,[n]),xr(r,"pieRef",null),xr(r,"sectorRefs",[]),xr(r,"id",vc("recharts-pie-")),xr(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ee(s)&&s()}),xr(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ee(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ble(e,t),gle(e,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,d=_e(this.props,!1),f=_e(o,!1),h=_e(l,!1),x=o&&o.offsetRadius||20,y=r.map(function(b,v){var N=(b.startAngle+b.endAngle)/2,_=ut(b.cx,b.cy,b.outerRadius+x,N),S=at(at(at(at({},d),b),{},{stroke:"none"},f),{},{index:v,textAnchor:e.getTextAnchor(_.x,b.cx)},_),C=at(at(at(at({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:v,points:[ut(b.cx,b.cy,b.outerRadius,N),_]}),T=c;return Ie(c)&&Ie(u)?T="value":Ie(c)&&(T=u),U.createElement(Be,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,C,"line"),e.renderLabelItem(o,S,Ut(b,T)))});return U.createElement(Be,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=s.isActiveIndex(d),h=c&&s.hasActiveIndex()?c:null,x=f?o:h,y=at(at({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return U.createElement(Be,Jo({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},eo(s.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),U.createElement(O5,Jo({option:x,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,d=s.animationId,f=this.state,h=f.prevSectors,x=f.prevIsAnimationActive;return U.createElement(bs,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,v=[],N=i&&i[0],_=N.startAngle;return i.forEach(function(S,C){var T=h&&h[C],w=C>0?ar(S,"paddingAngle",0):0;if(T){var E=qn(T.endAngle-T.startAngle,S.endAngle-S.startAngle),A=at(at({},S),{},{startAngle:_+w,endAngle:_+E(b)+w});v.push(A),_=A.endAngle}else{var j=S.endAngle,M=S.startAngle,P=qn(0,j-M),O=P(b),R=at(at({},S),{},{startAngle:_+w,endAngle:_+O+w});v.push(R),_=R.endAngle}}),U.createElement(Be,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Dl(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,d=s.cy,f=s.innerRadius,h=s.outerRadius,x=s.isAnimationActive,y=this.state.isAnimationFinished;if(i||!o||!o.length||!le(u)||!le(d)||!le(f)||!le(h))return null;var b=Re("recharts-pie",l);return U.createElement(Be,{tabIndex:this.props.rootTabIndex,className:b,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Jt.renderCallByParent(this.props,null,!1),(!x||y)&&qs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(U.isValidElement(r))return U.cloneElement(r,s);if(Ee(r))return r(s);var o=Re("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(dl,Jo({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,s,i){if(U.isValidElement(r))return U.cloneElement(r,s);var o=i;if(Ee(r)&&(o=r(s),U.isValidElement(o)))return o;var l=Re("recharts-pie-label-text",typeof r!="boolean"&&!Ee(r)?r.className:"");return U.createElement(to,Jo({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(D.PureComponent);Zh=ci;xr(ci,"displayName","Pie");xr(ci,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});xr(ci,"parseDeltaAngle",function(t,e){var n=In(e-t),r=Math.min(Math.abs(e-t),360);return n*r});xr(ci,"getRealPieData",function(t){var e=t.data,n=t.children,r=_e(t,!1),s=wr(n,r0);return e&&e.length?e.map(function(i,o){return at(at(at({payload:i},r),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return at(at({},r),i.props)}):[]});xr(ci,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,s=e.width,i=e.height,o=m5(s,i),l=r+Rn(t.cx,s,s/2),c=n+Rn(t.cy,i,i/2),u=Rn(t.innerRadius,o,0),d=Rn(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});xr(ci,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?at(at({},e.type.defaultProps),e.props):e.props,s=Zh.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,x=Math.abs(r.minAngle),y=Zh.parseCoordinateOfPie(r,n),b=Zh.parseDeltaAngle(o,l),v=Math.abs(b),N=u;Ie(u)&&Ie(f)?(Br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Ie(u)&&(Br(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=f);var _=s.filter(function(A){return Ut(A,N,0)!==0}).length,S=(v>=360?_:_-1)*c,C=v-_*x-S,T=s.reduce(function(A,j){var M=Ut(j,N,0);return A+(le(M)?M:0)},0),w;if(T>0){var E;w=s.map(function(A,j){var M=Ut(A,N,0),P=Ut(A,d,j),O=(le(M)?M:0)/T,R;j?R=E.endAngle+In(b)*c*(M!==0?1:0):R=o;var q=R+In(b)*((M!==0?x:0)+O*C),F=(R+q)/2,$=(y.innerRadius+y.outerRadius)/2,B=[{name:P,value:M,payload:A,dataKey:N,type:h}],V=ut(y.cx,y.cy,$,F);return E=at(at(at({percent:O,cornerRadius:i,name:P,tooltipPayload:B,midAngle:F,middleRadius:$,tooltipPosition:V},A),y),{},{value:Ut(A,N),startAngle:R,endAngle:q,payload:A,paddingAngle:In(b)*c}),E})}return at(at({},y),{},{sectors:w,data:s})});var _le=Math.ceil,Nle=Math.max;function Sle(t,e,n,r){for(var s=-1,i=Nle(_le((e-t)/(n||1)),0),o=Array(i);i--;)o[r?i:++s]=t,t+=n;return o}var Ele=Sle,Tle=r4,Uk=1/0,Ale=17976931348623157e292;function kle(t){if(!t)return t===0?t:0;if(t=Tle(t),t===Uk||t===-Uk){var e=t<0?-1:1;return e*Ale}return t===t?t:0}var $5=kle,Cle=Ele,jle=n0,my=$5;function Ple(t){return function(e,n,r){return r&&typeof r!="number"&&jle(e,n,r)&&(n=r=void 0),e=my(e),n===void 0?(n=e,e=0):n=my(n),r=r===void 0?e<n?1:-1:my(r),Cle(e,n,r,t)}}var Ile=Ple,Rle=Ile,Mle=Rle(),Ole=Mle;const Om=et(Ole);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Bk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function qk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bk(Object(n),!0).forEach(function(r){V5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V5(t,e,n){return e=Dle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Lle(t,"string");return Kd(e)=="symbol"?e:e+""}function Lle(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $le=["Webkit","Moz","O","ms"],Vle=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=$le.reduce(function(i,o){return qk(qk({},i),{},V5({},o+r,n))},{});return s[e]=n,s};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(this,arguments)}function zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(n),!0).forEach(function(r){Zn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U5(r.key),r)}}function Ule(t,e,n){return e&&Gk(t.prototype,e),n&&Gk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ble(t,e,n){return e=Lm(e),qle(t,F5()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function qle(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zle(t)}function zle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F5=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function Gle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},qb(t,e)}function Zn(t,e,n){return e=U5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U5(t){var e=Hle(t,"string");return Bl(e)=="symbol"?e:e+""}function Hle(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wle=function(e){var n=e.data,r=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Fu().domain(Om(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(s),scale:u,scaleValues:d}},Hk=function(e){return e.changedTouches&&!!e.changedTouches.length},ql=function(t){function e(n){var r;return Fle(this,e),r=Ble(this,e,[n]),Zn(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),Zn(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),Zn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),r.detachDragEndListener()}),Zn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Zn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Zn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Zn(r,"handleSlideDragStart",function(s){var i=Hk(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Gle(e,t),Ule(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),x=e.getIndexInRange(o,f),y=e.getIndexInRange(o,h);return{startIndex:x-x%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Ut(i[r],l,r);return Ee(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,x=c.endIndex,y=c.onChange,b=r.pageX-i;b>0?b=Math.min(b,u+d-f-l,u+d-f-o):b<0&&(b=Math.max(b,u-o,u-l));var v=this.getIndex({startX:o+b,endX:l+b});(v.startIndex!==h||v.endIndex!==x)&&y&&y(v),this.setState({startX:o+b,endX:l+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=Hk(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,x=d.travellerWidth,y=d.onChange,b=d.gap,v=d.data,N={startX:this.state.startX,endX:this.state.endX},_=r.pageX-i;_>0?_=Math.min(_,f+h-x-u):_<0&&(_=Math.max(_,f-u)),N[o]=u+_;var S=this.getIndex(N),C=S.startIndex,T=S.endIndex,w=function(){var A=v.length-1;return o==="startX"&&(l>c?C%b===0:T%b===0)||l<c&&T===A||o==="endX"&&(l>c?T%b===0:C%b===0)||l>c&&T===A};this.setState(Zn(Zn({},o,u+_),"brushMoveStartX",r.pageX),function(){y&&w()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=l.length)){var x=l[h];s==="startX"&&x>=u||s==="endX"&&x<=c||this.setState(Zn({},s,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=D.Children.only(u);return f?U.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,x=c.ariaLabel,y=c.data,b=c.startIndex,v=c.endIndex,N=Math.max(r,this.props.x),_=gy(gy({},_e(this.props,!1)),{},{x:N,y:u,width:d,height:f}),S=x||"Min value: ".concat((i=y[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return U.createElement(Be,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(r,s)+u,f=Math.max(Math.abs(s-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,x=5,y={pointerEvents:"none",fill:u};return U.createElement(Be,{className:"recharts-brush-texts"},U.createElement(to,Dm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-x,y:o+l/2},y),this.getTextOfTick(s)),U.createElement(to,Dm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+x,y:o+l/2},y),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,x=h.startX,y=h.endX,b=h.isTextActive,v=h.isSlideMoving,N=h.isTravellerMoving,_=h.isTravellerFocused;if(!s||!s.length||!le(l)||!le(c)||!le(u)||!le(d)||u<=0||d<=0)return null;var S=Re("recharts-brush",i),C=U.Children.count(o)===1,T=Vle("userSelect","none");return U.createElement(Be,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(x,y),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(y,"endX"),(b||v||N||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(i+l/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),U.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return U.isValidElement(r)?i=U.cloneElement(r,s):Ee(r)?i=r(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return gy({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?Wle({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(x){return s.scale(x)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>s?l=c:o=c}return s>=r[l]?l:o}}])}(D.PureComponent);Zn(ql,"displayName","Brush");Zn(ql,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kle=y_;function Jle(t,e){var n;return Kle(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var Yle=Jle,Xle=jO,Qle=Ns,Zle=Yle,ece=Xn,tce=n0;function nce(t,e,n){var r=ece(t)?Xle:Zle;return n&&tce(t,e,n)&&(e=void 0),r(t,Qle(e))}var rce=nce;const sce=et(rce);var us=function(e,n){var r=e.alwaysShow,s=e.ifOverflow;return r&&(s="extendDomain"),s===n},Wk=QO;function ice(t,e,n){e=="__proto__"&&Wk?Wk(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ace=ice,oce=ace,lce=YO,cce=Ns;function uce(t,e){var n={};return e=cce(e),lce(t,function(r,s,i){oce(n,s,e(r,s,i))}),n}var dce=uce;const fce=et(dce);function hce(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var pce=hce,mce=y_;function gce(t,e){var n=!0;return mce(t,function(r,s,i){return n=!!e(r,s,i),n}),n}var xce=gce,yce=pce,vce=xce,bce=Ns,wce=Xn,_ce=n0;function Nce(t,e,n){var r=wce(t)?yce:vce;return n&&_ce(t,e,n)&&(e=void 0),r(t,bce(e))}var Sce=Nce;const B5=et(Sce);var Ece=["x","y"];function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function zb(){return zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zb.apply(this,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=kce(t,"string");return Jd(e)=="symbol"?e:e+""}function kce(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cce(t,e){if(t==null)return{};var n=jce(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pce(t,e){var n=t.x,r=t.y,s=Cce(t,Ece),i="".concat(n),o=parseInt(i,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),h=parseInt(f,10);return du(du(du(du(du({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function Jk(t){return U.createElement(O5,zb({shapeType:"rectangle",propTransformer:Pce,activeClassName:"recharts-active-bar"},t))}var Ice=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof e=="number")return e;var i=le(r)||Z9(r);return i?e(r,s):(i||ro(),n)}},Rce=["value","background"],q5;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Mce(t,e){if(t==null)return{};var n=Oce(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $m(){return $m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$m.apply(this,arguments)}function Yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(n),!0).forEach(function(r){Ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G5(r.key),r)}}function Lce(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ce(t,e,n){return e=Vm(e),Vce(t,z5()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function Vce(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fce(t)}function Fce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z5=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function Uce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gb(t,e)}function Gb(t,e){return Gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Gb(t,e)}function Ii(t,e,n){return e=G5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G5(t){var e=Bce(t,"string");return zl(e)=="symbol"?e:e+""}function Bce(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qr=function(t){function e(){var n;Dce(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=$ce(this,e,[].concat(s)),Ii(n,"state",{isAnimationFinished:!1}),Ii(n,"id",vc("recharts-bar-")),Ii(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Ii(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Uce(e,t),Lce(e,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=_e(this.props,!1);return r&&r.map(function(f,h){var x=h===c,y=x?u:o,b=It(It(It({},d),f),{},{isActive:x,option:y,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return U.createElement(Be,$m({className:"recharts-bar-rectangle"},eo(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(Jk,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return U.createElement(bs,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var y=x.t,b=i.map(function(v,N){var _=h&&h[N];if(_){var S=qn(_.x,v.x),C=qn(_.y,v.y),T=qn(_.width,v.width),w=qn(_.height,v.height);return It(It({},v),{},{x:S(y),y:C(y),width:T(y),height:w(y)})}if(o==="horizontal"){var E=qn(0,v.height),A=E(y);return It(It({},v),{},{y:v.y+v.height-A,height:A})}var j=qn(0,v.width),M=j(y);return It(It({},v),{},{width:M})});return U.createElement(Be,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Dl(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=_e(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Mce(u,Rce);if(!f)return null;var x=It(It(It(It(It({},h),{},{fill:"#eee"},f),c),eo(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return U.createElement(Jk,$m({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},x))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=wr(d,p0);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,x=function(v,N){var _=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:_,errorVal:Ut(v,N)}},y={clipPath:r?"url(#clipPath-".concat(s,")"):null};return U.createElement(Be,y,f.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,x=r.isAnimationActive,y=r.background,b=r.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Re("recharts-bar",o),_=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,C=_||S,T=Ie(b)?this.id:b;return U.createElement(Be,{className:N},_||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:_?u:u-f/2,y:S?d:d-h/2,width:_?f:f*2,height:S?h:h*2}))):null,U.createElement(Be,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(T,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,T),(!x||v)&&qs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])}(D.PureComponent);q5=qr;Ii(qr,"displayName","Bar");Ii(qr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ii(qr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=yre(r,n);if(!x)return null;var y=e.layout,b=n.type.defaultProps,v=b!==void 0?It(It({},b),n.props):n.props,N=v.dataKey,_=v.children,S=v.minPointSize,C=y==="horizontal"?o:i,T=u?C.scale.domain():null,w=Ere({numericAxis:C}),E=wr(_,r0),A=f.map(function(j,M){var P,O,R,q,F,$;u?P=vre(u[d+M],T):(P=Ut(j,N),Array.isArray(P)||(P=[w,P]));var B=Ice(S,q5.defaultProps.minPointSize)(P[1],M);if(y==="horizontal"){var V,H=[o.scale(P[0]),o.scale(P[1])],J=H[0],W=H[1];O=qA({axis:i,ticks:l,bandSize:s,offset:x.offset,entry:j,index:M}),R=(V=W??J)!==null&&V!==void 0?V:void 0,q=x.size;var X=J-W;if(F=Number.isNaN(X)?0:X,$={x:O,y:o.y,width:q,height:o.height},Math.abs(B)>0&&Math.abs(F)<Math.abs(B)){var se=In(F||B)*(Math.abs(B)-Math.abs(F));R-=se,F+=se}}else{var be=[i.scale(P[0]),i.scale(P[1])],z=be[0],Q=be[1];if(O=z,R=qA({axis:o,ticks:c,bandSize:s,offset:x.offset,entry:j,index:M}),q=Q-z,F=x.size,$={x:i.x,y:R,width:i.width,height:F},Math.abs(B)>0&&Math.abs(q)<Math.abs(B)){var ee=In(q||B)*(Math.abs(B)-Math.abs(q));q+=ee}}return It(It(It({},j),{},{x:O,y:R,width:q,height:F,value:u?P:P[1],payload:j,background:$},E&&E[M]&&E[M].props),{},{tooltipPayload:[h5(n,j)],tooltipPosition:{x:O+q/2,y:R+F/2}})});return It({data:A,layout:y},h)});function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function qce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function zce(t,e,n){return e&&Qk(t.prototype,e),n&&Qk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=Gce(t,"string");return Yd(e)=="symbol"?e:e+""}function Gce(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W5=function(e,n,r,s,i){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},h=!!tr(u,qr);return d.reduce(function(x,y){var b=n[y],v=b.orientation,N=b.domain,_=b.padding,S=_===void 0?{}:_,C=b.mirror,T=b.reversed,w="".concat(v).concat(C?"Mirror":""),E,A,j,M,P;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=N[1]-N[0],R=1/0,q=b.categoricalDomain.sort(nq);if(q.forEach(function(be,z){z>0&&(R=Math.min((be||0)-(q[z-1]||0),R))}),Number.isFinite(R)){var F=R/O,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(E=F*$/2),b.padding==="no-gap"){var B=Rn(e.barCategoryGap,F*$),V=F*$/2;E=V-B-(V-B)/$*B}}}s==="xAxis"?A=[r.left+(S.left||0)+(E||0),r.left+r.width-(S.right||0)-(E||0)]:s==="yAxis"?A=c==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(E||0),r.top+r.height-(S.bottom||0)-(E||0)]:A=b.range,T&&(A=[A[1],A[0]]);var H=c5(b,i,h),J=H.scale,W=H.realScaleType;J.domain(N).range(A),u5(J);var X=d5(J,Lr(Lr({},b),{},{realScaleType:W}));s==="xAxis"?(P=v==="top"&&!C||v==="bottom"&&C,j=r.left,M=f[w]-P*b.height):s==="yAxis"&&(P=v==="left"&&!C||v==="right"&&C,j=f[w]-P*b.width,M=r.top);var se=Lr(Lr(Lr({},b),X),{},{realScaleType:W,x:j,y:M,scale:J,width:s==="xAxis"?r.width:b.width,height:s==="yAxis"?r.height:b.height});return se.bandSize=_m(se,X),!b.hide&&s==="xAxis"?f[w]+=(P?-1:1)*se.height:b.hide||(f[w]+=(P?-1:1)*se.width),Lr(Lr({},x),{},_0({},y,se))},{})},K5=function(e,n){var r=e.x,s=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(s,o),width:Math.abs(i-r),height:Math.abs(o-s)}},Hce=function(e){var n=e.x1,r=e.y1,s=e.x2,i=e.y2;return K5({x:n,y:r},{x:s,y:i})},J5=function(){function t(e){qce(this,t),this.scale=e}return zce(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new t(n)}}])}();_0(J5,"EPS",1e-4);var W_=function(e){var n=Object.keys(e).reduce(function(r,s){return Lr(Lr({},r),{},_0({},s,J5.create(e[s])))},{});return Lr(Lr({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return fce(s,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return B5(s,function(i,o){return n[o].isInRange(i)})}})};function Wce(t){return(t%180+180)%180}var Kce=function(e){var n=e.width,r=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wce(s),o=i*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Jce=Ns,Yce=vf,Xce=e0;function Qce(t){return function(e,n,r){var s=Object(e);if(!Yce(e)){var i=Jce(n);e=Xce(e),n=function(l){return i(s[l],l,s)}}var o=t(e,n,r);return o>-1?s[i?e[o]:o]:void 0}}var Zce=Qce,eue=$5;function tue(t){var e=eue(t),n=e%1;return e===e?n?e-n:e:0}var nue=tue,rue=zO,sue=Ns,iue=nue,aue=Math.max;function oue(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var s=n==null?0:iue(n);return s<0&&(s=aue(r+s,0)),rue(t,sue(e),s)}var lue=oue,cue=Zce,uue=lue,due=cue(uue),fue=due;const hue=et(fue);var pue=i9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),K_=D.createContext(void 0),J_=D.createContext(void 0),Y5=D.createContext(void 0),X5=D.createContext({}),Q5=D.createContext(void 0),Z5=D.createContext(0),eD=D.createContext(0),eC=function(e){var n=e.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=pue(i);return U.createElement(K_.Provider,{value:r},U.createElement(J_.Provider,{value:s},U.createElement(X5.Provider,{value:i},U.createElement(Y5.Provider,{value:d},U.createElement(Q5.Provider,{value:o},U.createElement(Z5.Provider,{value:u},U.createElement(eD.Provider,{value:c},l)))))))},mue=function(){return D.useContext(Q5)},tD=function(e){var n=D.useContext(K_);n==null&&ro();var r=n[e];return r==null&&ro(),r},gue=function(){var e=D.useContext(K_);return Si(e)},xue=function(){var e=D.useContext(J_),n=hue(e,function(r){return B5(r.domain,Number.isFinite)});return n||Si(e)},nD=function(e){var n=D.useContext(J_);n==null&&ro();var r=n[e];return r==null&&ro(),r},yue=function(){var e=D.useContext(Y5);return e},vue=function(){return D.useContext(X5)},Y_=function(){return D.useContext(eD)},X_=function(){return D.useContext(Z5)};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sD(r.key),r)}}function _ue(t,e,n){return e&&wue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nue(t,e,n){return e=Fm(e),Sue(t,rD()?Reflect.construct(e,n||[],Fm(t).constructor):e.apply(t,n))}function Sue(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eue(t)}function Eue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rD=function(){return!!t})()}function Fm(t){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fm(t)}function Tue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Hb(t,e)}function tC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function nC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tC(Object(n),!0).forEach(function(r){Q_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q_(t,e,n){return e=sD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sD(t){var e=Aue(t,"string");return Gl(e)=="symbol"?e:e+""}function Aue(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function kue(t,e){return Iue(t)||Pue(t,e)||jue(t,e)||Cue()}function Cue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jue(t,e){if(t){if(typeof t=="string")return rC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(t,e)}}function rC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Iue(t){if(Array.isArray(t))return t}function Wb(){return Wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wb.apply(this,arguments)}var Rue=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):Ee(e)?r=e(n):r=U.createElement("line",Wb({},n,{className:"recharts-reference-line-line"})),r},Mue=function(e,n,r,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,x=i.height;if(r){var y=u.y,b=e.y.apply(y,{position:o});if(us(u,"discard")&&!e.y.isInRange(b))return null;var v=[{x:d+h,y:b},{x:d,y:b}];return c==="left"?v.reverse():v}if(n){var N=u.x,_=e.x.apply(N,{position:o});if(us(u,"discard")&&!e.x.isInRange(_))return null;var S=[{x:_,y:f+x},{x:_,y:f}];return l==="top"?S.reverse():S}if(s){var C=u.segment,T=C.map(function(w){return e.apply(w,{position:o})});return us(u,"discard")&&sce(T,function(w){return!e.isInRange(w)})?null:T}return null};function Oue(t){var e=t.x,n=t.y,r=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=mue(),d=tD(s),f=nD(i),h=yue();if(!u||!h)return null;Br(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=W_({x:d.scale,y:f.scale}),y=qt(e),b=qt(n),v=r&&r.length===2,N=Mue(x,y,b,v,h,t.position,d.orientation,f.orientation,t);if(!N)return null;var _=kue(N,2),S=_[0],C=S.x,T=S.y,w=_[1],E=w.x,A=w.y,j=us(t,"hidden")?"url(#".concat(u,")"):void 0,M=nC(nC({clipPath:j},_e(t,!0)),{},{x1:C,y1:T,x2:E,y2:A});return U.createElement(Be,{className:Re("recharts-reference-line",l)},Rue(o,M),Jt.renderCallByParent(t,Hce({x1:C,y1:T,x2:E,y2:A})))}var Z_=function(t){function e(){return bue(this,e),Nue(this,e,arguments)}return Tue(e,t),_ue(e,[{key:"render",value:function(){return U.createElement(Oue,this.props)}}])}(U.Component);Q_(Z_,"displayName","ReferenceLine");Q_(Z_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function sC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function iC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sC(Object(n),!0).forEach(function(r){N0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aD(r.key),r)}}function $ue(t,e,n){return e&&Lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,n){return e=Um(e),Fue(t,iD()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Fue(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iD=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Jb(t,e)}function N0(t,e,n){return e=aD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aD(t){var e=que(t,"string");return Hl(e)=="symbol"?e:e+""}function que(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zue=function(e){var n=e.x,r=e.y,s=e.xAxis,i=e.yAxis,o=W_({x:s.scale,y:i.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return us(e,"discard")&&!o.isInRange(l)?null:l},S0=function(t){function e(){return Due(this,e),Vue(this,e,arguments)}return Bue(e,t),$ue(e,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=qt(s),d=qt(i);if(Br(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zue(this.props);if(!f)return null;var h=f.x,x=f.y,y=this.props,b=y.shape,v=y.className,N=us(this.props,"hidden")?"url(#".concat(c,")"):void 0,_=iC(iC({clipPath:N},_e(this.props,!0)),{},{cx:h,cy:x});return U.createElement(Be,{className:Re("recharts-reference-dot",v)},e.renderDot(b,_),Jt.renderCallByParent(this.props,{x:h-o,y:x-o,width:2*o,height:2*o}))}}])}(U.Component);N0(S0,"displayName","ReferenceDot");N0(S0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});N0(S0,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ee(t)?n=t(e):n=U.createElement(m0,Kb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function aC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function oC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aC(Object(n),!0).forEach(function(r){E0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lD(r.key),r)}}function Wue(t,e,n){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=Bm(e),Jue(t,oD()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function Jue(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oD=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function Xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xb(t,e)}function Xb(t,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Xb(t,e)}function E0(t,e,n){return e=lD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lD(t){var e=Que(t,"string");return Wl(e)=="symbol"?e:e+""}function Que(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zue=function(e,n,r,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=W_({x:d.scale,y:f.scale}),x={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:n?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return us(i,"discard")&&(!h.isInRange(x)||!h.isInRange(y))?null:K5(x,y)},T0=function(t){function e(){return Gue(this,e),Kue(this,e,arguments)}return Xue(e,t),Wue(e,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Br(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=qt(s),h=qt(i),x=qt(o),y=qt(l),b=this.props.shape;if(!f&&!h&&!x&&!y&&!b)return null;var v=Zue(f,h,x,y,this.props);if(!v&&!b)return null;var N=us(this.props,"hidden")?"url(#".concat(d,")"):void 0;return U.createElement(Be,{className:Re("recharts-reference-area",c)},e.renderRect(b,oC(oC({clipPath:N},_e(this.props,!0)),v)),Jt.renderCallByParent(this.props,v))}}])}(U.Component);E0(T0,"displayName","ReferenceArea");E0(T0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});E0(T0,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):Ee(t)?n=t(e):n=U.createElement(H_,Yb({},e,{className:"recharts-reference-area-rect"})),n});function cD(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],s=0;s<t.length;s+=e)r.push(t[s]);return r}function ede(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Kce(r,n)}function tde(t,e,n){var r=n==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:r?s:i,end:r?s+o:i+l}:{start:r?s+o:i+l,end:r?s:i}}function qm(t,e,n,r,s){if(t*e<t*r||t*e>t*s)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-s)<=0}function nde(t,e){return cD(t,e+1)}function rde(t,e,n,r,s){for(var i=(r||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=r==null?void 0:r[c];if(y===void 0)return{v:cD(r,u)};var b=c,v,N=function(){return v===void 0&&(v=n(y,b)),v},_=y.coordinate,S=c===0||qm(t,_,N,d,l);S||(c=0,d=o,u+=1),S&&(d=_+t*(N()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function lC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lC(Object(n),!0).forEach(function(r){sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e,n){return e=ide(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ide(t){var e=ade(t,"string");return Xd(e)=="symbol"?e:e+""}function ade(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ode(t,e,n,r,s){for(var i=(r||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(h){var x=i[h],y,b=function(){return y===void 0&&(y=n(x,h)),y};if(h===o-1){var v=t*(x.coordinate+t*b()/2-c);i[h]=x=yn(yn({},x),{},{tickCoord:v>0?x.coordinate-v*t:x.coordinate})}else i[h]=x=yn(yn({},x),{},{tickCoord:x.coordinate});var N=qm(t,x.tickCoord,b,l,c);N&&(c=x.tickCoord-t*(b()/2+s),i[h]=yn(yn({},x),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function lde(t,e,n,r,s,i){var o=(r||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var d=r[l-1],f=n(d,l-1),h=t*(d.coordinate+t*f/2-u);o[l-1]=d=yn(yn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var x=qm(t,d.tickCoord,function(){return f},c,u);x&&(u=d.tickCoord-t*(f/2+s),o[l-1]=yn(yn({},d),{},{isShow:!0}))}for(var y=i?l-1:l,b=function(_){var S=o[_],C,T=function(){return C===void 0&&(C=n(S,_)),C};if(_===0){var w=t*(S.coordinate-t*T()/2-c);o[_]=S=yn(yn({},S),{},{tickCoord:w<0?S.coordinate-w*t:S.coordinate})}else o[_]=S=yn(yn({},S),{},{tickCoord:S.coordinate});var E=qm(t,S.tickCoord,T,c,u);E&&(c=S.tickCoord+t*(T()/2+s),o[_]=yn(yn({},S),{},{isShow:!0}))},v=0;v<y;v++)b(v);return o}function eN(t,e,n){var r=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!r)return[];if(le(c)||mo.isSsr)return nde(s,typeof c=="number"&&le(c)?c:0);var h=[],x=l==="top"||l==="bottom"?"width":"height",y=d&&x==="width"?Vu(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(S,C){var T=Ee(u)?u(S.value,C):S.value;return x==="width"?ede(Vu(T,{fontSize:e,letterSpacing:n}),y,f):Vu(T,{fontSize:e,letterSpacing:n})[x]},v=s.length>=2?In(s[1].coordinate-s[0].coordinate):1,N=tde(i,v,x);return c==="equidistantPreserveStart"?rde(v,N,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=lde(v,N,b,s,o,c==="preserveStartEnd"):h=ode(v,N,b,s,o),h.filter(function(_){return _.isShow}))}var cde=["viewBox"],ude=["viewBox"],dde=["ticks"];function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function Yo(){return Yo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yo.apply(this,arguments)}function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){tN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xy(t,e){if(t==null)return{};var n=fde(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dD(r.key),r)}}function pde(t,e,n){return e&&uC(t.prototype,e),n&&uC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,n){return e=zm(e),gde(t,uD()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function gde(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xde(t)}function xde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uD=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Qb(t,e)}function tN(t,e,n){return e=dD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dD(t){var e=vde(t,"string");return Kl(e)=="symbol"?e:e+""}function vde(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tc=function(t){function e(n){var r;return hde(this,e),r=mde(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yde(e,t),pde(e,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,o=xy(r,cde),l=this.props,c=l.viewBox,u=xy(l,ude);return!ll(i,c)||!ll(o,u)||!ll(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,x,y,b,v,N,_,S=f?-1:1,C=r.tickSize||d,T=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=y=r.coordinate,v=o+ +!f*c,b=v-S*C,_=b-S*h,N=T;break;case"left":b=v=r.coordinate,y=i+ +!f*l,x=y-S*C,N=x-S*h,_=T;break;case"right":b=v=r.coordinate,y=i+ +f*l,x=y+S*C,N=x+S*h,_=T;break;default:x=y=r.coordinate,v=o+ +f*c,b=v+S*C,_=b+S*h,N=T;break}return{line:{x1:x,y1:b,x2:y,y2:v},tick:{x:N,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=Lt(Lt(Lt({},_e(this.props,!1)),_e(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Lt(Lt({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);f=Lt(Lt({},f),{},{x1:s+x*o,y1:i,x2:s+x*o,y2:i+l})}return U.createElement("line",Yo({},f,{className:Re("recharts-cartesian-axis-line",ar(d,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,x=eN(Lt(Lt({},this.props),{},{ticks:r}),s,i),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),v=_e(this.props,!1),N=_e(d,!1),_=Lt(Lt({},v),{},{fill:"none"},_e(c,!1)),S=x.map(function(C,T){var w=o.getTickLineCoord(C),E=w.line,A=w.tick,j=Lt(Lt(Lt(Lt({textAnchor:y,verticalAnchor:b},v),{},{stroke:"none",fill:u},N),A),{},{index:T,payload:C,visibleTicksCount:x.length,tickFormatter:f});return U.createElement(Be,Yo({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},eo(o.props,C,T)),c&&U.createElement("line",Yo({},_,E,{className:Re("recharts-cartesian-axis-tick-line",ar(c,"className"))})),d&&e.renderTickItem(d,j,"".concat(Ee(f)?f(C.value,T):C.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,x=xy(f,dde),y=h;return Ee(c)&&(y=h&&h.length>0?c(this.props):c(x)),o<=0||l<=0||!y||!y.length?null:U.createElement(Be,{className:Re("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var o,l=Re(s.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?o=U.cloneElement(r,Lt(Lt({},s),{},{className:l})):Ee(r)?o=r(Lt(Lt({},s),{},{className:l})):o=U.createElement(to,Yo({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(D.Component);tN(Tc,"displayName","CartesianAxis");tN(Tc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bde=["x1","y1","x2","y2","key"],wde=["offset"];function so(t){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(t)}function dC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function _n(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dC(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=Sde(t,"string");return so(e)=="symbol"?e:e+""}function Sde(t,e){if(so(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(so(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $a(){return $a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$a.apply(this,arguments)}function fC(t,e){if(t==null)return{};var n=Ede(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ede(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tde=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return U.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function fD(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=fC(e,bde),u=_e(c,!1);u.offset;var d=fC(u,wde);n=U.createElement("line",$a({},d,{x1:r,y1:s,x2:i,y2:o,fill:"none",key:l}))}return n}function Ade(t){var e=t.x,n=t.width,r=t.horizontal,s=r===void 0?!0:r,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=_n(_n({},t),{},{x1:e,y1:l,x2:e+n,y2:l,key:"line-".concat(c),index:c});return fD(s,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function kde(t){var e=t.y,n=t.height,r=t.vertical,s=r===void 0?!0:r,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=_n(_n({},t),{},{x1:l,y1:e,x2:l,y2:e+n,key:"line-".concat(c),index:c});return fD(s,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Cde(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,x){return h-x});s!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var y=!d[x+1],b=y?s+o-h:d[x+1]-h;if(b<=0)return null;var v=x%e.length;return U.createElement("rect",{key:"react-".concat(x),y:h,x:r,height:b,width:i,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function jde(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,x){return h-x});i!==d[0]&&d.unshift(0);var f=d.map(function(h,x){var y=!d[x+1],b=y?i+l-h:d[x+1]-h;if(b<=0)return null;var v=x%r.length;return U.createElement("rect",{key:"react-".concat(x),x:h,y:o,width:b,height:c,stroke:"none",fill:r[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Pde=function(e,n){var r=e.xAxis,s=e.width,i=e.height,o=e.offset;return l5(eN(_n(_n(_n({},Tc.defaultProps),r),{},{ticks:Ds(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,n)},Ide=function(e,n){var r=e.yAxis,s=e.width,i=e.height,o=e.offset;return l5(eN(_n(_n(_n({},Tc.defaultProps),r),{},{ticks:Ds(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,n)},jo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qd(t){var e,n,r,s,i,o,l=Y_(),c=X_(),u=vue(),d=_n(_n({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:jo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:jo.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:jo.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:jo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:jo.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=d.x,h=d.y,x=d.width,y=d.height,b=d.syncWithTicks,v=d.horizontalValues,N=d.verticalValues,_=gue(),S=xue();if(!le(x)||x<=0||!le(y)||y<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||Pde,T=d.horizontalCoordinatesGenerator||Ide,w=d.horizontalPoints,E=d.verticalPoints;if((!w||!w.length)&&Ee(T)){var A=v&&v.length,j=T({yAxis:S?_n(_n({},S),{},{ticks:A?v:S.ticks}):void 0,width:l,height:c,offset:u},A?!0:b);Br(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(so(j),"]")),Array.isArray(j)&&(w=j)}if((!E||!E.length)&&Ee(C)){var M=N&&N.length,P=C({xAxis:_?_n(_n({},_),{},{ticks:M?N:_.ticks}):void 0,width:l,height:c,offset:u},M?!0:b);Br(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(so(P),"]")),Array.isArray(P)&&(E=P)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(Tde,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),U.createElement(Ade,$a({},d,{offset:u,horizontalPoints:w,xAxis:_,yAxis:S})),U.createElement(kde,$a({},d,{offset:u,verticalPoints:E,xAxis:_,yAxis:S})),U.createElement(Cde,$a({},d,{horizontalPoints:w})),U.createElement(jde,$a({},d,{verticalPoints:E})))}Qd.displayName="CartesianGrid";var Rde=["layout","type","stroke","connectNulls","isRange","ref"],Mde=["key"],hD;function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function pD(t,e){if(t==null)return{};var n=Ode(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}function hC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hC(Object(n),!0).forEach(function(r){as(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gD(r.key),r)}}function Lde(t,e,n){return e&&pC(t.prototype,e),n&&pC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $de(t,e,n){return e=Gm(e),Vde(t,mD()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function Vde(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fde(t)}function Fde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mD=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Zb(t,e)}function as(t,e,n){return e=gD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gD(t){var e=Bde(t,"string");return Jl(e)=="symbol"?e:e+""}function Bde(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jr=function(t){function e(){var n;Dde(this,e);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=$de(this,e,[].concat(s)),as(n,"state",{isAnimationFinished:!0}),as(n,"id",vc("recharts-area-")),as(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ee(o)&&o()}),as(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ee(o)&&o()}),n}return Ude(e,t),Lde(e,[{key:"renderDots",value:function(r,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=_e(this.props,!1),x=_e(u,!0),y=d.map(function(v,N){var _=yi(yi(yi({key:"dot-".concat(N),r:3},h),x),{},{index:N,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return U.createElement(Be,Va({className:"recharts-area-dots"},b),y)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=Pi(o.map(function(h){return h.y||0}));return le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Pi(i.map(function(h){return h.y||0})),f)),le(f)?U.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=Pi(o.map(function(h){return h.x||0}));return le(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Pi(i.map(function(h){return h.x||0})),f)),le(f)?U.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var x=pD(l,Rde);return U.createElement(Be,{clipPath:i?"url(#clipPath-".concat(o,")"):null},U.createElement(dl,Va({},_e(x,!0),{points:r,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&U.createElement(dl,Va({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&U.createElement(dl,Va({},_e(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,x=o.animationId,y=this.state,b=y.prevPoints,v=y.prevBaseLine;return U.createElement(bs,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var _=N.t;if(b){var S=b.length/l.length,C=l.map(function(A,j){var M=Math.floor(j*S);if(b[M]){var P=b[M],O=qn(P.x,A.x),R=qn(P.y,A.y);return yi(yi({},A),{},{x:O(_),y:R(_)})}return A}),T;if(le(c)&&typeof c=="number"){var w=qn(v,c);T=w(_)}else if(Ie(c)||yc(c)){var E=qn(v,0);T=E(_)}else T=c.map(function(A,j){var M=Math.floor(j*S);if(v[M]){var P=v[M],O=qn(P.x,A.x),R=qn(P.y,A.y);return yi(yi({},A),{},{x:O(_),y:R(_)})}return A});return i.renderAreaStatically(C,T,r,s)}return U.createElement(Be,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(_))),U.createElement(Be,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,r,s)))})}},{key:"renderArea",value:function(r,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Dl(d,o)||!Dl(f,l))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(o,l,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,x=s.width,y=s.height,b=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,_=l.length===1,S=Re("recharts-area",c),C=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,w=C||T,E=Ie(v)?this.id:v,A=(r=_e(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},j=A.r,M=j===void 0?3:j,P=A.strokeWidth,O=P===void 0?2:P,R=dq(o)?o:{},q=R.clipDot,F=q===void 0?!0:q,$=M*2+O;return U.createElement(Be,{className:S},C||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(E)},U.createElement("rect",{x:C?d:d-x/2,y:T?u:u-y/2,width:C?x:x*2,height:T?y:y*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(E)},U.createElement("rect",{x:d-$/2,y:u-$/2,width:x+$,height:y+$}))):null,_?null:this.renderArea(w,E),(o||_)&&this.renderDots(w,F,E),(!b||N)&&qs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(D.PureComponent);hD=Jr;as(Jr,"displayName","Area");as(Jr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});as(Jr,"getBaseValue",function(t,e,n,r){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(le(l)&&typeof l=="number")return l;var c=s==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});as(Jr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,x=e.layout,y=u&&u.length,b=hD.getBaseValue(e,n,r,s),v=x==="horizontal",N=!1,_=f.map(function(C,T){var w;y?w=u[d+T]:(w=Ut(C,c),Array.isArray(w)?N=!0:w=[b,w]);var E=w[1]==null||y&&Ut(C,c)==null;return v?{x:BA({axis:r,ticks:i,bandSize:l,entry:C,index:T}),y:E?null:s.scale(w[1]),value:w,payload:C}:{x:E?null:r.scale(w[1]),y:BA({axis:s,ticks:o,bandSize:l,entry:C,index:T}),value:w,payload:C}}),S;return y||N?S=_.map(function(C){var T=Array.isArray(C.value)?C.value[0]:null;return v?{x:C.x,y:T!=null&&C.y!=null?s.scale(T):null}:{x:T!=null?r.scale(T):null,y:C.y}}):S=v?s.scale(b):r.scale(b),yi({points:_,baseLine:S,layout:x,isRange:N},h)});as(Jr,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(Ee(t))n=t(e);else{var r=Re("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=pD(e,Mde);n=U.createElement(m0,Va({},i,{key:s,className:r}))}return n});function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vD(r.key),r)}}function Gde(t,e,n){return e&&zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hde(t,e,n){return e=Hm(e),Wde(t,xD()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Wde(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kde(t)}function Kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xD=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function Jde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ew(t,e)}function ew(t,e){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ew(t,e)}function yD(t,e,n){return e=vD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vD(t){var e=Yde(t,"string");return Yl(e)=="symbol"?e:e+""}function Yde(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function Xde(t){var e=t.xAxisId,n=Y_(),r=X_(),s=tD(e);return s==null?null:D.createElement(Tc,tw({},s,{className:Re("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ds(o,!0)}}))}var ea=function(t){function e(){return qde(this,e),Hde(this,e,arguments)}return Jde(e,t),Gde(e,[{key:"render",value:function(){return D.createElement(Xde,this.props)}}])}(D.Component);yD(ea,"displayName","XAxis");yD(ea,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Qde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_D(r.key),r)}}function efe(t,e,n){return e&&Zde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tfe(t,e,n){return e=Wm(e),nfe(t,bD()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function nfe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rfe(t)}function rfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bD=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function sfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nw(t,e)}function nw(t,e){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},nw(t,e)}function wD(t,e,n){return e=_D(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _D(t){var e=ife(t,"string");return Xl(e)=="symbol"?e:e+""}function ife(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(this,arguments)}var afe=function(e){var n=e.yAxisId,r=Y_(),s=X_(),i=nD(n);return i==null?null:D.createElement(Tc,rw({},i,{className:Re("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(l){return Ds(l,!0)}}))},ta=function(t){function e(){return Qde(this,e),tfe(this,e,arguments)}return sfe(e,t),efe(e,[{key:"render",value:function(){return D.createElement(afe,this.props)}}])}(D.Component);wD(ta,"displayName","YAxis");wD(ta,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mC(t){return ufe(t)||cfe(t)||lfe(t)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ufe(t){if(Array.isArray(t))return sw(t)}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var iw=function(e,n,r,s,i){var o=wr(e,Z_),l=wr(e,S0),c=[].concat(mC(o),mC(l)),u=wr(e,T0),d="".concat(s,"Id"),f=s[0],h=n;if(c.length&&(h=c.reduce(function(b,v){if(v.props[d]===r&&us(v.props,"extendDomain")&&le(v.props[f])){var N=v.props[f];return[Math.min(b[0],N),Math.max(b[1],N)]}return b},h)),u.length){var x="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(b,v){if(v.props[d]===r&&us(v.props,"extendDomain")&&le(v.props[x])&&le(v.props[y])){var N=v.props[x],_=v.props[y];return[Math.min(b[0],N,_),Math.max(b[1],N,_)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,v){return le(v)?[Math.min(b[0],v),Math.max(b[1],v)]:b},h)),h},ND={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new s(d,f||c,h),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],x]:c._events[y].push(x):(c._events[y]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,x=f.length,y=new Array(x);h<x;h++)y[h]=f[h].fn;return y},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,x,y){var b=n?n+u:u;if(!this._events[b])return!1;var v=this._events[b],N=arguments.length,_,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,x),!0;case 6:return v.fn.call(v.context,d,f,h,x,y),!0}for(S=1,_=new Array(N-1);S<N;S++)_[S-1]=arguments[S];v.fn.apply(v.context,_)}else{var C=v.length,T;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,h);break;default:if(!_)for(T=1,_=new Array(N-1);T<N;T++)_[T-1]=arguments[T];v[S].fn.apply(v[S].context,_)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var x=n?n+u:u;if(!this._events[x])return this;if(!d)return o(this,x),this;var y=this._events[x];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,x);else{for(var b=0,v=[],N=y.length;b<N;b++)(y[b].fn!==d||h&&!y[b].once||f&&y[b].context!==f)&&v.push(y[b]);v.length?this._events[x]=v.length===1?v[0]:v:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(ND);var dfe=ND.exports;const ffe=et(dfe);var yy=new ffe,vy="recharts.syncMouseEvents";function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function hfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SD(r.key),r)}}function mfe(t,e,n){return e&&pfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function by(t,e,n){return e=SD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SD(t){var e=gfe(t,"string");return Zd(e)=="symbol"?e:e+""}function gfe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xfe=function(){function t(){hfe(this,t),by(this,"activeIndex",0),by(this,"coordinateList",[]),by(this,"layout","horizontal")}return mfe(t,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,x=h===void 0?null:h;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function yfe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],s=t==null?void 0:t[1];if(r&&s&&le(r)&&le(s))return!0}return!1}function vfe(t,e,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-s,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ED(t){var e=t.cx,n=t.cy,r=t.radius,s=t.startAngle,i=t.endAngle,o=ut(e,n,r,s),l=ut(e,n,r,i);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:s,endAngle:i}}function bfe(t,e,n){var r,s,i,o;if(t==="horizontal")r=e.x,i=r,s=n.top,o=n.top+n.height;else if(t==="vertical")s=e.y,o=s,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=ut(l,c,u,f),x=ut(l,c,d,f);r=h.x,s=h.y,i=x.x,o=x.y}else return ED(e);return[{x:r,y:s},{x:i,y:o}]}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e,n){return e=_fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _fe(t){var e=Nfe(t,"string");return ef(e)=="symbol"?e:e+""}function Nfe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sfe(t){var e,n,r=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var y,b=dl;if(h==="ScatterChart")y=o,b=Hae;else if(h==="BarChart")y=vfe(f,o,c,d),b=H_;else if(f==="radial"){var v=ED(o),N=v.cx,_=v.cy,S=v.radius,C=v.startAngle,T=v.endAngle;y={cx:N,cy:_,startAngle:C,endAngle:T,innerRadius:S,outerRadius:S},b=v5}else y={points:bfe(f,o,c)},b=dl;var w=kh(kh(kh(kh({stroke:"#ccc",pointerEvents:"none"},c),y),_e(x,!1)),{},{payload:l,payloadIndex:u,className:Re("recharts-tooltip-cursor",x.className)});return D.isValidElement(x)?D.cloneElement(x,w):D.createElement(b,w)}var Efe=["item"],Tfe=["children","className","width","height","style","compact","title","desc"];function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function Xo(){return Xo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xo.apply(this,arguments)}function xC(t,e){return Cfe(t)||kfe(t,e)||AD(t,e)||Afe()}function Afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,s,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Cfe(t){if(Array.isArray(t))return t}function yC(t,e){if(t==null)return{};var n=jfe(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ife(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function Rfe(t,e,n){return e&&Ife(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mfe(t,e,n){return e=Km(e),Ofe(t,TD()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function Ofe(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dfe(t)}function Dfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TD=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},aw(t,e)}function Zl(t){return Ffe(t)||Vfe(t)||AD(t)||$fe()}function $fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AD(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function Vfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ffe(t){if(Array.isArray(t))return ow(t)}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vC(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Se(t,e,n){return e=kD(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kD(t){var e=Ufe(t,"string");return Ql(e)=="symbol"?e:e+""}function Ufe(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bfe={xAxis:["bottom","top"],yAxis:["left","right"]},qfe={width:"100%",height:"100%"},CD={x:0,y:0};function Ch(t){return t}var zfe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Gfe=function(e,n,r,s){var i=n.find(function(d){return d&&d.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return ne(ne(ne({},s),ut(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ne(ne(ne({},s),ut(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return CD},A0=function(e,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Zl(l),Zl(u)):l},[]);return o.length>0?o:e&&e.length&&le(s)&&le(i)?e.slice(s,i+1):[]};function jD(t){return t==="number"?[0,"auto"]:void 0}var lw=function(e,n,r,s){var i=e.graphicalItems,o=e.tooltipAxis,l=A0(n,e);return r<0||!i||!i.length||r>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var x=f===void 0?l:f;h=Wp(x,o.dataKey,s)}else h=f&&f[r]||l[r];return h?[].concat(Zl(c),[h5(u,h)]):c},[])},bC=function(e,n,r,s){var i=s||{x:e.chartX,y:e.chartY},o=zfe(i,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=fre(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=lw(e,n,d,f),x=Gfe(r,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:x}}return null},Hfe=function(e,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,x=o5(d,i);return r.reduce(function(y,b){var v,N=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,_=N.type,S=N.dataKey,C=N.allowDataOverflow,T=N.allowDuplicatedCategory,w=N.scale,E=N.ticks,A=N.includeHidden,j=N[o];if(y[j])return y;var M=A0(e.data,{graphicalItems:s.filter(function(X){var se,be=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o];return be===j}),dataStartIndex:c,dataEndIndex:u}),P=M.length,O,R,q;yfe(N.domain,C,_)&&(O=Nb(N.domain,null,C),x&&(_==="number"||w!=="auto")&&(q=Uu(M,S,"category")));var F=jD(_);if(!O||O.length===0){var $,B=($=N.domain)!==null&&$!==void 0?$:F;if(S){if(O=Uu(M,S,_),_==="category"&&x){var V=tq(O);T&&V?(R=O,O=Om(0,P)):T||(O=HA(B,O,b).reduce(function(X,se){return X.indexOf(se)>=0?X:[].concat(Zl(X),[se])},[]))}else if(_==="category")T?O=O.filter(function(X){return X!==""&&!Ie(X)}):O=HA(B,O,b).reduce(function(X,se){return X.indexOf(se)>=0||se===""||Ie(se)?X:[].concat(Zl(X),[se])},[]);else if(_==="number"){var H=xre(M,s.filter(function(X){var se,be,z=o in X.props?X.props[o]:(se=X.type.defaultProps)===null||se===void 0?void 0:se[o],Q="hide"in X.props?X.props.hide:(be=X.type.defaultProps)===null||be===void 0?void 0:be.hide;return z===j&&(A||!Q)}),S,i,d);H&&(O=H)}x&&(_==="number"||w!=="auto")&&(q=Uu(M,S,"category"))}else x?O=Om(0,P):l&&l[j]&&l[j].hasStack&&_==="number"?O=h==="expand"?[0,1]:f5(l[j].stackGroups,c,u):O=a5(M,s.filter(function(X){var se=o in X.props?X.props[o]:X.type.defaultProps[o],be="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return se===j&&(A||!be)}),_,d,!0);if(_==="number")O=iw(f,O,j,i,E),B&&(O=Nb(B,O,C));else if(_==="category"&&B){var J=B,W=O.every(function(X){return J.indexOf(X)>=0});W&&(O=J)}}return ne(ne({},y),{},Se({},j,ne(ne({},N),{},{axisType:i,domain:O,categoricalDomain:q,duplicateDomain:R,originalDomain:(v=N.domain)!==null&&v!==void 0?v:F,isCategorical:x,layout:d})))},{})},Wfe=function(e,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=A0(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=h.length,y=o5(d,i),b=-1;return r.reduce(function(v,N){var _=N.type.defaultProps!==void 0?ne(ne({},N.type.defaultProps),N.props):N.props,S=_[o],C=jD("number");if(!v[S]){b++;var T;return y?T=Om(0,x):l&&l[S]&&l[S].hasStack?(T=f5(l[S].stackGroups,c,u),T=iw(f,T,S,i)):(T=Nb(C,a5(h,r.filter(function(w){var E,A,j=o in w.props?w.props[o]:(E=w.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in w.props?w.props.hide:(A=w.type.defaultProps)===null||A===void 0?void 0:A.hide;return j===S&&!M}),"number",d),s.defaultProps.allowDataOverflow),T=iw(f,T,S,i)),ne(ne({},v),{},Se({},S,ne(ne({axisType:i},s.defaultProps),{},{hide:!0,orientation:ar(Bfe,"".concat(i,".").concat(b%2),null),domain:T,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},Kfe=function(e,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(s,"Id"),h=wr(d,i),x={};return h&&h.length?x=Hfe(e,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=Wfe(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},Jfe=function(e){var n=Si(e),r=Ds(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:v_(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_m(n,r)}},wC=function(e){var n=e.children,r=e.defaultShowTooltip,s=tr(n,ql),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Yfe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Us(n&&n.type);return r&&r.indexOf("Bar")>=0})},_C=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Xfe=function(e,n){var r=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,h=r.margin||{},x=tr(f,ql),y=tr(f,qa),b=Object.keys(c).reduce(function(T,w){var E=c[w],A=E.orientation;return!E.mirror&&!E.hide?ne(ne({},T),{},Se({},A,T[A]+E.width)):T},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(T,w){var E=o[w],A=E.orientation;return!E.mirror&&!E.hide?ne(ne({},T),{},Se({},A,ar(T,"".concat(A))+E.height)):T},{top:h.top||0,bottom:h.bottom||0}),N=ne(ne({},v),b),_=N.bottom;x&&(N.bottom+=x.props.height||ql.defaultProps.height),y&&n&&(N=mre(N,s,r,n));var S=u-N.left-N.right,C=d-N.top-N.bottom;return ne(ne({brushBottom:_},N),{},{width:Math.max(S,0),height:Math.max(C,0)})},Qfe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},nN=function(e){var n=e.chartName,r=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(N,_){var S=_.graphicalItems,C=_.stackGroups,T=_.offset,w=_.updateId,E=_.dataStartIndex,A=_.dataEndIndex,j=N.barSize,M=N.layout,P=N.barGap,O=N.barCategoryGap,R=N.maxBarSize,q=_C(M),F=q.numericAxisName,$=q.cateAxisName,B=Yfe(S),V=[];return S.forEach(function(H,J){var W=A0(N.data,{graphicalItems:[H],dataStartIndex:E,dataEndIndex:A}),X=H.type.defaultProps!==void 0?ne(ne({},H.type.defaultProps),H.props):H.props,se=X.dataKey,be=X.maxBarSize,z=X["".concat(F,"Id")],Q=X["".concat($,"Id")],ee={},ue=c.reduce(function(Fn,jr){var pe=_["".concat(jr.axisType,"Map")],Ne=X["".concat(jr.axisType,"Id")];pe&&pe[Ne]||jr.axisType==="zAxis"||ro();var Le=pe[Ne];return ne(ne({},Fn),{},Se(Se({},jr.axisType,Le),"".concat(jr.axisType,"Ticks"),Ds(Le)))},ee),G=ue[$],oe=ue["".concat($,"Ticks")],de=C&&C[z]&&C[z].hasStack&&Tre(H,C[z].stackGroups),ie=Us(H.type).indexOf("Bar")>=0,Oe=_m(G,oe),Y=[],fe=B&&hre({barSize:j,stackGroups:C,totalSize:Qfe(ue,$)});if(ie){var Te,Ge,en=Ie(be)?R:be,fn=(Te=(Ge=_m(G,oe,!0))!==null&&Ge!==void 0?Ge:en)!==null&&Te!==void 0?Te:0;Y=pre({barGap:P,barCategoryGap:O,bandSize:fn!==Oe?fn:Oe,sizeList:fe[Q],maxBarSize:en}),fn!==Oe&&(Y=Y.map(function(Fn){return ne(ne({},Fn),{},{position:ne(ne({},Fn.position),{},{offset:Fn.position.offset-fn/2})})}))}var Vn=H&&H.type&&H.type.getComposedData;Vn&&V.push({props:ne(ne({},Vn(ne(ne({},ue),{},{displayedData:W,props:N,dataKey:se,item:H,bandSize:Oe,barPosition:Y,offset:T,stackedData:de,layout:M,dataStartIndex:E,dataEndIndex:A}))),{},Se(Se(Se({key:H.key||"item-".concat(J)},F,ue[F]),$,ue[$]),"animationId",w)),childIndex:pq(H,N.children),item:H})}),V},x=function(N,_){var S=N.props,C=N.dataStartIndex,T=N.dataEndIndex,w=N.updateId;if(!VT({props:S}))return null;var E=S.children,A=S.layout,j=S.stackOffset,M=S.data,P=S.reverseStackOrder,O=_C(A),R=O.numericAxisName,q=O.cateAxisName,F=wr(E,r),$=Sre(M,F,"".concat(R,"Id"),"".concat(q,"Id"),j,P),B=c.reduce(function(X,se){var be="".concat(se.axisType,"Map");return ne(ne({},X),{},Se({},be,Kfe(S,ne(ne({},se),{},{graphicalItems:F,stackGroups:se.axisType===R&&$,dataStartIndex:C,dataEndIndex:T}))))},{}),V=Xfe(ne(ne({},B),{},{props:S,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(B).forEach(function(X){B[X]=d(S,B[X],V,X.replace("Map",""),n)});var H=B["".concat(q,"Map")],J=Jfe(H),W=h(S,ne(ne({},B),{},{dataStartIndex:C,dataEndIndex:T,updateId:w,graphicalItems:F,stackGroups:$,offset:V}));return ne(ne({formattedGraphicalItems:W,graphicalItems:F,offset:V,stackGroups:$},J),B)},y=function(v){function N(_){var S,C,T;return Pfe(this,N),T=Mfe(this,N,[_]),Se(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Se(T,"accessibilityManager",new xfe),Se(T,"handleLegendBBoxUpdate",function(w){if(w){var E=T.state,A=E.dataStartIndex,j=E.dataEndIndex,M=E.updateId;T.setState(ne({legendBBox:w},x({props:T.props,dataStartIndex:A,dataEndIndex:j,updateId:M},ne(ne({},T.state),{},{legendBBox:w}))))}}),Se(T,"handleReceiveSyncEvent",function(w,E,A){if(T.props.syncId===w){if(A===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(E)}}),Se(T,"handleBrushChange",function(w){var E=w.startIndex,A=w.endIndex;if(E!==T.state.dataStartIndex||A!==T.state.dataEndIndex){var j=T.state.updateId;T.setState(function(){return ne({dataStartIndex:E,dataEndIndex:A},x({props:T.props,dataStartIndex:E,dataEndIndex:A,updateId:j},T.state))}),T.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Se(T,"handleMouseEnter",function(w){var E=T.getMouseInfo(w);if(E){var A=ne(ne({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var j=T.props.onMouseEnter;Ee(j)&&j(A,w)}}),Se(T,"triggeredAfterMouseMove",function(w){var E=T.getMouseInfo(w),A=E?ne(ne({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(A),T.triggerSyncEvent(A);var j=T.props.onMouseMove;Ee(j)&&j(A,w)}),Se(T,"handleItemMouseEnter",function(w){T.setState(function(){return{isTooltipActive:!0,activeItem:w,activePayload:w.tooltipPayload,activeCoordinate:w.tooltipPosition||{x:w.cx,y:w.cy}}})}),Se(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Se(T,"handleMouseMove",function(w){w.persist(),T.throttleTriggeredAfterMouseMove(w)}),Se(T,"handleMouseLeave",function(w){T.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};T.setState(E),T.triggerSyncEvent(E);var A=T.props.onMouseLeave;Ee(A)&&A(E,w)}),Se(T,"handleOuterEvent",function(w){var E=hq(w),A=ar(T.props,"".concat(E));if(E&&Ee(A)){var j,M;/.*touch.*/i.test(E)?M=T.getMouseInfo(w.changedTouches[0]):M=T.getMouseInfo(w),A((j=M)!==null&&j!==void 0?j:{},w)}}),Se(T,"handleClick",function(w){var E=T.getMouseInfo(w);if(E){var A=ne(ne({},E),{},{isTooltipActive:!0});T.setState(A),T.triggerSyncEvent(A);var j=T.props.onClick;Ee(j)&&j(A,w)}}),Se(T,"handleMouseDown",function(w){var E=T.props.onMouseDown;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleMouseUp",function(w){var E=T.props.onMouseUp;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleTouchMove",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(w.changedTouches[0])}),Se(T,"handleTouchStart",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.handleMouseDown(w.changedTouches[0])}),Se(T,"handleTouchEnd",function(w){w.changedTouches!=null&&w.changedTouches.length>0&&T.handleMouseUp(w.changedTouches[0])}),Se(T,"handleDoubleClick",function(w){var E=T.props.onDoubleClick;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"handleContextMenu",function(w){var E=T.props.onContextMenu;if(Ee(E)){var A=T.getMouseInfo(w);E(A,w)}}),Se(T,"triggerSyncEvent",function(w){T.props.syncId!==void 0&&yy.emit(vy,T.props.syncId,w,T.eventEmitterSymbol)}),Se(T,"applySyncEvent",function(w){var E=T.props,A=E.layout,j=E.syncMethod,M=T.state.updateId,P=w.dataStartIndex,O=w.dataEndIndex;if(w.dataStartIndex!==void 0||w.dataEndIndex!==void 0)T.setState(ne({dataStartIndex:P,dataEndIndex:O},x({props:T.props,dataStartIndex:P,dataEndIndex:O,updateId:M},T.state)));else if(w.activeTooltipIndex!==void 0){var R=w.chartX,q=w.chartY,F=w.activeTooltipIndex,$=T.state,B=$.offset,V=$.tooltipTicks;if(!B)return;if(typeof j=="function")F=j(V,w);else if(j==="value"){F=-1;for(var H=0;H<V.length;H++)if(V[H].value===w.activeLabel){F=H;break}}var J=ne(ne({},B),{},{x:B.left,y:B.top}),W=Math.min(R,J.x+J.width),X=Math.min(q,J.y+J.height),se=V[F]&&V[F].value,be=lw(T.state,T.props.data,F),z=V[F]?{x:A==="horizontal"?V[F].coordinate:W,y:A==="horizontal"?X:V[F].coordinate}:CD;T.setState(ne(ne({},w),{},{activeLabel:se,activeCoordinate:z,activePayload:be,activeTooltipIndex:F}))}else T.setState(w)}),Se(T,"renderCursor",function(w){var E,A=T.state,j=A.isTooltipActive,M=A.activeCoordinate,P=A.activePayload,O=A.offset,R=A.activeTooltipIndex,q=A.tooltipAxisBandSize,F=T.getTooltipEventType(),$=(E=w.props.active)!==null&&E!==void 0?E:j,B=T.props.layout,V=w.key||"_recharts-cursor";return U.createElement(Sfe,{key:V,activeCoordinate:M,activePayload:P,activeTooltipIndex:R,chartName:n,element:w,isActive:$,layout:B,offset:O,tooltipAxisBandSize:q,tooltipEventType:F})}),Se(T,"renderPolarAxis",function(w,E,A){var j=ar(w,"type.axisType"),M=ar(T.state,"".concat(j,"Map")),P=w.type.defaultProps,O=P!==void 0?ne(ne({},P),w.props):w.props,R=M&&M[O["".concat(j,"Id")]];return D.cloneElement(w,ne(ne({},R),{},{className:Re(j,R.className),key:w.key||"".concat(E,"-").concat(A),ticks:Ds(R,!0)}))}),Se(T,"renderPolarGrid",function(w){var E=w.props,A=E.radialLines,j=E.polarAngles,M=E.polarRadius,P=T.state,O=P.radiusAxisMap,R=P.angleAxisMap,q=Si(O),F=Si(R),$=F.cx,B=F.cy,V=F.innerRadius,H=F.outerRadius;return D.cloneElement(w,{polarAngles:Array.isArray(j)?j:Ds(F,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(M)?M:Ds(q,!0).map(function(J){return J.coordinate}),cx:$,cy:B,innerRadius:V,outerRadius:H,key:w.key||"polar-grid",radialLines:A})}),Se(T,"renderLegend",function(){var w=T.state.formattedGraphicalItems,E=T.props,A=E.children,j=E.width,M=E.height,P=T.props.margin||{},O=j-(P.left||0)-(P.right||0),R=s5({children:A,formattedGraphicalItems:w,legendWidth:O,legendContent:u});if(!R)return null;var q=R.item,F=yC(R,Efe);return D.cloneElement(q,ne(ne({},F),{},{chartWidth:j,chartHeight:M,margin:P,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Se(T,"renderTooltip",function(){var w,E=T.props,A=E.children,j=E.accessibilityLayer,M=tr(A,Un);if(!M)return null;var P=T.state,O=P.isTooltipActive,R=P.activeCoordinate,q=P.activePayload,F=P.activeLabel,$=P.offset,B=(w=M.props.active)!==null&&w!==void 0?w:O;return D.cloneElement(M,{viewBox:ne(ne({},$),{},{x:$.left,y:$.top}),active:B,label:F,payload:B?q:[],coordinate:R,accessibilityLayer:j})}),Se(T,"renderBrush",function(w){var E=T.props,A=E.margin,j=E.data,M=T.state,P=M.offset,O=M.dataStartIndex,R=M.dataEndIndex,q=M.updateId;return D.cloneElement(w,{key:w.key||"_recharts-brush",onChange:Sh(T.handleBrushChange,w.props.onChange),data:j,x:le(w.props.x)?w.props.x:P.left,y:le(w.props.y)?w.props.y:P.top+P.height+P.brushBottom-(A.bottom||0),width:le(w.props.width)?w.props.width:P.width,startIndex:O,endIndex:R,updateId:"brush-".concat(q)})}),Se(T,"renderReferenceElement",function(w,E,A){if(!w)return null;var j=T,M=j.clipPathId,P=T.state,O=P.xAxisMap,R=P.yAxisMap,q=P.offset,F=w.type.defaultProps||{},$=w.props,B=$.xAxisId,V=B===void 0?F.xAxisId:B,H=$.yAxisId,J=H===void 0?F.yAxisId:H;return D.cloneElement(w,{key:w.key||"".concat(E,"-").concat(A),xAxis:O[V],yAxis:R[J],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:M})}),Se(T,"renderActivePoints",function(w){var E=w.item,A=w.activePoint,j=w.basePoint,M=w.childIndex,P=w.isRange,O=[],R=E.props.key,q=E.item.type.defaultProps!==void 0?ne(ne({},E.item.type.defaultProps),E.item.props):E.item.props,F=q.activeDot,$=q.dataKey,B=ne(ne({index:M,dataKey:$,cx:A.x,cy:A.y,r:4,fill:G_(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},_e(F,!1)),Kp(F));return O.push(N.renderActiveDot(F,B,"".concat(R,"-activePoint-").concat(M))),j?O.push(N.renderActiveDot(F,ne(ne({},B),{},{cx:j.x,cy:j.y}),"".concat(R,"-basePoint-").concat(M))):P&&O.push(null),O}),Se(T,"renderGraphicChild",function(w,E,A){var j=T.filterFormatItem(w,E,A);if(!j)return null;var M=T.getTooltipEventType(),P=T.state,O=P.isTooltipActive,R=P.tooltipAxis,q=P.activeTooltipIndex,F=P.activeLabel,$=T.props.children,B=tr($,Un),V=j.props,H=V.points,J=V.isRange,W=V.baseLine,X=j.item.type.defaultProps!==void 0?ne(ne({},j.item.type.defaultProps),j.item.props):j.item.props,se=X.activeDot,be=X.hide,z=X.activeBar,Q=X.activeShape,ee=!!(!be&&O&&B&&(se||z||Q)),ue={};M!=="axis"&&B&&B.props.trigger==="click"?ue={onClick:Sh(T.handleItemMouseEnter,w.props.onClick)}:M!=="axis"&&(ue={onMouseLeave:Sh(T.handleItemMouseLeave,w.props.onMouseLeave),onMouseEnter:Sh(T.handleItemMouseEnter,w.props.onMouseEnter)});var G=D.cloneElement(w,ne(ne({},j.props),ue));function oe(jr){return typeof R.dataKey=="function"?R.dataKey(jr.payload):null}if(ee)if(q>=0){var de,ie;if(R.dataKey&&!R.allowDuplicatedCategory){var Oe=typeof R.dataKey=="function"?oe:"payload.".concat(R.dataKey.toString());de=Wp(H,Oe,F),ie=J&&W&&Wp(W,Oe,F)}else de=H==null?void 0:H[q],ie=J&&W&&W[q];if(Q||z){var Y=w.props.activeIndex!==void 0?w.props.activeIndex:q;return[D.cloneElement(w,ne(ne(ne({},j.props),ue),{},{activeIndex:Y})),null,null]}if(!Ie(de))return[G].concat(Zl(T.renderActivePoints({item:j,activePoint:de,basePoint:ie,childIndex:q,isRange:J})))}else{var fe,Te=(fe=T.getItemByXY(T.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:G},Ge=Te.graphicalItem,en=Ge.item,fn=en===void 0?w:en,Vn=Ge.childIndex,Fn=ne(ne(ne({},j.props),ue),{},{activeIndex:Vn});return[D.cloneElement(fn,Fn),null,null]}return J?[G,null,null]:[G,null]}),Se(T,"renderCustomized",function(w,E,A){return D.cloneElement(w,ne(ne({key:"recharts-customized-".concat(A)},T.props),T.state))}),Se(T,"renderMap",{CartesianGrid:{handler:Ch,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:Ch},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:Ch},YAxis:{handler:Ch},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((S=_.id)!==null&&S!==void 0?S:vc("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=s4(T.triggeredAfterMouseMove,(C=_.throttleDelay)!==null&&C!==void 0?C:1e3/60),T.state={},T}return Lfe(N,v),Rfe(N,[{key:"componentDidMount",value:function(){var S,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,C=S.children,T=S.data,w=S.height,E=S.layout,A=tr(C,Un);if(A){var j=A.props.defaultIndex;if(!(typeof j!="number"||j<0||j>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[j]&&this.state.tooltipTicks[j].value,P=lw(this.state,T,j,M),O=this.state.tooltipTicks[j].coordinate,R=(this.state.offset.top+w)/2,q=E==="horizontal",F=q?{x:O,y:R}:{y:O,x:R},$=this.state.formattedGraphicalItems.find(function(V){var H=V.item;return H.type.name==="Scatter"});$&&(F=ne(ne({},F),$.props.points[j].tooltipPosition),P=$.props.points[j].tooltipPayload);var B={activeTooltipIndex:j,isTooltipActive:!0,activeLabel:M,activePayload:P,activeCoordinate:F};this.setState(B),this.renderCursor(A),this.accessibilityManager.setIndex(j)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var T,w;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0}})}return null}},{key:"componentDidUpdate",value:function(S){$v([tr(S.children,Un)],[tr(this.props.children,Un)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=tr(this.props.children,Un);if(S&&typeof S.props.shared=="boolean"){var C=S.props.shared?"axis":"item";return l.indexOf(C)>=0?C:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var C=this.container,T=C.getBoundingClientRect(),w=FQ(T),E={chartX:Math.round(S.pageX-w.left),chartY:Math.round(S.pageY-w.top)},A=T.width/C.offsetWidth||1,j=this.inRange(E.chartX,E.chartY,A);if(!j)return null;var M=this.state,P=M.xAxisMap,O=M.yAxisMap,R=this.getTooltipEventType(),q=bC(this.state,this.props.data,this.props.layout,j);if(R!=="axis"&&P&&O){var F=Si(P).scale,$=Si(O).scale,B=F&&F.invert?F.invert(E.chartX):null,V=$&&$.invert?$.invert(E.chartY):null;return ne(ne({},E),{},{xValue:B,yValue:V},q)}return q?ne(ne({},E),q):null}},{key:"inRange",value:function(S,C){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,w=this.props.layout,E=S/T,A=C/T;if(w==="horizontal"||w==="vertical"){var j=this.state.offset,M=E>=j.left&&E<=j.left+j.width&&A>=j.top&&A<=j.top+j.height;return M?{x:E,y:A}:null}var P=this.state,O=P.angleAxisMap,R=P.radiusAxisMap;if(O&&R){var q=Si(O);return JA({x:E,y:A},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,C=this.getTooltipEventType(),T=tr(S,Un),w={};T&&C==="axis"&&(T.props.trigger==="click"?w={onClick:this.handleClick}:w={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Kp(this.props,this.handleOuterEvent);return ne(ne({},E),w)}},{key:"addListener",value:function(){yy.on(vy,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yy.removeListener(vy,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,C,T){for(var w=this.state.formattedGraphicalItems,E=0,A=w.length;E<A;E++){var j=w[E];if(j.item===S||j.props.key===S.key||C===Us(j.item.type)&&T===j.childIndex)return j}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,C=this.state.offset,T=C.left,w=C.top,E=C.height,A=C.width;return U.createElement("defs",null,U.createElement("clipPath",{id:S},U.createElement("rect",{x:T,y:w,height:E,width:A})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(C,T){var w=xC(T,2),E=w[0],A=w[1];return ne(ne({},C),{},Se({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(C,T){var w=xC(T,2),E=w[0],A=w[1];return ne(ne({},C),{},Se({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(S){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[S])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(S){var C=this.state,T=C.formattedGraphicalItems,w=C.activeItem;if(T&&T.length)for(var E=0,A=T.length;E<A;E++){var j=T[E],M=j.props,P=j.item,O=P.type.defaultProps!==void 0?ne(ne({},P.type.defaultProps),P.props):P.props,R=Us(P.type);if(R==="Bar"){var q=(M.data||[]).find(function(V){return Tae(S,V)});if(q)return{graphicalItem:j,payload:q}}else if(R==="RadialBar"){var F=(M.data||[]).find(function(V){return JA(S,V)});if(F)return{graphicalItem:j,payload:F}}else if(b0(j,w)||w0(j,w)||Wd(j,w)){var $=ple({graphicalItem:j,activeTooltipItem:w,itemData:O.data}),B=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:ne(ne({},j),{},{childIndex:B}),payload:Wd(j,w)?O.data[$]:j.props.data[$]}}}return null}},{key:"render",value:function(){var S=this;if(!VT(this))return null;var C=this.props,T=C.children,w=C.className,E=C.width,A=C.height,j=C.style,M=C.compact,P=C.title,O=C.desc,R=yC(C,Tfe),q=_e(R,!1);if(M)return U.createElement(eC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Fv,Xo({},q,{width:E,height:A,title:P,desc:O}),this.renderClipPath(),UT(T,this.renderMap)));if(this.props.accessibilityLayer){var F,$;q.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,q.role=($=this.props.role)!==null&&$!==void 0?$:"application",q.onKeyDown=function(V){S.accessibilityManager.keyboardEvent(V)},q.onFocus=function(){S.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return U.createElement(eC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",Xo({className:Re("recharts-wrapper",w),style:ne({position:"relative",cursor:"default",width:E,height:A},j)},B,{ref:function(H){S.container=H}}),U.createElement(Fv,Xo({},q,{width:E,height:A,title:P,desc:O,style:qfe}),this.renderClipPath(),UT(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);Se(y,"displayName",n),Se(y,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Se(y,"getDerivedStateFromProps",function(v,N){var _=v.dataKey,S=v.data,C=v.children,T=v.width,w=v.height,E=v.layout,A=v.stackOffset,j=v.margin,M=N.dataStartIndex,P=N.dataEndIndex;if(N.updateId===void 0){var O=wC(v);return ne(ne(ne({},O),{},{updateId:0},x(ne(ne({props:v},O),{},{updateId:0}),N)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:C})}if(_!==N.prevDataKey||S!==N.prevData||T!==N.prevWidth||w!==N.prevHeight||E!==N.prevLayout||A!==N.prevStackOffset||!ll(j,N.prevMargin)){var R=wC(v),q={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},F=ne(ne({},bC(N,S,E)),{},{updateId:N.updateId+1}),$=ne(ne(ne({},R),q),F);return ne(ne(ne({},$),x(ne({props:v},$),N)),{},{prevDataKey:_,prevData:S,prevWidth:T,prevHeight:w,prevLayout:E,prevStackOffset:A,prevMargin:j,prevChildren:C})}if(!$v(C,N.prevChildren)){var B,V,H,J,W=tr(C,ql),X=W&&(B=(V=W.props)===null||V===void 0?void 0:V.startIndex)!==null&&B!==void 0?B:M,se=W&&(H=(J=W.props)===null||J===void 0?void 0:J.endIndex)!==null&&H!==void 0?H:P,be=X!==M||se!==P,z=!Ie(S),Q=z&&!be?N.updateId:N.updateId+1;return ne(ne({updateId:Q},x(ne(ne({props:v},N),{},{updateId:Q,dataStartIndex:X,dataEndIndex:se}),N)),{},{prevChildren:C,dataStartIndex:X,dataEndIndex:se})}return null}),Se(y,"renderActiveDot",function(v,N,_){var S;return D.isValidElement(v)?S=D.cloneElement(v,N):Ee(v)?S=v(N):S=U.createElement(m0,N),U.createElement(Be,{className:"recharts-active-dot",key:_},S)});var b=D.forwardRef(function(N,_){return U.createElement(y,Xo({},N,{ref:_}))});return b.displayName=y.displayName,b},PD=nN({chartName:"BarChart",GraphicalChild:qr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ea},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:W5}),Zfe=nN({chartName:"PieChart",GraphicalChild:ci,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:v0},{axisType:"radiusAxis",AxisComp:x0}],formatAxisMap:Dre,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ID=nN({chartName:"AreaChart",GraphicalChild:Jr,axisComponents:[{axisType:"xAxis",AxisComp:ea},{axisType:"yAxis",AxisComp:ta}],formatAxisMap:W5});const ehe=[{name:"Lun",ventas:4e3,compras:2400},{name:"Mar",ventas:3e3,compras:1398},{name:"Mie",ventas:2e3,compras:9800},{name:"Jue",ventas:2780,compras:3908},{name:"Vie",ventas:1890,compras:4800},{name:"Sab",ventas:2390,compras:3800},{name:"Dom",ventas:3490,compras:4300}],the=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Panel de Control"}),a.jsx("p",{className:"text-slate-500",children:"Bienvenido de nuevo al sistema de gestin."})]}),a.jsxs("div",{className:"flex gap-2 text-sm",children:[a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"Hoy"}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-medium shadow-sm hover:bg-gray-50",children:"ltimos 7 das"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Ventas Totales",value:"$1.284.500",icon:Kr,color:"text-green-600",bg:"bg-green-100",trend:"+12.5%"},{label:"Nuevos Clientes",value:"48",icon:Xr,color:"text-blue-600",bg:"bg-blue-100",trend:"+5.2%"},{label:"Stock Crtico",value:"12 Items",icon:gs,color:"text-orange-600",bg:"bg-orange-100",trend:"-2"},{label:"Caja del Da",value:"$245.300",icon:En,color:"text-purple-600",bg:"bg-purple-100",trend:"+8.1%"}].map((t,e)=>a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${t.bg} ${t.color}`,children:a.jsx(t.icon,{className:"w-6 h-6"})}),a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${t.trend.startsWith("+")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:t.trend})]}),a.jsx("p",{className:"text-sm font-medium text-slate-500",children:t.label}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:t.value})]},e))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Flujo de Caja (Ventas vs Compras)"}),a.jsx("div",{className:"h-80",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(ID,{data:ehe,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorVentas",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Qd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ea,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ta,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Un,{}),a.jsx(Jr,{type:"monotone",dataKey:"ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorVentas)"}),a.jsx(Jr,{type:"monotone",dataKey:"compras",stroke:"#64748b",strokeWidth:2,strokeDasharray:"5 5",fill:"none"})]})})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:"Alertas Recientes"}),a.jsx("div",{className:"space-y-4",children:[{type:"stock",msg:"Stock bajo: Cemento Avellaneda (5 bolsas)",time:"Hace 10 min"},{type:"cheque",msg:"Cheque por vencer: Banco Galicia #4829",time:"Hace 1 hora"},{type:"deuda",msg:"Cliente Moroso: Ferretera Juan (Saldo $45k)",time:"Hace 3 horas"},{type:"price",msg:"Lista de Precios: Sinteplast actualiz +15%",time:"Ayer"}].map((t,e)=>a.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-slate-50 border border-slate-100",children:[a.jsx("div",{className:`p-2 rounded-lg ${t.type==="stock"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:t.type==="stock"?a.jsx(pd,{className:"w-5 h-5"}):a.jsx(gs,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:t.msg}),a.jsx("p",{className:"text-xs text-slate-500",children:t.time})]}),a.jsx("button",{className:"text-xs font-bold text-orange-600 hover:underline",children:"Ver"})]},e))})]})]})]});var NC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nhe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},MD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,f=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,x=u&63;c||(x=64,o||(h=64)),r.push(n[d],n[f],n[h],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nhe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||f==null)throw new rhe;const h=i<<2|l>>4;if(r.push(h),u!==64){const x=l<<4&240|u>>2;if(r.push(x),f!==64){const y=u<<6&192|f;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const she=function(t){const e=RD(t);return MD.encodeByteArray(e,!0)},Jm=function(t){return she(t).replace(/\./g,"")},OD=function(t){try{return MD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ihe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ahe=()=>ihe().__FIREBASE_DEFAULTS__,ohe=()=>{if(typeof process>"u"||typeof NC>"u")return;const t=NC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lhe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OD(t[1]);return e&&JSON.parse(e)},k0=()=>{try{return ahe()||ohe()||lhe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DD=t=>{var e,n;return(n=(e=k0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},che=t=>{const e=DD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LD=()=>{var t;return(t=k0())===null||t===void 0?void 0:t.config},$D=t=>{var e;return(e=k0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uhe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dhe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Jm(JSON.stringify(n)),Jm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fhe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function hhe(){var t;const e=(t=k0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function phe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mhe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ghe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xhe(){const t=kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yhe(){return!hhe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vhe(){try{return typeof indexedDB=="object"}catch{return!1}}function bhe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const whe="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=whe,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_he(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new ui(s,l,r)}}function _he(t,e){return t.replace(Nhe,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Nhe=/\{\$([^}]+)}/g;function She(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ym(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(SC(i)&&SC(o)){if(!Ym(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function SC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ehe(t,e){const n=new The(t,e);return n.subscribe.bind(n)}class The{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ahe(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wy),s.error===void 0&&(s.error=wy),s.complete===void 0&&(s.complete=wy);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ahe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class khe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uhe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jhe(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Che(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Che(t){return t===Aa?void 0:t}function jhe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new khe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const Ihe={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Rhe=Ve.INFO,Mhe={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Ohe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Mhe[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rN{constructor(e){this.name=e,this._logLevel=Rhe,this._logHandler=Ohe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ihe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Dhe=(t,e)=>e.some(n=>t instanceof n);let EC,TC;function Lhe(){return EC||(EC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $he(){return TC||(TC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VD=new WeakMap,cw=new WeakMap,FD=new WeakMap,_y=new WeakMap,sN=new WeakMap;function Vhe(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Hi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VD.set(n,t)}).catch(()=>{}),sN.set(e,t),e}function Fhe(t){if(cw.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});cw.set(t,e)}let uw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uhe(t){uw=t(uw)}function Bhe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ny(this),e,...n);return FD.set(r,e.sort?e.sort():[e]),Hi(r)}:$he().includes(t)?function(...e){return t.apply(Ny(this),e),Hi(VD.get(this))}:function(...e){return Hi(t.apply(Ny(this),e))}}function qhe(t){return typeof t=="function"?Bhe(t):(t instanceof IDBTransaction&&Fhe(t),Dhe(t,Lhe())?new Proxy(t,uw):t)}function Hi(t){if(t instanceof IDBRequest)return Vhe(t);if(_y.has(t))return _y.get(t);const e=qhe(t);return e!==t&&(_y.set(t,e),sN.set(e,t)),e}const Ny=t=>sN.get(t);function zhe(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Hi(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Hi(o.result),c.oldVersion,c.newVersion,Hi(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const Ghe=["get","getKey","getAll","getAllKeys","count"],Hhe=["put","add","delete","clear"],Sy=new Map;function AC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sy.get(e))return Sy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Hhe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Ghe.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Sy.set(e,i),i}Uhe(t=>({...t,get:(e,n,r)=>AC(e,n)||t.get(e,n,r),has:(e,n)=>!!AC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Whe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Khe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Khe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dw="@firebase/app",kC="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new rN("@firebase/app"),Jhe="@firebase/app-compat",Yhe="@firebase/analytics-compat",Xhe="@firebase/analytics",Qhe="@firebase/app-check-compat",Zhe="@firebase/app-check",epe="@firebase/auth",tpe="@firebase/auth-compat",npe="@firebase/database",rpe="@firebase/data-connect",spe="@firebase/database-compat",ipe="@firebase/functions",ape="@firebase/functions-compat",ope="@firebase/installations",lpe="@firebase/installations-compat",cpe="@firebase/messaging",upe="@firebase/messaging-compat",dpe="@firebase/performance",fpe="@firebase/performance-compat",hpe="@firebase/remote-config",ppe="@firebase/remote-config-compat",mpe="@firebase/storage",gpe="@firebase/storage-compat",xpe="@firebase/firestore",ype="@firebase/vertexai-preview",vpe="@firebase/firestore-compat",bpe="firebase",wpe="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="[DEFAULT]",_pe={[dw]:"fire-core",[Jhe]:"fire-core-compat",[Xhe]:"fire-analytics",[Yhe]:"fire-analytics-compat",[Zhe]:"fire-app-check",[Qhe]:"fire-app-check-compat",[epe]:"fire-auth",[tpe]:"fire-auth-compat",[npe]:"fire-rtdb",[rpe]:"fire-data-connect",[spe]:"fire-rtdb-compat",[ipe]:"fire-fn",[ape]:"fire-fn-compat",[ope]:"fire-iid",[lpe]:"fire-iid-compat",[cpe]:"fire-fcm",[upe]:"fire-fcm-compat",[dpe]:"fire-perf",[fpe]:"fire-perf-compat",[hpe]:"fire-rc",[ppe]:"fire-rc-compat",[mpe]:"fire-gcs",[gpe]:"fire-gcs-compat",[xpe]:"fire-fst",[vpe]:"fire-fst-compat",[ype]:"fire-vertex","fire-js":"fire-js",[bpe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm=new Map,Npe=new Map,hw=new Map;function CC(t,e){try{t.container.addComponent(e)}catch(n){Zs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ec(t){const e=t.name;if(hw.has(e))return Zs.debug(`There were multiple attempts to register component ${e}.`),!1;hw.set(e,t);for(const n of Xm.values())CC(n,t);for(const n of Npe.values())CC(n,t);return!0}function iN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ri(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Spe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new Sf("app","Firebase",Spe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Epe{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=wpe;function UD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fw,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(n||(n=LD()),!n)throw Wi.create("no-options");const i=Xm.get(s);if(i){if(Ym(n,i.options)&&Ym(r,i.config))return i;throw Wi.create("duplicate-app",{appName:s})}const o=new Phe(s);for(const c of hw.values())o.addComponent(c);const l=new Epe(n,r,o);return Xm.set(s,l),l}function BD(t=fw){const e=Xm.get(t);if(!e&&t===fw&&LD())return UD();if(!e)throw Wi.create("no-app",{appName:t});return e}function Ki(t,e,n){var r;let s=(r=_pe[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zs.warn(l.join(" "));return}ec(new io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tpe="firebase-heartbeat-database",Ape=1,tf="firebase-heartbeat-store";let Ey=null;function qD(){return Ey||(Ey=zhe(Tpe,Ape,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tf)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),Ey}async function kpe(t){try{const n=(await qD()).transaction(tf),r=await n.objectStore(tf).get(zD(t));return await n.done,r}catch(e){if(e instanceof ui)Zs.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zs.warn(n.message)}}}async function jC(t,e){try{const r=(await qD()).transaction(tf,"readwrite");await r.objectStore(tf).put(e,zD(t)),await r.done}catch(n){if(n instanceof ui)Zs.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zs.warn(r.message)}}}function zD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cpe=1024,jpe=30*24*60*60*1e3;class Ppe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rpe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=PC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=jpe}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=PC(),{heartbeatsToSend:r,unsentEntries:s}=Ipe(this._heartbeatsCache.heartbeats),i=Jm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Zs.warn(n),""}}}function PC(){return new Date().toISOString().substring(0,10)}function Ipe(t,e=Cpe){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),IC(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),IC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vhe()?bhe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await kpe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return jC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function IC(t){return Jm(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mpe(t){ec(new io("platform-logger",e=>new Whe(e),"PRIVATE")),ec(new io("heartbeat",e=>new Ppe(e),"PRIVATE")),Ki(dw,kC,t),Ki(dw,kC,"esm2017"),Ki("fire-js","")}Mpe("");var Ope="firebase",Dpe="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(Ope,Dpe,"app");var RC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,GD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,A){function j(){}j.prototype=A.prototype,E.D=A.prototype,E.prototype=new j,E.prototype.constructor=E,E.C=function(M,P,O){for(var R=Array(arguments.length-2),q=2;q<arguments.length;q++)R[q-2]=arguments[q];return A.prototype[P].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,A,j){j||(j=0);var M=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)M[P]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(P=0;16>P;++P)M[P]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=E.g[0],j=E.g[1],P=E.g[2];var O=E.g[3],R=A+(O^j&(P^O))+M[0]+3614090360&4294967295;A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[1]+3905402710&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[2]+606105819&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[3]+3250441966&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[4]+4118548399&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[5]+1200080426&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[6]+2821735955&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[7]+4249261313&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[8]+1770035416&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[9]+2336552879&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[10]+4294925233&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[11]+2304563134&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(O^j&(P^O))+M[12]+1804603682&4294967295,A=j+(R<<7&4294967295|R>>>25),R=O+(P^A&(j^P))+M[13]+4254626195&4294967295,O=A+(R<<12&4294967295|R>>>20),R=P+(j^O&(A^j))+M[14]+2792965006&4294967295,P=O+(R<<17&4294967295|R>>>15),R=j+(A^P&(O^A))+M[15]+1236535329&4294967295,j=P+(R<<22&4294967295|R>>>10),R=A+(P^O&(j^P))+M[1]+4129170786&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[6]+3225465664&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[11]+643717713&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[0]+3921069994&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[5]+3593408605&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[10]+38016083&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[15]+3634488961&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[4]+3889429448&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[9]+568446438&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[14]+3275163606&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[3]+4107603335&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[8]+1163531501&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(P^O&(j^P))+M[13]+2850285829&4294967295,A=j+(R<<5&4294967295|R>>>27),R=O+(j^P&(A^j))+M[2]+4243563512&4294967295,O=A+(R<<9&4294967295|R>>>23),R=P+(A^j&(O^A))+M[7]+1735328473&4294967295,P=O+(R<<14&4294967295|R>>>18),R=j+(O^A&(P^O))+M[12]+2368359562&4294967295,j=P+(R<<20&4294967295|R>>>12),R=A+(j^P^O)+M[5]+4294588738&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[8]+2272392833&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[11]+1839030562&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[14]+4259657740&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[1]+2763975236&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[4]+1272893353&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[7]+4139469664&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[10]+3200236656&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[13]+681279174&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[0]+3936430074&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[3]+3572445317&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[6]+76029189&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(j^P^O)+M[9]+3654602809&4294967295,A=j+(R<<4&4294967295|R>>>28),R=O+(A^j^P)+M[12]+3873151461&4294967295,O=A+(R<<11&4294967295|R>>>21),R=P+(O^A^j)+M[15]+530742520&4294967295,P=O+(R<<16&4294967295|R>>>16),R=j+(P^O^A)+M[2]+3299628645&4294967295,j=P+(R<<23&4294967295|R>>>9),R=A+(P^(j|~O))+M[0]+4096336452&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[7]+1126891415&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[14]+2878612391&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[5]+4237533241&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[12]+1700485571&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[3]+2399980690&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[10]+4293915773&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[1]+2240044497&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[8]+1873313359&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[15]+4264355552&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[6]+2734768916&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[13]+1309151649&4294967295,j=P+(R<<21&4294967295|R>>>11),R=A+(P^(j|~O))+M[4]+4149444226&4294967295,A=j+(R<<6&4294967295|R>>>26),R=O+(j^(A|~P))+M[11]+3174756917&4294967295,O=A+(R<<10&4294967295|R>>>22),R=P+(A^(O|~j))+M[2]+718787259&4294967295,P=O+(R<<15&4294967295|R>>>17),R=j+(O^(P|~A))+M[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var j=A-this.blockSize,M=this.B,P=this.h,O=0;O<A;){if(P==0)for(;O<=j;)s(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<A;)if(M[P++]=E.charCodeAt(O++),P==this.blockSize){s(this,M),P=0;break}}else for(;O<A;)if(M[P++]=E[O++],P==this.blockSize){s(this,M),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var j=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=j&255,j/=256;for(this.u(E),E=Array(16),A=j=0;4>A;++A)for(var M=0;32>M;M+=8)E[j++]=this.g[A]>>>M&255;return E};function i(E,A){var j=l;return Object.prototype.hasOwnProperty.call(j,E)?j[E]:j[E]=A(E)}function o(E,A){this.h=A;for(var j=[],M=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;M&&O==A||(j[P]=O,M=!1)}this.g=j}var l={};function c(E){return-128<=E&&128>E?i(E,function(A){return new o([A|0],0>A?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(u(-E));for(var A=[],j=1,M=0;E>=j;M++)A[M]=E/j|0,j*=4294967296;return new o(A,0)}function d(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return v(d(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=u(Math.pow(A,8)),M=f,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),R=parseInt(E.substring(P,P+O),A);8>O?(O=u(Math.pow(A,O)),M=M.j(O).add(u(R))):(M=M.j(j),M=M.add(u(R)))}return M}var f=c(0),h=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-v(this).m();for(var E=0,A=1,j=0;j<this.g.length;j++){var M=this.i(j);E+=(0<=M?M:4294967296+M)*A,A*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(b(this))return"-"+v(this).toString(E);for(var A=u(Math.pow(E,6)),j=this,M="";;){var P=C(j,A).g;j=N(j,P.j(A));var O=((0<j.g.length?j.g[0]:j.h)>>>0).toString(E);if(j=P,y(j))return O+M;for(;6>O.length;)O="0"+O;M=O+M}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=N(this,E),b(E)?-1:y(E)?0:1};function v(E){for(var A=E.g.length,j=[],M=0;M<A;M++)j[M]=~E.g[M];return new o(j,~E.h).add(h)}t.abs=function(){return b(this)?v(this):this},t.add=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0,P=0;P<=A;P++){var O=M+(this.i(P)&65535)+(E.i(P)&65535),R=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);M=R>>>16,O&=65535,R&=65535,j[P]=R<<16|O}return new o(j,j[j.length-1]&-2147483648?-1:0)};function N(E,A){return E.add(v(A))}t.j=function(E){if(y(this)||y(E))return f;if(b(this))return b(E)?v(this).j(v(E)):v(v(this).j(E));if(b(E))return v(this.j(v(E)));if(0>this.l(x)&&0>E.l(x))return u(this.m()*E.m());for(var A=this.g.length+E.g.length,j=[],M=0;M<2*A;M++)j[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<E.g.length;P++){var O=this.i(M)>>>16,R=this.i(M)&65535,q=E.i(P)>>>16,F=E.i(P)&65535;j[2*M+2*P]+=R*F,_(j,2*M+2*P),j[2*M+2*P+1]+=O*F,_(j,2*M+2*P+1),j[2*M+2*P+1]+=R*q,_(j,2*M+2*P+1),j[2*M+2*P+2]+=O*q,_(j,2*M+2*P+2)}for(M=0;M<A;M++)j[M]=j[2*M+1]<<16|j[2*M];for(M=A;M<2*A;M++)j[M]=0;return new o(j,0)};function _(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function S(E,A){this.g=E,this.h=A}function C(E,A){if(y(A))throw Error("division by zero");if(y(E))return new S(f,f);if(b(E))return A=C(v(E),A),new S(v(A.g),v(A.h));if(b(A))return A=C(E,v(A)),new S(v(A.g),A.h);if(30<E.g.length){if(b(E)||b(A))throw Error("slowDivide_ only works with positive integers.");for(var j=h,M=A;0>=M.l(E);)j=T(j),M=T(M);var P=w(j,1),O=w(M,1);for(M=w(M,2),j=w(j,2);!y(M);){var R=O.add(M);0>=R.l(E)&&(P=P.add(j),O=R),M=w(M,1),j=w(j,1)}return A=N(E,P.j(A)),new S(P,A)}for(P=f;0<=E.l(A);){for(j=Math.max(1,Math.floor(E.m()/A.m())),M=Math.ceil(Math.log(j)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),O=u(j),R=O.j(A);b(R)||0<R.l(E);)j-=M,O=u(j),R=O.j(A);y(O)&&(O=h),P=P.add(O),E=N(E,R)}return new S(P,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)&E.i(M);return new o(j,this.h&E.h)},t.or=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)|E.i(M);return new o(j,this.h|E.h)},t.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),j=[],M=0;M<A;M++)j[M]=this.i(M)^E.i(M);return new o(j,this.h^E.h)};function T(E){for(var A=E.g.length+1,j=[],M=0;M<A;M++)j[M]=E.i(M)<<1|E.i(M-1)>>>31;return new o(j,E.h)}function w(E,A){var j=A>>5;A%=32;for(var M=E.g.length-j,P=[],O=0;O<M;O++)P[O]=0<A?E.i(O+j)>>>A|E.i(O+j+1)<<32-A:E.i(O+j);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Ha=o}).apply(typeof RC<"u"?RC:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HD,_u,WD,ep,pw,KD,JD,YD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,k,I){return m==Array.prototype||m==Object.prototype||(m[k]=I.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var k=0;k<m.length;++k){var I=m[k];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(m,k){if(k)e:{var I=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var K=m[L];if(!(K in I))break e;I=I[K]}m=m[m.length-1],L=I[m],k=k(L),k!=L&&k!=null&&e(I,m,{configurable:!0,writable:!0,value:k})}}function i(m,k){m instanceof String&&(m+="");var I=0,L=!1,K={next:function(){if(!L&&I<m.length){var Z=I++;return{value:k(Z,m[Z]),done:!1}}return L=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(m){return m||function(){return i(this,function(k,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var k=typeof m;return k=k!="object"?k:m?Array.isArray(m)?"array":k:"null",k=="array"||k=="object"&&typeof m.length=="number"}function u(m){var k=typeof m;return k=="object"&&m!=null||k=="function"}function d(m,k,I){return m.call.apply(m.bind,arguments)}function f(m,k,I){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,L),m.apply(k,K)}}return function(){return m.apply(k,arguments)}}function h(m,k,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function x(m,k){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function y(m,k){function I(){}I.prototype=k.prototype,m.aa=k.prototype,m.prototype=new I,m.prototype.constructor=m,m.Qb=function(L,K,Z){for(var he=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)he[rt-2]=arguments[rt];return k.prototype[K].apply(L,he)}}function b(m){const k=m.length;if(0<k){const I=Array(k);for(let L=0;L<k;L++)I[L]=m[L];return I}return[]}function v(m,k){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(c(L)){const K=m.length||0,Z=L.length||0;m.length=K+Z;for(let he=0;he<Z;he++)m[K+he]=L[he]}else m.push(L)}}class N{constructor(k,I){this.i=k,this.j=I,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function _(m){return/^[\s\xa0]*$/.test(m)}function S(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var T=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function w(m,k,I){for(const L in m)k.call(I,m[L],L,m)}function E(m,k){for(const I in m)k.call(void 0,m[I],I,m)}function A(m){const k={};for(const I in m)k[I]=m[I];return k}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,k){let I,L;for(let K=1;K<arguments.length;K++){L=arguments[K];for(I in L)m[I]=L[I];for(let Z=0;Z<j.length;Z++)I=j[Z],Object.prototype.hasOwnProperty.call(L,I)&&(m[I]=L[I])}}function P(m){var k=1;m=m.split(":");const I=[];for(;0<k&&m.length;)I.push(m.shift()),k--;return m.length&&I.push(m.join(":")),I}function O(m){l.setTimeout(()=>{throw m},0)}function R(){var m=H;let k=null;return m.g&&(k=m.g,m.g=m.g.next,m.g||(m.h=null),k.next=null),k}class q{constructor(){this.h=this.g=null}add(k,I){const L=F.get();L.set(k,I),this.h?this.h.next=L:this.g=L,this.h=L}}var F=new N(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(k,I){this.h=k,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let B,V=!1,H=new q,J=()=>{const m=l.Promise.resolve(void 0);B=()=>{m.then(W)}};var W=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(I){O(I)}var k=F;k.j(m),100>k.h&&(k.h++,m.next=k.g,k.g=m)}V=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,k){this.type=m,this.g=this.target=k,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,k=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};l.addEventListener("test",I,k),l.removeEventListener("test",I,k)}catch{}return m}();function z(m,k){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var I=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=k,k=m.relatedTarget){if(T){e:{try{C(k.nodeName);var K=!0;break e}catch{}K=!1}K||(k=null)}}else I=="mouseover"?k=m.fromElement:I=="mouseout"&&(k=m.toElement);this.relatedTarget=k,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Q[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&z.aa.h.call(this)}}y(z,se);var Q={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ee="closure_listenable_"+(1e6*Math.random()|0),ue=0;function G(m,k,I,L,K){this.listener=m,this.proxy=null,this.src=k,this.type=I,this.capture=!!L,this.ha=K,this.key=++ue,this.da=this.fa=!1}function oe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,k,I,L,K){var Z=m.toString();m=this.g[Z],m||(m=this.g[Z]=[],this.h++);var he=Oe(m,k,L,K);return-1<he?(k=m[he],I||(k.fa=!1)):(k=new G(k,this.src,Z,!!L,K),k.fa=I,m.push(k)),k};function ie(m,k){var I=k.type;if(I in m.g){var L=m.g[I],K=Array.prototype.indexOf.call(L,k,void 0),Z;(Z=0<=K)&&Array.prototype.splice.call(L,K,1),Z&&(oe(k),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Oe(m,k,I,L){for(var K=0;K<m.length;++K){var Z=m[K];if(!Z.da&&Z.listener==k&&Z.capture==!!I&&Z.ha==L)return K}return-1}var Y="closure_lm_"+(1e6*Math.random()|0),fe={};function Te(m,k,I,L,K){if(Array.isArray(k)){for(var Z=0;Z<k.length;Z++)Te(m,k[Z],I,L,K);return null}return I=Le(I),m&&m[ee]?m.K(k,I,u(L)?!!L.capture:!1,K):Ge(m,k,I,!1,L,K)}function Ge(m,k,I,L,K,Z){if(!k)throw Error("Invalid event type");var he=u(K)?!!K.capture:!!K,rt=pe(m);if(rt||(m[Y]=rt=new de(m)),I=rt.add(k,I,L,he,Z),I.proxy)return I;if(L=en(),I.proxy=L,L.src=m,L.listener=I,m.addEventListener)be||(K=he),K===void 0&&(K=!1),m.addEventListener(k.toString(),L,K);else if(m.attachEvent)m.attachEvent(Fn(k.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function en(){function m(I){return k.call(m.src,m.listener,I)}const k=jr;return m}function fn(m,k,I,L,K){if(Array.isArray(k))for(var Z=0;Z<k.length;Z++)fn(m,k[Z],I,L,K);else L=u(L)?!!L.capture:!!L,I=Le(I),m&&m[ee]?(m=m.i,k=String(k).toString(),k in m.g&&(Z=m.g[k],I=Oe(Z,I,L,K),-1<I&&(oe(Z[I]),Array.prototype.splice.call(Z,I,1),Z.length==0&&(delete m.g[k],m.h--)))):m&&(m=pe(m))&&(k=m.g[k.toString()],m=-1,k&&(m=Oe(k,I,L,K)),(I=-1<m?k[m]:null)&&Vn(I))}function Vn(m){if(typeof m!="number"&&m&&!m.da){var k=m.src;if(k&&k[ee])ie(k.i,m);else{var I=m.type,L=m.proxy;k.removeEventListener?k.removeEventListener(I,L,m.capture):k.detachEvent?k.detachEvent(Fn(I),L):k.addListener&&k.removeListener&&k.removeListener(L),(I=pe(k))?(ie(I,m),I.h==0&&(I.src=null,k[Y]=null)):oe(m)}}}function Fn(m){return m in fe?fe[m]:fe[m]="on"+m}function jr(m,k){if(m.da)m=!0;else{k=new z(k,this);var I=m.listener,L=m.ha||m.src;m.fa&&Vn(m),m=I.call(L,k)}return m}function pe(m){return m=m[Y],m instanceof de?m:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(m){return typeof m=="function"?m:(m[Ne]||(m[Ne]=function(k){return m.handleEvent(k)}),m[Ne])}function Dt(){X.call(this),this.i=new de(this),this.M=this,this.F=null}y(Dt,X),Dt.prototype[ee]=!0,Dt.prototype.removeEventListener=function(m,k,I,L){fn(this,m,k,I,L)};function jt(m,k){var I,L=m.F;if(L)for(I=[];L;L=L.F)I.push(L);if(m=m.M,L=k.type||k,typeof k=="string")k=new se(k,m);else if(k instanceof se)k.target=k.target||m;else{var K=k;k=new se(L,m),M(k,K)}if(K=!0,I)for(var Z=I.length-1;0<=Z;Z--){var he=k.g=I[Z];K=Df(he,L,!0,k)&&K}if(he=k.g=m,K=Df(he,L,!0,k)&&K,K=Df(he,L,!1,k)&&K,I)for(Z=0;Z<I.length;Z++)he=k.g=I[Z],K=Df(he,L,!1,k)&&K}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var m=this.i,k;for(k in m.g){for(var I=m.g[k],L=0;L<I.length;L++)oe(I[L]);delete m.g[k],m.h--}}this.F=null},Dt.prototype.K=function(m,k,I,L){return this.i.add(String(m),k,!1,I,L)},Dt.prototype.L=function(m,k,I,L){return this.i.add(String(m),k,!0,I,L)};function Df(m,k,I,L){if(k=m.i.g[String(k)],!k)return!0;k=k.concat();for(var K=!0,Z=0;Z<k.length;++Z){var he=k[Z];if(he&&!he.da&&he.capture==I){var rt=he.listener,tn=he.ha||he.src;he.fa&&ie(m.i,he),K=rt.call(tn,L)!==!1&&K}}return K&&!L.defaultPrevented}function fS(m,k,I){if(typeof m=="function")I&&(m=h(m,I));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:l.setTimeout(m,k||0)}function hS(m){m.g=fS(()=>{m.g=null,m.i&&(m.i=!1,hS(m))},m.l);const k=m.h;m.h=null,m.m.apply(null,k)}class F$ extends X{constructor(k,I){super(),this.m=k,this.l=I,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:hS(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oc(m){X.call(this),this.h=m,this.g={}}y(Oc,X);var pS=[];function mS(m){w(m.g,function(k,I){this.g.hasOwnProperty(I)&&Vn(k)},m),m.g={}}Oc.prototype.N=function(){Oc.aa.N.call(this),mS(this)},Oc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tx=l.JSON.stringify,U$=l.JSON.parse,B$=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function nx(){}nx.prototype.h=null;function gS(m){return m.h||(m.h=m.i())}function xS(){}var Dc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rx(){se.call(this,"d")}y(rx,se);function sx(){se.call(this,"c")}y(sx,se);var pa={},yS=null;function Lf(){return yS=yS||new Dt}pa.La="serverreachability";function vS(m){se.call(this,pa.La,m)}y(vS,se);function Lc(m){const k=Lf();jt(k,new vS(k))}pa.STAT_EVENT="statevent";function bS(m,k){se.call(this,pa.STAT_EVENT,m),this.stat=k}y(bS,se);function Cn(m){const k=Lf();jt(k,new bS(k,m))}pa.Ma="timingevent";function wS(m,k){se.call(this,pa.Ma,m),this.size=k}y(wS,se);function $c(m,k){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},k)}function Vc(){this.g=!0}Vc.prototype.xa=function(){this.g=!1};function q$(m,k,I,L,K,Z){m.info(function(){if(m.g)if(Z)for(var he="",rt=Z.split("&"),tn=0;tn<rt.length;tn++){var He=rt[tn].split("=");if(1<He.length){var hn=He[0];He=He[1];var pn=hn.split("_");he=2<=pn.length&&pn[1]=="type"?he+(hn+"="+He+"&"):he+(hn+"=redacted&")}}else he=null;else he=Z;return"XMLHTTP REQ ("+L+") [attempt "+K+"]: "+k+`
`+I+`
`+he})}function z$(m,k,I,L,K,Z,he){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+K+"]: "+k+`
`+I+`
`+Z+" "+he})}function No(m,k,I,L){m.info(function(){return"XMLHTTP TEXT ("+k+"): "+H$(m,I)+(L?" "+L:"")})}function G$(m,k){m.info(function(){return"TIMEOUT: "+k})}Vc.prototype.info=function(){};function H$(m,k){if(!m.g)return k;if(!k)return null;try{var I=JSON.parse(k);if(I){for(m=0;m<I.length;m++)if(Array.isArray(I[m])){var L=I[m];if(!(2>L.length)){var K=L[1];if(Array.isArray(K)&&!(1>K.length)){var Z=K[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var he=1;he<K.length;he++)K[he]=""}}}}return tx(I)}catch{return k}}var $f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_S={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ix;function Vf(){}y(Vf,nx),Vf.prototype.g=function(){return new XMLHttpRequest},Vf.prototype.i=function(){return{}},ix=new Vf;function hi(m,k,I,L){this.j=m,this.i=k,this.l=I,this.R=L||1,this.U=new Oc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new NS}function NS(){this.i=null,this.g="",this.h=!1}var SS={},ax={};function ox(m,k,I){m.L=1,m.v=qf(Es(k)),m.m=I,m.P=!0,ES(m,null)}function ES(m,k){m.F=Date.now(),Ff(m),m.A=Es(m.v);var I=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),VS(I.i,"t",L),m.C=0,I=m.j.J,m.h=new NS,m.g=rE(m.j,I?k:null,!m.m),0<m.O&&(m.M=new F$(h(m.Y,m,m.g),m.O)),k=m.U,I=m.g,L=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(pS[0]=K.toString()),K=pS);for(var Z=0;Z<K.length;Z++){var he=Te(I,K[Z],L||k.handleEvent,!1,k.h||k);if(!he)break;k.g[he.key]=he}k=m.H?A(m.H):{},m.m?(m.u||(m.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,k)):(m.u="GET",m.g.ea(m.A,m.u,null,k)),Lc(),q$(m.i,m.u,m.A,m.l,m.R,m.m)}hi.prototype.ca=function(m){m=m.target;const k=this.M;k&&Ts(m)==3?k.j():this.Y(m)},hi.prototype.Y=function(m){try{if(m==this.g)e:{const pn=Ts(this.g);var k=this.g.Ba();const To=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||HS(this.g)))){this.J||pn!=4||k==7||(k==8||0>=To?Lc(3):Lc(2)),lx(this);var I=this.g.Z();this.X=I;t:if(TS(this)){var L=HS(this.g);m="";var K=L.length,Z=Ts(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ma(this),Fc(this);var he="";break t}this.h.i=new l.TextDecoder}for(k=0;k<K;k++)this.h.h=!0,m+=this.h.i.decode(L[k],{stream:!(Z&&k==K-1)});L.length=0,this.h.g+=m,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=I==200,z$(this.i,this.u,this.A,this.l,this.R,pn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,tn=this.g;if((rt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(rt)){var He=rt;break t}}He=null}if(I=He)No(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cx(this,I);else{this.o=!1,this.s=3,Cn(12),ma(this),Fc(this);break e}}if(this.P){I=!0;let Pr;for(;!this.J&&this.C<he.length;)if(Pr=W$(this,he),Pr==ax){pn==4&&(this.s=4,Cn(14),I=!1),No(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==SS){this.s=4,Cn(15),No(this.i,this.l,he,"[Invalid Chunk]"),I=!1;break}else No(this.i,this.l,Pr,null),cx(this,Pr);if(TS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||he.length!=0||this.h.h||(this.s=1,Cn(16),I=!1),this.o=this.o&&I,!I)No(this.i,this.l,he,"[Invalid Chunked Response]"),ma(this),Fc(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),mx(hn),hn.M=!0,Cn(11))}}else No(this.i,this.l,he,null),cx(this,he);pn==4&&ma(this),this.o&&!this.J&&(pn==4?ZS(this.j,this):(this.o=!1,Ff(this)))}else u3(this.g),I==400&&0<he.indexOf("Unknown SID")?(this.s=3,Cn(12)):(this.s=0,Cn(13)),ma(this),Fc(this)}}}catch{}finally{}};function TS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function W$(m,k){var I=m.C,L=k.indexOf(`
`,I);return L==-1?ax:(I=Number(k.substring(I,L)),isNaN(I)?SS:(L+=1,L+I>k.length?ax:(k=k.slice(L,L+I),m.C=L+I,k)))}hi.prototype.cancel=function(){this.J=!0,ma(this)};function Ff(m){m.S=Date.now()+m.I,AS(m,m.I)}function AS(m,k){if(m.B!=null)throw Error("WatchDog timer not null");m.B=$c(h(m.ba,m),k)}function lx(m){m.B&&(l.clearTimeout(m.B),m.B=null)}hi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(G$(this.i,this.A),this.L!=2&&(Lc(),Cn(17)),ma(this),this.s=2,Fc(this)):AS(this,this.S-m)};function Fc(m){m.j.G==0||m.J||ZS(m.j,m)}function ma(m){lx(m);var k=m.M;k&&typeof k.ma=="function"&&k.ma(),m.M=null,mS(m.U),m.g&&(k=m.g,m.g=null,k.abort(),k.ma())}function cx(m,k){try{var I=m.j;if(I.G!=0&&(I.g==m||ux(I.h,m))){if(!m.K&&ux(I.h,m)&&I.G==3){try{var L=I.Da.g.parse(k)}catch{L=null}if(Array.isArray(L)&&L.length==3){var K=L;if(K[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<m.F)Jf(I),Wf(I);else break e;px(I),Cn(18)}}else I.za=K[1],0<I.za-I.T&&37500>K[2]&&I.F&&I.v==0&&!I.C&&(I.C=$c(h(I.Za,I),6e3));if(1>=jS(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else xa(I,11)}else if((m.K||I.g==m)&&Jf(I),!_(k))for(K=I.Da.g.parse(k),k=0;k<K.length;k++){let He=K[k];if(I.T=He[0],He=He[1],I.G==2)if(He[0]=="c"){I.K=He[1],I.ia=He[2];const hn=He[3];hn!=null&&(I.la=hn,I.j.info("VER="+I.la));const pn=He[4];pn!=null&&(I.Aa=pn,I.j.info("SVER="+I.Aa));const To=He[5];To!=null&&typeof To=="number"&&0<To&&(L=1.5*To,I.L=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const Pr=m.g;if(Pr){const Xf=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var Z=L.h;Z.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(dx(Z,Z.h),Z.h=null))}if(L.D){const gx=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;gx&&(L.ya=gx,dt(L.I,L.D,gx))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-m.F,I.j.info("Handshake RTT: "+I.R+"ms")),L=I;var he=m;if(L.qa=nE(L,L.J?L.ia:null,L.W),he.K){PS(L.h,he);var rt=he,tn=L.L;tn&&(rt.I=tn),rt.B&&(lx(rt),Ff(rt)),L.g=he}else XS(L);0<I.i.length&&Kf(I)}else He[0]!="stop"&&He[0]!="close"||xa(I,7);else I.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?xa(I,7):hx(I):He[0]!="noop"&&I.l&&I.l.ta(He),I.v=0)}}Lc(4)}catch{}}var K$=class{constructor(m,k){this.g=m,this.map=k}};function kS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function CS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function jS(m){return m.h?1:m.g?m.g.size:0}function ux(m,k){return m.h?m.h==k:m.g?m.g.has(k):!1}function dx(m,k){m.g?m.g.add(k):m.h=k}function PS(m,k){m.h&&m.h==k?m.h=null:m.g&&m.g.has(k)&&m.g.delete(k)}kS.prototype.cancel=function(){if(this.i=IS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function IS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let k=m.i;for(const I of m.g.values())k=k.concat(I.D);return k}return b(m.i)}function J$(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var k=[],I=m.length,L=0;L<I;L++)k.push(m[L]);return k}k=[],I=0;for(L in m)k[I++]=m[L];return k}function Y$(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var k=[];m=m.length;for(var I=0;I<m;I++)k.push(I);return k}k=[],I=0;for(const L in m)k[I++]=L;return k}}}function RS(m,k){if(m.forEach&&typeof m.forEach=="function")m.forEach(k,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,k,void 0);else for(var I=Y$(m),L=J$(m),K=L.length,Z=0;Z<K;Z++)k.call(void 0,L[Z],I&&I[Z],m)}var MS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function X$(m,k){if(m){m=m.split("&");for(var I=0;I<m.length;I++){var L=m[I].indexOf("="),K=null;if(0<=L){var Z=m[I].substring(0,L);K=m[I].substring(L+1)}else Z=m[I];k(Z,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ga(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ga){this.h=m.h,Uf(this,m.j),this.o=m.o,this.g=m.g,Bf(this,m.s),this.l=m.l;var k=m.i,I=new qc;I.i=k.i,k.g&&(I.g=new Map(k.g),I.h=k.h),OS(this,I),this.m=m.m}else m&&(k=String(m).match(MS))?(this.h=!1,Uf(this,k[1]||"",!0),this.o=Uc(k[2]||""),this.g=Uc(k[3]||"",!0),Bf(this,k[4]),this.l=Uc(k[5]||"",!0),OS(this,k[6]||"",!0),this.m=Uc(k[7]||"")):(this.h=!1,this.i=new qc(null,this.h))}ga.prototype.toString=function(){var m=[],k=this.j;k&&m.push(Bc(k,DS,!0),":");var I=this.g;return(I||k=="file")&&(m.push("//"),(k=this.o)&&m.push(Bc(k,DS,!0),"@"),m.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&m.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(Bc(I,I.charAt(0)=="/"?e3:Z$,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",Bc(I,n3)),m.join("")};function Es(m){return new ga(m)}function Uf(m,k,I){m.j=I?Uc(k,!0):k,m.j&&(m.j=m.j.replace(/:$/,""))}function Bf(m,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);m.s=k}else m.s=null}function OS(m,k,I){k instanceof qc?(m.i=k,r3(m.i,m.h)):(I||(k=Bc(k,t3)),m.i=new qc(k,m.h))}function dt(m,k,I){m.i.set(k,I)}function qf(m){return dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Uc(m,k){return m?k?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Bc(m,k,I){return typeof m=="string"?(m=encodeURI(m).replace(k,Q$),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Q$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var DS=/[#\/\?@]/g,Z$=/[#\?:]/g,e3=/[#\?]/g,t3=/[#\?@]/g,n3=/#/g;function qc(m,k){this.h=this.g=null,this.i=m||null,this.j=!!k}function pi(m){m.g||(m.g=new Map,m.h=0,m.i&&X$(m.i,function(k,I){m.add(decodeURIComponent(k.replace(/\+/g," ")),I)}))}t=qc.prototype,t.add=function(m,k){pi(this),this.i=null,m=So(this,m);var I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(k),this.h+=1,this};function LS(m,k){pi(m),k=So(m,k),m.g.has(k)&&(m.i=null,m.h-=m.g.get(k).length,m.g.delete(k))}function $S(m,k){return pi(m),k=So(m,k),m.g.has(k)}t.forEach=function(m,k){pi(this),this.g.forEach(function(I,L){I.forEach(function(K){m.call(k,K,L,this)},this)},this)},t.na=function(){pi(this);const m=Array.from(this.g.values()),k=Array.from(this.g.keys()),I=[];for(let L=0;L<k.length;L++){const K=m[L];for(let Z=0;Z<K.length;Z++)I.push(k[L])}return I},t.V=function(m){pi(this);let k=[];if(typeof m=="string")$S(this,m)&&(k=k.concat(this.g.get(So(this,m))));else{m=Array.from(this.g.values());for(let I=0;I<m.length;I++)k=k.concat(m[I])}return k},t.set=function(m,k){return pi(this),this.i=null,m=So(this,m),$S(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[k]),this.h+=1,this},t.get=function(m,k){return m?(m=this.V(m),0<m.length?String(m[0]):k):k};function VS(m,k,I){LS(m,k),0<I.length&&(m.i=null,m.g.set(So(m,k),b(I)),m.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],k=Array.from(this.g.keys());for(var I=0;I<k.length;I++){var L=k[I];const Z=encodeURIComponent(String(L)),he=this.V(L);for(L=0;L<he.length;L++){var K=Z;he[L]!==""&&(K+="="+encodeURIComponent(String(he[L]))),m.push(K)}}return this.i=m.join("&")};function So(m,k){return k=String(k),m.j&&(k=k.toLowerCase()),k}function r3(m,k){k&&!m.j&&(pi(m),m.i=null,m.g.forEach(function(I,L){var K=L.toLowerCase();L!=K&&(LS(this,L),VS(this,K,I))},m)),m.j=k}function s3(m,k){const I=new Vc;if(l.Image){const L=new Image;L.onload=x(mi,I,"TestLoadImage: loaded",!0,k,L),L.onerror=x(mi,I,"TestLoadImage: error",!1,k,L),L.onabort=x(mi,I,"TestLoadImage: abort",!1,k,L),L.ontimeout=x(mi,I,"TestLoadImage: timeout",!1,k,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else k(!1)}function i3(m,k){const I=new Vc,L=new AbortController,K=setTimeout(()=>{L.abort(),mi(I,"TestPingServer: timeout",!1,k)},1e4);fetch(m,{signal:L.signal}).then(Z=>{clearTimeout(K),Z.ok?mi(I,"TestPingServer: ok",!0,k):mi(I,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(K),mi(I,"TestPingServer: error",!1,k)})}function mi(m,k,I,L,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),L(I)}catch{}}function a3(){this.g=new B$}function o3(m,k,I){const L=I||"";try{RS(m,function(K,Z){let he=K;u(K)&&(he=tx(K)),k.push(L+Z+"="+encodeURIComponent(he))})}catch(K){throw k.push(L+"type="+encodeURIComponent("_badmap")),K}}function zf(m){this.l=m.Ub||null,this.j=m.eb||!1}y(zf,nx),zf.prototype.g=function(){return new Gf(this.l,this.j)},zf.prototype.i=function(m){return function(){return m}}({});function Gf(m,k){Dt.call(this),this.D=m,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Gf,Dt),t=Gf.prototype,t.open=function(m,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=k,this.readyState=1,Gc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(k.body=m),(this.D||l).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Gc(this)),this.g&&(this.readyState=3,Gc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;FS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function FS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var k=m.value?m.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!m.done}))&&(this.response=this.responseText+=k)}m.done?zc(this):Gc(this),this.readyState==3&&FS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,zc(this))},t.Qa=function(m){this.g&&(this.response=m,zc(this))},t.ga=function(){this.g&&zc(this)};function zc(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Gc(m)}t.setRequestHeader=function(m,k){this.u.append(m,k)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],k=this.h.entries();for(var I=k.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=k.next();return m.join(`\r
`)};function Gc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function US(m){let k="";return w(m,function(I,L){k+=L,k+=":",k+=I,k+=`\r
`}),k}function fx(m,k,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=US(I),typeof m=="string"?I!=null&&encodeURIComponent(String(I)):dt(m,k,I))}function St(m){Dt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(St,Dt);var l3=/^https?$/i,c3=["POST","PUT"];t=St.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,k,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);k=k?k.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ix.g(),this.v=this.o?gS(this.o):gS(ix),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(k,String(m),!0),this.B=!1}catch(Z){BS(this,Z);return}if(m=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var K in L)I.set(K,L[K]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Z of L.keys())I.set(Z,L.get(Z));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(Z=>Z.toLowerCase()=="content-type"),K=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(c3,k,void 0))||L||K||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,he]of I)this.g.setRequestHeader(Z,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GS(this),this.u=!0,this.g.send(m),this.u=!1}catch(Z){BS(this,Z)}};function BS(m,k){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=k,m.m=5,qS(m),Hf(m)}function qS(m){m.A||(m.A=!0,jt(m,"complete"),jt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,jt(this,"complete"),jt(this,"abort"),Hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hf(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?zS(this):this.bb())},t.bb=function(){zS(this)};function zS(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Ts(m)!=4||m.Z()!=2)){if(m.u&&Ts(m)==4)fS(m.Ea,0,m);else if(jt(m,"readystatechange"),Ts(m)==4){m.h=!1;try{const he=m.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var I;if(!(I=k)){var L;if(L=he===0){var K=String(m.D).match(MS)[1]||null;!K&&l.self&&l.self.location&&(K=l.self.location.protocol.slice(0,-1)),L=!l3.test(K?K.toLowerCase():"")}I=L}if(I)jt(m,"complete"),jt(m,"success");else{m.m=6;try{var Z=2<Ts(m)?m.g.statusText:""}catch{Z=""}m.l=Z+" ["+m.Z()+"]",qS(m)}}finally{Hf(m)}}}}function Hf(m,k){if(m.g){GS(m);const I=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,k||jt(m,"ready");try{I.onreadystatechange=L}catch{}}}function GS(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ts(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ts(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var k=this.g.responseText;return m&&k.indexOf(m)==0&&(k=k.substring(m.length)),U$(k)}};function HS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function u3(m){const k={};m=(m.g&&2<=Ts(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(_(m[L]))continue;var I=P(m[L]);const K=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Z=k[K]||[];k[K]=Z,Z.push(I)}E(k,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hc(m,k,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||k}function WS(m){this.Aa=0,this.i=[],this.j=new Vc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hc("baseRetryDelayMs",5e3,m),this.cb=Hc("retryDelaySeedMs",1e4,m),this.Wa=Hc("forwardChannelMaxRetries",2,m),this.wa=Hc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new kS(m&&m.concurrentRequestLimit),this.Da=new a3,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=WS.prototype,t.la=8,t.G=1,t.connect=function(m,k,I,L){Cn(0),this.W=m,this.H=k||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=nE(this,null,this.W),Kf(this)};function hx(m){if(KS(m),m.G==3){var k=m.U++,I=Es(m.I);if(dt(I,"SID",m.K),dt(I,"RID",k),dt(I,"TYPE","terminate"),Wc(m,I),k=new hi(m,m.j,k),k.L=2,k.v=qf(Es(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(k.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=k.v,I=!0),I||(k.g=rE(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Ff(k)}tE(m)}function Wf(m){m.g&&(mx(m),m.g.cancel(),m.g=null)}function KS(m){Wf(m),m.u&&(l.clearTimeout(m.u),m.u=null),Jf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Kf(m){if(!CS(m.h)&&!m.s){m.s=!0;var k=m.Ga;B||J(),V||(B(),V=!0),H.add(k,m),m.B=0}}function d3(m,k){return jS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=k.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=$c(h(m.Ga,m,k),eE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new hi(this,this.j,m);let Z=this.o;if(this.S&&(Z?(Z=A(Z),M(Z,this.S)):Z=this.S),this.m!==null||this.O||(K.H=Z,Z=null),this.P)e:{for(var k=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(k+=L,4096<k){k=I;break e}if(k===4096||I===this.i.length-1){k=I+1;break e}}k=1e3}else k=1e3;k=YS(this,K,k),I=Es(this.I),dt(I,"RID",m),dt(I,"CVER",22),this.D&&dt(I,"X-HTTP-Session-Id",this.D),Wc(this,I),Z&&(this.O?k="headers="+encodeURIComponent(String(US(Z)))+"&"+k:this.m&&fx(I,this.m,Z)),dx(this.h,K),this.Ua&&dt(I,"TYPE","init"),this.P?(dt(I,"$req",k),dt(I,"SID","null"),K.T=!0,ox(K,I,null)):ox(K,I,k),this.G=2}}else this.G==3&&(m?JS(this,m):this.i.length==0||CS(this.h)||JS(this))};function JS(m,k){var I;k?I=k.l:I=m.U++;const L=Es(m.I);dt(L,"SID",m.K),dt(L,"RID",I),dt(L,"AID",m.T),Wc(m,L),m.m&&m.o&&fx(L,m.m,m.o),I=new hi(m,m.j,I,m.B+1),m.m===null&&(I.H=m.o),k&&(m.i=k.D.concat(m.i)),k=YS(m,I,1e3),I.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),dx(m.h,I),ox(I,L,k)}function Wc(m,k){m.H&&w(m.H,function(I,L){dt(k,L,I)}),m.l&&RS({},function(I,L){dt(k,L,I)})}function YS(m,k,I){I=Math.min(m.i.length,I);var L=m.l?h(m.l.Na,m.l,m):null;e:{var K=m.i;let Z=-1;for(;;){const he=["count="+I];Z==-1?0<I?(Z=K[0].g,he.push("ofs="+Z)):Z=0:he.push("ofs="+Z);let rt=!0;for(let tn=0;tn<I;tn++){let He=K[tn].g;const hn=K[tn].map;if(He-=Z,0>He)Z=Math.max(0,K[tn].g-100),rt=!1;else try{o3(hn,he,"req"+He+"_")}catch{L&&L(hn)}}if(rt){L=he.join("&");break e}}}return m=m.i.splice(0,I),k.D=m,L}function XS(m){if(!m.g&&!m.u){m.Y=1;var k=m.Fa;B||J(),V||(B(),V=!0),H.add(k,m),m.v=0}}function px(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=$c(h(m.Fa,m),eE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,QS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=$c(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Cn(10),Wf(this),QS(this))};function mx(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function QS(m){m.g=new hi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var k=Es(m.qa);dt(k,"RID","rpc"),dt(k,"SID",m.K),dt(k,"AID",m.T),dt(k,"CI",m.F?"0":"1"),!m.F&&m.ja&&dt(k,"TO",m.ja),dt(k,"TYPE","xmlhttp"),Wc(m,k),m.m&&m.o&&fx(k,m.m,m.o),m.L&&(m.g.I=m.L);var I=m.g;m=m.ia,I.L=1,I.v=qf(Es(k)),I.m=null,I.P=!0,ES(I,m)}t.Za=function(){this.C!=null&&(this.C=null,Wf(this),px(this),Cn(19))};function Jf(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function ZS(m,k){var I=null;if(m.g==k){Jf(m),mx(m),m.g=null;var L=2}else if(ux(m.h,k))I=k.D,PS(m.h,k),L=1;else return;if(m.G!=0){if(k.o)if(L==1){I=k.m?k.m.length:0,k=Date.now()-k.F;var K=m.B;L=Lf(),jt(L,new wS(L,I)),Kf(m)}else XS(m);else if(K=k.s,K==3||K==0&&0<k.X||!(L==1&&d3(m,k)||L==2&&px(m)))switch(I&&0<I.length&&(k=m.h,k.i=k.i.concat(I)),K){case 1:xa(m,5);break;case 4:xa(m,10);break;case 3:xa(m,6);break;default:xa(m,2)}}}function eE(m,k){let I=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(I*=2),I*k}function xa(m,k){if(m.j.info("Error code "+k),k==2){var I=h(m.fb,m),L=m.Xa;const K=!L;L=new ga(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Uf(L,"https"),qf(L),K?s3(L.toString(),I):i3(L.toString(),I)}else Cn(2);m.G=0,m.l&&m.l.sa(k),tE(m),KS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Cn(2)):(this.j.info("Failed to ping google.com"),Cn(1))};function tE(m){if(m.G=0,m.ka=[],m.l){const k=IS(m.h);(k.length!=0||m.i.length!=0)&&(v(m.ka,k),v(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function nE(m,k,I){var L=I instanceof ga?Es(I):new ga(I);if(L.g!="")k&&(L.g=k+"."+L.g),Bf(L,L.s);else{var K=l.location;L=K.protocol,k=k?k+"."+K.hostname:K.hostname,K=+K.port;var Z=new ga(null);L&&Uf(Z,L),k&&(Z.g=k),K&&Bf(Z,K),I&&(Z.l=I),L=Z}return I=m.D,k=m.ya,I&&k&&dt(L,I,k),dt(L,"VER",m.la),Wc(m,L),L}function rE(m,k,I){if(k&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=m.Ca&&!m.pa?new St(new zf({eb:I})):new St(m.pa),k.Ha(m.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sE(){}t=sE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yf(){}Yf.prototype.g=function(m,k){return new Qn(m,k)};function Qn(m,k){Dt.call(this),this.g=new WS(k),this.l=m,this.h=k&&k.messageUrlParams||null,m=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(m?m["X-WebChannel-Content-Type"]=k.messageContentType:m={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(m?m["X-WebChannel-Client-Profile"]=k.va:m={"X-WebChannel-Client-Profile":k.va}),this.g.S=m,(m=k&&k.Sb)&&!_(m)&&(this.g.m=m),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!_(k)&&(this.g.D=k,m=this.h,m!==null&&k in m&&(m=this.h,k in m&&delete m[k])),this.j=new Eo(this)}y(Qn,Dt),Qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qn.prototype.close=function(){hx(this.g)},Qn.prototype.o=function(m){var k=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.u&&(I={},I.__data__=tx(m),m=I);k.i.push(new K$(k.Ya++,m)),k.G==3&&Kf(k)},Qn.prototype.N=function(){this.g.l=null,delete this.j,hx(this.g),delete this.g,Qn.aa.N.call(this)};function iE(m){rx.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var k=m.__sm__;if(k){e:{for(const I in k){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,k=k!==null&&m in k?k[m]:void 0),this.data=k}else this.data=m}y(iE,rx);function aE(){sx.call(this),this.status=1}y(aE,sx);function Eo(m){this.g=m}y(Eo,sE),Eo.prototype.ua=function(){jt(this.g,"a")},Eo.prototype.ta=function(m){jt(this.g,new iE(m))},Eo.prototype.sa=function(m){jt(this.g,new aE)},Eo.prototype.ra=function(){jt(this.g,"b")},Yf.prototype.createWebChannel=Yf.prototype.g,Qn.prototype.send=Qn.prototype.o,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,YD=function(){return new Yf},JD=function(){return Lf()},KD=pa,pw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,ep=$f,_S.COMPLETE="complete",WD=_S,xS.EventType=Dc,Dc.OPEN="a",Dc.CLOSE="b",Dc.ERROR="c",Dc.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,_u=xS,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,HD=St}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const MC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=new rN("@firebase/firestore");function fu(){return ao.logLevel}function ve(t,...e){if(ao.logLevel<=Ve.DEBUG){const n=e.map(aN);ao.debug(`Firestore (${kc}): ${t}`,...n)}}function ei(t,...e){if(ao.logLevel<=Ve.ERROR){const n=e.map(aN);ao.error(`Firestore (${kc}): ${t}`,...n)}}function tc(t,...e){if(ao.logLevel<=Ve.WARN){const n=e.map(aN);ao.warn(`Firestore (${kc}): ${t}`,...n)}}function aN(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t="Unexpected state"){const e=`FIRESTORE (${kc}) INTERNAL ASSERTION FAILED: `+t;throw ei(e),new Error(e)}function Ze(t,e){t||ke()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lpe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class $pe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Vpe{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ze(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ji,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ji)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new XD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new vn(e)}}class Fpe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Upe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Fpe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bpe{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qpe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ze(this.o===void 0);const r=i=>{i.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ve("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new Bpe(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zpe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zpe(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function nc(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new zt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new zt(0,0))}static max(){return new je(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(),r===void 0?r=e.length-n:r>e.length-n&&ke(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return nf.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof nf?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends nf{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Gpe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends nf{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return Gpe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new me(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new me(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new me(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(lt.fromString(e))}static fromName(e){return new we(lt.fromString(e).popFirst(5))}static empty(){return new we(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new lt(e.slice()))}}function Hpe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new na(s,we.empty(),e)}function Wpe(t){return new na(t.readTime,t.key,-1)}class na{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new na(je.min(),we.empty(),-1)}static max(){return new na(je.max(),we.empty(),-1)}}function Kpe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jpe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ype{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Jpe)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(s=>s?ae.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new ae((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Xpe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Af(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}oN.oe=-1;function C0(t){return t==null}function Qm(t){return t===0&&1/t==-1/0}function Qpe(t){return typeof t=="number"&&Number.isInteger(t)&&!Qm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=i??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,n,r,s,i){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DC(this.data.getIterator())}getIteratorFrom(e){return new DC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class DC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new sr([])}unionWith(e){let n=new ln(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new eL("Invalid base64 string: "+i):i}}(e);return new dn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Zpe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=Zpe.exec(t);if(Ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lN(t){const e=t.mapValue.fields.__previous_value__;return j0(e)?lN(e):e}function rf(t){const e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eme{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class sf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih={mapValue:{}};function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?j0(t)?4:nme(t)?9007199254740991:tme(t)?10:11:ke()}function ws(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rf(t).isEqual(rf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ra(s.timestampValue),l=ra(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return oo(s.bytesValue).isEqual(oo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return kt(s.geoPointValue.latitude)===kt(i.geoPointValue.latitude)&&kt(s.geoPointValue.longitude)===kt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return kt(s.integerValue)===kt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=kt(s.doubleValue),l=kt(i.doubleValue);return o===l?Qm(o)===Qm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return nc(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(OC(o)!==OC(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ws(o[c],l[c])))return!1;return!0}(t,e);default:return ke()}}function af(t,e){return(t.values||[]).find(n=>ws(n,e))!==void 0}function rc(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=kt(i.integerValue||i.doubleValue),c=kt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return LC(t.timestampValue,e.timestampValue);case 4:return LC(rf(t),rf(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(i,o){const l=oo(i),c=oo(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=We(l[u],c[u]);if(d!==0)return d}return We(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=We(kt(i.latitude),kt(o.latitude));return l!==0?l:We(kt(i.longitude),kt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $C(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const f=i.fields||{},h=o.fields||{},x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=(c=h.value)===null||c===void 0?void 0:c.arrayValue,b=We(((u=x==null?void 0:x.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:$C(x,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ih.mapValue&&o===Ih.mapValue)return 0;if(i===Ih.mapValue)return 1;if(o===Ih.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=We(c[f],d[f]);if(h!==0)return h;const x=rc(l[c[f]],u[d[f]]);if(x!==0)return x}return We(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ke()}}function LC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ra(t),r=ra(e),s=We(n.seconds,r.seconds);return s!==0?s:We(n.nanos,r.nanos)}function $C(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=rc(n[s],r[s]);if(i)return i}return We(n.length,r.length)}function sc(t){return mw(t)}function mw(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ra(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=mw(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${mw(n.fields[o])}`;return s+"}"}(t.mapValue):ke()}function Zm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gw(t){return!!t&&"integerValue"in t}function cN(t){return!!t&&"arrayValue"in t}function VC(t){return!!t&&"nullValue"in t}function FC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tp(t){return!!t&&"mapValue"in t}function tme(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function nme(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!tp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=an.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Gu(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());tp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];tp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){vo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zn(Gu(this.value))}}function tL(t){const e=[];return vo(t.fields,(n,r)=>{const s=new an([n]);if(tp(r)){const i=tL(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Nn(e,0,je.min(),je.min(),je.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Nn(e,1,n,je.min(),r,s,0)}static newNoDocument(e,n){return new Nn(e,2,n,je.min(),je.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,je.min(),je.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.position=e,this.inclusive=n}}function UC(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=we.comparator(we.fromName(o.referenceValue),n.key):r=rc(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function BC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n="asc"){this.field=e,this.dir=n}}function rme(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{}class Mt extends nL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ime(e,n,r):n==="array-contains"?new lme(e,r):n==="in"?new cme(e,r):n==="not-in"?new ume(e,r):n==="array-contains-any"?new dme(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ame(e,r):new ome(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rc(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(rc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends nL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yr(e,n)}matches(e){return rL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rL(t){return t.op==="and"}function sL(t){return sme(t)&&rL(t)}function sme(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function xw(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+sc(t.value);if(sL(t))return t.filters.map(e=>xw(e)).join(",");{const e=t.filters.map(n=>xw(n)).join(",");return`${t.op}(${e})`}}function iL(t,e){return t instanceof Mt?function(r,s){return s instanceof Mt&&r.op===s.op&&r.field.isEqual(s.field)&&ws(r.value,s.value)}(t,e):t instanceof Yr?function(r,s){return s instanceof Yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&iL(o,s.filters[l]),!0):!1}(t,e):void ke()}function aL(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${sc(n.value)}`}(t):t instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(aL).join(" ,")+"}"}(t):"Filter"}class ime extends Mt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class ame extends Mt{constructor(e,n){super(e,"in",n),this.keys=oL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ome extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=oL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function oL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class lme extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cN(n)&&af(n.arrayValue,this.value)}}class cme extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&af(this.value.arrayValue,n)}}class ume extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(af(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!af(this.value.arrayValue,n)}}class dme extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cN(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>af(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fme{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function qC(t,e=null,n=[],r=[],s=null,i=null,o=null){return new fme(t,e,n,r,s,i,o)}function uN(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),C0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sc(r)).join(",")),e.ue=n}return e.ue}function dN(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rme(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BC(t.startAt,e.startAt)&&BC(t.endAt,e.endAt)}function yw(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function hme(t,e,n,r,s,i,o,l){return new bo(t,e,n,r,s,i,o,l)}function fN(t){return new bo(t)}function zC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hN(t){return t.collectionGroup!==null}function fl(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ln(an.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new of(i,r))}),n.has(an.keyField().canonicalString())||e.ce.push(new of(an.keyField(),r))}return e.ce}function ds(t){const e=Pe(t);return e.le||(e.le=pme(e,fl(t))),e.le}function pme(t,e){if(t.limitType==="F")return qC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new of(s.field,i)});const n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return qC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vw(t,e){const n=t.filters.concat([e]);return new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function eg(t,e,n){return new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function P0(t,e){return dN(ds(t),ds(e))&&t.limitType===e.limitType}function lL(t){return`${uN(ds(t))}|lt:${t.limitType}`}function Po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>aL(s)).join(", ")}]`),C0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>sc(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>sc(s)).join(",")),`Target(${r})`}(ds(t))}; limitType=${t.limitType})`}function I0(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):we.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of fl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=UC(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,fl(r),s)||r.endAt&&!function(o,l,c){const u=UC(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,fl(r),s))}(t,e)}function mme(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cL(t){return(e,n)=>{let r=!1;for(const s of fl(t)){const i=gme(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function gme(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?rc(c,u):ke()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ZD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xme=new _t(we.comparator);function ti(){return xme}const uL=new _t(we.comparator);function Nu(...t){let e=uL;for(const n of t)e=e.insert(n.key,n);return e}function dL(t){let e=uL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return Hu()}function fL(){return Hu()}function Hu(){return new Cc(t=>t.toString(),(t,e)=>t.isEqual(e))}const yme=new _t(we.comparator),vme=new ln(we.comparator);function $e(...t){let e=vme;for(const n of t)e=e.add(n);return e}const bme=new ln(We);function wme(){return bme}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function hL(t){return{integerValue:""+t}}function _me(t,e){return Qpe(e)?hL(e):pN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this._=void 0}}function Nme(t,e,n){return t instanceof tg?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&j0(i)&&(i=lN(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof lf?mL(t,e):t instanceof cf?gL(t,e):function(s,i){const o=pL(s,i),l=GC(o)+GC(s.Pe);return gw(o)&&gw(s.Pe)?hL(l):pN(s.serializer,l)}(t,e)}function Sme(t,e,n){return t instanceof lf?mL(t,e):t instanceof cf?gL(t,e):n}function pL(t,e){return t instanceof ng?function(r){return gw(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class tg extends R0{}class lf extends R0{constructor(e){super(),this.elements=e}}function mL(t,e){const n=xL(e);for(const r of t.elements)n.some(s=>ws(s,r))||n.push(r);return{arrayValue:{values:n}}}class cf extends R0{constructor(e){super(),this.elements=e}}function gL(t,e){let n=xL(e);for(const r of t.elements)n=n.filter(s=>!ws(s,r));return{arrayValue:{values:n}}}class ng extends R0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function GC(t){return kt(t.integerValue||t.doubleValue)}function xL(t){return cN(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Eme(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lf&&s instanceof lf||r instanceof cf&&s instanceof cf?nc(r.elements,s.elements,ws):r instanceof ng&&s instanceof ng?ws(r.Pe,s.Pe):r instanceof tg&&s instanceof tg}(t.transform,e.transform)}class Tme{constructor(e,n){this.version=e,this.transformResults=n}}class zr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function np(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class M0{}function yL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mN(t.key,zr.none()):new kf(t.key,t.data,zr.none());{const n=t.data,r=zn.empty();let s=new ln(an.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new fa(t.key,r,new sr(s.toArray()),zr.none())}}function Ame(t,e,n){t instanceof kf?function(s,i,o){const l=s.value.clone(),c=WC(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(s,i,o){if(!np(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=WC(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(vL(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wu(t,e,n,r){return t instanceof kf?function(i,o,l,c){if(!np(i.precondition,o))return l;const u=i.value.clone(),d=KC(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(i,o,l,c){if(!np(i.precondition,o))return l;const u=KC(i.fieldTransforms,c,o),d=o.data;return d.setAll(vL(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return np(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function kme(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=pL(r.transform,s||null);i!=null&&(n===null&&(n=zn.empty()),n.set(r.field,i))}return n||null}function HC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&nc(r,s,(i,o)=>Eme(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kf extends M0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fa extends M0{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function vL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WC(t,e,n){const r=new Map;Ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,Sme(o,l,n[s]))}return r}function KC(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Nme(i,o,e))}return r}class mN extends M0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Cme extends M0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jme{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&Ame(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fL();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=yL(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(je.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(n,r)=>HC(n,r))&&nc(this.baseMutations,e.baseMutations,(n,r)=>HC(n,r))}}class gN{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ze(e.mutations.length===r.length);let s=function(){return yme}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gN(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pme{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ime{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ue;function Rme(t){switch(t){default:return ke();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function bL(t){if(t===void 0)return ei("GRPC error has no .code"),re.UNKNOWN;switch(t){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return ke()}}(Ue=Pt||(Pt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mme(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ome=new Ha([4294967295,4294967295],0);function JC(t){const e=Mme().encode(t),n=new GD;return n.update(e),new Uint8Array(n.digest())}function YC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([s,i],0)]}class xN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Su(`Invalid padding: ${n}`);if(r<0)throw new Su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Su(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Su(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ha.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ha.fromNumber(r)));return s.compare(Ome)===1&&(s=new Ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=JC(e),[r,s]=YC(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xN(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=JC(e),[r,s]=YC(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new O0(je.min(),s,new _t(We),ti(),$e())}}class Cf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cf(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class wL{constructor(e,n){this.targetId=e,this.me=n}}class _L{constructor(e,n,r=dn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class XC{constructor(){this.fe=0,this.ge=ZC(),this.pe=dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=$e(),n=$e(),r=$e();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ke()}}),new Cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ZC()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Dme{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=QC(),this.Qe=new _t(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ke()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(yw(i))if(r===0){const o=new we(i.path);this.Ue(n,o,Nn.newNoDocument(o,je.min()))}else Ze(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=oo(r).toUint8Array()}catch(c){if(c instanceof eL)return tc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new xN(o,s,i)}catch(c){return tc(c instanceof Su?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&yw(l.target)){const c=new we(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Nn.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=$e();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new O0(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=QC(),this.Qe=new _t(We),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new XC,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new XC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function QC(){return new _t(we.comparator)}function ZC(){return new _t(we.comparator)}const Lme={asc:"ASCENDING",desc:"DESCENDING"},$me={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vme={and:"AND",or:"OR"};class Fme{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bw(t,e){return t.useProto3Json||C0(e)?e:{value:e}}function rg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ume(t,e){return rg(t,e.toTimestamp())}function fs(t){return Ze(!!t),je.fromTimestamp(function(n){const r=ra(n);return new zt(r.seconds,r.nanos)}(t))}function yN(t,e){return ww(t,e).canonicalString()}function ww(t,e){const n=function(s){return new lt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function SL(t){const e=lt.fromString(t);return Ze(CL(e)),e}function _w(t,e){return yN(t.databaseId,e.path)}function Ty(t,e){const n=SL(e);if(n.get(1)!==t.databaseId.projectId)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(TL(n))}function EL(t,e){return yN(t.databaseId,e)}function Bme(t){const e=SL(t);return e.length===4?lt.emptyPath():TL(e)}function Nw(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TL(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ej(t,e,n){return{name:_w(t,e),fields:n.value.mapValue.fields}}function qme(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ze(d===void 0||typeof d=="string"),dn.fromBase64String(d||"")):(Ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?re.UNKNOWN:bL(u.code);return new me(d,u.message||"")}(o);n=new _L(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ty(t,r.document.name),i=fs(r.document.updateTime),o=r.document.createTime?fs(r.document.createTime):je.min(),l=new zn({mapValue:{fields:r.document.fields}}),c=Nn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new rp(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ty(t,r.document),i=r.readTime?fs(r.readTime):je.min(),o=Nn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new rp([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ty(t,r.document),i=r.removedTargetIds||[];n=new rp([],i,s,null)}else{if(!("filter"in e))return ke();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Ime(s,i),l=r.targetId;n=new wL(l,o)}}return n}function zme(t,e){let n;if(e instanceof kf)n={update:ej(t,e.key,e.value)};else if(e instanceof mN)n={delete:_w(t,e.key)};else if(e instanceof fa)n={update:ej(t,e.key,e.data),updateMask:Zme(e.fieldMask)};else{if(!(e instanceof Cme))return ke();n={verify:_w(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof tg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof lf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof cf)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ng)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw ke()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Ume(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ke()}(t,e.precondition)),n}function Gme(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?fs(s.updateTime):fs(i);return o.isEqual(je.min())&&(o=fs(i)),new Tme(o,s.transformResults||[])}(n,e))):[]}function Hme(t,e){return{documents:[EL(t,e.path)]}}function Wme(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EL(t,s);const i=function(u){if(u.length!==0)return kL(Yr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Io(h.field),direction:Yme(h.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=bw(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function Kme(t){let e=Bme(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ze(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const h=AL(f);return h instanceof Yr&&sL(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(h=>function(y){return new of(Ro(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(f){let h;return h=typeof f=="object"?f.value:f,C0(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,x=f.values||[];return new ic(x,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,x=f.values||[];return new ic(x,h)}(n.endAt)),hme(e,s,o,i,l,"F",c,u)}function Jme(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ro(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ro(n.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ro(n.unaryFilter.field);return Mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ro(n.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Ro(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>AL(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ke()}}(n.compositeFilter.op))}(t):ke()}function Yme(t){return Lme[t]}function Xme(t){return $me[t]}function Qme(t){return Vme[t]}function Io(t){return{fieldPath:t.canonicalString()}}function Ro(t){return an.fromServerFormat(t.fieldPath)}function kL(t){return t instanceof Mt?function(n){if(n.op==="=="){if(FC(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NAN"}};if(VC(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(FC(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NAN"}};if(VC(n.value))return{unaryFilter:{field:Io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(n.field),op:Xme(n.op),value:n.value}}}(t):t instanceof Yr?function(n){const r=n.getFilters().map(s=>kL(s));return r.length===1?r[0]:{compositeFilter:{op:Qme(n.op),filters:r}}}(t):ke()}function Zme(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,s,i=je.min(),o=je.min(),l=dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ege{constructor(e){this.ct=e}}function tge(t){const e=Kme({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?eg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nge{constructor(){this.un=new rge}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(na.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class rge{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new ln(lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new ln(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ac(0)}static kn(){return new ac(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sge{constructor(){this.changes=new Cc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ige{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class age{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wu(r.mutation,s,sr.empty(),zt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const s=Fa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Nu();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=ti();const o=Hu(),l=function(){return Hu()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof fa)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Wu(d.mutation,u,d.mutation.getFieldMask(),zt.now())):o.set(u.key,sr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return l.set(u,new ige(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Hu();let s=new _t((o,l)=>o-l),i=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||sr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const f=(s.get(l.batchId)||$e()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=fL();d.forEach(h=>{if(!i.has(h)){const x=yL(n.get(h),r.get(h));x!==null&&f.set(h,x),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return we.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):ae.resolve(Fa());let l=-1,c=i;return o.next(u=>ae.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,$e())).next(d=>({batchId:l,changes:dL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let s=Nu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Nu();return this.indexManager.getCollectionParents(e,i).next(l=>ae.forEach(l,c=>{const u=function(f,h){return new bo(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{o=o.insert(f,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Nn.newInvalidDocument(d)))});let l=Nu();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Wu(d.mutation,u,sr.empty(),zt.now()),I0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oge{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:fs(s.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:tge(s.bundledQuery),readTime:fs(s.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lge{constructor(){this.overlays=new _t(we.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return ae.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const s=Fa(),i=n.length+1,o=new we(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new _t((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Fa(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=Fa(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return ae.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Pme(n,r));let i=this.Ir.get(n);i===void 0&&(i=$e(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Tr=new ln(Wt.Er),this.dr=new ln(Wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Wt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Wt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new lt([])),r=new Wt(n,e),s=new Wt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new lt([])),r=new Wt(n,e),s=new Wt(n,e+1);let i=$e();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Wt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uge{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Wt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jme(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Wt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wt(n,0),s=new Wt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(We);return n.forEach(s=>{const i=new Wt(s,0),o=new Wt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;we.isDocumentKey(i)||(i=i.child(""));const o=new Wt(new we(i),0);let l=new ln(We);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.wr)),!0)},o),ae.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,s=>{const i=new Wt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Wt(n,0),s=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dge{constructor(e){this.Mr=e,this.docs=function(){return new _t(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Nn.newInvalidDocument(s))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ti();const o=n.path,l=new we(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Kpe(Wpe(d),r)<=0||(s.has(d.key)||I0(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ke()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fge(this)}getSize(e){return ae.resolve(this.size)}}class fge extends sge{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hge{constructor(e){this.persistence=e,this.Nr=new Cc(n=>uN(n),dN),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vN,this.targetCount=0,this.kr=ac.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ac(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pge{constructor(e,n){this.qr={},this.overlays={},this.Qr=new oN(0),this.Kr=!1,this.Kr=!0,this.$r=new cge,this.referenceDelegate=e(this),this.Ur=new hge(this),this.indexManager=new nge,this.remoteDocumentCache=function(s){return new dge(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ege(n),this.Gr=new oge(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lge,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new uge(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const s=new mge(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mge extends Ype{constructor(e){super(),this.currentSequenceNumber=e}}class bN{constructor(e){this.persistence=e,this.Jr=new vN,this.Yr=null}static Zr(e){return new bN(e)}get Xr(){if(this.Yr)return this.Yr;throw ke()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const s=we.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,je.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=$e(),s=$e();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wN(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gge{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xge{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yhe()?8:Xpe(kn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gge;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fu()<=Ve.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(fu()<=Ve.DEBUG&&ve("QueryEngine","Query:",Po(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fu()<=Ve.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ds(n))):ae.resolve())}Yi(e,n){if(zC(n))return ae.resolve(null);let r=ds(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=eg(n,null,"F"),r=ds(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=$e(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,l);return this.ns(n,u,o,c.readTime)?this.Yi(e,eg(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,s){return zC(n)||s.isEqual(je.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?ae.resolve(null):(fu()<=Ve.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Po(n)),this.rs(e,o,n,Hpe(s,-1)).next(l=>l))})}ts(e,n){let r=new ln(cL(e));return n.forEach((s,i)=>{I0(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fu()<=Ve.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Po(n)),this.Ji.getDocumentsMatchingQuery(e,n,na.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yge{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new _t(We),this._s=new Cc(i=>uN(i),dN),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new age(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function vge(t,e,n,r){return new yge(t,e,n,r)}async function jL(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=$e();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:l}))})})}function bge(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,h=f.keys();let x=ae.resolve();return h.forEach(y=>{x=x.next(()=>d.getEntry(c,y)).next(b=>{const v=u.docVersions.get(y);Ze(v!==null),b.version.compareTo(v)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=$e();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PL(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function wge(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;l.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let x=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?x=x.withResumeToken(dn.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):d.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(d.resumeToken,r)),s=s.insert(f,x),function(b,v,N){return b.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(h,x,d)&&l.push(n.Ur.updateTargetData(i,x))});let c=ti(),u=$e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(_ge(i,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(je.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return ae.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=s,i))}function _ge(t,e,n){let r=$e(),s=$e();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ti();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ve("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function Nge(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sge(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,ae.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sw(t,e,n){const r=Pe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Af(o))throw o;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function tj(t,e,n){const r=Pe(t);let s=je.min(),i=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Pe(c),h=f._s.get(d);return h!==void 0?ae.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,o,ds(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:je.min(),n?i:$e())).next(l=>(Ege(r,mme(e),l),{documents:l,Ts:i})))}function Ege(t,e,n){let r=t.us.get(e)||je.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class nj{constructor(){this.activeTargetIds=wme()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tge{constructor(){this.so=new nj,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new nj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Age{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function Ay(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kge={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cge{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class jge extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Ay(),c=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,c,u,s).then(d=>(ve("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw tc("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",c,"request:",s),d})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+kc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=kge[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Ay();return new Promise((o,l)=>{const c=new HD;c.setWithCredentials(!0),c.listenOnce(WD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ep.NO_ERROR:const d=c.getResponseJson();ve(xn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ep.TIMEOUT:ve(xn,`RPC '${e}' ${i} timed out`),l(new me(re.DEADLINE_EXCEEDED,"Request time out"));break;case ep.HTTP_ERROR:const f=c.getStatus();if(ve(xn,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const y=function(v){const N=v.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(N)>=0?N:re.UNKNOWN}(x.status);l(new me(y,x.message))}else l(new me(re.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new me(re.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ve(xn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);ve(xn,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Ay(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=YD(),l=JD(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");ve(xn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let h=!1,x=!1;const y=new Cge({Io:v=>{x?ve(xn,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(h||(ve(xn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),ve(xn,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},To:()=>f.close()}),b=(v,N,_)=>{v.listen(N,S=>{try{_(S)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,_u.EventType.OPEN,()=>{x||(ve(xn,`RPC '${e}' stream ${s} transport opened.`),y.yo())}),b(f,_u.EventType.CLOSE,()=>{x||(x=!0,ve(xn,`RPC '${e}' stream ${s} transport closed`),y.So())}),b(f,_u.EventType.ERROR,v=>{x||(x=!0,tc(xn,`RPC '${e}' stream ${s} transport errored:`,v),y.So(new me(re.UNAVAILABLE,"The operation could not be completed")))}),b(f,_u.EventType.MESSAGE,v=>{var N;if(!x){const _=v.data[0];Ze(!!_);const S=_,C=S.error||((N=S[0])===null||N===void 0?void 0:N.error);if(C){ve(xn,`RPC '${e}' stream ${s} received error:`,C);const T=C.status;let w=function(j){const M=Pt[j];if(M!==void 0)return bL(M)}(T),E=C.message;w===void 0&&(w=re.INTERNAL,E="Unknown error status: "+T+" with message "+C.message),x=!0,y.So(new me(w,E)),f.close()}else ve(xn,`RPC '${e}' stream ${s} received:`,_),y.bo(_)}}),b(l,KD.STAT_EVENT,v=>{v.stat===pw.PROXY?ve(xn,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===pw.NOPROXY&&ve(xn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t){return new Fme(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new IL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(ei(n.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new me(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pge extends RL{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=qme(this.serializer,e),r=function(i){if(!("targetChange"in i))return je.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?fs(o.readTime):je.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nw(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=yw(c)?{documents:Hme(i,c)}:{query:Wme(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=NL(i,o.resumeToken);const u=bw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(je.min())>0){l.readTime=rg(i,o.snapshotVersion.toTimestamp());const u=bw(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=Jme(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nw(this.serializer),n.removeTarget=e,this.a_(n)}}class Ige extends RL{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Gme(e.writeResults,e.commitTime),r=fs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Nw(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zme(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rge extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,ww(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new me(re.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,ww(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(re.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Mge{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ei(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oge{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{wo(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(c){const u=Pe(c);u.L_.add(4),await jf(u),u.q_.set("Unknown"),u.L_.delete(4),await L0(u)}(this))})}),this.q_=new Mge(r,s)}}async function L0(t){if(wo(t))for(const e of t.B_)await e(!0)}async function jf(t){for(const e of t.B_)await e(!1)}function ML(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),EN(n)?SN(n):jc(n).r_()&&NN(n,e))}function _N(t,e){const n=Pe(t),r=jc(n);n.N_.delete(e),r.r_()&&OL(n,e),n.N_.size===0&&(r.r_()?r.o_():wo(n)&&n.q_.set("Unknown"))}function NN(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jc(t).A_(e)}function OL(t,e){t.Q_.xe(e),jc(t).R_(e)}function SN(t){t.Q_=new Dme({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jc(t).start(),t.q_.v_()}function EN(t){return wo(t)&&!jc(t).n_()&&t.N_.size>0}function wo(t){return Pe(t).L_.size===0}function DL(t){t.Q_=void 0}async function Dge(t){t.q_.set("Online")}async function Lge(t){t.N_.forEach((e,n)=>{NN(t,e)})}async function $ge(t,e){DL(t),EN(t)?(t.q_.M_(e),SN(t)):t.q_.set("Unknown")}async function Vge(t,e,n){if(t.q_.set("Online"),e instanceof _L&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sg(t,r)}else if(e instanceof rp?t.Q_.Ke(e):e instanceof wL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(je.min()))try{const r=await PL(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.N_.get(u);d&&i.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.N_.get(c);if(!d)return;i.N_.set(c,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),OL(i,c);const f=new Mi(d.target,c,u,d.sequenceNumber);NN(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await sg(t,r)}}async function sg(t,e,n){if(!Af(e))throw e;t.L_.add(1),await jf(t),t.q_.set("Offline"),n||(n=()=>PL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await L0(t)})}function LL(t,e){return e().catch(n=>sg(t,n,e))}async function $0(t){const e=Pe(t),n=sa(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Fge(e);)try{const s=await Nge(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,Uge(e,s)}catch(s){await sg(e,s)}$L(e)&&VL(e)}function Fge(t){return wo(t)&&t.O_.length<10}function Uge(t,e){t.O_.push(e);const n=sa(t);n.r_()&&n.V_&&n.m_(e.mutations)}function $L(t){return wo(t)&&!sa(t).n_()&&t.O_.length>0}function VL(t){sa(t).start()}async function Bge(t){sa(t).p_()}async function qge(t){const e=sa(t);for(const n of t.O_)e.m_(n.mutations)}async function zge(t,e,n){const r=t.O_.shift(),s=gN.from(r,e,n);await LL(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await $0(t)}async function Gge(t,e){e&&sa(t).V_&&await async function(r,s){if(function(o){return Rme(o)&&o!==re.ABORTED}(s.code)){const i=r.O_.shift();sa(r).s_(),await LL(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await $0(r)}}(t,e),$L(t)&&VL(t)}async function sj(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=wo(n);n.L_.add(3),await jf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await L0(n)}async function Hge(t,e){const n=Pe(t);e?(n.L_.delete(2),await L0(n)):e||(n.L_.add(2),await jf(n),n.q_.set("Unknown"))}function jc(t){return t.K_||(t.K_=function(n,r,s){const i=Pe(n);return i.w_(),new Pge(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:Dge.bind(null,t),Ro:Lge.bind(null,t),mo:$ge.bind(null,t),d_:Vge.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),EN(t)?SN(t):t.q_.set("Unknown")):(await t.K_.stop(),DL(t))})),t.K_}function sa(t){return t.U_||(t.U_=function(n,r,s){const i=Pe(n);return i.w_(),new Ige(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Bge.bind(null,t),mo:Gge.bind(null,t),f_:qge.bind(null,t),g_:zge.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $0(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new TN(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function AN(t,e){if(ei("AsyncQueue",`${e}: ${t}`),Af(t))return new me(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.W_=new _t(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ke():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new oc(e,n,hl.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&P0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wge{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Kge{constructor(){this.queries=aj(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Pe(n),i=s.queries;s.queries=aj(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new me(re.ABORTED,"Firestore shutting down"))}}function aj(){return new Cc(t=>lL(t),P0)}async function FL(t,e){const n=Pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Wge,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=AN(o,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&kN(n)}async function UL(t,e){const n=Pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jge(t,e){const n=Pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&kN(n)}function Yge(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function kN(t){t.Y_.forEach(e=>{e.next()})}var Ew,oj;(oj=Ew||(Ew={})).ea="default",oj.Cache="cache";class BL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ew.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.key=e}}class zL{constructor(e){this.key=e}}class Xge{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=$e(),this.mutatedKeys=$e(),this.Aa=cL(e),this.Ra=new hl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ij,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),x=I0(this.query,f)?f:null,y=!!h&&this.mutatedKeys.has(h.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let v=!1;h&&x?h.data.isEqual(x.data)?y!==b&&(r.track({type:3,doc:x}),v=!0):this.ga(h,x)||(r.track({type:2,doc:x}),v=!0,(c&&this.Aa(x,c)>0||u&&this.Aa(x,u)<0)&&(l=!0)):!h&&x?(r.track({type:0,doc:x}),v=!0):h&&!x&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(l=!0)),v&&(x?(o=o.add(x),i=b?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(x,y){const b=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return b(x)-b(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,u=c!==this.Ea;return this.Ea=c,o.length!==0||u?{snapshot:new oc(this.query,e.Ra,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ij,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=$e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new zL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new qL(r))}),n}ba(e){this.Ta=e.Ts,this.da=$e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Qge{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zge{constructor(e){this.key=e,this.va=!1}}class e0e{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Cc(l=>lL(l),P0),this.Ma=new Map,this.xa=new Set,this.Oa=new _t(we.comparator),this.Na=new Map,this.La=new vN,this.Ba={},this.ka=new Map,this.qa=ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function t0e(t,e,n=!0){const r=YL(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await GL(r,e,n,!0),s}async function n0e(t,e){const n=YL(t);await GL(n,e,!0,!1)}async function GL(t,e,n,r){const s=await Sge(t.localStore,ds(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await r0e(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&ML(t.remoteStore,s),l}async function r0e(t,e,n,r,s){t.Ka=(f,h,x)=>async function(b,v,N,_){let S=v.view.ma(N);S.ns&&(S=await tj(b.localStore,v.query,!1).then(({documents:E})=>v.view.ma(E,S)));const C=_&&_.targetChanges.get(v.targetId),T=_&&_.targetMismatches.get(v.targetId)!=null,w=v.view.applyChanges(S,b.isPrimaryClient,C,T);return cj(b,v.targetId,w.wa),w.snapshot}(t,f,h,x);const i=await tj(t.localStore,e,!0),o=new Xge(e,i.Ts),l=o.ma(i.documents),c=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);cj(t,n,u.wa);const d=new Qge(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function s0e(t,e,n){const r=Pe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!P0(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sw(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&_N(r.remoteStore,s.targetId),Tw(r,s.targetId)}).catch(Tf)):(Tw(r,s.targetId),await Sw(r.localStore,s.targetId,!0))}async function i0e(t,e){const n=Pe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_N(n.remoteStore,r.targetId))}async function a0e(t,e,n){const r=h0e(t);try{const s=await function(o,l){const c=Pe(o),u=zt.now(),d=l.reduce((x,y)=>x.add(y.key),$e());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let y=ti(),b=$e();return c.cs.getEntries(x,d).next(v=>{y=v,y.forEach((N,_)=>{_.isValidDocument()||(b=b.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,y)).next(v=>{f=v;const N=[];for(const _ of l){const S=kme(_,f.get(_.key).overlayedDocument);S!=null&&N.push(new fa(_.key,S,tL(S.value.mapValue),zr.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,N,l)}).next(v=>{h=v;const N=v.applyToLocalDocumentSet(f,b);return c.documentOverlayCache.saveOverlays(x,v.batchId,N)})}).then(()=>({batchId:h.batchId,changes:dL(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new _t(We)),u=u.insert(l,c),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await Pf(r,s.changes),await $0(r.remoteStore)}catch(s){const i=AN(s,"Failed to persist write");n.reject(i)}}async function HL(t,e){const n=Pe(t);try{const r=await wge(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Ze(o.va):s.removedDocuments.size>0&&(Ze(o.va),o.va=!1))}),await Pf(n,r,e)}catch(r){await Tf(r)}}function lj(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Pe(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(l)&&(u=!0)}),u&&kN(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function o0e(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new _t(we.comparator);o=o.insert(i,Nn.newNoDocument(i,je.min()));const l=$e().add(i),c=new O0(je.min(),new Map,new _t(We),o,l);await HL(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),CN(r)}else await Sw(r.localStore,e,!1).then(()=>Tw(r,e,n)).catch(Tf)}async function l0e(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await bge(n.localStore,e);KL(n,r,null),WL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pf(n,s)}catch(s){await Tf(s)}}async function c0e(t,e,n){const r=Pe(t);try{const s=await function(o,l){const c=Pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(Ze(f!==null),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);KL(r,e,n),WL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pf(r,s)}catch(s){await Tf(s)}}function WL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KL(t,e,n){const r=Pe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Tw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||JL(t,r)})}function JL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(_N(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CN(t))}function cj(t,e,n){for(const r of n)r instanceof qL?(t.La.addReference(r.key,e),u0e(t,r)):r instanceof zL?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||JL(t,r.key)):ke()}function u0e(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),CN(t))}function CN(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new Zge(n)),t.Oa=t.Oa.insert(n,r),ML(t.remoteStore,new Mi(ds(fN(n.path)),r,"TargetPurposeLimboResolution",oN.oe))}}async function Pf(t,e,n){const r=Pe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=wN.Wi(c.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,u){const d=Pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,h=>ae.forEach(h.$i,x=>d.persistence.referenceDelegate.addReference(f,h.targetId,x)).next(()=>ae.forEach(h.Ui,x=>d.persistence.referenceDelegate.removeReference(f,h.targetId,x)))))}catch(f){if(!Af(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const x=d.os.get(h),y=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(y);d.os=d.os.insert(h,b)}}}(r.localStore,i))}async function d0e(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await jL(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new me(re.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pf(n,r.hs)}}function f0e(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return $e().add(r.key);{let s=$e();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function YL(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f0e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=o0e.bind(null,e),e.Ca.d_=Jge.bind(null,e.eventManager),e.Ca.$a=Yge.bind(null,e.eventManager),e}function h0e(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c0e.bind(null,e),e}class ig{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=D0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return vge(this.persistence,new xge,e.initialUser,this.serializer)}Ga(e){return new pge(bN.Zr,this.serializer)}Wa(e){return new Tge}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ig.provider={build:()=>new ig};class Aw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d0e.bind(null,this.syncEngine),await Hge(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kge}()}createDatastore(e){const n=D0(e.databaseInfo.databaseId),r=function(i){return new jge(i)}(e.databaseInfo);return function(i,o,l,c){return new Rge(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new Oge(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>lj(this.syncEngine,n,0),function(){return rj.D()?new rj:new Age}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const f=new e0e(s,i,o,l,c,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Pe(s);ve("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await jf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Aw.provider={build:()=>new Aw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0e{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=vn.UNAUTHENTICATED,this.clientId=QD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ve("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ve("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=AN(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cy(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await jL(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m0e(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>sj(e.remoteStore,s)),t._onlineComponents=e}async function m0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;tc("Error using user provided cache. Falling back to memory cache: "+n),await Cy(t,new ig)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Cy(t,new ig);return t._offlineComponents}async function QL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await uj(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await uj(t,new Aw))),t._onlineComponents}function g0e(t){return QL(t).then(e=>e.syncEngine)}async function kw(t){const e=await QL(t),n=e.eventManager;return n.onListen=t0e.bind(null,e.syncEngine),n.onUnlisten=s0e.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n0e.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=i0e.bind(null,e.syncEngine),n}function x0e(t,e,n={}){const r=new Ji;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new XL({next:h=>{d.Za(),o.enqueueAndForget(()=>UL(i,f)),h.fromCache&&c.source==="server"?u.reject(new me(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new BL(l,d,{includeMetadataChanges:!0,_a:!0});return FL(i,f)}(await kw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e,n){if(!n)throw new me(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function y0e(t,e,n,r){if(e===!0&&r===!0)throw new me(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fj(t){if(!we.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hj(t){if(we.isDocumentKey(t))throw new me(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function V0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke()}function hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=V0(t);throw new me(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function v0e(t,e){if(e<=0)throw new me(re.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y0e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(re.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pj(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Lpe;switch(r.type){case"firstParty":return new Upe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dj.get(n);r&&(ve("ComponentProvider","Removing Datastore"),dj.delete(n),r.terminate())}(this),Promise.resolve()}}function b0e(t,e,n,r={}){var s;const i=(t=hs(t,F0))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=vn.MOCK_USER;else{l=dhe(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new me(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new vn(u)}t._authCredentials=new $pe(new XD(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ss(this.firestore,e,this._query)}}class Yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Yi extends Ss{constructor(e,n,r){super(e,n,fN(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new we(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function Et(t,e,...n){if(t=un(t),e6("collection","path",e),t instanceof F0){const r=lt.fromString(e,...n);return hj(r),new Yi(t,null,r)}{if(!(t instanceof Yn||t instanceof Yi))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return hj(r),new Yi(t.firestore,null,r)}}function Vt(t,e,...n){if(t=un(t),arguments.length===1&&(e=QD.newId()),e6("doc","path",e),t instanceof F0){const r=lt.fromString(e,...n);return fj(r),new Yn(t,null,new we(r))}{if(!(t instanceof Yn||t instanceof Yi))throw new me(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return fj(r),new Yn(t.firestore,t instanceof Yi?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new IL(this,"async_queue_retry"),this.Vu=()=>{const r=ky();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ji;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Af(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ei("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=TN.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ke()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function gj(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class co extends F0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mj,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mj(e),this._firestoreClient=void 0,await e}}}function w0e(t,e){const n=typeof t=="object"?t:BD(),r=typeof t=="string"?t:"(default)",s=iN(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=che("firestore");i&&b0e(s,...i)}return s}function jN(t){if(t._terminated)throw new me(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_0e(t),t._firestoreClient}function _0e(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new eme(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,ZL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new p0e(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lc(dn.fromBase64String(e))}catch(n){throw new me(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lc(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0e=/^__.*__$/;class S0e{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new kf(e,this.data,n,this.fieldTransforms)}}class t6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function n6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class MN{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new MN(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ag(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(n6(this.Cu)&&N0e.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class E0e{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||D0(e)}Qu(e,n,r,s=!1){return new MN({Cu:e,methodName:n,qu:r,path:an.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B0(t){const e=t._freezeSettings(),n=D0(t._databaseId);return new E0e(t._databaseId,!!e.ignoreUndefinedProperties,n)}function T0e(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);ON("Data must be an object, but it was:",o,r);const l=s6(r,o);let c,u;if(i.merge)c=new sr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const h=Cw(e,f,n);if(!o.contains(h))throw new me(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);a6(d,h)||d.push(h)}c=new sr(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new S0e(new zn(l),c,u)}class q0 extends PN{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof q0}}function A0e(t,e,n,r){const s=t.Qu(1,e,n);ON("Data must be an object, but it was:",s,r);const i=[],o=zn.empty();vo(r,(c,u)=>{const d=DN(e,c,n);u=un(u);const f=s.Nu(d);if(u instanceof q0)i.push(d);else{const h=If(u,f);h!=null&&(i.push(d),o.set(d,h))}});const l=new sr(i);return new t6(o,l,s.fieldTransforms)}function k0e(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Cw(e,r,n)],c=[s];if(i.length%2!=0)throw new me(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(Cw(e,i[h])),c.push(i[h+1]);const u=[],d=zn.empty();for(let h=l.length-1;h>=0;--h)if(!a6(u,l[h])){const x=l[h];let y=c[h];y=un(y);const b=o.Nu(x);if(y instanceof q0)u.push(x);else{const v=If(y,b);v!=null&&(u.push(x),d.set(x,v))}}const f=new sr(u);return new t6(d,f,o.fieldTransforms)}function r6(t,e,n,r=!1){return If(n,t.Qu(r?4:3,e))}function If(t,e){if(i6(t=un(t)))return ON("Unsupported field value:",e,t),s6(t,e);if(t instanceof PN)return function(r,s){if(!n6(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=If(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=un(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _me(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=zt.fromDate(r);return{timestampValue:rg(s.serializer,i)}}if(r instanceof zt){const i=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rg(s.serializer,i)}}if(r instanceof IN)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lc)return{bytesValue:NL(s.serializer,r._byteString)};if(r instanceof Yn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yN(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof RN)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return pN(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${V0(r)}`)}(t,e)}function s6(t,e){const n={};return ZD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,(r,s)=>{const i=If(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function i6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof IN||t instanceof lc||t instanceof Yn||t instanceof PN||t instanceof RN)}function ON(t,e,n){if(!i6(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=V0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cw(t,e,n){if((e=un(e))instanceof U0)return e._internalPath;if(typeof e=="string")return DN(t,e);throw ag("Field path arguments must be of type string or ",t,!1,void 0,n)}const C0e=new RegExp("[~\\*/\\[\\]]");function DN(t,e,n){if(e.search(C0e)>=0)throw ag(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new U0(...e.split("."))._internalPath}catch{throw ag(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ag(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new me(re.INVALID_ARGUMENT,l+t+c)}function a6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new j0e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class j0e extends LN{data(){return super.data()}}function z0(t,e){return typeof e=="string"?DN(t,e):e instanceof U0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $N{}class G0 extends $N{}function sp(t,e,...n){let r=[];e instanceof $N&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof VN).length,l=i.filter(c=>c instanceof H0).length;if(o>1||o>0&&l>0)throw new me(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class H0 extends G0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new H0(e,n,r)}_apply(e){const n=this._parse(e);return l6(e._query,n),new Ss(e.firestore,e.converter,vw(e._query,n))}_parse(e){const n=B0(e.firestore);return function(i,o,l,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new me(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vj(f,d);const x=[];for(const y of f)x.push(yj(c,i,y));h={arrayValue:{values:x}}}else h=yj(c,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vj(f,d),h=r6(l,o,f,d==="in"||d==="not-in");return Mt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xj(t,e,n){const r=e,s=z0("where",t);return H0._create(s,r,n)}class VN extends $N{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new VN(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)l6(o,c),o=vw(o,c)}(e._query,n),new Ss(e.firestore,e.converter,vw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class FN extends G0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new FN(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new me(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new of(i,o)}(e._query,this._field,this._direction);return new Ss(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new bo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function P0e(t,e="asc"){const n=e,r=z0("orderBy",t);return FN._create(r,n)}class UN extends G0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new UN(e,n,r)}_apply(e){return new Ss(e.firestore,e.converter,eg(e._query,this._limit,this._limitType))}}function I0e(t){return v0e("limit",t),UN._create("limit",t,"F")}class BN extends G0{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new BN(e,n,r)}_apply(e){const n=M0e(e,this.type,this._docOrFields,this._inclusive);return new Ss(e.firestore,e.converter,function(s,i){return new bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,i,s.endAt)}(e._query,n))}}function R0e(...t){return BN._create("startAfter",t,!1)}function M0e(t,e,n,r){if(n[0]=un(n[0]),n[0]instanceof LN)return function(i,o,l,c,u){if(!c)throw new me(re.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const d=[];for(const f of fl(i))if(f.field.isKeyField())d.push(Zm(o,c.key));else{const h=c.data.field(f.field);if(j0(h))throw new me(re.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const x=f.field.canonicalString();throw new me(re.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}d.push(h)}return new ic(d,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=B0(t.firestore);return function(o,l,c,u,d,f){const h=o.explicitOrderBy;if(d.length>h.length)throw new me(re.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let y=0;y<d.length;y++){const b=d[y];if(h[y].field.isKeyField()){if(typeof b!="string")throw new me(re.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!hN(o)&&b.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const v=o.path.child(lt.fromString(b));if(!we.isDocumentKey(v))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${v}' is not because it contains an odd number of segments.`);const N=new we(v);x.push(Zm(l,N))}else{const v=r6(c,u,b);x.push(v)}}return new ic(x,f)}(t._query,t.firestore._databaseId,s,e,n,r)}}function yj(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new me(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hN(e)&&n.indexOf("/")!==-1)throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!we.isDocumentKey(r))throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zm(t,new we(r))}if(n instanceof Yn)return Zm(t,n._key);throw new me(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${V0(n)}.`)}function vj(t,e){if(!Array.isArray(t)||t.length===0)throw new me(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l6(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O0e{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>kt(o.doubleValue));return new RN(i)}convertGeoPoint(e){return new IN(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lN(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rf(e));default:return null}}convertTimestamp(e){const n=ra(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ze(CL(r));const s=new sf(r.get(1),r.get(3)),i=new we(r.popFirst(5));return s.isEqual(n)||ei(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0e(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c6 extends LN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(z0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ip extends c6{data(e={}){return super.data(e)}}class u6{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Eu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ip(this._firestore,this._userDataWriter,r.key,r,new Eu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new ip(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new ip(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Eu(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:L0e(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L0e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class qN extends O0e{constructor(e){super(),this.firestore=e}convertBytes(e){return new lc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function ap(t){t=hs(t,Ss);const e=hs(t.firestore,co),n=jN(e),r=new qN(e);return o6(t._query),x0e(n,t._query).then(s=>new u6(e,r,t,s))}function ks(t,e,n,...r){t=hs(t,Yn);const s=hs(t.firestore,co),i=B0(s);let o;return o=typeof(e=un(e))=="string"||e instanceof U0?k0e(i,"updateDoc",t._key,e,n,r):A0e(i,"updateDoc",t._key,e),zN(s,[o.toMutation(t._key,zr.exists(!0))])}function ts(t){return zN(hs(t.firestore,co),[new mN(t._key,zr.none())])}function Mr(t,e){const n=hs(t.firestore,co),r=Vt(t),s=D0e(t.converter,e);return zN(n,[T0e(B0(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function wa(t,...e){var n,r,s;t=un(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gj(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(gj(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,u,d;if(t instanceof Yn)u=hs(t.firestore,co),d=fN(t._key.path),c={next:f=>{e[o]&&e[o]($0e(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=hs(t,Ss);u=hs(f.firestore,co),d=f._query;const h=new qN(u);c={next:x=>{e[o]&&e[o](new u6(u,h,f,x))},error:e[o+1],complete:e[o+2]},o6(t._query)}return function(h,x,y,b){const v=new XL(b),N=new BL(x,v,y);return h.asyncQueue.enqueueAndForget(async()=>FL(await kw(h),N)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>UL(await kw(h),N))}}(jN(u),d,l,c)}function zN(t,e){return function(r,s){const i=new Ji;return r.asyncQueue.enqueueAndForget(async()=>a0e(await g0e(r),s,i)),i.promise}(jN(t),e)}function $0e(t,e,n){const r=n.docs.get(e._key),s=new qN(t);return new c6(t,s,e._key,r,new Eu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){kc=s})(Ac),ec(new io("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new co(new Vpe(r.getProvider("auth-internal")),new qpe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new me(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sf(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ki(MC,"4.7.3",e),Ki(MC,"4.7.3","esm2017")})();function GN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function d6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V0e=d6,f6=new Sf("auth","Firebase",d6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new rN("@firebase/auth");function F0e(t,...e){og.logLevel<=Ve.WARN&&og.warn(`Auth (${Ac}): ${t}`,...e)}function op(t,...e){og.logLevel<=Ve.ERROR&&og.error(`Auth (${Ac}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,...e){throw HN(t,...e)}function ps(t,...e){return HN(t,...e)}function h6(t,e,n){const r=Object.assign(Object.assign({},V0e()),{[e]:n});return new Sf("auth","Firebase",r).create(e,{appName:t.name})}function Wa(t){return h6(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return f6.create(t,...e)}function Ae(t,e,...n){if(!t)throw HN(e,...n)}function Ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw op(e),new Error(e)}function ri(t,e){t||Ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function U0e(){return bj()==="http:"||bj()==="https:"}function bj(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(U0e()||mhe()||"connection"in navigator)?navigator.onLine:!0}function q0e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,ri(n>e,"Short delay should be less than long delay!"),this.isMobile=fhe()||ghe()}get(){return B0e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t,e){ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0e=new Rf(3e4,6e4);function KN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Pc(t,e,n,r,s={}){return m6(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Ef(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return phe()||(u.referrerPolicy="no-referrer"),p6.fetch()(g6(t,t.config.apiHost,n,l),u)})}async function m6(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z0e),e);try{const s=new W0e(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw h6(t,d,u);ni(t,d)}}catch(s){if(s instanceof ui)throw s;ni(t,"network-request-failed",{message:String(s)})}}async function H0e(t,e,n,r,s={}){const i=await Pc(t,e,n,r,s);return"mfaPendingCredential"in i&&ni(t,"multi-factor-auth-required",{_serverResponse:i}),i}function g6(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?WN(t.config,s):`${t.config.apiScheme}://${s}`}class W0e{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),G0e.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ps(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K0e(t,e){return Pc(t,"POST","/v1/accounts:delete",e)}async function x6(t,e){return Pc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function J0e(t,e=!1){const n=un(t),r=await n.getIdToken(e),s=JN(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ku(jy(s.auth_time)),issuedAtTime:Ku(jy(s.iat)),expirationTime:Ku(jy(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jy(t){return Number(t)*1e3}function JN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{const s=OD(n);return s?JSON.parse(s):(op("Failed to decode base64 JWT payload"),null)}catch(s){return op("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function wj(t){const e=JN(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&Y0e(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y0e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ku(this.lastLoginAt),this.creationTime=Ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await uf(t,x6(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?y6(i.providerUserInfo):[],l=Z0e(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Pw(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function Q0e(t){const e=un(t);await lg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z0e(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function y6(t){return t.map(e=>{var{providerId:n}=e,r=GN(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exe(t,e){const n=await m6(t,{},async()=>{const r=Ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=g6(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",p6.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function txe(t,e){return Pc(t,"POST","/v2/accounts:revokeToken",KN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=wj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await exe(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new pl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Ae(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=GN(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X0e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Pw(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uf(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return J0e(this,e)}reload(){return Q0e(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await lg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ri(this.auth.app))return Promise.reject(Wa(this.auth));const e=await this.getIdToken();return await uf(this,K0e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,x=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,b=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:S,emailVerified:C,isAnonymous:T,providerData:w,stsTokenManager:E}=n;Ae(S&&E,e,"internal-error");const A=pl.fromJSON(this.name,E);Ae(typeof S=="string",e,"internal-error"),xi(f,e.name),xi(h,e.name),Ae(typeof C=="boolean",e,"internal-error"),Ae(typeof T=="boolean",e,"internal-error"),xi(x,e.name),xi(y,e.name),xi(b,e.name),xi(v,e.name),xi(N,e.name),xi(_,e.name);const j=new $s({uid:S,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:T,photoURL:y,phoneNumber:x,tenantId:b,stsTokenManager:A,createdAt:N,lastLoginAt:_});return w&&Array.isArray(w)&&(j.providerData=w.map(M=>Object.assign({},M))),v&&(j._redirectEventId=v),j}static async _fromIdTokenResponse(e,n,r=!1){const s=new pl;s.updateFromServerResponse(n);const i=new $s({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await lg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?y6(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new pl;l.updateFromIdToken(r);const c=new $s({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Pw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=new Map;function Vs(t){ri(t instanceof Function,"Expected a class definition");let e=_j.get(t);return e?(ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_j.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v6.type="NONE";const Nj=v6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t,e,n){return`firebase:${t}:${e}:${n}`}class ml{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=lp(this.userKey,s.apiKey,i),this.fullPersistenceKey=lp("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ml(Vs(Nj),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Vs(Nj);const o=lp(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){const f=$s._fromJSON(e,d);u!==i&&(l=f),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ml(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ml(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(b6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E6(e))return"Blackberry";if(T6(e))return"Webos";if(w6(e))return"Safari";if((e.includes("chrome/")||_6(e))&&!e.includes("edge/"))return"Chrome";if(S6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function b6(t=kn()){return/firefox\//i.test(t)}function w6(t=kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _6(t=kn()){return/crios\//i.test(t)}function N6(t=kn()){return/iemobile/i.test(t)}function S6(t=kn()){return/android/i.test(t)}function E6(t=kn()){return/blackberry/i.test(t)}function T6(t=kn()){return/webos/i.test(t)}function YN(t=kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nxe(t=kn()){var e;return YN(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rxe(){return xhe()&&document.documentMode===10}function A6(t=kn()){return YN(t)||S6(t)||T6(t)||E6(t)||/windows phone/i.test(t)||N6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k6(t,e=[]){let n;switch(t){case"Browser":n=Sj(kn());break;case"Worker":n=`${Sj(kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sxe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ixe(t,e={}){return Pc(t,"GET","/v2/passwordPolicy",KN(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const axe=6;class oxe{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:axe,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ej(this),this.idTokenSubscription=new Ej(this),this.beforeStateQueue=new sxe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vs(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await x6(this,{idToken:e}),r=await $s._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ri(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q0e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ri(this.app))return Promise.reject(Wa(this));const n=e?un(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ri(this.app)?Promise.reject(Wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ri(this.app)?Promise.reject(Wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ixe(this),n=new oxe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await txe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vs(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Vs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F0e(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function XN(t){return un(t)}class Ej{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ehe(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let QN={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cxe(t){QN=t}function uxe(t){return QN.loadJS(t)}function dxe(){return QN.gapiScript}function fxe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hxe(t,e){const n=iN(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Ym(i,e??{}))return s;ni(s,"already-initialized")}return n.initialize({options:e})}function pxe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mxe(t,e,n){const r=XN(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=C6(e),{host:o,port:l}=gxe(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),xxe()}function C6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gxe(t){const e=C6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Tj(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Tj(o)}}}function Tj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xxe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ls("not implemented")}_getIdTokenResponse(e){return Ls("not implemented")}_linkToIdToken(e,n){return Ls("not implemented")}_getReauthenticationResolver(e){return Ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t,e){return H0e(t,"POST","/v1/accounts:signInWithIdp",KN(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yxe="http://localhost";class uo extends j6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=GN(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gl(e,n)}buildRequest(){const e={requestUri:yxe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ef(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends P6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends Mf{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ei.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Mf{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Mf{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await $s._fromIdTokenResponse(e,r,s),o=Aj(r);return new cc({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Aj(r);return new cc({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Aj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends ui{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,cg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new cg(e,n,r,s)}}function I6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?cg._fromErrorAndOperation(t,i,e,r):i})}async function vxe(t,e,n=!1){const r=await uf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bxe(t,e,n=!1){const{auth:r}=t;if(Ri(r.app))return Promise.reject(Wa(r));const s="reauthenticate";try{const i=await uf(t,I6(r,s,e,t),n);Ae(i.idToken,r,"internal-error");const o=JN(i.idToken);Ae(o,r,"internal-error");const{sub:l}=o;return Ae(t.uid===l,r,"user-mismatch"),cc._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ni(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wxe(t,e,n=!1){if(Ri(t.app))return Promise.reject(Wa(t));const r="signIn",s=await I6(t,r,e),i=await cc._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function _xe(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function Nxe(t,e,n){return un(t).beforeAuthStateChanged(e,n)}const ug="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ug,"1"),this.storage.removeItem(ug),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sxe=1e3,Exe=10;class M6 extends R6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);rxe()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Exe):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Sxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M6.type="LOCAL";const Txe=M6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6 extends R6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}O6.type="SESSION";const D6=O6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Axe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new W0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await Axe(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}W0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=ZN("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function Cxe(t){ms().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function jxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pxe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ixe(){return L6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="firebaseLocalStorageDb",Rxe=1,dg="firebaseLocalStorage",V6="fbase_key";class Of{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function K0(t,e){return t.transaction([dg],e?"readwrite":"readonly").objectStore(dg)}function Mxe(){const t=indexedDB.deleteDatabase($6);return new Of(t).toPromise()}function Iw(){const t=indexedDB.open($6,Rxe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dg,{keyPath:V6})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dg)?e(r):(r.close(),await Mxe(),e(await Iw()))})})}async function kj(t,e,n){const r=K0(t,!0).put({[V6]:e,value:n});return new Of(r).toPromise()}async function Oxe(t,e){const n=K0(t,!1).get(e),r=await new Of(n).toPromise();return r===void 0?null:r.value}function Cj(t,e){const n=K0(t,!0).delete(e);return new Of(n).toPromise()}const Dxe=800,Lxe=3;class F6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iw(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lxe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=W0._getInstance(Ixe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jxe(),!this.activeServiceWorker)return;this.sender=new kxe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iw();return await kj(e,ug,"1"),await Cj(e,ug),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Oxe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=K0(s,!1).getAll();return new Of(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F6.type="LOCAL";const $xe=F6;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vxe(t,e){return e?Vs(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends j6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fxe(t){return wxe(t.auth,new eS(t),t.bypassAuthState)}function Uxe(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),bxe(n,new eS(t),t.bypassAuthState)}async function Bxe(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),vxe(n,new eS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fxe;case"linkViaPopup":case"linkViaRedirect":return Bxe;case"reauthViaPopup":case"reauthViaRedirect":return Uxe;default:ni(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qxe=new Rf(2e3,1e4);class Qo extends U6{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ri(this.filter.length===1,"Popup operations only handle one event");const e=ZN();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qxe.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zxe="pendingRedirect",cp=new Map;class Gxe extends U6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cp.get(this.auth._key());if(!e){try{const r=await Hxe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cp.set(this.auth._key(),e)}return this.bypassAuthState||cp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hxe(t,e){const n=Jxe(e),r=Kxe(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Wxe(t,e){cp.set(t._key(),e)}function Kxe(t){return Vs(t._redirectPersistence)}function Jxe(t){return lp(zxe,t.config.apiKey,t.name)}async function Yxe(t,e,n=!1){if(Ri(t.app))return Promise.reject(Wa(t));const r=XN(t),s=Vxe(r,e),o=await new Gxe(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xxe=10*60*1e3;class Qxe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Zxe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!B6(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ps(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Xxe&&this.cachedEventUids.clear(),this.cachedEventUids.has(jj(e))}saveEventToCache(e){this.cachedEventUids.add(jj(e)),this.lastProcessedEventTime=Date.now()}}function jj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function B6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Zxe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return B6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eye(t,e={}){return Pc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tye=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nye=/^https?/;async function rye(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eye(t);for(const n of e)try{if(sye(n))return}catch{}ni(t,"unauthorized-domain")}function sye(t){const e=jw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!nye.test(n))return!1;if(tye.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iye=new Rf(3e4,6e4);function Pj(){const t=ms().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aye(t){return new Promise((e,n)=>{var r,s,i;function o(){Pj(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pj(),n(ps(t,"network-request-failed"))},timeout:iye.get()})}if(!((s=(r=ms().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ms().gapi)===null||i===void 0)&&i.load)o();else{const l=fxe("iframefcb");return ms()[l]=()=>{gapi.load?o():n(ps(t,"network-request-failed"))},uxe(`${dxe()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw up=null,e})}let up=null;function oye(t){return up=up||aye(t),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lye=new Rf(5e3,15e3),cye="__/auth/iframe",uye="emulator/auth/iframe",dye={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fye=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hye(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WN(e,uye):`https://${t.config.authDomain}/${cye}`,r={apiKey:e.apiKey,appName:t.name,v:Ac},s=fye.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ef(r).slice(1)}`}async function pye(t){const e=await oye(t),n=ms().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:hye(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dye,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ps(t,"network-request-failed"),l=ms().setTimeout(()=>{i(o)},lye.get());function c(){ms().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mye={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gye=500,xye=600,yye="_blank",vye="http://localhost";class Ij{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bye(t,e,n,r=gye,s=xye){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},mye),{width:r.toString(),height:s.toString(),top:i,left:o}),u=kn().toLowerCase();n&&(l=_6(u)?yye:n),b6(u)&&(e=e||vye,c.scrollbars="yes");const d=Object.entries(c).reduce((h,[x,y])=>`${h}${x}=${y},`,"");if(nxe(u)&&l!=="_self")return wye(e||"",l),new Ij(null);const f=window.open(e||"",l,d);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new Ij(f)}function wye(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ye="__/auth/handler",Nye="emulator/auth/handler",Sye=encodeURIComponent("fac");async function Rj(t,e,n,r,s,i){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ac,eventId:s};if(e instanceof P6){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",She(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Mf){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${Sye}=${encodeURIComponent(c)}`:"";return`${Eye(t)}?${Ef(l).slice(1)}${u}`}function Eye({config:t}){return t.emulator?WN(t,Nye):`https://${t.authDomain}/${_ye}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="webStorageSupport";class Tye{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=D6,this._completeRedirectFn=Yxe,this._overrideRedirectResult=Wxe}async _openPopup(e,n,r,s){var i;ri((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Rj(e,n,r,jw(),s);return bye(e,o,ZN())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Rj(e,n,r,jw(),s);return Cxe(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ri(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pye(e),r=new Qxe(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Py,{type:Py},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Py];o!==void 0&&n(!!o),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rye(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return A6()||w6()||YN()}}const Aye=Tye;var Mj="@firebase/auth",Oj="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cye(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jye(t){ec(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Ae(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k6(t)},u=new lxe(r,s,i,c);return pxe(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ec(new io("auth-internal",e=>{const n=XN(e.getProvider("auth").getImmediate());return(r=>new kye(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(Mj,Oj,Cye(t)),Ki(Mj,Oj,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pye=5*60,Iye=$D("authIdTokenMaxAge")||Pye;let Dj=null;const Rye=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Iye)return;const s=n==null?void 0:n.token;Dj!==s&&(Dj=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Mye(t=BD()){const e=iN(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hxe(t,{popupRedirectResolver:Aye,persistence:[$xe,Txe,D6]}),r=$D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Rye(i.toString());Nxe(n,o,()=>o(n.currentUser)),_xe(n,l=>o(l))}}const s=DD("auth");return s&&mxe(n,`http://${s}`),n}function Oye(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cxe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ps("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Oye().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jye("Browser");const Dye={apiKey:"AIzaSyBnkittxJ3-VmGgZqhsosv_bvNqOIQYb40",authDomain:"bruzzonecrm.firebaseapp.com",projectId:"bruzzonecrm",storageBucket:"bruzzonecrm.firebasestorage.app",messagingSenderId:"927179271207",appId:"1:927179271207:web:b287dce1ce53b4f3ddb202"},q6=UD(Dye),Me=w0e(q6);Mye(q6);const z6=D.createContext(void 0),Lye=({children:t})=>{const[e,n]=D.useState([]),[r,s]=D.useState([]),[i,o]=D.useState([]),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState([]),[x,y]=D.useState([]),[b,v]=D.useState([]),[N,_]=D.useState([]),[S,C]=D.useState([]),[T,w]=D.useState(!0),[E,A]=D.useState(null);D.useEffect(()=>{const pe=[wa(Et(Me,"products"),Ne=>n(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"clients"),Ne=>s(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"suppliers"),Ne=>o(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"priceLists"),Ne=>d(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"branches"),Ne=>h(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"users"),Ne=>C(Ne.docs.map(Le=>({id:Le.id,...Le.data()})))),wa(Et(Me,"salesZones"),Ne=>_(Ne.docs.map(Le=>({id:Le.id,...Le.data()}))))];return w(!1),()=>pe.forEach(Ne=>Ne())},[]);const j=D.useCallback(async pe=>{let Ne=sp(Et(Me,"products"),P0e(pe.orderByField||"name",pe.orderDirection||"asc"));pe.startAfterDoc&&(Ne=sp(Ne,R0e(pe.startAfterDoc))),Ne=sp(Ne,I0e(pe.limit));const Le=await ap(Ne);return{products:Le.docs.map(jt=>({id:jt.id,...jt.data()})),lastVisible:Le.docs[Le.docs.length-1],hasMore:Le.docs.length===pe.limit}},[]),M=async pe=>e.find(Ne=>Ne.id===pe)||null,P=async pe=>{await Mr(Et(Me,"products"),pe)},O=async(pe,Ne)=>{await ks(Vt(Me,"products",pe),Ne)},R=async pe=>{await ts(Vt(Me,"products",pe))},q=async pe=>{await Mr(Et(Me,"sales"),pe)},F=async pe=>{await Mr(Et(Me,"clients"),pe)},$=async(pe,Ne)=>{await ks(Vt(Me,"clients",pe),Ne)},B=async pe=>{await ts(Vt(Me,"clients",pe))},V=async pe=>{await Mr(Et(Me,"suppliers"),pe)},H=async(pe,Ne)=>{await ks(Vt(Me,"suppliers",pe),Ne)},J=async pe=>{await ts(Vt(Me,"suppliers",pe))},W=async pe=>{await Mr(Et(Me,"priceLists"),pe)},X=async(pe,Ne)=>{await ks(Vt(Me,"priceLists",pe),Ne)},se=async pe=>{await ts(Vt(Me,"priceLists",pe))},be=async pe=>{await Mr(Et(Me,"branches"),pe)},z=async(pe,Ne)=>{await ks(Vt(Me,"branches",pe),Ne)},Q=async pe=>{await ts(Vt(Me,"branches",pe))},ee=async pe=>{await Mr(Et(Me,"orders"),pe)},ue=async(pe,Ne)=>{await ks(Vt(Me,"orders",pe),Ne)},G=async pe=>{await ts(Vt(Me,"orders",pe))},oe=async pe=>{await Mr(Et(Me,"installmentPlans"),pe)},de=async(pe,Ne)=>{await ks(Vt(Me,"installmentPlans",pe),Ne)},ie=async pe=>{await ts(Vt(Me,"installmentPlans",pe))},Oe=async pe=>{await Mr(Et(Me,"transactions"),pe)},Y=async pe=>{await Mr(Et(Me,"users"),pe)},fe=async(pe,Ne)=>{await ks(Vt(Me,"users",pe),Ne)},Te=async pe=>{await ts(Vt(Me,"users",pe))},Ge=async pe=>{await Mr(Et(Me,"salesZones"),pe)},en=async(pe,Ne)=>{await ks(Vt(Me,"salesZones",pe),Ne)},fn=async pe=>{await ts(Vt(Me,"salesZones",pe))},Vn=async pe=>{const Ne={};for(const Le of pe){const Dt=await ap(Et(Me,Le));Ne[Le]=Dt.docs.map(jt=>jt.data())}return Ne},Fn=async pe=>{const Ne=await ap(Et(Me,pe));for(const Le of Ne.docs)await ts(Le.ref)},jr=D.useMemo(()=>({products:e,clients:r,suppliers:i,transactions:l,priceLists:u,branches:f,orders:x,installmentPlans:b,users:S,loading:T,error:E,salesZones:N,fetchProductsPaginatedAndFiltered:j,getProductById:M,addProduct:P,updateProduct:O,deleteProduct:R,addSale:q,addClient:F,updateClient:$,deleteClient:B,addSupplier:V,updateSupplier:H,deleteSupplier:J,addPriceList:W,updatePriceList:X,deletePriceList:se,addBranch:be,updateBranch:z,deleteBranch:Q,addOrder:ee,updateOrder:ue,deleteOrder:G,addInstallmentPlan:oe,updateInstallmentPlan:de,deleteInstallmentPlan:ie,addTransaction:Oe,exportAllData:Vn,deleteAllDocumentsInCollection:Fn,addUser:Y,updateUser:fe,deleteUser:Te,addSalesZone:Ge,updateSalesZone:en,deleteSalesZone:fn}),[e,r,i,l,u,f,x,b,S,T,E,N]);return a.jsx(z6.Provider,{value:jr,children:t})},Nt=()=>{const t=D.useContext(z6);if(!t)throw new Error("useFirebase debe usarse dentro de FirebaseProvider");return t},$ye=()=>{const{addSale:t,addOrder:e,fetchProductsPaginatedAndFiltered:n,clients:r}=Nt(),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState(!1),[h,x]=D.useState(!1),[y,b]=D.useState({name:"",price:0,quantity:1}),[v,N]=D.useState(null),[_,S]=D.useState(""),[C,T]=D.useState(!1),[w,E]=D.useState("ticket"),[A,j]=D.useState([]),[M,P]=D.useState({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""}),[O,R]=D.useState([]),[q,F]=D.useState(!1),$=D.useRef(null),B=D.useCallback(Q=>{$.current&&clearTimeout($.current),$.current=setTimeout(async()=>{if(!(Q.length<2)){F(!0);try{const{products:ee}=await n({limit:8,searchTerm:Q.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});R(ee)}finally{F(!1)}}},300)},[n]),V=Q=>{const ee=o.find(ue=>ue.id===Q.id);l(ee?o.map(ue=>ue.id===Q.id?{...ue,quantity:ue.quantity+1}:ue):[...o,{id:Q.id,sku:Q.sku,name:Q.name,brand:Q.brand,price:Q.salePrice,quantity:1,stockBeforeSale:Q.stock,selectedSaleUnit:Q.saleUnit}]),i(""),R([])},H=()=>{if(!y.name||y.price<=0)return;const Q={id:`manual-${Date.now()}`,sku:"MANUAL",name:y.name,brand:"Venta Libre",price:y.price,quantity:y.quantity,stockBeforeSale:9999,isManual:!0};l([...o,Q]),f(!1),b({name:"",price:0,quantity:1})},J=o.reduce((Q,ee)=>Q+ee.price*ee.quantity,0),W=A.reduce((Q,ee)=>Q+ee.amount,0),X=J-W,se=D.useMemo(()=>_?r.filter(Q=>{var ee;return Q.name.toLowerCase().includes(_.toLowerCase())||Q.cuit.includes(_)||((ee=Q.email)==null?void 0:ee.toLowerCase().includes(_.toLowerCase()))}).slice(0,5):[],[r,_]),be=()=>{if(!(M.amount<=0)){if((M.method==="cheque"||M.method==="echeq")&&(!M.bank||!M.checkNumber||!M.dueDate)){alert("Por favor, completa los datos del cheque (Banco, Nmero y Vencimiento).");return}j([...A,{...M,id:Date.now().toString()}]),P({method:"efectivo",amount:0,notes:"",bank:"",checkNumber:"",dueDate:""})}},z=async()=>{if(w!=="presupuesto"&&Math.abs(X)>.01){alert(`Falta cubrir $${X.toLocaleString()} del total.`);return}x(!0);try{const Q={clientName:(v==null?void 0:v.name)||"Mostrador",clientId:(v==null?void 0:v.id)||null,items:o,total:J,paymentDetails:A,docType:w,date:new Date().toISOString(),status:w==="presupuesto"?"pendiente":"completado",seller:"Vendedor Demo"};w==="presupuesto"?(await e({clientId:(v==null?void 0:v.id)||"mostrador",clientName:(v==null?void 0:v.name)||"Mostrador",items:o.map(ee=>({productId:ee.id,sku:ee.sku,name:ee.name,brand:ee.brand,quantity:ee.quantity,unitPrice:ee.price,subtotal:ee.price*ee.quantity,originalProduct:null})),total:J,status:"pendiente_preparacion",dateCreated:new Date().toISOString()}),alert("Presupuesto guardado con xito.")):(await t(Q),alert(`Operacin "${w.toUpperCase()}" finalizada con xito.`)),l([]),u(!1),j([]),N(null),S("")}catch(Q){console.error(Q),alert("Error al procesar la operacin.")}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6 h-full flex flex-col",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Terminal de Ventas"}),a.jsx("p",{className:"text-slate-500",children:"Punto de venta integrado con stock y AFIP."})]}),a.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-slate-100 text-slate-600 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all flex items-center gap-2 border border-slate-200",children:[a.jsx(Tl,{className:"w-4 h-4"})," Venta Libre"]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:"lg:col-span-2 flex flex-col gap-6 overflow-hidden",children:a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-6 h-6 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por nombre, SKU o escanea cdigo...",className:"w-full pl-12 pr-4 py-5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none text-xl font-medium",value:s,onChange:Q=>{i(Q.target.value),B(Q.target.value)}})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 overflow-y-auto max-h-[500px] pr-2 custom-scrollbar",children:[q&&a.jsx("div",{className:"col-span-2 py-10 text-center",children:a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto text-orange-500"})}),O.map(Q=>a.jsxs("div",{onClick:()=>V(Q),className:"p-4 bg-white border border-slate-100 rounded-2xl flex items-center gap-4 hover:border-orange-300 hover:bg-orange-50/30 transition-all cursor-pointer group",children:[a.jsx("div",{className:"w-14 h-14 bg-slate-50 rounded-xl flex items-center justify-center border border-slate-100 shrink-0",children:a.jsx(VM,{className:"w-6 h-6 text-slate-300 group-hover:text-orange-500"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-bold text-slate-800 truncate",children:Q.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[Q.sku,"  Stock: ",a.jsx("span",{className:Q.stock<5?"text-red-500":"text-green-600",children:Q.stock})]})]}),a.jsxs("p",{className:"text-lg font-black text-slate-900",children:["$",Q.salePrice.toLocaleString()]})]},Q.id)),!q&&s.length>2&&O.length===0&&a.jsx("div",{className:"col-span-2 py-10 text-center text-slate-400 font-medium italic",children:"No se encontraron productos."})]})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50/30",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 mb-2 block",children:"Cliente de la Venta"}),a.jsx("div",{className:"relative",children:v?a.jsxs("div",{className:"w-full p-4 bg-orange-50 border-2 border-orange-500 rounded-2xl flex justify-between items-center animate-in fade-in slide-in-from-top-1",children:[a.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-200 rounded-lg flex items-center justify-center text-orange-700 shrink-0",children:a.jsx(ss,{className:"w-5 h-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-black text-orange-900 text-sm truncate",children:v.name}),a.jsx("p",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest truncate",children:v.cuit})]})]}),a.jsx("button",{onClick:()=>N(null),className:"p-1.5 hover:bg-orange-100 rounded-lg text-orange-600",children:a.jsx(ze,{className:"w-4 h-4"})})]}):a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar cliente (Nombre o CUIT)...",className:"w-full pl-9 pr-4 py-3 bg-white border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-sm",value:_,onChange:Q=>{S(Q.target.value),T(!0)},onFocus:()=>T(!0)}),C&&_.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-2xl z-[130] overflow-hidden animate-in fade-in slide-in-from-top-2",children:a.jsxs("div",{className:"p-1 space-y-1",children:[se.map(Q=>a.jsxs("button",{onClick:()=>{N(Q),S(""),T(!1)},className:"w-full p-3 hover:bg-slate-50 rounded-xl flex items-center justify-between group transition-all text-left",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400 group-hover:bg-orange-100 group-hover:text-orange-600 transition-colors",children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-xs",children:Q.name}),a.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:Q.cuit})]})]}),a.jsx(lr,{className:"w-3 h-3 text-slate-300 group-hover:text-orange-500"})]},Q.id)),se.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-400 text-xs italic",children:"No se encontraron clientes"}),a.jsxs("button",{onClick:()=>{N(null),S(""),T(!1)},className:"w-full p-3 border-t border-slate-50 hover:bg-slate-50 rounded-xl flex items-center gap-3 text-slate-500 transition-all",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center",children:a.jsx(Xr,{className:"w-4 h-4"})}),a.jsx("span",{className:"font-bold text-xs",children:"Usar Cliente Mostrador"})]})]})})]})})]}),a.jsxs("div",{className:"p-6 border-b border-slate-50 flex justify-between items-center bg-slate-50/50",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(xd,{className:"w-5 h-5 text-orange-600"})," Carrito"]}),a.jsx("button",{onClick:()=>l([]),className:"text-[10px] font-black uppercase text-red-500 hover:underline",children:"Vaciar"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-3 custom-scrollbar",children:o.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 opacity-50 space-y-4",children:[a.jsx(xd,{className:"w-16 h-16"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-widest text-center",children:"Sin artculos"})]}):o.map((Q,ee)=>a.jsxs("div",{className:"p-4 bg-slate-50 rounded-2xl border border-slate-100 flex justify-between group",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-bold text-slate-800 truncate",children:Q.name}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"number",value:Q.quantity,onChange:ue=>{const G=parseInt(ue.target.value)||1;l(o.map((oe,de)=>de===ee?{...oe,quantity:G}:oe))},className:"w-12 bg-transparent font-black text-orange-600 outline-none"}),a.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase",children:["x $",Q.price.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-col items-end justify-between",children:[a.jsxs("p",{className:"font-black text-slate-900",children:["$",(Q.price*Q.quantity).toLocaleString()]}),a.jsx("button",{onClick:()=>l(o.filter((ue,G)=>G!==ee)),className:"p-1 text-slate-300 hover:text-red-500",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},Q.id))}),a.jsxs("div",{className:"p-8 bg-slate-900 text-white space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs tracking-widest",children:"Total Cobrar"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",J.toLocaleString()]})]}),a.jsxs("button",{disabled:o.length===0,onClick:()=>u(!0),className:"w-full py-5 bg-orange-600 text-white rounded-2xl font-black text-xl shadow-xl shadow-orange-600/20 hover:bg-orange-500 active:scale-95 transition-all flex items-center justify-center gap-3",children:["COBRAR ",a.jsx(lr,{className:"w-6 h-6"})]})]})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-xl z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-5xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200 flex flex-col md:flex-row max-h-[90vh]",children:[a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900 uppercase italic",children:"Confirmar Venta"}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 bg-slate-100 rounded-full",children:a.jsx(ze,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(ss,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Cliente"}),a.jsx("p",{className:"text-xl font-black text-slate-800",children:(v==null?void 0:v.name)||"Mostrador"}),a.jsx("p",{className:"text-xs text-slate-500 font-bold",children:(v==null?void 0:v.cuit)||"Sin CUIT registrado"})]})]}),a.jsx("button",{onClick:()=>{u(!1),T(!0)},className:"text-blue-600 text-xs font-black uppercase hover:underline",children:"Cambiar"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Comprobante"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:[{id:"ticket",label:"Ticket",icon:FM},{id:"factura_a",label:"Fact. A",icon:_T},{id:"factura_b",label:"Fact. B",icon:_T},{id:"remito",label:"Remito",icon:OM},{id:"presupuesto",label:"Presup.",icon:Bp}].map(Q=>a.jsxs("button",{onClick:()=>E(Q.id),className:`p-4 border-2 rounded-2xl flex flex-col items-center gap-2 transition-all ${w===Q.id?"bg-orange-50 border-orange-500 text-orange-600":"bg-white border-slate-100 text-slate-400 hover:border-slate-200"}`,children:[a.jsx(Q.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-[9px] font-black uppercase tracking-tight",children:Q.label})]},Q.id))})]}),w!=="presupuesto"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medios de Pago"}),a.jsx("div",{className:"space-y-2",children:A.map(Q=>a.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 border border-slate-100 rounded-2xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(wn,{className:"w-5 h-5 text-green-500"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-slate-700 capitalize",children:Q.method.replace("_"," ")}),(Q.method==="cheque"||Q.method==="echeq")&&a.jsxs("span",{className:"text-[9px] text-slate-400 font-bold uppercase",children:[Q.bank," #",Q.checkNumber," - Vence: ",Q.dueDate]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",Q.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>j(A.filter(ee=>ee.id!==Q.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},Q.id))}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-3 border border-slate-200 rounded-xl font-bold",value:M.method,onChange:Q=>P({...M,method:Q.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cheque",children:"Cheque Fsico"}),a.jsx("option",{value:"echeq",children:"E-Cheq"}),a.jsx("option",{value:"cuenta_corriente",disabled:!v,children:"Cta. Corriente"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",placeholder:"Monto",className:"w-full pl-9 pr-4 py-3 border border-slate-200 rounded-xl font-bold",value:M.amount||"",onChange:Q=>P({...M,amount:parseFloat(Q.target.value)||0})})]})]}),(M.method==="cheque"||M.method==="echeq")&&a.jsxs("div",{className:"grid grid-cols-3 gap-3 animate-in fade-in slide-in-from-top-1 duration-200",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Banco"}),a.jsxs("div",{className:"relative",children:[a.jsx(KF,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-400"}),a.jsx("input",{placeholder:"Ej: Galicia",className:"w-full pl-8 pr-3 py-2 border rounded-lg text-xs font-bold",value:M.bank,onChange:Q=>P({...M,bank:Q.target.value})})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"N Cheque"}),a.jsx("input",{placeholder:"000123",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:M.checkNumber,onChange:Q=>P({...M,checkNumber:Q.target.value})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-bold text-slate-400 uppercase ml-1",children:"Vencimiento"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border rounded-lg text-xs font-bold",value:M.dueDate,onChange:Q=>P({...M,dueDate:Q.target.value})})]})]}),a.jsxs("button",{onClick:be,className:"w-full py-3 bg-slate-800 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:[a.jsx(Ye,{className:"w-4 h-4"})," Registrar Pago"]})]})]})]}),a.jsxs("div",{className:"w-full md:w-[380px] bg-slate-900 p-10 text-white flex flex-col justify-between border-l border-white/5",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Resumen"}),a.jsx("h3",{className:"text-2xl font-black text-orange-500 uppercase",children:w.replace("_"," ")})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"Neto Gravado"}),a.jsxs("span",{children:["$",(J/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-slate-400 font-bold uppercase text-[10px] tracking-widest",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",(J-J/1.21).toLocaleString(void 0,{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-baseline pt-4",children:[a.jsx("span",{className:"font-black uppercase text-lg",children:"Total"}),a.jsxs("span",{className:"text-4xl font-black text-white",children:["$",J.toLocaleString()]})]})]}),a.jsxs("div",{className:"space-y-4 pt-8 border-t border-white/10",children:[a.jsxs("div",{className:"flex justify-between items-center font-bold text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Pagado:"}),a.jsxs("span",{className:"text-green-400",children:["$",W.toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center font-black text-lg",children:[a.jsx("span",{className:"text-slate-400 uppercase text-xs tracking-widest",children:"Restante:"}),a.jsxs("span",{className:X>0?"text-red-500":"text-orange-500",children:["$",X.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[Math.abs(X)>.01&&w!=="presupuesto"&&a.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl flex items-center gap-3",children:[a.jsx(Ks,{className:"w-5 h-5 text-red-500"}),a.jsx("p",{className:"text-[10px] font-bold text-red-400 uppercase leading-tight",children:"El pago debe cubrir el 100%."})]}),a.jsxs("button",{onClick:z,disabled:h||w!=="presupuesto"&&Math.abs(X)>.01,className:"w-full py-6 bg-orange-600 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-orange-600/40 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-20",children:[h?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):a.jsx(wn,{className:"w-6 h-6"}),h?"CONFIRMANDO...":"FINALIZAR"]})]})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black text-slate-900 uppercase",children:"tem Manual"}),a.jsx("button",{onClick:()=>f(!1),children:a.jsx(ze,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"p-8 space-y-5",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("input",{type:"text",value:y.name,onChange:Q=>b({...y,name:Q.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Descripcin del servicio/item"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio"}),a.jsx("input",{type:"number",value:y.price||"",onChange:Q=>b({...y,price:parseFloat(Q.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cant."}),a.jsx("input",{type:"number",value:y.quantity,onChange:Q=>b({...y,quantity:parseInt(Q.target.value)||1}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsx("button",{onClick:H,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest mt-4 shadow-lg active:scale-95",children:"Aadir al Carrito"})]})]})})]})},Vye=()=>{var ue;const{addSale:t,getProductById:e,clients:n}=Nt(),[r,s]=D.useState(""),[i,o]=D.useState("todos"),[l,c]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[x,y]=D.useState(!1),[b,v]=D.useState(!1),[N,_]=D.useState(null),[S,C]=D.useState([]),[T,w]=D.useState({method:"efectivo",amount:0,notes:""}),[E,A]=D.useState("invoice"),[j,M]=D.useState(0),[P,O]=D.useState(""),[R,q]=D.useState([{id:"R-0001",date:"2024-05-20",client:"Juan Perez S.R.L.",itemsCount:5,itemsList:[{id:"p1",sku:"MART-001",name:"Martillo Stanley 20oz",quantity:2,price:5500,brand:"Stanley",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p5",sku:"CABLE-3X15",name:"Cable Elctrico 3x1.5mm",quantity:3,price:500,brand:"Kalop",selectedSaleUnit:"metro_lineal",originalPrimaryUnit:"metro_lineal",originalSaleUnit:"metro_lineal",originalSaleUnitConversionFactor:1}],total:12500,status:"pendiente"},{id:"R-0002",date:"2024-05-21",client:"Constructora del Centro",itemsCount:12,itemsList:[{id:"p2",sku:"TAL-650",name:"Taladro Bosch GSB 650",quantity:1,price:18500,brand:"Bosch",selectedSaleUnit:"unidad",originalPrimaryUnit:"unidad",originalSaleUnit:"unidad",originalSaleUnitConversionFactor:1},{id:"p3",sku:"PINT-BLANCA",name:"Pintura Ltex Blanca 4L",quantity:10,price:4200,brand:"Alba",selectedSaleUnit:"litro",originalPrimaryUnit:"litro",originalSaleUnit:"litro",originalSaleUnitConversionFactor:1}],total:85400,status:"pendiente"}]),[F,$]=D.useState(!1),B=G=>{switch(G){case"pendiente":return"bg-orange-50 text-orange-700 border-orange-100";case"entregado":return"bg-green-50 text-green-700 border-green-100";case"cancelado":return"bg-red-50 text-red-700 border-red-100";default:return"bg-slate-50 text-slate-500 border-slate-100"}},V=R.filter(G=>{const oe=G.client.toLowerCase().includes(r.toLowerCase())||G.id.toLowerCase().includes(r.toLowerCase()),de=i==="todos"||G.status===i;return oe&&de}),H=G=>{c(oe=>oe.includes(G)?oe.filter(de=>de!==G):[...oe,G])},J=()=>{l.length===V.length&&V.length>0?c([]):c(V.map(G=>G.id))},W=R.filter(G=>l.includes(G.id)),X=W.reduce((G,oe)=>G+oe.total,0),se=(N?N.total:X)+j,be=S.reduce((G,oe)=>G+oe.amount,0),z=se-be,Q=()=>{T.amount<=0||(C(G=>[...G,{...T,id:Date.now().toString()}]),w({method:"efectivo",amount:0,notes:""}))},ee=async()=>{var G;if(S.length===0){alert("Por favor, agrega al menos un medio de pago.");return}if(Math.abs(z)>.01){alert(`Falta asignar $${z.toLocaleString()}`);return}$(!0);try{const oe=N?[N]:W;let de=[];for(const Oe of oe)for(const Y of Oe.itemsList){const fe=await e(Y.id),Te=de.findIndex(Ge=>Ge.id===Y.id);Te!==-1?de[Te].quantity+=Y.quantity:de.push({...Y})}const ie={clientName:(N==null?void 0:N.client)||((G=W[0])==null?void 0:G.client),clientId:null,items:de,total:se,paymentDetails:S,docType:E,remitoIds:oe.map(Oe=>Oe.id),seller:"Admin PC 01",date:new Date().toISOString()};await t(ie),q(Oe=>Oe.map(Y=>oe.some(fe=>fe.id===Y.id)?{...Y,status:"entregado"}:Y)),alert(`Facturacin completada! Total: $${se.toLocaleString()}`),c([]),d(!1),C([]),_(null)}finally{$(!1)}};return a.jsxs("div",{className:"space-y-6 pb-24",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Remitos"}),a.jsx("p",{className:"text-slate-500",children:"Administra o factura remitos de entrega."})]})}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden relative",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar remito o cliente...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none transition-all font-medium",value:r,onChange:G=>s(G.target.value)})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["todos","pendiente","entregado"].map(G=>a.jsx("button",{onClick:()=>o(G),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${i===G?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:G},G))})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:J,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:l.length===V.length&&V.length>0?a.jsx($p,{className:"w-5 h-5 text-orange-600"}):a.jsx(zp,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-6 py-4",children:"Remito N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:V.map(G=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors group cursor-pointer ${l.includes(G.id)?"bg-orange-50/50":""}`,children:[a.jsx("td",{className:"px-6 py-4 text-center",onClick:()=>H(G.id),children:l.includes(G.id)?a.jsx($p,{className:"w-5 h-5 text-orange-600"}):a.jsx(zp,{className:"w-5 h-5 text-slate-200"})}),a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:G.id}),a.jsx("td",{className:"px-6 py-4 font-bold text-slate-700",children:G.client}),a.jsx("td",{className:"px-6 py-4 text-center font-bold text-slate-600",children:G.itemsCount}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${B(G.status)}`,children:G.status})}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",G.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>{_(G),d(!0)},className:"p-2 text-slate-400 hover:text-orange-600",title:"Facturar",children:a.jsx(wT,{className:"w-5 h-5"})})})]},G.id))})]})})]}),u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-10 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black text-slate-900",children:"Cobro de Remito"}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Cliente: ",a.jsx("span",{className:"font-bold text-orange-600",children:(N==null?void 0:N.client)||((ue=W[0])==null?void 0:ue.client)})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"p-3 text-slate-400",children:a.jsx(ze,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Detalle de Pagos"}),a.jsxs("span",{className:"font-black text-orange-600",children:["Total: $",se.toLocaleString()]})]}),a.jsx("div",{className:"space-y-2",children:S.map(G=>a.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 rounded-xl border",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700 capitalize",children:G.method.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-black text-slate-900",children:["$",G.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>C(S.filter(oe=>oe.id!==G.id)),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},G.id))}),a.jsxs("div",{className:"p-4 bg-slate-100 rounded-2xl space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{className:"px-4 py-2 border rounded-xl font-bold",value:T.method,onChange:G=>w({...T,method:G.target.value}),children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta_debito",children:"Dbito"}),a.jsx("option",{value:"tarjeta_credito",children:"Crdito"}),a.jsx("option",{value:"transferencia",children:"Transferencia"}),a.jsx("option",{value:"cuenta_corriente",children:"Cuenta Corriente"})]}),a.jsx("input",{type:"number",placeholder:"Monto",className:"px-4 py-2 border rounded-xl font-bold",value:T.amount||"",onChange:G=>w({...T,amount:parseFloat(G.target.value)||0})})]}),a.jsx("button",{onClick:Q,className:"w-full py-2 bg-slate-800 text-white rounded-xl text-xs font-black uppercase",children:"+ Agregar Pago"})]})]}),a.jsxs("div",{className:"pt-8 border-t flex justify-between items-center",children:[a.jsx("span",{className:"text-xl font-black text-slate-800 uppercase",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-5xl font-black text-orange-600",children:["$",se.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-10 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{disabled:F||Math.abs(z)>.01,onClick:ee,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[F?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(wT,{className:"w-5 h-5"}),F?"Procesando...":"GENERAR COMPROBANTE"]})]})]})})]})},Fye=()=>{const{priceLists:t,addPriceList:e,updatePriceList:n,deletePriceList:r}=Nt(),[s,i]=D.useState("lists"),[o,l]=D.useState(1),[c,u]=D.useState(""),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({name:"",description:"",modifierType:"margin",value:0,isBase:!1}),v=[{id:1,name:"Seleccionar Proveedor",icon:Er},{id:2,name:"Configurar Plantilla",icon:Zi},{id:3,name:"Cargar Excel",icon:Gp},{id:4,name:"Previsualizacin",icon:jv},{id:5,name:"Anlisis y Ejecucin",icon:hU}],N=async()=>{if(!y.name){alert("El nombre de la lista es obligatorio.");return}try{if(y.isBase){const w=t.find(E=>E.isBase&&E.id!==(h==null?void 0:h.id));w&&await n(w.id,{isBase:!1})}h!=null&&h.id?(await n(h.id,y),alert("Lista de precios actualizada con xito!")):(await e(y),alert("Lista de precios creada con xito!")),f(!1),x(null),b({name:"",description:"",modifierType:"margin",value:0,isBase:!1})}catch(w){alert("Error al guardar la lista de precios."),console.error(w)}},_=async w=>{if(window.confirm("Est seguro de eliminar esta lista de precios? Esta accin es irreversible."))try{await r(w),alert("Lista de precios eliminada con xito.")}catch(E){alert("Error al eliminar la lista de precios."),console.error(E)}},S=w=>{x(w),b(w||{name:"",description:"",modifierType:"margin",value:0,isBase:!1}),f(!0)},C=()=>{switch(o){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"1. Qu proveedor quieres actualizar?"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:["Sinteplast","Alba","Stanley","Bosch","Tramontina","Ferrum"].map(w=>a.jsxs("button",{onClick:()=>{u(w),l(2)},className:"p-6 bg-white border border-slate-200 rounded-2xl hover:border-orange-500 hover:shadow-lg transition-all text-center group",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-orange-50",children:a.jsx(Er,{className:"w-6 h-6 text-slate-400 group-hover:text-orange-500"})}),a.jsx("span",{className:"font-bold text-slate-700",children:w})]},w))})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800",children:["2. Mapeo de Columnas: ",c]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-slate-100 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Cdigo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna A"}),a.jsx("option",{children:"Columna B"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Descripcin"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna B"}),a.jsx("option",{children:"Columna C"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-bold text-slate-500 uppercase",children:"Columna Precio Costo"}),a.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg",children:[a.jsx("option",{children:"Columna C"}),a.jsx("option",{children:"Columna D"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-between",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 font-bold text-slate-500",children:"Volver"}),a.jsx("button",{onClick:()=>l(3),className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Guardar y Continuar"})]})]})]});case 5:return a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Anlisis de Impacto"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-1",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-blue-900",children:"1.240"})]}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-2xl border border-green-100",children:[a.jsx("p",{className:"text-xs font-bold text-green-600 uppercase mb-1",children:"Actualizados"}),a.jsx("p",{className:"text-3xl font-bold text-green-900",children:"856"})]}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-2xl border border-red-100",children:[a.jsx("p",{className:"text-xs font-bold text-red-600 uppercase mb-1",children:"Discontinuados"}),a.jsx("p",{className:"text-3xl font-bold text-red-900",children:"12"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100",children:[a.jsx("p",{className:"text-xs font-bold text-orange-600 uppercase mb-1",children:"Var. Promedio"}),a.jsx("p",{className:"text-3xl font-bold text-orange-900",children:"+14.2%"})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-100 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-xs font-bold text-slate-500 uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Producto"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Viejo"}),a.jsx("th",{className:"px-6 py-4",children:"Precio Nuevo"}),a.jsx("th",{className:"px-6 py-4",children:"Variacin"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{name:"Martillo Stanley 20oz",old:4500,new:5200,diff:"+15.5%"},{name:"Destornillador Phillips",old:1200,new:1350,diff:"+12.5%"}].map((w,E)=>a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-6 py-4 font-semibold",children:w.name}),a.jsxs("td",{className:"px-6 py-4 text-slate-500",children:["$",w.old]}),a.jsxs("td",{className:"px-6 py-4 font-bold",children:["$",w.new]}),a.jsx("td",{className:"px-6 py-4 text-orange-600 font-bold",children:w.diff})]},E))})]})}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(1),className:"px-6 py-2 border rounded-xl font-bold",children:"Cancelar"}),a.jsx("button",{className:"bg-orange-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:"Aplicar Actualizacin"})]})]});default:return a.jsxs("div",{className:"flex flex-col items-center justify-center h-80 bg-white rounded-2xl border border-dashed border-slate-200",children:[a.jsx(Gp,{className:"w-12 h-12 text-slate-300 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Arrastra el archivo Excel aqu"}),a.jsx("button",{onClick:()=>l(5),className:"mt-4 px-4 py-2 bg-slate-100 rounded-lg text-sm font-bold",children:"Simular Carga"})]})}},T=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Qh,{className:"w-6 h-6 text-orange-600"})," Estructura de Listas de Venta"]}),a.jsxs("button",{onClick:()=>S(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-800 shadow-lg",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nueva Lista"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(w=>a.jsxs("div",{className:`bg-white rounded-[2rem] border-2 p-6 shadow-sm relative group transition-all ${w.isBase?"border-orange-500 ring-4 ring-orange-500/10":"border-slate-100 hover:border-slate-300"}`,children:[w.isBase&&a.jsx("span",{className:"absolute -top-3 left-6 bg-orange-600 text-white text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg",children:"Lista Base (Mostrador)"}),a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${w.isBase?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-500"}`,children:w.isBase?a.jsx(Up,{className:"w-6 h-6"}):a.jsx(z1,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>S(w),className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-xl",title:"Editar Lista",children:a.jsx(xs,{className:"w-4 h-4"})}),!w.isBase&&a.jsx("button",{onClick:()=>_(w.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-xl",title:"Eliminar Lista",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h4",{className:"text-lg font-black text-slate-800 mb-1",children:w.name}),a.jsx("p",{className:"text-xs text-slate-400 font-medium mb-4 line-clamp-2 leading-relaxed",children:w.description}),a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100 space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Clculo"}),a.jsx("span",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest bg-orange-50 px-2 py-0.5 rounded",children:w.modifierType==="margin"?"Margen s/ Costo":"Modificador s/ Lista Base"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H1,{className:"w-4 h-4 text-slate-400"}),a.jsxs("span",{className:"text-2xl font-black text-slate-900",children:[w.value>0?"+":"",w.value,"%"]})]})]}),a.jsx("button",{className:`w-full mt-4 py-3 rounded-xl font-black text-[10px] uppercase tracking-[0.2em] transition-all ${w.isBase?"bg-orange-600 text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:w.isBase?"Configuracin Base":"Ajustar Modificador"})]},w.id)),a.jsxs("button",{onClick:()=>S(null),className:"border-4 border-dashed border-slate-100 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-4 text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 hover:text-orange-400 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors",children:a.jsx(Ye,{className:"w-10 h-10"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-widest",children:"Crear Lista de Precios"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[a.jsxs("div",{className:"flex-1 space-y-4 relative z-10",children:[a.jsx("h3",{className:"text-2xl font-black uppercase tracking-tight",children:"Sincronizacin Automtica"}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Al actualizar los costos de un proveedor, FerroGest recalcula automticamente los precios de venta en todas las listas (Negocio, Distribuidora, etc.) basndose en las reglas que definas aqu."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-orange-500",children:[a.jsx(UF,{className:"w-4 h-4"})," Flujo en tiempo real"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-green-500",children:[a.jsx(wn,{className:"w-4 h-4"})," 0% Error de clculo"]})]})]}),a.jsx("div",{className:"relative z-10 flex gap-4",children:a.jsxs("div",{className:"p-6 bg-white/5 border border-white/10 rounded-2xl text-center backdrop-blur-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Listas Activas"}),a.jsx("p",{className:"text-3xl font-black text-orange-500",children:t.length})]})}),a.jsx(Qh,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 -rotate-12"})]})]});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Actualizador & Listas de Precios"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona tus costos de proveedores y tus mltiples listas de venta."})]})}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>i("update"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${s==="update"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Lu,{className:"w-5 h-5"})," Actualizar Costos (Excel)"]}),a.jsxs("button",{onClick:()=>i("lists"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 ${s==="lists"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(Qh,{className:"w-5 h-5"})," Gestin de Listas de Venta"]})]}),a.jsx("div",{className:"flex items-center justify-between mb-8 bg-white p-4 rounded-2xl border border-slate-100 overflow-x-auto",children:s==="update"?v.map((w,E)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${o===w.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 ${o>=w.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-200"}`,children:o>w.id?a.jsx(wn,{className:"w-6 h-6"}):a.jsx(w.icon,{className:"w-5 h-5"})}),a.jsx("span",{className:`text-xs font-bold uppercase ${o===w.id?"":"hidden md:block"}`,children:w.name})]}),E<v.length-1&&a.jsx(lr,{className:"w-5 h-5 text-slate-100"})]},w.id)):a.jsxs("div",{className:"flex items-center gap-3 text-orange-600",children:[a.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-orange-500 bg-orange-50 flex items-center justify-center",children:a.jsx(Zi,{className:"w-5 h-5"})}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Definicin de Polticas de Precios"})]})}),s==="update"?C():T(),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(Ye,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Lista de Precios":"Nueva Lista de Precios"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de poltica comercial"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Lista"}),a.jsx("input",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Distribuidora Mayorista",value:y.name||"",onChange:w=>b({...y,name:w.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin"}),a.jsx("textarea",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium text-sm h-24 resize-none",placeholder:"Explique el uso de esta lista...",value:y.description||"",onChange:w=>b({...y,description:w.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Clculo"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",value:y.modifierType,onChange:w=>b({...y,modifierType:w.target.value}),children:[a.jsx("option",{value:"margin",children:"Margen s/ Costo"}),a.jsx("option",{value:"percentage_over_base",children:"Modificador s/ Lista Base"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Valor (%)"}),a.jsx("input",{type:"number",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-orange-600 text-xl text-center",placeholder:"0",value:y.value||"",onChange:w=>b({...y,value:parseFloat(w.target.value)||0})})]})]}),a.jsxs("div",{className:"flex items-center gap-4 p-5 bg-orange-50 rounded-[1.5rem] border border-orange-100",children:[a.jsx("input",{type:"checkbox",className:"w-6 h-6 rounded-lg accent-orange-600 cursor-pointer",id:"isBase",checked:y.isBase||!1,onChange:w=>b({...y,isBase:w.target.checked})}),a.jsxs("label",{htmlFor:"isBase",className:"flex-1 cursor-pointer",children:[a.jsx("p",{className:"text-sm font-black text-orange-900 uppercase",children:"Establecer como Lista Base"}),a.jsx("p",{className:"text-[10px] text-orange-700 font-medium",children:"Las dems listas podrn referenciar a esta para clculos automticos."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:N,className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[h?"Actualizar Lista":"Crear Lista"," ",a.jsx(An,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},Uye=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Club de Fidelizacin"}),a.jsx("p",{className:"text-slate-500",children:"Motiva a tus clientes a volver con puntos y beneficios exclusivos."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 p-8 rounded-3xl text-white shadow-xl",children:[a.jsx(yU,{className:"w-12 h-12 mb-4 opacity-80"}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:"Puntos Entregados"}),a.jsx("p",{className:"text-4xl font-black mb-4",children:"42.580"}),a.jsx("p",{className:"text-sm opacity-80",children:"Canjeables por $42.580 en rdenes de compra."})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-purple-100 rounded-2xl text-purple-600",children:a.jsx(Xr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"156"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Clientes Registrados"})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-green-100 rounded-2xl text-green-600",children:a.jsx(Gx,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"24"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Cupones Activos"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(K1,{className:"w-5 h-5 text-orange-500"})," Ofertas de Canje"]}),a.jsxs("div",{className:"space-y-4",children:[[{item:"Juego de Destornilladores",points:5e3,value:"$5.500"},{item:"Vale por $2000 en Pinturas",points:1500,value:"$2.000"},{item:"Guantes de Seguridad",points:800,value:"$1.200"}].map((t,e)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:t.item}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Valor real: ",t.value]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-lg font-black text-orange-600",children:[t.points," PTS"]}),a.jsx("button",{className:"text-[10px] font-bold uppercase text-slate-400 hover:text-orange-500",children:"Editar"})]})]},e)),a.jsx("button",{className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 font-bold hover:bg-slate-50 transition-colors",children:"+ Agregar Nueva Oferta"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(Gx,{className:"w-5 h-5 text-blue-500"})," Cupones y Descuentos"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-6 bg-blue-50 rounded-2xl border border-blue-100 border-dashed relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-blue-800 font-black text-xl mb-1",children:"FERRO15OFF"}),a.jsx("p",{className:"text-blue-600 text-sm font-medium",children:"15% Descuento en Herramientas Manuales"}),a.jsx("p",{className:"text-[10px] text-blue-400 mt-4 uppercase font-bold tracking-widest",children:"Vence en 12 das"})]}),a.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:a.jsx(Gx,{className:"w-16 h-16"})})]}),a.jsx("div",{className:"p-6 bg-green-50 rounded-2xl border border-green-100 border-dashed relative overflow-hidden",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-green-800 font-black text-xl mb-1",children:"BIENVENIDOCLUB"}),a.jsx("p",{className:"text-green-600 text-sm font-medium",children:"Vale de $500 en tu primera compra"}),a.jsx("p",{className:"text-[10px] text-green-400 mt-4 uppercase font-bold tracking-widest",children:"Sin vencimiento"})]})})]})]})]})]}),Bye=10,qye=[{id:"ORD-1001",client:"Alberto Sanchez",date:"2024-05-20",total:15400,status:"pendiente",address:"Calle 1 nro 123"},{id:"ORD-1002",client:"Maria Gomez",date:"2024-05-21",total:24500,status:"entregado",address:"Av. Siempre Viva 742"},{id:"ORD-1003",client:"Roberto Garcia",date:"2024-05-21",total:8900,status:"pendiente",address:"Bulnes 500"}],zye=()=>{const{fetchProductsPaginatedAndFiltered:t}=Nt(),[e,n]=D.useState("dashboard"),[r,s]=D.useState([{id:"1",name:"Martillo Stanley 20oz",price:5500,stock:15,visits:124,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"sync"},{id:"2",name:"Taladro Bosch GSB 650",price:18500,stock:8,visits:89,status:"publicado",img:"https://images.unsplash.com/photo-1504148455328-c376907d081c?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}]),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState("login"),[x,y]=D.useState(null),[b,v]=D.useState(""),[N,_]=D.useState([]),[S,C]=D.useState(null),[T,w]=D.useState(!0),[E,A]=D.useState(!1),j=D.useRef(null),M=D.useCallback(async(V=!1,H=b,J=S)=>{A(!0);try{const W={limit:Bye,searchTerm:H.toLowerCase().trim(),startAfterDoc:V?void 0:J,orderByField:"name",orderDirection:"asc"},{products:X,lastVisible:se,hasMore:be}=await t(W);_(z=>V?X:[...z,...X]),C(se),w(be)}catch(W){console.error("Error loading products for picker:",W)}finally{A(!1)}},[b,S,t]),P=D.useCallback(V=>{j.current&&clearTimeout(j.current),j.current=setTimeout(()=>{M(!0,V,null)},300)},[M]);D.useEffect(()=>{i&&(_([]),C(null),w(!0),M(!0,b,null))},[b,i,M]);const O=()=>{c(!0)},R=V=>{s([...r,{id:V.id,name:V.name,price:V.salePrice||0,stock:V.stock,visits:0,status:"publicado",img:"https://images.unsplash.com/photo-1581147036324-c17da42e2602?auto=format&fit=crop&q=80&w=150",mlStatus:"none"}])},q=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[250] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 text-center space-y-2",children:[a.jsx("div",{className:"w-16 h-16 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:f==="login"?a.jsx(ss,{className:"w-8 h-8"}):a.jsx(J1,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-2xl font-black text-slate-800 tracking-tight",children:f==="login"?"Hola de nuevo!":"Crea tu cuenta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Ingresa a Ferretera Norte para comprar."})]}),a.jsxs("div",{className:"px-8 pb-8 space-y-4",children:[f==="register"&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(ss,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"Tu nombre..."})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(LM,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:"email@ejemplo.com"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"password",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold",placeholder:""})]})]}),a.jsx("button",{onClick:()=>{y({name:"Cliente Demo"}),d(!1)},className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all mt-4",children:f==="login"?"Iniciar Sesin":"Registrarme ahora"}),a.jsxs("p",{className:"text-center text-xs font-bold text-slate-400 pt-4",children:[f==="login"?"No tienes cuenta?":"Ya eres cliente?",a.jsx("button",{onClick:()=>h(f==="login"?"register":"login"),className:"text-orange-600 ml-1 hover:underline",children:f==="login"?"Regstrate aqu":"Inicia sesin"})]})]}),a.jsx("button",{onClick:()=>d(!1),className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-100 rounded-full transition-all",children:a.jsx(ze,{className:"w-5 h-5"})})]})}),F=()=>a.jsxs("div",{className:"fixed inset-0 bg-white z-[200] overflow-y-auto animate-in fade-in duration-300 flex flex-col",children:[u&&q(),a.jsxs("div",{className:"bg-slate-100 p-3 flex justify-between items-center border-b sticky top-0 z-50",children:[a.jsxs("div",{className:"flex gap-1.5 ml-4",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-400"})]}),a.jsxs("div",{className:"bg-white border rounded-full px-8 py-1.5 text-xs text-slate-500 font-bold flex items-center gap-2",children:[a.jsx(zi,{className:"w-3 h-3"})," https://ferreteria-norte.tiendafort.com"]}),a.jsxs("button",{onClick:()=>c(!1),className:"mr-4 p-2 bg-slate-900 text-white rounded-full hover:bg-slate-800 transition-all flex items-center gap-2 px-4 py-2 font-black text-[10px] uppercase tracking-widest shadow-lg",children:[a.jsx(ze,{className:"w-4 h-4"})," Salir de vista previa"]})]}),a.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 pb-20",children:[a.jsxs("header",{className:"p-8 flex justify-between items-center bg-white border-b",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-orange-500 rounded-lg text-white",children:a.jsx(Ca,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsxs("nav",{className:"hidden md:flex gap-8 font-bold text-slate-500 uppercase text-xs tracking-widest",children:[a.jsx("a",{href:"#",className:"text-orange-600 border-b-2 border-orange-500 pb-1",children:"Inicio"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Productos"}),a.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contacto"})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("button",{onClick:()=>x?y(null):d(!0),className:"flex items-center gap-2 font-bold text-slate-700 hover:text-orange-600 transition-colors",children:x?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center border border-slate-200",children:a.jsx(ss,{className:"w-4 h-4"})}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:x.name})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ss,{className:"w-5 h-5"}),a.jsx("span",{className:"text-xs uppercase tracking-widest hidden lg:block",children:"Ingresar"})]})}),a.jsxs("button",{className:"relative",children:[a.jsx(xd,{className:"w-6 h-6 text-slate-700"}),a.jsx("span",{className:"absolute -top-2 -right-2 bg-orange-600 text-white text-[10px] font-black w-5 h-5 rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:"0"})]})]})]}),a.jsx("section",{className:"px-8 mt-8",children:a.jsxs("div",{className:"w-full h-[400px] bg-slate-900 rounded-[2.5rem] relative overflow-hidden flex items-center p-16 group",children:[a.jsxs("div",{className:"relative z-10 space-y-6 max-w-lg",children:[a.jsx("span",{className:"bg-orange-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-[0.2em] shadow-lg",children:"Oferta de Lanzamiento"}),a.jsx("h1",{className:"text-5xl font-black text-white leading-tight",children:"Equip tu taller con lo mejor"}),a.jsx("p",{className:"text-slate-400 text-lg font-medium leading-relaxed",children:"Envos gratis en compras superiores a $50.000. Pag en 3 cuotas sin inters."}),a.jsx("button",{className:"bg-white text-slate-900 px-10 py-5 rounded-2xl font-black uppercase tracking-widest hover:bg-orange-500 hover:text-white transition-all shadow-xl shadow-white/5 active:scale-95",children:"Ver Ofertas"})]}),a.jsx("img",{src:"https://images.unsplash.com/photo-1581244277943-fe4a9c777189?auto=format&fit=crop&q=80&w=800",className:"absolute inset-0 w-full h-full object-cover opacity-40 group-hover:scale-105 transition-transform duration-1000",alt:"Banner"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-950 via-slate-900/80 to-transparent"})]})}),a.jsx("section",{className:"px-8 mt-12 overflow-x-auto",children:a.jsx("div",{className:"flex gap-4",children:["Herramientas Elctricas","Pinturas","Bulonera","Electricidad","Jardn"].map(V=>a.jsx("button",{className:"px-6 py-3 bg-slate-50 border border-slate-100 rounded-2xl whitespace-nowrap text-xs font-black text-slate-500 uppercase tracking-widest hover:border-orange-500 hover:border-orange-600 transition-all shadow-sm",children:V},V))})}),a.jsxs("section",{className:"px-8 mt-16 space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Productos Destacados"}),a.jsxs("button",{className:"text-orange-600 font-black text-sm uppercase tracking-widest flex items-center gap-1 hover:underline",children:["Ver todo ",a.jsx(lr,{className:"w-4 h-4"})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:r.filter(V=>V.status==="publicado").map(V=>a.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden border border-slate-100 group hover:shadow-2xl transition-all duration-300",children:[a.jsx("div",{className:"aspect-square relative overflow-hidden bg-slate-50",children:a.jsx("img",{src:V.img,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",alt:V.name})}),a.jsxs("div",{className:"p-6 space-y-3",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ferretera Norte"}),a.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight line-clamp-2 min-h-[3rem]",children:V.name}),a.jsxs("div",{className:"pt-2 flex justify-between items-center",children:[a.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("button",{className:"p-3 bg-orange-600 text-white rounded-2xl hover:bg-orange-700 transition-all shadow-lg active:scale-90",children:a.jsx(Ye,{className:"w-5 h-5"})})]})]})]},V.id))})]}),a.jsxs("footer",{className:"mt-32 border-t pt-20 px-8 text-center space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-800 rounded-lg text-white",children:a.jsx(Ca,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-2xl font-black text-slate-800 tracking-tighter uppercase italic",children:"Ferretera Norte"})]}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:" 2025 FerroGest Ecommerce. Todos los derechos reservados."})]})]})]}),$=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h4",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Ca,{className:"w-5 h-5 text-orange-600"})," Pedidos Online Pendientes"]}),a.jsxs("div",{className:"relative w-72",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl text-xs font-bold",placeholder:"Buscar pedido..."})]})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Pedido #"}),a.jsx("th",{className:"px-8 py-5",children:"Cliente"}),a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Total"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:qye.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsxs("td",{className:"px-8 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.id}),a.jsxs("p",{className:"text-[9px] text-slate-400 font-bold uppercase tracking-widest",children:[a.jsx(G1,{className:"inline w-3 h-3 mr-1"})," ",V.address]})]}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.client})}),a.jsx("td",{className:"px-8 py-4 text-sm font-medium text-slate-600",children:V.date}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900 text-sm",children:["$",V.total.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="pendiente"?"bg-orange-50 text-orange-700 border-orange-100":"bg-green-50 text-green-700 border-green-100"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-all",title:"Ver Detalle",children:a.jsx(Vp,{className:"w-4 h-4"})}),a.jsx("button",{disabled:!0,className:"p-2 text-slate-300 disabled:opacity-50",title:"Integracin de Envos",children:a.jsx(ys,{className:"w-4 h-4"})})]})})]},V.id))})]})]})}),B=()=>a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(Ca,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+14%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Ventas Online (Mes)"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$840.500"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-2xl",children:a.jsx(Xr,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:"+5%"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Visitas nicas"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"12.480"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 text-purple-600 rounded-2xl",children:a.jsx(cU,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold text-slate-400 bg-slate-50 px-2 py-1 rounded-lg",children:"Estable"})]}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conv. Checkout"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"3.2%"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1 relative z-10",children:"Estado del Dominio"}),a.jsx("h3",{className:"text-lg font-bold relative z-10",children:"ferreteria-norte.com"}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 relative z-10",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-green-500",children:"SSL Activo"})]}),a.jsx(zi,{className:"absolute -bottom-6 -right-6 w-24 h-24 text-white/5 rotate-12"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-slate-50 rounded-[3rem] p-10 flex flex-col items-center justify-center gap-8 border border-slate-200",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{className:"p-3 bg-white shadow-sm rounded-xl text-orange-600",children:a.jsx(ET,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(ST,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-3 bg-slate-200 shadow-sm rounded-xl text-slate-500",children:a.jsx(xU,{className:"w-5 h-5"})})]}),a.jsxs("div",{onClick:O,className:"w-full aspect-video bg-white rounded-2xl shadow-2xl overflow-hidden border border-slate-200 group relative cursor-pointer",children:[a.jsxs("div",{className:"p-4 border-b flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-red-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-400"}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400"})]}),a.jsx("div",{className:"bg-white border rounded-lg px-4 py-0.5 text-[9px] text-slate-400 font-bold",children:"https://ferreteria-norte.com"}),a.jsx("div",{className:"w-4"})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsx("div",{className:"w-full h-32 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-300 font-black text-xl uppercase tracking-widest",children:"Banner Oferta"}),a.jsx("div",{className:"grid grid-cols-3 gap-4",children:[1,2,3].map(V=>a.jsx("div",{className:"aspect-square bg-slate-50 rounded-xl"},V))})]}),a.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:a.jsxs("button",{className:"bg-white text-slate-900 px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl flex items-center gap-2",children:[a.jsx(fd,{className:"w-4 h-4"})," Previsualizar Tienda"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("h4",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:"Acciones Rpidas"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("button",{onClick:()=>n("diseno"),className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(IM,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Subir Banners"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-yellow-50 border border-yellow-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-yellow-400 text-slate-900 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Hp,{className:"w-6 h-6 fill-current"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"MercadoLibre"})]}),a.jsxs("button",{onClick:()=>{},className:"p-8 bg-blue-50 border border-blue-200 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-blue-400 text-white rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(ys,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Gestin de Envos"})]}),a.jsxs("button",{onClick:O,className:"p-8 bg-white border border-slate-100 rounded-[2rem] text-center space-y-4 hover:shadow-xl transition-all group",children:[a.jsx("div",{className:"p-4 bg-purple-100 text-purple-600 rounded-2xl mx-auto group-hover:scale-110 transition-transform",children:a.jsx(Vp,{className:"w-6 h-6"})}),a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ver mi Sitio"})]})]})]})]})]});return a.jsxs("div",{className:"space-y-6",children:[l&&F(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(zi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Multi-Channel Management"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Vende en tu propia tienda y MercadoLibre sincronizado."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:O,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(fd,{className:"w-4 h-4"})," Ver Tienda"]}),a.jsx("button",{className:"px-6 py-2.5 bg-slate-900 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg shadow-slate-900/20",children:"Publicar Cambios"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"dashboard",label:"Dashboard",icon:ST},{id:"catalogo",label:"Catlogo Web",icon:Al},{id:"pedidos",label:"Pedidos Online",icon:Ca},{id:"diseno",label:"Personalizacin UI",icon:md}].map(V=>a.jsxs("button",{onClick:()=>n(V.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${e===V.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(V.icon,{className:"w-4 h-4"}),V.label]},V.id))}),a.jsxs("div",{className:"py-2",children:[e==="dashboard"&&B(),e==="catalogo"&&a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"relative w-96",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl outline-none text-sm font-bold",placeholder:"Buscar en tienda..."})]}),a.jsxs("button",{onClick:()=>{o(!0),v(""),_([]),C(null),w(!0)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg shadow-orange-600/20 active:scale-95 transition-all",children:[a.jsx(Ye,{className:"w-4 h-4"})," Agregar desde Inventario"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto Web"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Web"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Visitas"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(V=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("img",{src:V.img,className:"w-12 h-12 rounded-xl object-cover border border-slate-100 shadow-sm"}),a.jsx("div",{className:"font-bold text-slate-800 text-sm",children:V.name})]})}),a.jsx("td",{className:"px-8 py-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest border ${V.status==="publicado"?"bg-green-50 text-green-700 border-green-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:V.status})}),a.jsx("td",{className:"px-8 py-4 text-center text-sm font-black text-slate-700",children:V.stock}),a.jsxs("td",{className:"px-8 py-4 text-right font-black text-slate-900",children:["$",V.price.toLocaleString()]}),a.jsx("td",{className:"px-8 py-4 text-center font-bold text-slate-500 text-xs",children:V.visits}),a.jsx("td",{className:"px-8 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-all",children:a.jsx(Zi,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-600 transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},V.id))})]})})]}),e==="pedidos"&&$(),e==="diseno"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(md,{className:"w-6 h-6 text-orange-600"})," Configuracin de Diseo"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Color Principal"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("input",{type:"color",defaultValue:"#f97316",className:"w-12 h-12 rounded-xl border-none p-0 cursor-pointer"}),a.jsx("input",{className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl font-bold uppercase",defaultValue:"#F97316"})]})]}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Opciones de Cabecera"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Mostrar buscador prominente"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]}),a.jsxs("label",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100 cursor-pointer group hover:border-orange-500 transition-all",children:[a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Habilitar Portal de Clientes"}),a.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5 rounded accent-orange-600"})]})]})]})]}),a.jsxs("div",{className:"bg-slate-100 rounded-[2.5rem] p-8 border border-slate-200 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx(ET,{className:"w-12 h-12 text-slate-300"}),a.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Los cambios se aplican globalmente al publicar."}),a.jsx("button",{onClick:O,className:"bg-white border border-slate-200 px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all",children:"Abrir Previsualizador"})]})]})]})]}),i&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ye,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Vincular a Tienda"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario para publicar"})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:b,onChange:V=>{v(V.target.value),P(V.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:E&&b.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):N.length>0?N.map(V=>{var H;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>R(V),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:V.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[V.sku,"  ",V.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(H=V.salePrice)==null?void 0:H.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",V.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Ye,{className:"w-5 h-5"})})]})]},V.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(cr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!E&&T&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>M(!1,b,S),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Js,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(hd,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>o(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})})]})},Gye=()=>{const t=[{name:"Lun",ventas:45e3,compras:32e3},{name:"Mar",ventas:52e3,compras:18e3},{name:"Mie",ventas:38e3,compras:45e3},{name:"Jue",ventas:61e3,compras:29e3},{name:"Vie",ventas:89e3,compras:54e3},{name:"Sab",ventas:12e4,compras:12e3},{name:"Dom",ventas:15e3,compras:0}],e=(s,i,o)=>{const l=new Blob([s],{type:o}),c=URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},n=()=>{const s=[{fecha:"20240501",tipoComp:"01",ptoVenta:"0005",nroComp:"00000001",cuitCli:"20123456789",rsCli:"Cliente Ejemplo S.R.L.",total:"12100.00",neto:"10000.00",iva:"2100.00"},{fecha:"20240502",tipoComp:"01",ptoVenta:"0005",nroComp:"00000002",cuitCli:"20987654321",rsCli:"Consumidor Final",total:"2420.00",neto:"2000.00",iva:"420.00"},{fecha:"20240503",tipoComp:"01",ptoVenta:"0005",nroComp:"00000003",cuitCli:"20112233445",rsCli:"Empresa Constructora",total:"48400.00",neto:"40000.00",iva:"8400.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_CLIENTE;RAZON_SOCIAL_CLIENTE;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitCli};${c.rsCli};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_VENTAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Ventas generado. Recuerde que este es un formato simplificado de ejemplo.")},r=()=>{const s=[{fecha:"20240503",tipoComp:"01",ptoVenta:"0001",nroComp:"00000010",cuitProv:"30111222334",rsProv:"Proveedor Principal S.A.",total:"24200.00",neto:"20000.00",iva:"4200.00"},{fecha:"20240504",tipoComp:"01",ptoVenta:"0001",nroComp:"00000011",cuitProv:"30444555667",rsProv:"Distribuidor SRL",total:"6050.00",neto:"5000.00",iva:"1050.00"},{fecha:"20240505",tipoComp:"01",ptoVenta:"0002",nroComp:"00000012",cuitProv:"30998877665",rsProv:"Mayorista General",total:"18150.00",neto:"15000.00",iva:"3150.00"}];let i=`FECHA;TIPO_COMP;PTO_VENTA;NRO_COMP;CUIT_PROVEEDOR;RAZON_SOCIAL_PROVEEDOR;TOTAL;NETO_GRAVADO;IVA
`;s.forEach(c=>{i+=`${c.fecha};${c.tipoComp};${c.ptoVenta};${c.nroComp};${c.cuitProv};${c.rsProv};${c.total};${c.neto};${c.iva}
`});const o=new Date,l=`CITI_COMPRAS_${o.getFullYear()}${(o.getMonth()+1).toString().padStart(2,"0")}.txt`;e(i,l,"text/plain"),alert("Archivo CITI Compras generado. Recuerde que este es un formato simplificado de ejemplo.")};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Informes y Estadsticas"}),a.jsx("p",{className:"text-slate-500",children:"Monitorea el rendimiento de tus ventas, compras e IVA."})]}),a.jsxs("button",{className:"bg-white border border-slate-200 px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(bu,{className:"w-5 h-5"})," Exportar a Excel"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Ventas del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$1.450.000"}),a.jsx("p",{className:"text-xs text-green-600 font-bold mt-2",children:"+12% vs mes anterior"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Compras del Mes"}),a.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"$980.000"}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Margen bruto: 32.4%"})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-2xl border border-orange-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-orange-400 uppercase mb-1",children:"Saldo IVA (Dbito)"}),a.jsx("h3",{className:"text-2xl font-bold text-orange-700",children:"$254.100"}),a.jsx("p",{className:"text-[10px] text-orange-500 mt-2 uppercase font-bold tracking-wider",children:"A Pagar Proyectado"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-xs font-bold text-blue-400 uppercase mb-1",children:"Crdito IVA (Compras)"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-700",children:"$185.300"}),a.jsx("p",{className:"text-[10px] text-blue-500 mt-2 uppercase font-bold tracking-wider",children:"A Favor"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlisis Semanal de Operaciones"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-orange-500 rounded-full"})," Ventas"]}),a.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-bold text-slate-500",children:[a.jsx("span",{className:"w-3 h-3 bg-slate-300 rounded-full"})," Compras"]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(PD,{data:t,children:[a.jsx(Qd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ea,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ta,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Un,{}),a.jsx(qr,{dataKey:"ventas",fill:"#f97316",radius:[4,4,0,0]}),a.jsx(qr,{dataKey:"compras",fill:"#cbd5e1",radius:[4,4,0,0]})]})})})]}),a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Diferencia de IVA"}),a.jsxs("div",{className:"p-6 bg-slate-900 rounded-2xl text-white relative overflow-hidden",children:[a.jsx(Lp,{className:"absolute top-0 right-0 w-24 h-24 text-white/5 -translate-y-4"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase mb-2",children:"Resultado IVA a Pagar"}),a.jsx("h4",{className:"text-3xl font-black text-orange-500",children:"$68.800"}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800 space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Ventas (21%):"}),a.jsx("span",{className:"font-bold",children:"$254.100"})]}),a.jsxs("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-slate-500",children:"IVA Compras (21%):"}),a.jsx("span",{className:"font-bold",children:"$185.300"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-700",children:"Reportes Rpidos"}),[{label:"Ventas por Marca",icon:Ca},{label:"Ranking de Productos",icon:Kr},{label:"Libro IVA Ventas (AFIP)",icon:Er},{label:"Libro IVA Compras",icon:Er},{label:"CITI IVA Ventas (AFIP)",icon:bu,action:n},{label:"CITI IVA Compras (AFIP)",icon:bu,action:r}].map((s,i)=>a.jsxs("button",{onClick:s.action||(()=>alert(`Generar reporte: ${s.label}`)),className:"w-full flex items-center justify-between p-3 bg-slate-50 rounded-xl hover:bg-slate-100 transition-colors text-sm font-medium",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-600",children:[a.jsx(s.icon,{className:"w-4 h-4"}),s.label]}),s.action?a.jsx(bu,{className:"w-4 h-4 text-slate-400"}):a.jsx(RM,{className:"w-4 h-4 text-slate-300"})]},i))]})]})]})]})},Lj=({initialTab:t="company",plan:e,setPlan:n,isAdmin:r,companyInfo:s,setCompanyInfo:i})=>{const o=D.useRef(null),[l,c]=D.useState(t),[u,d]=D.useState(!1),{exportAllData:f,deleteAllDocumentsInCollection:h}=Nt(),[x,y]=D.useState(!1),[b,v]=D.useState(!1),[N,_]=D.useState(""),[S,C]=D.useState(!1),T="BORRARTODO",[w,E]=D.useState("factura");D.useEffect(()=>{c(t)},[t]);const A=s.printConfigs[w],j=W=>{var se;const X=(se=W.target.files)==null?void 0:se[0];if(X){const be=new FileReader;be.onload=z=>{i(Q=>{var ee;return{...Q,logo:(ee=z.target)==null?void 0:ee.result}})},be.readAsDataURL(X)}},M=W=>{const{name:X,value:se,type:be}=W.target,z=W.target.checked;i(Q=>({...Q,[X]:be==="checkbox"?z:se}))},P=W=>{const{name:X,value:se,type:be}=W.target,z=W.target.checked;i(Q=>({...Q,arca:{...Q.arca,[X]:be==="checkbox"?z:se}}))},O=(W,X)=>{i(se=>({...se,printConfigs:{...se.printConfigs,[w]:{...se.printConfigs[w],[W]:X}}}))},R=(W,X)=>{i(se=>({...se,printConfigs:{...se.printConfigs,[w]:{...se.printConfigs[w],margins:{...se.printConfigs[w].margins,[W]:X}}}}))},q=()=>{d(!0),setTimeout(()=>{d(!1),alert("Sincronizacin con ARCA exitosa. Numeracin actualizada.")},1500)},F=async()=>{y(!0);try{const X=await f(["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"]),se=`ferrogest_backup_${new Date().toISOString().slice(0,19).replace(/[:T-]/g,"_")}.json`,be=new Blob([JSON.stringify(X,null,2)],{type:"application/json"}),z=URL.createObjectURL(be),Q=document.createElement("a");Q.href=z,Q.download=se,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(z),alert("Backup de datos generado con xito.")}catch(W){console.error("Error al generar backup:",W),alert("Error al generar backup. Consulte la consola para ms detalles.")}finally{y(!1)}},$=async()=>{if(N!==T){alert("Contrasea de seguridad incorrecta.");return}v(!0),C(!1);try{const W=["products","clients","suppliers","transactions","priceLists","branches","sales","purchaseOrders","checks"];for(const X of W)await h(X);alert("Todos los datos han sido eliminados del sistema.")}catch(W){console.error("Error al eliminar todos los datos:",W),alert("Error al eliminar todos los datos. Consulte la consola para ms detalles.")}finally{v(!1),_("")}},B=()=>{let W=210,X=297,se=1.2;switch(A.pageSize){case"A5":W=148,X=210,se=1.6;break;case"A6":W=105,X=148,se=2;break;case"80mm":W=80,X=250,se=1.8;break}return A.orientation==="landscape"?{width:X,height:W,scale:se*.8}:{width:W,height:X,scale:se}},{width:V,height:H,scale:J}=B();return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Configuracin del Sistema"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Gestiona mdulos, identidad fiscal, conexin con ARCA e impresin."})]})}),a.jsxs("div",{className:"flex gap-1 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[a.jsxs("button",{onClick:()=>c("company"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="company"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(WF,{className:"w-5 h-5"})," Empresa"]}),a.jsxs("button",{onClick:()=>c("arca"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="arca"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(YF,{className:"w-5 h-5"})," Facturacin ARCA"]}),a.jsxs("button",{onClick:()=>c("printing"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="printing"?"border-purple-500 text-purple-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(qp,{className:"w-5 h-5"})," Impresin"]}),a.jsxs("button",{onClick:()=>c("data"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="data"?"border-green-500 text-green-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(kv,{className:"w-5 h-5"})," Datos & Backup"]}),a.jsxs("button",{onClick:()=>c("system"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold transition-all border-b-2 whitespace-nowrap ${l==="system"?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx(md,{className:"w-5 h-5"})," Mdulos"]})]}),l==="company"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Er,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Datos Fiscales Bsicos"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social"}),a.jsx("input",{name:"name",value:s.name,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT"}),a.jsx("input",{name:"cuit",value:s.cuit,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Condicin IVA"}),a.jsxs("select",{name:"ivaCondition",value:s.ivaCondition,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold bg-white",children:[a.jsx("option",{children:"Responsable Inscripto"}),a.jsx("option",{children:"Monotributista"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin"}),a.jsx("input",{name:"address",value:s.address,onChange:M,className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl outline-none font-bold"})]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm text-center space-y-6",children:[a.jsx("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Logo Empresa"}),a.jsxs("div",{className:"relative w-40 h-40 mx-auto group",children:[s.logo?a.jsx("img",{src:s.logo,className:"w-full h-full rounded-[2rem] object-cover border-4 border-white shadow-xl",alt:"Logo"}):a.jsxs("div",{className:"w-full h-full rounded-[2rem] bg-slate-50 border-4 border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-300",children:[a.jsx(IM,{className:"w-10 h-10 mb-2"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Sin Logo"})]}),a.jsx("button",{onClick:()=>{var W;return(W=o.current)==null?void 0:W.click()},className:"absolute -bottom-2 -right-2 p-3 bg-orange-600 text-white rounded-2xl shadow-lg hover:bg-orange-500 transition-all",children:a.jsx(Gp,{className:"w-5 h-5"})}),a.jsx("input",{ref:o,type:"file",className:"hidden",accept:"image/*",onChange:j})]})]})})]}),l==="arca"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:[a.jsx(mU,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${s.arca.enabled?"bg-green-50 animate-pulse":"bg-red-500"}`}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"WebService ARCA"})]}),a.jsx("h3",{className:"text-2xl font-black mb-6 uppercase tracking-tight",children:"Factura Electrnica"}),a.jsxs("div",{className:"space-y-4 bg-white/5 p-6 rounded-2xl border border-white/10 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Certificado:"}),a.jsx("span",{className:"text-green-400 font-black",children:"VLIDO"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsx("span",{className:"text-slate-400 font-bold",children:"Vencimiento:"}),a.jsx("span",{className:"text-white font-bold",children:new Date(s.arca.crtValidUntil).toLocaleDateString()})]})]})]})]}),a.jsxs("button",{onClick:q,disabled:u,className:"w-full p-6 bg-white border border-slate-200 rounded-[2rem] shadow-sm flex items-center justify-between group hover:border-blue-500 transition-all active:scale-95",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-xl group-hover:bg-blue-600 group-hover:text-white transition-all",children:a.jsx(xf,{className:`w-6 h-6 ${u?"animate-spin":""}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Sincronizar"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"ltimo nmero AFIP"})]})]}),a.jsx(lr,{className:"w-5 h-5 text-slate-300"})]})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Venta"}),a.jsx("input",{type:"number",name:"puntoVenta",value:s.arca.puntoVenta,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-black text-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ingresos Brutos"}),a.jsx("input",{name:"iibb",value:s.arca.iibb,onChange:P,className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl font-bold"})]})]})})})]})}),l==="printing"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 animate-in slide-in-from-top duration-500",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(pU,{className:"w-4 h-4 text-purple-600"})," Comprobante a Configurar"]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["factura","remito","recibo","etiqueta"].map(W=>a.jsx("button",{onClick:()=>E(W),className:`py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 transition-all ${w===W?"bg-purple-50 border-purple-500 text-purple-600":"bg-white border-slate-100 text-slate-400"}`,children:W},W))})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(iU,{className:"w-4 h-4 text-purple-600"})," Formato de Hoja"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tamao de Papel"}),a.jsxs("select",{value:A.pageSize,onChange:W=>O("pageSize",W.target.value),className:"w-full px-5 py-3 border-2 border-slate-100 rounded-xl font-bold bg-white outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:"A4",children:"A4 (Oficina)"}),a.jsx("option",{value:"A5",children:"A5 (Media Hoja)"}),a.jsx("option",{value:"A6",children:"A6 (1/4 A4 - Folleto)"}),a.jsx("option",{value:"80mm",children:"Ticket 80mm (Trmica)"}),a.jsx("option",{value:"58mm",children:"Ticket 58mm (Trmica)"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Orientacin"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>O("orientation","portrait"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="portrait"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Vertical"}),a.jsx("button",{onClick:()=>O("orientation","landscape"),className:`flex-1 py-3 border-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${A.orientation==="landscape"?"bg-slate-900 text-white border-slate-900 shadow-lg":"bg-white text-slate-400 border-slate-100 hover:border-slate-200"}`,children:"Horizontal"})]})]})]})]}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(nU,{className:"w-4 h-4 text-purple-600"})," Mrgenes (mm)"]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:["top","bottom","left","right"].map(W=>a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest capitalize",children:W}),a.jsx("input",{type:"number",value:A.margins[W],onChange:X=>R(W,parseInt(X.target.value)||0),className:"w-full px-4 py-2 border-2 border-slate-50 rounded-lg font-bold text-center outline-none focus:ring-2 focus:ring-purple-500"})]},W))})]})]}),a.jsx("div",{className:"lg:col-span-8 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(vU,{className:"w-6 h-6 text-purple-600"})," Informacin a Mostrar"]}),a.jsxs("div",{className:"space-y-4",children:[[{key:"showLogo",label:"Logo de Empresa"},{key:"showCuit",label:"CUIT y Datos Fiscales"},{key:"showAddress",label:"Domicilio Comercial"},{key:"showLegal",label:"Leyendas Legales / Pie"},{key:"showQr",label:"QR ARCA (Factura E)"},{key:"showPrices",label:"Mostrar Precios / Importes"}].map(W=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:W.label}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:A[W.key],onChange:X=>O(W.key,X.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]},W.key)),a.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Nmero de Copias"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"range",min:"1",max:"5",value:A.copies,onChange:W=>O("copies",parseInt(W.target.value)),className:"flex-1 accent-purple-600"}),a.jsx("span",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-black",children:A.copies})]})]})]})]}),a.jsxs("section",{className:"bg-slate-100 p-10 rounded-[2.5rem] border border-slate-200 flex flex-col items-center justify-center relative group min-h-[500px]",children:[a.jsxs("div",{className:"absolute top-6 left-6 flex items-center gap-2 text-slate-400",children:[a.jsx(fd,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest italic",children:["Simulacin: ",w]})]}),a.jsxs("div",{className:"bg-white shadow-2xl rounded-sm transition-all duration-500 overflow-hidden flex flex-col p-4 border border-slate-100",style:{width:`${V}px`,height:`${H}px`,transform:`scale(${J})`,paddingTop:`${A.margins.top/3}px`,paddingBottom:`${A.margins.bottom/3}px`,paddingLeft:`${A.margins.left/3}px`,paddingRight:`${A.margins.right/3}px`},children:[a.jsxs("div",{className:"border-b border-slate-100 pb-2 mb-2 flex justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[A.showLogo&&a.jsx("div",{className:"w-8 h-8 bg-slate-200 rounded"}),A.showCuit&&a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"})]}),a.jsxs("div",{className:"text-[6px] font-black text-slate-300",children:["N ",w==="factura"?"0005-00001234":"RE-001234"]})]}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsx("div",{className:"w-full h-2 bg-slate-50 rounded"}),a.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[a.jsx("div",{className:"h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"h-1 bg-slate-100 rounded col-span-2"}),A.showPrices&&a.jsx("div",{className:"h-1 bg-slate-100 rounded text-right"})]}),[1,2,3,4,5].map(W=>a.jsxs("div",{className:"flex justify-between py-0.5 border-b border-slate-50 border-dotted",children:[a.jsx("div",{className:"w-20 h-1 bg-slate-50 rounded"}),A.showPrices&&a.jsx("div",{className:"w-4 h-1 bg-slate-50 rounded"})]},W))]}),a.jsxs("div",{className:"pt-2 mt-2 border-t border-slate-100 flex flex-col gap-1 items-end",children:[A.showPrices&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-12 h-1 bg-slate-100 rounded"}),a.jsx("div",{className:"w-16 h-2 bg-purple-100 rounded"})]}),A.showQr&&a.jsx("div",{className:"w-6 h-6 bg-slate-900 self-start mt-1 rounded-sm flex items-center justify-center",children:a.jsx("div",{className:"w-3 h-3 bg-white/10 rounded-full animate-pulse"})})]})]}),a.jsxs("div",{className:"absolute bottom-6 flex flex-col items-center gap-1",children:[a.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[A.pageSize,"  ",A.orientation==="portrait"?"Vertical":"Horizontal"]}),a.jsxs("button",{className:"bg-slate-900 text-white px-6 py-3 rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl opacity-0 group-hover:opacity-100 transition-all flex items-center gap-2",children:[a.jsx(qp,{className:"w-4 h-4"})," Imprimir Prueba"]})]})]})]})})]}),l==="data"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-in slide-in-from-right duration-500",children:[a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(QF,{className:"w-6 h-6 text-green-600"})," Exportar Datos (Backup)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Genera un archivo JSON con todos los datos de tu ferretera para guardarlo de forma segura."}),a.jsxs("div",{className:"bg-green-50 p-6 rounded-[2rem] border border-green-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-green-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-green-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Este backup es un respaldo de datos. Para restaurar, se requerira una importacin manual o un proceso tcnico avanzado."})]})]}),a.jsxs("button",{onClick:F,disabled:x,className:"w-full py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(kv,{className:"w-5 h-5"}),x?"Generando Backup...":"Generar Backup (JSON)"]})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(ZF,{className:"w-6 h-6 text-red-600"})," Borrar Todos los Datos"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Esta accin es **IRREVERSIBLE**. Eliminar todos los productos, clientes, proveedores, ventas, etc. de tu sistema."}),a.jsxs("div",{className:"bg-red-50 p-6 rounded-[2rem] border border-red-100 flex items-start gap-4",children:[a.jsx(Ks,{className:"w-6 h-6 text-red-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-red-900",children:"ADVERTENCIA CRTICA:"}),a.jsx("p",{className:"text-xs text-red-700 mt-1",children:"No hay marcha atrs. Asegrate de tener un backup reciente y de entender las consecuencias."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Confirmar con Contrasea de Seguridad"}),a.jsx("input",{type:"password",value:N,onChange:W=>_(W.target.value),placeholder:"Escribe 'BORRARTODO' para habilitar",className:"w-full px-5 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-red-500 outline-none font-bold text-red-600",disabled:b})]}),a.jsxs("button",{onClick:()=>C(!0),disabled:N!==T||b,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-red-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[b?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Xt,{className:"w-5 h-5"}),b?"Eliminando Datos...":"Borrar Todos los Datos"]})]}),S&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[150] flex items-center justify-center p-4 text-center",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl animate-in zoom-in duration-200",children:[a.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-red-600/10",children:a.jsx(Ks,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"ATENCIN! Eliminacin Irreversible"}),a.jsx("p",{className:"text-slate-500 font-medium mb-8 px-4",children:"Ests a punto de borrar **TODOS** los datos de tu empresa (productos, clientes, ventas, etc.). Esta accin no se puede deshacer. Ests absolutamente seguro?"}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsx("button",{onClick:$,className:"w-full py-4 bg-red-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-red-600/20 hover:bg-red-500 transition-all",children:"S, ENTIENDO Y QUIERO BORRAR TODO"}),a.jsx("button",{onClick:()=>C(!1),className:"w-full py-4 bg-slate-100 text-slate-600 rounded-2xl font-bold hover:bg-slate-200 transition-all",children:"CANCELAR"})]})]})})]}),l==="system"&&a.jsx("div",{className:"space-y-8 animate-in slide-in-from-left duration-500",children:r?a.jsxs("section",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[a.jsx(md,{className:"w-5 h-5 text-orange-500"})," Plan de Suscripcin Actual"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{id:"basic",name:"Basic",price:"$15.000/mes",color:"bg-slate-50 border-slate-200"},{id:"premium",name:"Premium",price:"$25.000/mes",color:"bg-orange-50 border-orange-200"},{id:"enterprise",name:"Enterprise",price:"$45.000/mes",color:"bg-purple-50 border-purple-200"}].map(W=>a.jsxs("button",{onClick:()=>n(W.id),className:`p-6 rounded-2xl border-2 text-left transition-all group ${e===W.id?"ring-4 ring-orange-500/20 border-orange-500 "+W.color:"bg-white border-slate-100 opacity-60 hover:opacity-100"}`,children:[a.jsx("h4",{className:"font-bold text-xl text-slate-800",children:W.name}),a.jsx("p",{className:"text-slate-500 mb-4",children:W.price}),a.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${e===W.id?"bg-orange-600 text-white":"bg-slate-200 text-slate-500"}`,children:e===W.id?"Activo":"Seleccionar"})]},W.id))})]}):a.jsxs("section",{className:"bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center",children:[a.jsx(Mg,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Control Restringido"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Solo administradores gestionan el plan."})]})}),a.jsx("div",{className:"flex justify-end pt-10",children:a.jsxs("button",{onClick:()=>alert("Configuracin guardada en FerroGest"),className:"px-10 py-5 bg-slate-900 text-white rounded-[1.5rem] font-black uppercase tracking-[0.2em] shadow-2xl hover:bg-slate-800 transition-all flex items-center gap-3 active:scale-95",children:[a.jsx(An,{className:"w-5 h-5 text-blue-400"})," Guardar Todo"]})})]})};var Hye={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wye,Kye;function Jye(){return{geminiUrl:Wye,vertexUrl:Kye}}function Yye(t,e,n,r){var s,i;if(!(t!=null&&t.baseUrl)){const o=Jye();return e?(s=o.vertexUrl)!==null&&s!==void 0?s:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class di{}function ge(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const i=e[s];return i!=null?String(i):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function g(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let u=0;u<c.length;u++){const d=c[u];g(d,e.slice(i+1),n[u])}else for(const u of c)g(u,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const l=o.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];g(c[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],s=t[r];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const s=e[r];if(s.endsWith("[]")){const i=s.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(l=>p(l,e.slice(r+1),n)):n}else return n}else t=t[s]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Xye(t,e){for(const[n,r]of Object.entries(e)){const s=n.split("."),i=r.split("."),o=new Set;let l=-1;for(let c=0;c<s.length;c++)if(s[c]==="*"){l=c;break}if(l!==-1&&i.length>l)for(let c=l;c<i.length;c++){const u=i[c];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&o.add(u)}Rw(t,s,i,0,o)}}function Rw(t,e,n,r,s){if(r>=e.length||typeof t!="object"||t===null)return;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2),l=t;if(o in l&&Array.isArray(l[o]))for(const c of l[o])Rw(c,e,n,r+1,s)}else if(i==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const o=t,l=Object.keys(o).filter(u=>!u.startsWith("_")&&!s.has(u)),c={};for(const u of l)c[u]=o[u];for(const[u,d]of Object.entries(c)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(o,f,d)}for(const u of l)delete o[u]}}else{const o=t;i in o&&Rw(o[i],e,n,r+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tS(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qye(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function Zye(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],tve(o)),e}function eve(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],nve(o)),e}function tve(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>rve(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function nve(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>sve(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function rve(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],uve(n)),e}function sve(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],dve(n)),e}function ive(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ave(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function ove(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],lve(o)),e}function lve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function G6(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],cve(o)),e}function cve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function uve(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],tS(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function dve(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],tS(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $j;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($j||($j={}));var Vj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Vj||(Vj={}));var Fj;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Fj||(Fj={}));var st;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(st||(st={}));var Uj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Uj||(Uj={}));var Bj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Bj||(Bj={}));var qj;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qj||(qj={}));var zj;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(zj||(zj={}));var Gj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Gj||(Gj={}));var Hj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Hj||(Hj={}));var Wj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Wj||(Wj={}));var Kj;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Kj||(Kj={}));var Jj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jj||(Jj={}));var Yj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Yj||(Yj={}));var Xj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Xj||(Xj={}));var Qj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Qj||(Qj={}));var Zj;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Zj||(Zj={}));var eP;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(eP||(eP={}));var tP;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tP||(tP={}));var nP;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(nP||(nP={}));var rP;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rP||(rP={}));var fg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(fg||(fg={}));var sP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sP||(sP={}));var iP;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(iP||(iP={}));var aP;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(aP||(aP={}));var Mw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Mw||(Mw={}));var oP;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(oP||(oP={}));var lP;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(lP||(lP={}));var Ow;(function(t){t.COLLECTION="COLLECTION"})(Ow||(Ow={}));var cP;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cP||(cP={}));var uP;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(uP||(uP={}));var dP;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(dP||(dP={}));var fP;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(fP||(fP={}));var hP;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(hP||(hP={}));var pP;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(pP||(pP={}));var mP;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(mP||(mP={}));var gP;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(gP||(gP={}));var xP;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(xP||(xP={}));var yP;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(yP||(yP={}));var vP;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(vP||(vP={}));var bP;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(bP||(bP={}));var wP;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(wP||(wP={}));var _P;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(_P||(_P={}));var NP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(NP||(NP={}));var SP;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(SP||(SP={}));var EP;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(EP||(EP={}));var TP;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(TP||(TP={}));var AP;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(AP||(AP={}));var kP;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(kP||(kP={}));var CP;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(CP||(CP={}));var jP;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(jP||(jP={}));var PP;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(PP||(PP={}));var IP;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(IP||(IP={}));var RP;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(RP||(RP={}));var MP;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(MP||(MP={}));var OP;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(OP||(OP={}));var Zo;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Zo||(Zo={}));class Dw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class hu{get text(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[x,y]of Object.entries(h))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(x);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[h,x]of Object.entries(f))h!=="inlineData"&&(x!==null||x!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,s,i,o,l,c;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,s,i,o,l,c,u;if(((s=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(l=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class DP{}class LP{}class fve{}class hve{}class pve{}class mve{}class $P{}class VP{}class FP{}class gve{}class hg{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new hg;let s;const i=e;return n?s=eve(i):s=Zye(i),Object.assign(r,s),r}}class UP{}class BP{}class qP{}class zP{}class xve{}class yve{}class vve{}class nS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new nS,i=ove(e);return Object.assign(r,i),r}}class bve{}class wve{}class _ve{}class GP{}class Nve{get text(){var e,n,r;let s="",i=!1;const o=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,u]of Object.entries(l))c!=="text"&&c!=="thought"&&u!==null&&o.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;i=!0,s+=l.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?s:void 0}get data(){var e,n,r;let s="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(o))l!=="inlineData"&&c!==null&&i.push(l);o.inlineData&&typeof o.inlineData.data=="string"&&(s+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class Sve{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class rS{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new rS,i=G6(e);return Object.assign(r,i),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Je(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function H6(t,e){const n=Je(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function W6(t){return Array.isArray(t)?t.map(e=>pg(e)):[pg(t)]}function pg(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function K6(t){const e=pg(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J6(t){const e=pg(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function HP(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Y6(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>HP(e)):[HP(t)]}function Lw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function WP(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function KP(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Sn(t){if(t==null)throw new Error("ContentUnion is required");return Lw(t)?t:{role:"user",parts:Y6(t)}}function sS(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Sn(n)):[Sn(e)]}function _r(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(WP(t)||KP(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sn(t)]}const e=[],n=[],r=Lw(t[0]);for(const s of t){const i=Lw(s);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(s);else{if(WP(s)||KP(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return r||e.push({role:"user",parts:Y6(n)}),e}function Eve(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(st).includes(n[0].toUpperCase())?n[0].toUpperCase():st.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(st).includes(r.toUpperCase())?r.toUpperCase():st.TYPE_UNSPECIFIED})}}function xl(t){const e={},n=["items"],r=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&Eve(t.type,e);for(const[o,l]of Object.entries(t))if(l!=null)if(o=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(st).includes(l.toUpperCase())?l.toUpperCase():st.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=xl(l);else if(r.includes(o)){const c=[];for(const u of l){if(u.type=="null"){e.nullable=!0;continue}c.push(xl(u))}e[o]=c}else if(s.includes(o)){const c={};for(const[u,d]of Object.entries(l))c[u]=xl(d);e[o]=c}else{if(o==="additionalProperties")continue;e[o]=l}return e}function iS(t){return xl(t)}function aS(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function oS(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Ic(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xl(e.response));return t}function Rc(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Tve(t,e,n,r=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function fi(t,e){if(typeof e!="string")throw new Error("name must be a string");return Tve(t,e,"cachedContents")}function X6(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ha(t){return tS(t)}function Ave(t){return t!=null&&typeof t=="object"&&"name"in t}function kve(t){return t!=null&&typeof t=="object"&&"video"in t}function Cve(t){return t!=null&&typeof t=="object"&&"uri"in t}function Q6(t){var e;let n;if(Ave(t)&&(n=t.name),!(Cve(t)&&(n=t.uri,n===void 0))&&!(kve(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Z6(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function e$(t){for(const e of["models","tunedModels","publisherModels"])if(jve(t,e))return t[e];return[]}function jve(t,e){return t!==null&&typeof t=="object"&&e in t}function Pve(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Ive(t,e={}){const n=[],r=new Set;for(const s of t){const i=s.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=Pve(s,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function t$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Rve(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function n$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let i=!1;for(const o of s){if(typeof o!="object"||o===null)continue;const c=o.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Mc(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function r$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mve(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>pbe(o))),g(e,["inlinedResponses"],i)}const s=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["inlinedEmbedContentResponses"],i)}return e}function Ove(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigqueryDestination","outputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function Dve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigqueryDestination","outputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function dp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["metadata","state"]);s!=null&&g(e,["state"],r$(s));const i=p(t,["metadata","createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["metadata","endTime"]);o!=null&&g(e,["endTime"],o);const l=p(t,["metadata","updateTime"]);l!=null&&g(e,["updateTime"],l);const c=p(t,["metadata","model"]);c!=null&&g(e,["model"],c);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],Mve(n$(u))),e}function $w(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["state"]);s!=null&&g(e,["state"],r$(s));const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["createTime"]);o!=null&&g(e,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(e,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(e,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],Lve(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],Ove(n$(h)));const x=p(t,["completionStats"]);return x!=null&&g(e,["completionStats"],x),e}function Lve(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const s=p(t,["bigquerySource","inputUri"]);return s!=null&&g(e,["bigqueryUri"],s),e}function $ve(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const s=p(e,["inlinedRequests"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>hbe(t,o))),g(n,["requests","requests"],i)}return n}function Vve(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const s=p(t,["bigqueryUri"]);if(s!=null&&g(e,["bigquerySource","inputUri"],s),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Fve(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Uve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Bve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function qve(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],zve(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function zve(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function s$(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>wbe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Gve(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Hve(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["dest"]);return e!==void 0&&s!=null&&g(e,["outputConfig"],Dve(Rve(s))),n}function JP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],$ve(t,t$(t,s)));const i=p(e,["config"]);return i!=null&&Gve(i,n),n}function Wve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Je(t,r));const s=p(e,["src"]);s!=null&&g(n,["inputConfig"],Vve(t$(t,s)));const i=p(e,["config"]);return i!=null&&Hve(i,n),n}function Kve(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Jve(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["src"]);s!=null&&g(n,["batch","inputConfig"],nbe(t,s));const i=p(e,["config"]);return i!=null&&Kve(i,n),n}function Yve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Xve(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function Qve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function Zve(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);return i!=null&&g(e,["error"],i),e}function ebe(t,e){const n={},r=p(e,["contents"]);if(r!=null){let i=sS(t,r);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["requests[]","request","content"],i)}const s=p(e,["config"]);return s!=null&&(g(n,["_self"],tbe(s,n)),Xye(n,{"requests[].*":"requests[].request.*"})),n}function tbe(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nbe(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const s=p(e,["inlinedRequests"]);return s!=null&&g(n,["requests"],ebe(t,s)),n}function rbe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function sbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ibe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function abe(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],s$(Sn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],iS(N));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(q=>_be(q))),g(n,["safetySettings"],R)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let R=Rc(C);Array.isArray(R)&&(R=R.map(q=>Sbe(Ic(q)))),g(n,["tools"],R)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],Nbe(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=p(e,["cachedContent"]);n!==void 0&&w!=null&&g(n,["cachedContent"],fi(t,w));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],aS(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],fbe(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function obe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>qve(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function lbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function cbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Mc(t,r)),n}function ube(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function dbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function fbe(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let l=_r(s);Array.isArray(l)&&(l=l.map(c=>s$(c))),g(n,["request","contents"],l)}const i=p(e,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(e,["config"]);return o!=null&&g(n,["request","generationConfig"],abe(t,o,p(n,["request"],{}))),n}function pbe(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],obe(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function mbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);if(e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function gbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);e!==void 0&&s!=null&&g(e,["_query","pageToken"],s);const i=p(t,["filter"]);return e!==void 0&&i!=null&&g(e,["_query","filter"],i),n}function xbe(t){const e={},n=p(t,["config"]);return n!=null&&mbe(n,e),e}function ybe(t){const e={},n=p(t,["config"]);return n!=null&&gbe(n,e),e}function vbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["operations"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>dp(o))),g(e,["batchJobs"],i)}return e}function bbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["batchPredictionJobs"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>$w(o))),g(e,["batchJobs"],i)}return e}function wbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],rbe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],sbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Fve(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function _be(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function Nbe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],ibe(r)),e}function Sbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],ube(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],dbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var si;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(si||(si={}));class _o{constructor(e,n,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,s)}init(e,n,r){var s,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(s=o.config)===null||s===void 0?void 0:s.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ebe extends di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(si.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=JP(this.apiClient,e),r=n._url,s=ge("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,u=[];for(const d of c){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const x=f.request;x.systemInstruction=h,f.request=x}u.push(f)}return l.requests=u,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},s=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${s}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${s}`;else if(o)r.dest=`${o}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Wve(this.apiClient,e);return l=ge("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$w(d))}else{const u=JP(this.apiClient,e);return l=ge("{model}:batchGenerateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>dp(d))}}async createEmbeddingsInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jve(this.apiClient,e);return i=ge("{model}:asyncBatchEmbedContent",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>dp(c))}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=cbe(this.apiClient,e);return l=ge("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>$w(d))}else{const u=lbe(this.apiClient,e);return l=ge("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>dp(d))}}async cancel(e){var n,r,s,i;let o="",l={};if(this.apiClient.isVertexAI()){const c=Bve(this.apiClient,e);o=ge("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=Uve(this.apiClient,e);o=ge("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ybe(e);return l=ge("batchPredictionJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=bbe(d),h=new GP;return Object.assign(h,f),h})}else{const u=xbe(e);return l=ge("batches",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=vbe(d),h=new GP;return Object.assign(h,f),h})}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Xve(this.apiClient,e);return l=ge("batchPredictionJobs/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Zve(d))}else{const u=Yve(this.apiClient,e);return l=ge("batches/{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Qve(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tbe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function YP(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Jbe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Abe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let d=_r(o);Array.isArray(d)&&(d=d.map(f=>YP(f))),g(e,["contents"],d)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],YP(Sn(l)));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>Xbe(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],Ybe(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function kbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);e!==void 0&&s!=null&&g(e,["expireTime"],s);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["contents"]);if(e!==void 0&&o!=null){let f=_r(o);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const l=p(t,["systemInstruction"]);e!==void 0&&l!=null&&g(e,["systemInstruction"],Sn(l));const c=p(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>Qbe(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function Cbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],H6(t,r));const s=p(e,["config"]);return s!=null&&Abe(s,n),n}function jbe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],H6(t,r));const s=p(e,["config"]);return s!=null&&kbe(s,n),n}function Pbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fi(t,r)),n}function Ibe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fi(t,r)),n}function Rbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Mbe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function Obe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Dbe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Lbe(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $be(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Vbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fi(t,r)),n}function Fbe(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fi(t,r)),n}function Ube(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Bbe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function qbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function zbe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function Gbe(t){const e={},n=p(t,["config"]);return n!=null&&qbe(n,e),e}function Hbe(t){const e={},n=p(t,["config"]);return n!=null&&zbe(n,e),e}function Wbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Kbe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["cachedContents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["cachedContents"],i)}return e}function Jbe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],Obe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],Dbe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Tbe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Ybe(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],Lbe(r)),e}function Xbe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],Ube(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Bbe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Qbe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>$be(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Zbe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function ewe(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const s=p(t,["expireTime"]);return e!==void 0&&s!=null&&g(e,["expireTime"],s),n}function twe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fi(t,r));const s=p(e,["config"]);return s!=null&&Zbe(s,n),n}function nwe(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fi(t,r));const s=p(e,["config"]);return s!=null&&ewe(s,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rwe extends di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(si.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=jbe(this.apiClient,e);return l=ge("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Cbe(this.apiClient,e);return l=ge("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Fbe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=Vbe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ibe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Mbe(d),h=new qP;return Object.assign(h,f),h})}else{const u=Pbe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Rbe(d),h=new qP;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=nwe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>d)}else{const u=twe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>d)}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Hbe(e);return l=ge("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Kbe(d),h=new zP;return Object.assign(h,f),h})}else{const u=Gbe(e);return l=ge("cachedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Wbe(d),h=new zP;return Object.assign(h,f),h})}}}function mg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ce(t){return this instanceof Ce?(this.v=t,this):new Ce(t)}function Gr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(x){return function(y){return Promise.resolve(y).then(x,f)}}function l(x,y){r[x]&&(s[x]=function(b){return new Promise(function(v,N){i.push([x,b,v,N])>1||c(x,b)})},y&&(s[x]=y(s[x])))}function c(x,y){try{u(r[x](y))}catch(b){h(i[0][3],b)}}function u(x){x.value instanceof Ce?Promise.resolve(x.value.v).then(d,f):h(i[0][2],x)}function d(x){c("next",x)}function f(x){c("throw",x)}function h(x,y){x(y),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Hr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof XP=="function"?XP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function swe(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:i$(n)}function i$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function iwe(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function QP(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const s=[];let i=!0;for(;r<n&&t[r].role==="model";)s.push(t[r]),i&&!i$(t[r])&&(i=!1),r++;i?e.push(...s):e.pop()}return e}class awe{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new owe(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class owe{constructor(e,n,r,s={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=s,this.history=i,this.sendPromise=Promise.resolve(),iwe(i)}async sendMessage(e){var n;await this.sendPromise;const r=Sn(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,l;const c=await s,u=(o=(i=c.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,d=c.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(l=d.slice(f))!==null&&l!==void 0?l:[]);const x=u?[u]:[];this.recordHistory(r,x,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const r=Sn(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const i=await s;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?QP(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Gr(this,arguments,function*(){var s,i,o,l,c,u;const d=[];try{for(var f=!0,h=Hr(e),x;x=yield Ce(h.next()),s=x.done,!s;f=!0){l=x.value,f=!1;const y=l;if(swe(y)){const b=(u=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield Ce(y)}}catch(y){i={error:y}}finally{try{!f&&!s&&(o=h.return)&&(yield Ce(o.call(h)))}finally{if(i)throw i.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let s=[];n.length>0&&n.every(i=>i.role!==void 0)?s=n:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...QP(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class df extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,df.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lwe(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function cwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function uwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Q6(n)),e}function dwe(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function fwe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Q6(n)),e}function hwe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function pwe(t){const e={},n=p(t,["config"]);return n!=null&&hwe(n,e),e}function mwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["files"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gwe extends di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(si.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pwe(e);return i=ge("files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=mwe(c),d=new bve;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=lwe(e);return i=ge("upload/v1beta/files",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=cwe(c),d=new wve;return Object.assign(d,u),d})}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=fwe(e);return i=ge("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=uwe(e);return i=ge("files/{file}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=dwe(c),d=new _ve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xwe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Rwe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function ywe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vwe(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bwe(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wwe(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const N=p(t,["seed"]);N!=null&&g(e,["seed"],N);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const w=p(t,["topK"]);w!=null&&g(e,["topK"],w);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _we(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function Nwe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function Swe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],oS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],xwe(Sn(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let w=Rc(b);Array.isArray(w)&&(w=w.map(E=>Owe(Ic(E)))),g(e,["setup","tools"],w)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],Mwe(v));const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ewe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],wwe(r));const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],oS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],Sn(y));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let E=Rc(b);Array.isArray(E)&&(E=E.map(A=>Dwe(Ic(A)))),g(e,["setup","tools"],E)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],v);const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);e!==void 0&&T!=null&&g(e,["setup","proactivity"],T);const w=p(t,["explicitVadSignal"]);return e!==void 0&&w!=null&&g(e,["setup","explicitVadSignal"],w),n}function Twe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],Swe(s,n)),n}function Awe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],Ewe(s,n)),n}function kwe(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function Cwe(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["weightedPrompts"],r)}return e}function jwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=W6(n);Array.isArray(u)&&(u=u.map(d=>fp(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],fp(J6(r)));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],fp(K6(i)));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Pwe(t){const e={},n=p(t,["media"]);if(n!=null){let u=W6(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],J6(r));const s=p(t,["audioStreamEnd"]);s!=null&&g(e,["audioStreamEnd"],s);const i=p(t,["video"]);i!=null&&g(e,["video"],K6(i));const o=p(t,["text"]);o!=null&&g(e,["text"],o);const l=p(t,["activityStart"]);l!=null&&g(e,["activityStart"],l);const c=p(t,["activityEnd"]);return c!=null&&g(e,["activityEnd"],c),e}function Iwe(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const s=p(t,["toolCall"]);s!=null&&g(e,["toolCall"],s);const i=p(t,["toolCallCancellation"]);i!=null&&g(e,["toolCallCancellation"],i);const o=p(t,["usageMetadata"]);o!=null&&g(e,["usageMetadata"],Lwe(o));const l=p(t,["goAway"]);l!=null&&g(e,["goAway"],l);const c=p(t,["sessionResumptionUpdate"]);c!=null&&g(e,["sessionResumptionUpdate"],c);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],$we(d)),e}function Rwe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],ywe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],vwe(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],fp(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function Mwe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Owe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],_we(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],Nwe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function Dwe(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>bwe(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function Lwe(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const s=p(t,["candidatesTokenCount"]);s!=null&&g(e,["responseTokenCount"],s);const i=p(t,["toolUsePromptTokenCount"]);i!=null&&g(e,["toolUsePromptTokenCount"],i);const o=p(t,["thoughtsTokenCount"]);o!=null&&g(e,["thoughtsTokenCount"],o);const l=p(t,["totalTokenCount"]);l!=null&&g(e,["totalTokenCount"],l);const c=p(t,["promptTokensDetails"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["promptTokensDetails"],x)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["cacheTokensDetails"],x)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["responseTokensDetails"],x)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(y=>y)),g(e,["toolUsePromptTokensDetails"],x)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function $we(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vwe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Fwe(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Uwe(r));const s=p(t,["tokenCount"]);s!=null&&g(e,["tokenCount"],s);const i=p(t,["finishReason"]);i!=null&&g(e,["finishReason"],i);const o=p(t,["avgLogprobs"]);o!=null&&g(e,["avgLogprobs"],o);const l=p(t,["groundingMetadata"]);l!=null&&g(e,["groundingMetadata"],l);const c=p(t,["index"]);c!=null&&g(e,["index"],c);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(x=>x)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function Uwe(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>s)),g(e,["citations"],r)}return e}function Bwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let i=_r(s);Array.isArray(i)&&(i=i.map(o=>o)),g(n,["contents"],i)}return n}function qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["tokensInfo"],s)}return e}function zwe(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],Gwe(r)),e}function Gwe(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function J0(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>e_e(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function Hwe(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function Wwe(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Kwe(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],Sn(r));const s=p(t,["tools"]);if(e!==void 0&&s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>c$(l))),g(e,["tools"],o)}const i=p(t,["generationConfig"]);return e!==void 0&&i!=null&&g(e,["generationConfig"],V1e(i)),n}function Jwe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let o=_r(s);Array.isArray(o)&&(o=o.map(l=>J0(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Wwe(i),n}function Ywe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let o=_r(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&Kwe(i,n),n}function Xwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const s=p(t,["cachedContentTokenCount"]);return s!=null&&g(e,["cachedContentTokenCount"],s),e}function Qwe(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function Zwe(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function e1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function t1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function n1e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function r1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const N=p(t,["labels"]);e!==void 0&&N!=null&&g(e,["labels"],N);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const S=p(t,["baseSteps"]);return e!==void 0&&S!=null&&g(e,["parameters","editConfig","baseSteps"],S),n}function s1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["referenceImages"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>a_e(c))),g(n,["instances[0]","referenceImages"],l)}const o=p(e,["config"]);return o!=null&&r1e(o,n),n}function i1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Y0(i))),g(e,["generatedImages"],s)}return e}function a1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["requests[]","title"],s);const i=p(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&g(e,["requests[]","outputDimensionality"],i),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function o1e(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const s=p(t,["title"]);e!==void 0&&s!=null&&g(e,["instances[]","title"],s);const i=p(t,["outputDimensionality"]);e!==void 0&&i!=null&&g(e,["parameters","outputDimensionality"],i);const o=p(t,["mimeType"]);e!==void 0&&o!=null&&g(e,["instances[]","mimeType"],o);const l=p(t,["autoTruncate"]);return e!==void 0&&l!=null&&g(e,["parameters","autoTruncate"],l),n}function l1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let l=sS(t,s);Array.isArray(l)&&(l=l.map(c=>c)),g(n,["requests[]","content"],l)}const i=p(e,["config"]);i!=null&&a1e(i,n);const o=p(e,["model"]);return o!==void 0&&g(n,["requests[]","model"],Je(t,o)),n}function c1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let o=sS(t,s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["instances[]","content"],o)}const i=p(e,["config"]);return i!=null&&o1e(i,n),n}function u1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function d1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>zwe(o))),g(e,["embeddings"],i)}const s=p(t,["metadata"]);return s!=null&&g(e,["metadata"],s),e}function f1e(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function h1e(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function p1e(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function m1e(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function g1e(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const s=p(t,["parameters"]);s!=null&&g(e,["parameters"],s);const i=p(t,["parametersJsonSchema"]);i!=null&&g(e,["parametersJsonSchema"],i);const o=p(t,["response"]);o!=null&&g(e,["response"],o);const l=p(t,["responseJsonSchema"]);if(l!=null&&g(e,["responseJsonSchema"],l),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function x1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],J0(Sn(s)));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],iS(N));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let R=S;Array.isArray(R)&&(R=R.map(q=>o_e(q))),g(n,["safetySettings"],R)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let R=Rc(C);Array.isArray(R)&&(R=R.map(q=>p_e(Ic(q)))),g(n,["tools"],R)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],h_e(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=p(e,["cachedContent"]);n!==void 0&&w!=null&&g(n,["cachedContent"],fi(t,w));const E=p(e,["responseModalities"]);E!=null&&g(r,["responseModalities"],E);const A=p(e,["mediaResolution"]);A!=null&&g(r,["mediaResolution"],A);const j=p(e,["speechConfig"]);if(j!=null&&g(r,["speechConfig"],aS(j)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const P=p(e,["imageConfig"]);P!=null&&g(r,["imageConfig"],z1e(P));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function y1e(t,e,n){const r={},s=p(e,["systemInstruction"]);n!==void 0&&s!=null&&g(n,["systemInstruction"],Sn(s));const i=p(e,["temperature"]);i!=null&&g(r,["temperature"],i);const o=p(e,["topP"]);o!=null&&g(r,["topP"],o);const l=p(e,["topK"]);l!=null&&g(r,["topK"],l);const c=p(e,["candidateCount"]);c!=null&&g(r,["candidateCount"],c);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const x=p(e,["presencePenalty"]);x!=null&&g(r,["presencePenalty"],x);const y=p(e,["frequencyPenalty"]);y!=null&&g(r,["frequencyPenalty"],y);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const v=p(e,["responseMimeType"]);v!=null&&g(r,["responseMimeType"],v);const N=p(e,["responseSchema"]);N!=null&&g(r,["responseSchema"],iS(N));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const S=p(e,["routingConfig"]);S!=null&&g(r,["routingConfig"],S);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const T=p(e,["safetySettings"]);if(n!==void 0&&T!=null){let B=T;Array.isArray(B)&&(B=B.map(V=>V)),g(n,["safetySettings"],B)}const w=p(e,["tools"]);if(n!==void 0&&w!=null){let B=Rc(w);Array.isArray(B)&&(B=B.map(V=>c$(Ic(V)))),g(n,["tools"],B)}const E=p(e,["toolConfig"]);n!==void 0&&E!=null&&g(n,["toolConfig"],E);const A=p(e,["labels"]);n!==void 0&&A!=null&&g(n,["labels"],A);const j=p(e,["cachedContent"]);n!==void 0&&j!=null&&g(n,["cachedContent"],fi(t,j));const M=p(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const P=p(e,["mediaResolution"]);P!=null&&g(r,["mediaResolution"],P);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],aS(O));const R=p(e,["audioTimestamp"]);R!=null&&g(r,["audioTimestamp"],R);const q=p(e,["thinkingConfig"]);q!=null&&g(r,["thinkingConfig"],q);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],G1e(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=p(e,["modelArmorConfig"]);return n!==void 0&&$!=null&&g(n,["modelArmorConfig"],$),r}function ZP(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let o=_r(s);Array.isArray(o)&&(o=o.map(l=>J0(l))),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],x1e(t,i,n)),n}function eI(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["contents"]);if(s!=null){let o=_r(s);Array.isArray(o)&&(o=o.map(l=>l)),g(n,["contents"],o)}const i=p(e,["config"]);return i!=null&&g(n,["generationConfig"],y1e(t,i,n)),n}function tI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>Fwe(u))),g(e,["candidates"],c)}const s=p(t,["modelVersion"]);s!=null&&g(e,["modelVersion"],s);const i=p(t,["promptFeedback"]);i!=null&&g(e,["promptFeedback"],i);const o=p(t,["responseId"]);o!=null&&g(e,["responseId"],o);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function nI(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const l=p(t,["responseId"]);l!=null&&g(e,["responseId"],l);const c=p(t,["usageMetadata"]);return c!=null&&g(e,["usageMetadata"],c),e}function v1e(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const i=p(t,["guidanceScale"]);if(e!==void 0&&i!=null&&g(e,["parameters","guidanceScale"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&g(e,["parameters","safetySetting"],o);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const c=p(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&g(e,["parameters","includeSafetyAttributes"],c);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=p(t,["imageSize"]);if(e!==void 0&&x!=null&&g(e,["parameters","sampleImageSize"],x),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function b1e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["negativePrompt"]);e!==void 0&&s!=null&&g(e,["parameters","negativePrompt"],s);const i=p(t,["numberOfImages"]);e!==void 0&&i!=null&&g(e,["parameters","sampleCount"],i);const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const l=p(t,["guidanceScale"]);e!==void 0&&l!=null&&g(e,["parameters","guidanceScale"],l);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["parameters","seed"],c);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const x=p(t,["language"]);e!==void 0&&x!=null&&g(e,["parameters","language"],x);const y=p(t,["outputMimeType"]);e!==void 0&&y!=null&&g(e,["parameters","outputOptions","mimeType"],y);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const v=p(t,["addWatermark"]);e!==void 0&&v!=null&&g(e,["parameters","addWatermark"],v);const N=p(t,["labels"]);e!==void 0&&N!=null&&g(e,["labels"],N);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const S=p(t,["enhancePrompt"]);return e!==void 0&&S!=null&&g(e,["parameters","enhancePrompt"],S),n}function w1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&v1e(i,n),n}function _1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["config"]);return i!=null&&b1e(i,n),n}function N1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>O1e(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],o$(s)),e}function S1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Y0(o))),g(e,["generatedImages"],i)}const s=p(t,["positivePromptSafetyAttributes"]);return s!=null&&g(e,["positivePromptSafetyAttributes"],l$(s)),e}function E1e(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=p(t,["durationSeconds"]);if(e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["resolution"]);e!==void 0&&o!=null&&g(e,["parameters","resolution"],o);const l=p(t,["personGeneration"]);if(e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=p(t,["negativePrompt"]);e!==void 0&&c!=null&&g(e,["parameters","negativePrompt"],c);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],X0(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(x=>A_e(x))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function T1e(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["outputGcsUri"]);e!==void 0&&s!=null&&g(e,["parameters","storageUri"],s);const i=p(t,["fps"]);e!==void 0&&i!=null&&g(e,["parameters","fps"],i);const o=p(t,["durationSeconds"]);e!==void 0&&o!=null&&g(e,["parameters","durationSeconds"],o);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const c=p(t,["aspectRatio"]);e!==void 0&&c!=null&&g(e,["parameters","aspectRatio"],c);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const x=p(t,["enhancePrompt"]);e!==void 0&&x!=null&&g(e,["parameters","enhancePrompt"],x);const y=p(t,["generateAudio"]);e!==void 0&&y!=null&&g(e,["parameters","generateAudio"],y);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Zr(b));const v=p(t,["referenceImages"]);if(e!==void 0&&v!=null){let S=v;Array.isArray(S)&&(S=S.map(C=>k_e(C))),g(e,["instances[0]","referenceImages"],S)}const N=p(t,["mask"]);e!==void 0&&N!=null&&g(e,["instances[0]","mask"],T_e(N));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function A1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response","generateVideoResponse"]);return o!=null&&g(e,["response"],P1e(o)),e}function k1e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],I1e(o)),e}function C1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],X0(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],u$(o));const l=p(e,["source"]);l!=null&&R1e(l,n);const c=p(e,["config"]);return c!=null&&E1e(c,n),n}function j1e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["prompt"]);s!=null&&g(n,["instances[0]","prompt"],s);const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Zr(i));const o=p(e,["video"]);o!=null&&g(n,["instances[0]","video"],d$(o));const l=p(e,["source"]);l!=null&&M1e(l,n);const c=p(e,["config"]);return c!=null&&T1e(c,n),n}function P1e(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>L1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function I1e(t){const e={},n=p(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$1e(o))),g(e,["generatedVideos"],i)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const s=p(t,["raiMediaFilteredReasons"]);return s!=null&&g(e,["raiMediaFilteredReasons"],s),e}function R1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],X0(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],u$(i)),n}function M1e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],Zr(s));const i=p(t,["video"]);return e!==void 0&&i!=null&&g(e,["instances[0]","video"],d$(i)),n}function O1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],H1e(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);return s!=null&&g(e,["safetyAttributes"],o$(s)),e}function Y0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],a$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const s=p(t,["_self"]);s!=null&&g(e,["safetyAttributes"],l$(s));const i=p(t,["prompt"]);return i!=null&&g(e,["enhancedPrompt"],i),e}function D1e(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],a$(n));const r=p(t,["labels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(e,["labels"],s)}return e}function L1e(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],S_e(n)),e}function $1e(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],E_e(n)),e}function V1e(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const s=p(t,["audioTimestamp"]);s!=null&&g(e,["audioTimestamp"],s);const i=p(t,["candidateCount"]);i!=null&&g(e,["candidateCount"],i);const o=p(t,["enableAffectiveDialog"]);o!=null&&g(e,["enableAffectiveDialog"],o);const l=p(t,["frequencyPenalty"]);l!=null&&g(e,["frequencyPenalty"],l);const c=p(t,["logprobs"]);c!=null&&g(e,["logprobs"],c);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const x=p(t,["responseMimeType"]);x!=null&&g(e,["responseMimeType"],x);const y=p(t,["responseModalities"]);y!=null&&g(e,["responseModalities"],y);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const v=p(t,["routingConfig"]);v!=null&&g(e,["routingConfig"],v);const N=p(t,["seed"]);N!=null&&g(e,["seed"],N);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const S=p(t,["stopSequences"]);S!=null&&g(e,["stopSequences"],S);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const w=p(t,["topK"]);w!=null&&g(e,["topK"],w);const E=p(t,["topP"]);if(E!=null&&g(e,["topP"],E),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function F1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function U1e(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Je(t,r)),n}function B1e(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function q1e(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function z1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function G1e(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const s=p(t,["personGeneration"]);s!=null&&g(e,["personGeneration"],s);const i=p(t,["outputMimeType"]);i!=null&&g(e,["imageOutputOptions","mimeType"],i);const o=p(t,["outputCompressionQuality"]);return o!=null&&g(e,["imageOutputOptions","compressionQuality"],o),e}function H1e(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ha(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function a$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ha(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function X0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ha(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Zr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ha(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function W1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Z6(t,l)),r}function K1e(t,e,n){const r={},s=p(e,["pageSize"]);n!==void 0&&s!=null&&g(n,["_query","pageSize"],s);const i=p(e,["pageToken"]);n!==void 0&&i!=null&&g(n,["_query","pageToken"],i);const o=p(e,["filter"]);n!==void 0&&o!=null&&g(n,["_query","filter"],o);const l=p(e,["queryBase"]);return n!==void 0&&l!=null&&g(n,["_url","models_url"],Z6(t,l)),r}function J1e(t,e){const n={},r=p(e,["config"]);return r!=null&&W1e(t,r,n),n}function Y1e(t,e){const n={},r=p(e,["config"]);return r!=null&&K1e(t,r,n),n}function X1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=e$(s);Array.isArray(i)&&(i=i.map(o=>Vw(o))),g(e,["models"],i)}return e}function Q1e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["_self"]);if(s!=null){let i=e$(s);Array.isArray(i)&&(i=i.map(o=>Fw(o))),g(e,["models"],i)}return e}function Z1e(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const s=p(t,["maskDilation"]);return s!=null&&g(e,["dilation"],s),e}function Vw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["version"]);i!=null&&g(e,["version"],i);const o=p(t,["_self"]);o!=null&&g(e,["tunedModelInfo"],m_e(o));const l=p(t,["inputTokenLimit"]);l!=null&&g(e,["inputTokenLimit"],l);const c=p(t,["outputTokenLimit"]);c!=null&&g(e,["outputTokenLimit"],c);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const x=p(t,["topK"]);x!=null&&g(e,["topK"],x);const y=p(t,["thinking"]);return y!=null&&g(e,["thinking"],y),e}function Fw(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);s!=null&&g(e,["description"],s);const i=p(t,["versionId"]);i!=null&&g(e,["version"],i);const o=p(t,["deployedModels"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>f1e(h))),g(e,["endpoints"],f)}const l=p(t,["labels"]);l!=null&&g(e,["labels"],l);const c=p(t,["_self"]);c!=null&&g(e,["tunedModelInfo"],g_e(c));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function e_e(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],h1e(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],p1e(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],Vwe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function t_e(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Zr(n)),e}function n_e(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const s=p(t,["baseSteps"]);e!==void 0&&s!=null&&g(e,["parameters","baseSteps"],s);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["seed"]);e!==void 0&&o!=null&&g(e,["parameters","seed"],o);const l=p(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&g(e,["parameters","safetySetting"],l);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const x=p(t,["labels"]);return e!==void 0&&x!=null&&g(e,["labels"],x),n}function r_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["source"]);s!=null&&i_e(s,n);const i=p(e,["config"]);return i!=null&&n_e(i,n),n}function s_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>Y0(s))),g(e,["generatedImages"],r)}return e}function i_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["personImage"]);e!==void 0&&s!=null&&g(e,["instances[0]","personImage","image"],Zr(s));const i=p(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>t_e(l))),g(e,["instances[0]","productImages"],o)}return n}function a_e(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Zr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const s=p(t,["referenceType"]);s!=null&&g(e,["referenceType"],s);const i=p(t,["maskImageConfig"]);i!=null&&g(e,["maskImageConfig"],Z1e(i));const o=p(t,["controlImageConfig"]);o!=null&&g(e,["controlImageConfig"],Hwe(o));const l=p(t,["styleImageConfig"]);l!=null&&g(e,["styleImageConfig"],l);const c=p(t,["subjectImageConfig"]);return c!=null&&g(e,["subjectImageConfig"],c),e}function o$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function l$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const s=p(t,["contentType"]);return s!=null&&g(e,["contentType"],s),e}function o_e(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function l_e(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Zr(n)),e}function c_e(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const s=p(t,["maxPredictions"]);e!==void 0&&s!=null&&g(e,["parameters","maxPredictions"],s);const i=p(t,["confidenceThreshold"]);e!==void 0&&i!=null&&g(e,["parameters","confidenceThreshold"],i);const o=p(t,["maskDilation"]);e!==void 0&&o!=null&&g(e,["parameters","maskDilation"],o);const l=p(t,["binaryColorThreshold"]);e!==void 0&&l!=null&&g(e,["parameters","binaryColorThreshold"],l);const c=p(t,["labels"]);return e!==void 0&&c!=null&&g(e,["labels"],c),n}function u_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["source"]);s!=null&&f_e(s,n);const i=p(e,["config"]);return i!=null&&c_e(i,n),n}function d_e(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>D1e(s))),g(e,["generatedMasks"],r)}return e}function f_e(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const s=p(t,["image"]);e!==void 0&&s!=null&&g(e,["instances[0]","image"],Zr(s));const i=p(t,["scribbleImage"]);return e!==void 0&&i!=null&&g(e,["instances[0]","scribble"],l_e(i)),n}function h_e(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],m1e(r)),e}function p_e(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],B1e(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],q1e(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function c$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=p(t,["codeExecution"]);s!=null&&g(e,["codeExecution"],s);const i=p(t,["enterpriseWebSearch"]);i!=null&&g(e,["enterpriseWebSearch"],i);const o=p(t,["functionDeclarations"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(h=>g1e(h))),g(e,["functionDeclarations"],f)}const l=p(t,["googleMaps"]);l!=null&&g(e,["googleMaps"],l);const c=p(t,["googleSearch"]);c!=null&&g(e,["googleSearch"],c);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function m_e(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function g_e(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const s=p(t,["updateTime"]);return s!=null&&g(e,["updateTime"],s),e}function x_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function y_e(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);const i=p(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&g(e,["defaultCheckpointId"],i),n}function v_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Je(t,r));const s=p(e,["config"]);return s!=null&&x_e(s,n),n}function b_e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["config"]);return s!=null&&y_e(s,n),n}function w_e(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const i=p(t,["personGeneration"]);e!==void 0&&i!=null&&g(e,["parameters","personGeneration"],i);const o=p(t,["includeRaiReason"]);e!==void 0&&o!=null&&g(e,["parameters","includeRaiReason"],o);const l=p(t,["outputMimeType"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","mimeType"],l);const c=p(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","compressionQuality"],c);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const x=p(t,["mode"]);return e!==void 0&&x!=null&&g(e,["parameters","mode"],x),n}function __e(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Je(t,r));const s=p(e,["image"]);s!=null&&g(n,["instances[0]","image"],Zr(s));const i=p(e,["upscaleFactor"]);i!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=p(e,["config"]);return o!=null&&w_e(o,n),n}function N_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Y0(i))),g(e,["generatedImages"],s)}return e}function S_e(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ha(r));const s=p(t,["encoding"]);return s!=null&&g(e,["mimeType"],s),e}function E_e(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ha(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}function T_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Zr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function A_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],X0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function k_e(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Zr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function u$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ha(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["encoding"],s),e}function d$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ha(r));const s=p(t,["mimeType"]);return s!=null&&g(e,["mimeType"],s),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_e(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function j_e(t){const e={},n=p(t,["config"]);return n!=null&&C_e(n,e),e}function P_e(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function I_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&P_e(r,e),e}function R_e(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function M_e(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["customMetadata"],i)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function O_e(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const s=p(t,["done"]);s!=null&&g(e,["done"],s);const i=p(t,["error"]);i!=null&&g(e,["error"],i);const o=p(t,["response"]);return o!=null&&g(e,["response"],L_e(o)),e}function D_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const s=p(t,["config"]);return s!=null&&M_e(s,e),e}function L_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const s=p(t,["documentName"]);return s!=null&&g(e,["documentName"],s),e}function $_e(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function V_e(t){const e={},n=p(t,["config"]);return n!=null&&$_e(n,e),e}function F_e(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["fileSearchStores"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["fileSearchStores"],i)}return e}function f$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const s=p(t,["displayName"]);e!==void 0&&s!=null&&g(e,["displayName"],s);const i=p(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>c)),g(e,["customMetadata"],l)}const o=p(t,["chunkingConfig"]);return e!==void 0&&o!=null&&g(e,["chunkingConfig"],o),n}function U_e(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&f$(r,e),e}function B_e(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const q_e="Content-Type",z_e="X-Server-Timeout",G_e="User-Agent",Uw="x-goog-api-client",H_e="1.38.0",W_e=`google-genai-sdk/${H_e}`,K_e="v1beta1",J_e="v1beta";class Y_e{constructor(e){var n,r,s;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const i={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(i.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?i.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(i.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:K_e}else{if(!this.clientOptions.apiKey)throw new df({message:"API key must be set when using the Gemini API.",status:403});i.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:J_e,i.baseUrl="https://generativelanguage.googleapis.com/"}i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const s=[this.getRequestUrlInternal(n)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ow.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,l]of Object.entries(e.queryParams))s.searchParams.append(o,String(l));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.unaryApiCall(s,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[s,i]of Object.entries(n))typeof i=="object"?r[s]=Object.assign(Object.assign({},r[s]),i):i!==void 0&&(r[s]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),s=this.constructUrl(e.path,n,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,s.toString(),e.abortSignal),this.streamApiCall(s,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,s){if(n&&n.timeout||s){const i=new AbortController,o=i.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>i.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}s&&s.addEventListener("abort",()=>{i.abort()}),e.signal=o}return n&&n.extraBody!==null&&X_e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await rI(s),new Dw(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async s=>(await rI(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return Gr(this,arguments,function*(){var r;const s=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),i=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let o="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Ce(s.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=i.decode(d,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const b=JSON.parse(JSON.stringify(y.error)),v=b.status,N=b.code,_=`got status: ${v}. ${JSON.stringify(y)}`;if(N>=400&&N<600)throw new df({message:_,status:N})}}catch(y){if(y.name==="ApiError")throw y}o+=f;let h=-1,x=0;for(;;){h=-1,x=0;for(const v of c){const N=o.indexOf(v);N!==-1&&(h===-1||N<h)&&(h=N,x=v.length)}if(h===-1)break;const y=o.substring(0,h);o=o.substring(h+x);const b=y.trim();if(b.startsWith(l)){const v=b.substring(l.length).trim();try{const N=new Response(v,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ce(new Dw(N))}catch(N){throw new Error(`exception parsing stream chunk ${v}. ${N}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=W_e+" "+this.clientOptions.userAgentExtra;return e[G_e]=n,e[Uw]=n,e[q_e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[s,i]of Object.entries(e.headers))r.append(s,i);e.timeout&&e.timeout>0&&r.append(z_e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);s.sizeBytes=String(o.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=l;const c={file:s},u=this.getFileName(e),d=ge("upload/v1beta/files",c._url),f=await this.fetchUploadUrl(d,s.sizeBytes,s.mimeType,u,c,n==null?void 0:n.httpOptions);return i.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var s;const i=this.clientOptions.uploader,o=await i.stat(n),l=String(o.size),c=(s=r==null?void 0:r.mimeType)!==null&&s!==void 0?s:o.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&f$(r,f);const h=await this.fetchUploadUrl(u,l,c,d,f,r==null?void 0:r.httpOptions);return i.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,s,i,o){var l;let c={};o?c=o:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},s?{"X-Goog-Upload-File-Name":s}:{})};const u=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:c});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(l=u==null?void 0:u.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function rI(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(r);throw n>=400&&n<600?new df({message:s,status:n}):new Error(s)}}function X_e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const l=Object.assign({},i);for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const u=o[c],d=l[c];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?l[c]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),l[c]=u)}return l}const s=r(n,e);t.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q_e="mcp_used/unknown";let Z_e=!1;function h$(t){for(const e of t)if(eNe(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Z_e}function p$(t){var e;const n=(e=t[Uw])!==null&&e!==void 0?e:"";t[Uw]=(n+` ${Q_e}`).trimStart()}function eNe(t){return t!==null&&typeof t=="object"&&t instanceof lS}function tNe(t){return Gr(this,arguments,function*(n,r=100){let s,i=0;for(;i<r;){const o=yield Ce(n.listTools({cursor:s}));for(const l of o.tools)yield yield Ce(l),i++;if(!o.nextCursor)break;s=o.nextCursor}})}class lS{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new lS(e,n)}async initialize(){var e,n,r,s;if(this.mcpTools.length>0)return;const i={},o=[];for(const d of this.mcpClients)try{for(var l=!0,c=(n=void 0,Hr(tNe(d))),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const f=s;o.push(f);const h=f.name;if(i[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);i[h]=d}}catch(f){n={error:f}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),Ive(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await s.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nNe(t,e,n){const r=new Sve;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(r,s),e(r)}class rNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=aNe(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${s}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${l}`;let u=()=>{};const d=new Promise(S=>{u=S}),f=e.callbacks,h=function(){u({})},x=this.apiClient,y={onopen:h,onmessage:S=>{nNe(x,f.onmessage,S)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(S){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(S){}},b=this.webSocketFactory.create(c,iNe(o),y);b.connect(),await d;const _={setup:{model:Je(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new sNe(b,this.apiClient)}}class sNe{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Cwe(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kwe(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zo.PLAY)}pause(){this.sendPlaybackControl(Zo.PAUSE)}stop(){this.sendPlaybackControl(Zo.STOP)}resetContext(){this.sendPlaybackControl(Zo.RESET_CONTEXT)}close(){this.conn.close()}}function iNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oNe="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function lNe(t,e,n){const r=new Nve;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const i=JSON.parse(s);if(t.isVertexAI()){const o=Iwe(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class cNe{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new rNe(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,s,i,o,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&h$(e.config.tools)&&p$(f);const h=hNe(f);if(this.apiClient.isVertexAI()){const j=this.apiClient.getProject(),M=this.apiClient.getLocation(),P=this.apiClient.getApiKey(),O=!!j&&!!M||!!P;this.apiClient.getCustomBaseUrl()&&!O?d=c:(d=`${c}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const j=this.apiClient.getApiKey();let M="BidiGenerateContent",P="key";j!=null&&j.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${P}=${j}`}let x=()=>{};const y=new Promise(j=>{x=j}),b=e.callbacks,v=function(){var j;(j=b==null?void 0:b.onopen)===null||j===void 0||j.call(b),x({})},N=this.apiClient,_={onopen:v,onmessage:j=>{lNe(N,b.onmessage,j)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(j){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(j){}},S=this.webSocketFactory.create(d,fNe(h),_);S.connect(),await y;let C=Je(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const j=this.apiClient.getProject(),M=this.apiClient.getLocation();j&&M&&(C=`projects/${j}/locations/${M}/`+C)}let T={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[fg.AUDIO]}:e.config.responseModalities=[fg.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[],E=[];for(const j of w)if(this.isCallableTool(j)){const M=j;E.push(await M.tool())}else E.push(j);E.length>0&&(e.config.tools=E);const A={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=Awe(this.apiClient,A):T=Twe(this.apiClient,A),delete T.config,S.send(JSON.stringify(T)),new dNe(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const uNe={turnComplete:!0};class dNe{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_r(n.turns),e.isVertexAI()||(r=r.map(s=>J0(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(oNe)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},uNe),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Pwe(e)}:n={realtimeInput:jwe(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function fNe(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function hNe(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sI=10;function iI(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(yl(o)){s=!0;break}if(!s)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function yl(t){return"callTool"in t&&typeof t.callTool=="function"}function pNe(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>yl(s)))!==null&&r!==void 0?r:!1}function aI(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,s)=>{if(yl(r))return;const i=r;i.functionDeclarations&&i.functionDeclarations.length>0&&n.push(s)}),n}function oI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mNe extends di{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,s,i,o,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!pNe(n)||iI(n.config))return await this.generateContentInternal(c);const u=aI(n);if(u.length>0){const b=u.map(v=>`tools[${v}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,f;const h=_r(c.contents),x=(i=(s=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&i!==void 0?i:sI;let y=0;for(;y<x&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,v=[];for(const N of(l=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(yl(N)){const S=await N.callTool(d.functionCalls);v.push(...S)}y++,f={role:"user",parts:v},c.contents=_r(c.contents),c.contents.push(b),c.contents.push(f),oI(c.config)&&(h.push(b),h.push(f))}return oI(c.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,s,i,o,l;if(this.maybeMoveToResponseJsonSchem(n),iI(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const c=aI(n);if(c.length>0){const f=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(i=(s=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,d=(l=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var s;let i;const o=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((s=c==null?void 0:c.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?i=c==null?void 0:c.safetyAttributes:o.push(c);let l;return i?l={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new _o(si.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var r,s,i,o,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(i=n.source)===null||i===void 0?void 0:i.video)===null||o===void 0)&&o.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,s;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async c=>yl(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(l.config.tools=o,e.config&&e.config.tools&&h$(e.config.tools)){const c=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let u=Object.assign({},c);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),p$(u),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return l}async initAfcToolsMap(e){var n,r,s;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(yl(o)){const l=o,c=await l.tool();for(const u of(s=c.functionDeclarations)!==null&&s!==void 0?s:[]){if(!u.name)throw new Error("Function declaration name is required.");if(i.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);i.set(u.name,l)}}return i}async processAfcStream(e){var n,r,s;const i=(s=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:sI;let o=!1,l=0;const c=await this.initAfcToolsMap(e);return function(u,d,f){return Gr(this,arguments,function*(){for(var h,x,y,b,v,N;l<i;){o&&(l++,o=!1);const T=yield Ce(u.processParamsMaybeAddMcpUsage(f)),w=yield Ce(u.generateContentStreamInternal(T)),E=[],A=[];try{for(var _=!0,S=(x=void 0,Hr(w)),C;C=yield Ce(S.next()),h=C.done,!h;_=!0){b=C.value,_=!1;const j=b;if(yield yield Ce(j),j.candidates&&(!((v=j.candidates[0])===null||v===void 0)&&v.content)){A.push(j.candidates[0].content);for(const M of(N=j.candidates[0].content.parts)!==null&&N!==void 0?N:[])if(l<i&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const P=yield Ce(d.get(M.functionCall.name).callTool([M.functionCall]));E.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(j){x={error:j}}finally{try{!_&&!h&&(y=S.return)&&(yield Ce(y.call(S)))}finally{if(x)throw x.error}}if(E.length>0){o=!0;const j=new hu;j.candidates=[{content:{role:"user",parts:E}}],yield yield Ce(j);const M=[];M.push(...A),M.push({role:"user",parts:E});const P=_r(f.contents).concat(M);f.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=eI(this.apiClient,e);return l=ge("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=nI(d),h=new hu;return Object.assign(h,f),h})}else{const u=ZP(this.apiClient,e);return l=ge("{model}:generateContent",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=tI(d),h=new hu;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=eI(this.apiClient,e);return l=ge("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(f){return Gr(this,arguments,function*(){var h,x,y,b;try{for(var v=!0,N=Hr(f),_;_=yield Ce(N.next()),h=_.done,!h;v=!0){b=_.value,v=!1;const S=b,C=nI(yield Ce(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new hu;Object.assign(T,C),yield yield Ce(T)}}catch(S){x={error:S}}finally{try{!v&&!h&&(y=N.return)&&(yield Ce(y.call(N)))}finally{if(x)throw x.error}}})})}else{const u=ZP(this.apiClient,e);return l=ge("{model}:streamGenerateContent?alt=sse",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(f){return Gr(this,arguments,function*(){var h,x,y,b;try{for(var v=!0,N=Hr(f),_;_=yield Ce(N.next()),h=_.done,!h;v=!0){b=_.value,v=!1;const S=b,C=tI(yield Ce(S.json()));C.sdkHttpResponse={headers:S.headers};const T=new hu;Object.assign(T,C),yield yield Ce(T)}}catch(S){x={error:S}}finally{try{!v&&!h&&(y=N.return)&&(yield Ce(y.call(N)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=c1e(this.apiClient,e);return l=ge("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=d1e(d),h=new DP;return Object.assign(h,f),h})}else{const u=l1e(this.apiClient,e);return l=ge("{model}:batchEmbedContents",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=u1e(d),h=new DP;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=_1e(this.apiClient,e);return l=ge("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=S1e(d),h=new LP;return Object.assign(h,f),h})}else{const u=w1e(this.apiClient,e);return l=ge("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=N1e(d),h=new LP;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=s1e(this.apiClient,e);return i=ge("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=i1e(c),d=new fve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=__e(this.apiClient,e);return i=ge("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=N_e(c),d=new hve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=r_e(this.apiClient,e);return i=ge("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=s_e(c),d=new pve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=u_e(this.apiClient,e);return i=ge("{model}:predict",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=d_e(c),d=new mve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=U1e(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Fw(d))}else{const u=F1e(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Vw(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Y1e(this.apiClient,e);return l=ge("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Q1e(d),h=new $P;return Object.assign(h,f),h})}else{const u=J1e(this.apiClient,e);return l=ge("{models_url}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=X1e(d),h=new $P;return Object.assign(h,f),h})}}async update(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=b_e(this.apiClient,e);return l=ge("{model}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>Fw(d))}else{const u=v_e(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>Vw(d))}}async delete(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=e1e(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=n1e(d),h=new VP;return Object.assign(h,f),h})}else{const u=Zwe(this.apiClient,e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=t1e(d),h=new VP;return Object.assign(h,f),h})}}async countTokens(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=Ywe(this.apiClient,e);return l=ge("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Qwe(d),h=new FP;return Object.assign(h,f),h})}else{const u=Jwe(this.apiClient,e);return l=ge("{model}:countTokens",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=Xwe(d),h=new FP;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Bwe(this.apiClient,e);return i=ge("{model}:computeTokens",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>{const u=qwe(c),d=new gve;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=j1e(this.apiClient,e);return l=ge("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o.then(d=>{const f=k1e(d),h=new hg;return Object.assign(h,f),h})}else{const u=C1e(this.apiClient,e);return l=ge("{model}:predictLongRunning",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o.then(d=>{const f=A1e(d),h=new hg;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gNe extends di{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=ave(e);return l=ge("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),o}else{const u=ive(e);return l=ge("{operationName}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=Qye(e);return i=ge("{resourceName}:fetchPredictOperation",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xNe(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function yNe(t){const e={},n=p(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>ANe(i))),g(e,["parts"],s)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function vNe(t,e,n){const r={},s=p(e,["expireTime"]);n!==void 0&&s!=null&&g(n,["expireTime"],s);const i=p(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&g(n,["newSessionExpireTime"],i);const o=p(e,["uses"]);n!==void 0&&o!=null&&g(n,["uses"],o);const l=p(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&g(n,["bidiGenerateContentSetup"],TNe(t,l));const c=p(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&g(n,["fieldMask"],c),r}function bNe(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],vNe(t,r,n)),n}function wNe(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _Ne(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const s=p(t,["name"]);if(s!=null&&g(e,["name"],s),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function NNe(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function SNe(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function ENe(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const s=p(t,["responseModalities"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","responseModalities"],s);const i=p(t,["temperature"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","temperature"],i);const o=p(t,["topP"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","topP"],o);const l=p(t,["topK"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","topK"],l);const c=p(t,["maxOutputTokens"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","maxOutputTokens"],c);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],oS(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const x=p(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],x);const y=p(t,["systemInstruction"]);e!==void 0&&y!=null&&g(e,["setup","systemInstruction"],yNe(Sn(y)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let w=Rc(b);Array.isArray(w)&&(w=w.map(E=>CNe(Ic(E)))),g(e,["setup","tools"],w)}const v=p(t,["sessionResumption"]);e!==void 0&&v!=null&&g(e,["setup","sessionResumption"],kNe(v));const N=p(t,["inputAudioTranscription"]);e!==void 0&&N!=null&&g(e,["setup","inputAudioTranscription"],N);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const S=p(t,["realtimeInputConfig"]);e!==void 0&&S!=null&&g(e,["setup","realtimeInputConfig"],S);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function TNe(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Je(t,r));const s=p(e,["config"]);return s!=null&&g(n,["config"],ENe(s,n)),n}function ANe(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const s=p(t,["executableCode"]);s!=null&&g(e,["executableCode"],s);const i=p(t,["fileData"]);i!=null&&g(e,["fileData"],wNe(i));const o=p(t,["functionCall"]);o!=null&&g(e,["functionCall"],_Ne(o));const l=p(t,["functionResponse"]);l!=null&&g(e,["functionResponse"],l);const c=p(t,["inlineData"]);c!=null&&g(e,["inlineData"],xNe(c));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function kNe(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function CNe(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const s=p(t,["codeExecution"]);if(s!=null&&g(e,["codeExecution"],s),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const i=p(t,["functionDeclarations"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const o=p(t,["googleMaps"]);o!=null&&g(e,["googleMaps"],NNe(o));const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],SNe(l));const c=p(t,["googleSearchRetrieval"]);c!=null&&g(e,["googleSearchRetrieval"],c);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jNe(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(i=>`${n}.${i}`);e.push(...s)}else e.push(n)}return e.join(",")}function PNe(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const i=jNe(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];s.length>0&&(l=s.map(u=>o.includes(u)?`generationConfig.${u}`:u));const c=[];i&&c.push(i),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class INe extends di{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=bNe(this.apiClient,e);i=ge("auth_tokens",l._url),o=l._query,delete l.config,delete l._url,delete l._query;const c=PNe(l,e.config);return s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),s.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RNe(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function MNe(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&RNe(r,e),e}function ONe(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function DNe(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const s=p(t,["pageToken"]);return e!==void 0&&s!=null&&g(e,["_query","pageToken"],s),n}function LNe(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&DNe(r,e),e}function $Ne(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const s=p(t,["documents"]);if(s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["documents"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VNe extends di{constructor(e){super(),this.apiClient=e,this.list=async n=>new _o(si.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=ONe(e);return i=ge("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=MNe(e);s=ge("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=LNe(e);return i=ge("{parent}/documents",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=$Ne(c),d=new xve;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FNe extends di{constructor(e,n=new VNe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _o(si.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=j_e(e);return i=ge("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=R_e(e);return i=ge("{name}",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r;let s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=I_e(e);s=ge("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=V_e(e);return i=ge("fileSearchStores",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=F_e(c),d=new yve;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=U_e(e);return i=ge("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=B_e(c),d=new vve;return Object.assign(d,u),d})}}async importFile(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=D_e(e);return i=ge("{file_search_store_name}:importFile",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const u=O_e(c),d=new nS;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let m$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return m$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const UNe=()=>m$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bw(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const qw=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ar extends Error{}class Dn extends Ar{constructor(e,n,r,s){super(`${Dn.makeMessage(e,n,r)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,r,s){if(!e||!s)return new Q0({message:r,cause:qw(n)});const i=n;return e===400?new x$(e,i,r,s):e===401?new y$(e,i,r,s):e===403?new v$(e,i,r,s):e===404?new b$(e,i,r,s):e===409?new w$(e,i,r,s):e===422?new _$(e,i,r,s):e===429?new N$(e,i,r,s):e>=500?new S$(e,i,r,s):new Dn(e,i,r,s)}}class zw extends Dn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Q0 extends Dn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class g$ extends Q0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class x$ extends Dn{}class y$ extends Dn{}class v$ extends Dn{}class b$ extends Dn{}class w$ extends Dn{}class _$ extends Dn{}class N$ extends Dn{}class S$ extends Dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BNe=/^[a-z][a-z0-9+.-]*:/i,qNe=t=>BNe.test(t);let Gw=t=>(Gw=Array.isArray,Gw(t));const zNe=Gw;let GNe=zNe;const lI=GNe;function HNe(t){if(!t)return!0;for(const e in t)return!1;return!0}function WNe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const KNe=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ar(`${t} must be an integer`);if(e<0)throw new Ar(`${t} must be a positive integer`);return e},JNe=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YNe=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XNe(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const QNe=()=>{var t,e,n,r,s;const i=XNe();if(i==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mo,"X-Stainless-OS":uI(Deno.build.os),"X-Stainless-Arch":cI(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(i==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mo,"X-Stainless-OS":uI((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":cI((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const o=ZNe();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Mo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZNe(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,i=r[2]||0,o=r[3]||0;return{browser:e,version:`${s}.${i}.${o}`}}}return null}const cI=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",uI=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Oh;const eSe=()=>Oh??(Oh=QNe());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tSe(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function E$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nSe(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return E$({start(){},async pull(n){const{done:r,value:s}=await e.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function T$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function rSe(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),s=r.cancel();r.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sSe=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Iy(t,e,n){return A$(),new File(t,e??"unknown_file",n)}function iSe(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const aSe=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",oSe=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&k$(t),lSe=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cSe(t,e,n){if(A$(),t=await t,oSe(t))return t instanceof File?t:Iy([await t.arrayBuffer()],t.name);if(lSe(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Iy(await Hw(s),e,n)}const r=await Hw(t);if(e||(e=iSe(t)),!(n!=null&&n.type)){const s=r.find(i=>typeof i=="object"&&"type"in i&&i.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Iy(r,e,n)}async function Hw(t){var e,n,r,s,i;let o=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)o.push(t);else if(k$(t))o.push(t instanceof Blob?t:await t.arrayBuffer());else if(aSe(t))try{for(var l=!0,c=Hr(t),u;u=await c.next(),e=u.done,!e;l=!0){s=u.value,l=!1;const d=s;o.push(...await Hw(d))}}catch(d){n={error:d}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const d=(i=t==null?void 0:t.constructor)===null||i===void 0?void 0:i.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${uSe(t)}`)}return o}function uSe(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class C${constructor(e){this._client=e}}C$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dI=Object.freeze(Object.create(null)),dSe=(t=j$)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const i=[],o=n.reduce((d,f,h)=>{var x,y,b;/[?#]/.test(f)&&(s=!0);const v=r[h];let N=(s?encodeURIComponent:t)(""+v);return h!==r.length&&(v==null||typeof v=="object"&&v.toString===((b=Object.getPrototypeOf((y=Object.getPrototypeOf((x=v.hasOwnProperty)!==null&&x!==void 0?x:dI))!==null&&y!==void 0?y:dI))===null||b===void 0?void 0:b.toString))&&(N=v+"",i.push({start:d.length+f.length,length:N.length,error:`Value of type ${Object.prototype.toString.call(v).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":N)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)i.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(i.sort((d,f)=>d.start-f.start),i.length>0){let d=0;const f=i.reduce((h,x)=>{const y=" ".repeat(x.start-d),b="^".repeat(x.length);return d=x.start+x.length,h+y+b},"");throw new Ar(`Path parameters result in path with invalid segments:
${i.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},Dh=dSe(j$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class P$ extends C${create(e,n){var r;const{api_version:s=this._client.apiVersion}=e,i=mg(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new Ar("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new Ar("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Dh`/${s}/interactions`,Object.assign(Object.assign({body:i},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(Dh`/${s}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(Dh`/${s}/interactions/${e}/cancel`,r)}get(e,n={},r){var s;const i=n??{},{api_version:o=this._client.apiVersion}=i,l=mg(i,["api_version"]);return this._client.get(Dh`/${o}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(s=n==null?void 0:n.stream)!==null&&s!==void 0?s:!1}))}}P$._key=Object.freeze(["interactions"]);class I$ extends P${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fSe(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}let Lh;function cS(t){let e;return(Lh??(e=new globalThis.TextEncoder,Lh=e.encode.bind(e)))(t)}let $h;function fI(t){let e;return($h??(e=new globalThis.TextDecoder,$h=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?cS(e):e;this.buffer=fSe([this.buffer,n]);const r=[];let s;for(;(s=hSe(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){r.push(fI(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const i=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,o=fI(this.buffer.subarray(0,i));r.push(o),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Z0.NEWLINE_CHARS=new Set([`
`,"\r"]);Z0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function hSe(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function pSe(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gg={off:0,error:200,warn:300,info:400,debug:500},hI=(t,e,n)=>{if(t){if(WNe(gg,t))return t;jn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(gg))}`)}};function Tu(){}function Vh(t,e,n){return!e||gg[t]>gg[n]?Tu:e[t].bind(e)}const mSe={error:Tu,warn:Tu,info:Tu,debug:Tu};let pI=new WeakMap;function jn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return mSe;const s=pI.get(n);if(s&&s[0]===r)return s[1];const i={error:Vh("error",n,r),warn:Vh("warn",n,r),info:Vh("info",n,r),debug:Vh("debug",n,r)};return pI.set(n,[r,i]),i}const ka=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let s=!1;const i=r?jn(r):console;function o(){return Gr(this,arguments,function*(){var c,u,d,f;if(s)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,y=Hr(gSe(e,n)),b;b=yield Ce(y.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const v=f;if(!h)if(v.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ce(JSON.parse(v.data))}catch(N){throw i.error("Could not parse message into JSON:",v.data),i.error("From chunk:",v.raw),N}}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=y.return)&&(yield Ce(d.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Bw(v))return yield Ce(void 0);throw v}finally{h||n.abort()}})}return new el(o,n,r)}static fromReadableStream(e,n,r){let s=!1;function i(){return Gr(this,arguments,function*(){var c,u,d,f;const h=new Z0,x=T$(e);try{for(var y=!0,b=Hr(x),v;v=yield Ce(b.next()),c=v.done,!c;y=!0){f=v.value,y=!1;const N=f;for(const _ of h.decode(N))yield yield Ce(_)}}catch(N){u={error:N}}finally{try{!y&&!c&&(d=b.return)&&(yield Ce(d.call(b)))}finally{if(u)throw u.error}}for(const N of h.flush())yield yield Ce(N)})}function o(){return Gr(this,arguments,function*(){var c,u,d,f;if(s)throw new Ar("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let h=!1;try{try{for(var x=!0,y=Hr(i()),b;b=yield Ce(y.next()),c=b.done,!c;x=!0){f=b.value,x=!1;const v=f;h||v&&(yield yield Ce(JSON.parse(v)))}}catch(v){u={error:v}}finally{try{!x&&!c&&(d=y.return)&&(yield Ce(d.call(y)))}finally{if(u)throw u.error}}h=!0}catch(v){if(Bw(v))return yield Ce(void 0);throw v}finally{h||n.abort()}})}return new el(o,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),s=i=>({next:()=>{if(i.length===0){const o=r.next();e.push(o),n.push(o)}return i.shift()}});return[new el(()=>s(e),this.controller,this.client),new el(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return E$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:i}=await n.next();if(i)return r.close();const o=cS(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function gSe(t,e){return Gr(this,arguments,function*(){var r,s,i,o;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ar("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ar("Attempted to iterate over a response with no body");const l=new ySe,c=new Z0,u=T$(t.body);try{for(var d=!0,f=Hr(xSe(u)),h;h=yield Ce(f.next()),r=h.done,!r;d=!0){o=h.value,d=!1;const x=o;for(const y of c.decode(x)){const b=l.decode(y);b&&(yield yield Ce(b))}}}catch(x){s={error:x}}finally{try{!d&&!r&&(i=f.return)&&(yield Ce(i.call(f)))}finally{if(s)throw s.error}}for(const x of c.flush()){const y=l.decode(x);y&&(yield yield Ce(y))}})}function xSe(t){return Gr(this,arguments,function*(){var n,r,s,i;let o=new Uint8Array;try{for(var l=!0,c=Hr(t),u;u=yield Ce(c.next()),n=u.done,!n;l=!0){i=u.value,l=!1;const d=i;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?cS(d):d;let h=new Uint8Array(o.length+f.length);h.set(o),h.set(f,o.length),o=h;let x;for(;(x=pSe(o))!==-1;)yield yield Ce(o.slice(0,x)),o=o.slice(x)}}catch(d){r={error:d}}finally{try{!l&&!n&&(s=c.return)&&(yield Ce(s.call(c)))}finally{if(r)throw r.error}}o.length>0&&(yield yield Ce(o))})}class ySe{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,s]=vSe(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function vSe(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bSe(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:i}=e,o=await(async()=>{var l;if(e.options.stream)return jn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):el.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),u=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return jn(t).debug(`[${r}] response parsed`,ka({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-i})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends Promise{constructor(e,n,r=bSe){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new uS(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R$=Symbol("brand.privateNullableHeaders");function*wSe(t){if(!t)return;if(R$ in t){const{values:r,nulls:s}=t;yield*r.entries();for(const i of s)yield[i,null];return}let e=!1,n;t instanceof Headers?n=t.entries():lI(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const i=lI(r[1])?r[1]:[r[1]];let o=!1;for(const l of i)l!==void 0&&(e&&!o&&(o=!0,yield[s,null]),yield[s,l])}}const pu=t=>{const e=new Headers,n=new Set;for(const r of t){const s=new Set;for(const[i,o]of wSe(r)){const l=i.toLowerCase();s.has(l)||(e.delete(i),s.add(l)),o===null?(e.delete(i),n.add(l)):(e.append(i,o),n.delete(l))}}return{[R$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ry=t=>{var e,n,r,s,i,o;if(typeof globalThis.process<"u")return(r=(n=(e=Hye)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(o=(i=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||i===void 0?void 0:i.call(s,t))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var M$;class ex{constructor(e){var n,r,s,i,o,l,c,{baseURL:u=Ry("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Ry("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=mg(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(r=x.timeout)!==null&&r!==void 0?r:ex.DEFAULT_TIMEOUT,this.logger=(s=x.logger)!==null&&s!==void 0?s:console;const y="warn";this.logLevel=y,this.logLevel=(o=(i=hI(x.logLevel,"ClientOptions.logLevel",this))!==null&&i!==void 0?i:hI(Ry("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:y,this.fetchOptions=x.fetchOptions,this.maxRetries=(l=x.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=x.fetch)!==null&&c!==void 0?c:tSe(),this.encoder=sSe,this._options=x,this.apiKey=d,this.apiVersion=f,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=pu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return pu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return pu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ar(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Mo}`}defaultIdempotencyKey(){return`stainless-node-retry-${UNe()}`}makeStatusError(e,n,r,s){return Dn.generate(e,n,r,s)}buildURL(e,n,r){const s=!this.baseURLOverridden()&&r||this.baseURL,i=qNe(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return HNe(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(i.search=this.stringifyQuery(n)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new uS(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var s,i,o;const l=await e,c=(s=l.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:u,url:d,timeout:f}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(u,{url:d,options:l});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(jn(this).debug(`[${h}] sending request`,ka({retryOfRequestLogID:r,method:l.method,url:d,options:l,headers:u.headers})),!((i=l.signal)===null||i===void 0)&&i.aborted)throw new zw;const b=new AbortController,v=await this.fetchWithTimeout(d,u,f,b).catch(qw),N=Date.now();if(v instanceof globalThis.Error){const S=`retrying, ${n} attempts remaining`;if(!((o=l.signal)===null||o===void 0)&&o.aborted)throw new zw;const C=Bw(v)||/timed? ?out/i.test(String(v)+("cause"in v?String(v.cause):""));if(n)return jn(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${S}`),jn(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${S})`,ka({retryOfRequestLogID:r,url:d,durationMs:N-y,message:v.message})),this.retryRequest(l,n,r??h);throw jn(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),jn(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,ka({retryOfRequestLogID:r,url:d,durationMs:N-y,message:v.message})),C?new g$:new Q0({cause:v})}const _=`[${h}${x}] ${u.method} ${d} ${v.ok?"succeeded":"failed"} with status ${v.status} in ${N-y}ms`;if(!v.ok){const S=await this.shouldRetry(v);if(n&&S){const j=`retrying, ${n} attempts remaining`;return await rSe(v.body),jn(this).info(`${_} - ${j}`),jn(this).debug(`[${h}] response error (${j})`,ka({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:N-y})),this.retryRequest(l,n,r??h,v.headers)}const C=S?"error; no more retries left":"error; not retryable";jn(this).info(`${_} - ${C}`);const T=await v.text().catch(j=>qw(j).message),w=JNe(T),E=w?void 0:T;throw jn(this).debug(`[${h}] response error (${C})`,ka({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,message:E,durationMs:Date.now()-y})),this.makeStatusError(v.status,w,E,v.headers)}return jn(this).info(_),jn(this).debug(`[${h}] response start`,ka({retryOfRequestLogID:r,url:v.url,status:v.status,headers:v.headers,durationMs:N-y})),{response:v,options:l,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,s){const i=n||{},{signal:o,method:l}=i,c=mg(i,["signal","method"]);o&&o.addEventListener("abort",()=>s.abort());const u=setTimeout(()=>s.abort(),r),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,f=Object.assign(Object.assign(Object.assign({signal:s.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);l&&(f.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,s){var i;let o;const l=s==null?void 0:s.get("retry-after-ms");if(l){const u=parseFloat(l);Number.isNaN(u)||(o=u)}const c=s==null?void 0:s.get("retry-after");if(c&&!o){const u=parseFloat(c);Number.isNaN(u)?o=Date.parse(c)-Date.now():o=u*1e3}if(!(o&&0<=o&&o<60*1e3)){const u=(i=e.maxRetries)!==null&&i!==void 0?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,u)}return await YNe(o),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,s,i;const o=Object.assign({},e),{method:l,path:c,query:u,defaultBaseURL:d}=o,f=this.buildURL(c,u,d);"timeout"in o&&KNe("timeout",o.timeout),o.timeout=(r=o.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:x}=this.buildBody({options:o}),y=await this.buildHeaders({options:e,method:l,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:y},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(i=o.fetchOptions)!==null&&i!==void 0?i:{}),url:f,timeout:o.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:s}){let i={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let l=pu([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),eSe()),this._options.defaultHeaders,r,e.headers,o]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=pu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nSe(e)}:this.encoder({body:e,headers:r})}}ex.DEFAULT_TIMEOUT=6e4;class Zt extends ex{constructor(){super(...arguments),this.interactions=new I$(this)}}M$=Zt;Zt.GeminiNextGenAPIClient=M$;Zt.GeminiNextGenAPIClientError=Ar;Zt.APIError=Dn;Zt.APIConnectionError=Q0;Zt.APIConnectionTimeoutError=g$;Zt.APIUserAbortError=zw;Zt.NotFoundError=b$;Zt.ConflictError=w$;Zt.RateLimitError=N$;Zt.BadRequestError=x$;Zt.AuthenticationError=y$;Zt.InternalServerError=S$;Zt.PermissionDeniedError=v$;Zt.UnprocessableEntityError=_$;Zt.toFile=cSe;Zt.Interactions=I$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _Se(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function NSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function SSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function ESe(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function TSe(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=p(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&g(e,["displayName"],s),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=p(t,["epochCount"]);e!==void 0&&i!=null&&g(e,["tuningTask","hyperparameters","epochCount"],i);const o=p(t,["learningRateMultiplier"]);if(o!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],o),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const l=p(t,["batchSize"]);e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","batchSize"],l);const c=p(t,["learningRate"]);if(e!==void 0&&c!=null&&g(e,["tuningTask","hyperparameters","learningRate"],c),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function ASe(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec"],mI(x))}else if(s==="PREFERENCE_TUNING"){const x=p(t,["validationDataset"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec"],mI(x))}const i=p(t,["tunedModelDisplayName"]);e!==void 0&&i!=null&&g(e,["tunedModelDisplayName"],i);const o=p(t,["description"]);e!==void 0&&o!=null&&g(e,["description"],o);let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(l==="PREFERENCE_TUNING"){const x=p(t,["epochCount"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(c==="PREFERENCE_TUNING"){const x=p(t,["learningRateMultiplier"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(u==="PREFERENCE_TUNING"){const x=p(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(d==="PREFERENCE_TUNING"){const x=p(t,["adapterSize"]);e!==void 0&&x!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function kSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&VSe(i);const o=p(t,["config"]);return o!=null&&TSe(o,n),n}function CSe(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const s=p(t,["preTunedModel"]);s!=null&&g(n,["preTunedModel"],s);const i=p(t,["trainingDataset"]);i!=null&&FSe(i,n,e);const o=p(t,["config"]);return o!=null&&ASe(o,n,e),n}function jSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function PSe(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function ISe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function RSe(t,e,n){const r={},s=p(t,["pageSize"]);e!==void 0&&s!=null&&g(e,["_query","pageSize"],s);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),r}function MSe(t,e){const n={},r=p(t,["config"]);return r!=null&&ISe(r,n),n}function OSe(t,e){const n={},r=p(t,["config"]);return r!=null&&RSe(r,n),n}function DSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tunedModels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>O$(l))),g(n,["tuningJobs"],o)}return n}function LSe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["nextPageToken"]);s!=null&&g(n,["nextPageToken"],s);const i=p(t,["tuningJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>Ww(l))),g(n,["tuningJobs"],o)}return n}function $Se(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const s=p(t,["name"]);return s!=null&&g(n,["endpoint"],s),n}function VSe(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>i)),g(n,["examples","examples"],s)}return n}function FSe(t,e,n){const r={};let s=p(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(s==="PREFERENCE_TUNING"){const o=p(t,["gcsUri"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(i==="PREFERENCE_TUNING"){const o=p(t,["vertexDatasetResource"]);e!==void 0&&o!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function O$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],X6(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["tuningTask","startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["tuningTask","completeTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],$Se(h)),n}function Ww(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["state"]);i!=null&&g(n,["state"],X6(i));const o=p(t,["createTime"]);o!=null&&g(n,["createTime"],o);const l=p(t,["startTime"]);l!=null&&g(n,["startTime"],l);const c=p(t,["endTime"]);c!=null&&g(n,["endTime"],c);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const x=p(t,["tunedModel"]);x!=null&&g(n,["tunedModel"],x);const y=p(t,["preTunedModel"]);y!=null&&g(n,["preTunedModel"],y);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const v=p(t,["preferenceOptimizationSpec"]);v!=null&&g(n,["preferenceOptimizationSpec"],v);const N=p(t,["tuningDataStats"]);N!=null&&g(n,["tuningDataStats"],N);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const S=p(t,["partnerModelTuningSpec"]);S!=null&&g(n,["partnerModelTuningSpec"],S);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const T=p(t,["experiment"]);T!=null&&g(n,["experiment"],T);const w=p(t,["labels"]);w!=null&&g(n,["labels"],w);const E=p(t,["outputUri"]);E!=null&&g(n,["outputUri"],E);const A=p(t,["pipelineJob"]);A!=null&&g(n,["pipelineJob"],A);const j=p(t,["serviceAccount"]);j!=null&&g(n,["serviceAccount"],j);const M=p(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const P=p(t,["veoTuningSpec"]);return P!=null&&g(n,["veoTuningSpec"],P),n}function USe(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const s=p(t,["name"]);s!=null&&g(n,["name"],s);const i=p(t,["metadata"]);i!=null&&g(n,["metadata"],i);const o=p(t,["done"]);o!=null&&g(n,["done"],o);const l=p(t,["error"]);return l!=null&&g(n,["error"],l),n}function mI(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const s=p(t,["vertexDatasetResource"]);return s!=null&&g(n,["validationDatasetUri"],s),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BSe extends di{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _o(si.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:s});return i.baseModel=void 0,await this.tuneInternal(i)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),i=await this.tuneMldevInternal(s);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:Mw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=PSe(e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>Ww(d))}else{const u=jSe(e);return l=ge("{name}",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>O$(d))}}async listInternal(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=OSe(e);return l=ge("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=LSe(d),h=new UP;return Object.assign(h,f),h})}else{const u=MSe(e);return l=ge("tunedModels",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=DSe(d),h=new UP;return Object.assign(h,f),h})}}async cancel(e){var n,r,s,i;let o,l="",c={};if(this.apiClient.isVertexAI()){const u=NSe(e);return l=ge("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=ESe(d),h=new BP;return Object.assign(h,f),h})}else{const u=_Se(e);return l=ge("{name}:cancel",u._url),c=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),o.then(d=>{const f=SSe(d),h=new BP;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI()){const l=CSe(e,e);return i=ge("tuningJobs",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>Ww(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let s,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=kSe(e);return i=ge("tunedModels",l._url),o=l._query,delete l._url,delete l._query,s=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:c.headers},d})),s.then(c=>USe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qSe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const zSe=1024*1024*8,GSe=3,HSe=1e3,WSe=2,xg="x-goog-upload-status";async function KSe(t,e,n){var r;const s=await D$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[xg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function JSe(t,e,n){var r;const s=await D$(t,e,n),i=await(s==null?void 0:s.json());if(((r=s==null?void 0:s.headers)===null||r===void 0?void 0:r[xg])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=G6(i),l=new rS;return Object.assign(l,o),l}async function D$(t,e,n){var r,s;let i=0,o=0,l=new Dw(new Response),c="upload";for(i=t.size;o<i;){const u=Math.min(zSe,i-o),d=t.slice(o,o+u);o+u>=i&&(c+=", finalize");let f=0,h=HSe;for(;f<GSe&&(l=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(u)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[xg]));)f++,await XSe(h),h=h*WSe;if(o+=u,((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s[xg])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function YSe(t){return{size:t.size,type:t.type}}function XSe(t){return new Promise(e=>setTimeout(e,t))}class QSe{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KSe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JSe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YSe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZSe{create(e,n,r){return new eEe(e,n,r)}}class eEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gI="x-goog-api-key";class tEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(gI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(gI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nEe="gl-node/";class dS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Yye(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new tEe(this.apiKey);this.apiClient=new Y_e({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:nEe+"web",uploader:new QSe,downloader:new qSe}),this.models=new mNe(this.apiClient),this.live=new cNe(this.apiClient,s,new ZSe),this.batches=new Ebe(this.apiClient),this.chats=new awe(this.models,this.apiClient),this.caches=new rwe(this.apiClient),this.files=new gwe(this.apiClient),this.operations=new gNe(this.apiClient),this.authTokens=new INe(this.apiClient),this.tunings=new BSe(this.apiClient),this.fileSearchStores=new FNe(this.apiClient)}}var rEe={};const sEe=()=>{const{transactions:t,products:e,clients:n,suppliers:r}=Nt(),[s,i]=D.useState("overview"),[o,l]=D.useState(!1),[c,u]=D.useState(""),d=[{name:"Ene",ingresos:4e6,egresos:32e5,balance:8e5},{name:"Feb",ingresos:35e5,egresos:31e5,balance:4e5},{name:"Mar",ingresos:52e5,egresos:38e5,balance:14e5},{name:"Abr",ingresos:48e5,egresos:41e5,balance:7e5},{name:"May",ingresos:55e5,egresos:42e5,balance:13e5},{name:"Jun",ingresos:6e6,egresos:45e5,balance:15e5}],f=[{name:"Mercadera",value:65,color:"#f97316"},{name:"Sueldos",value:20,color:"#64748b"},{name:"Impuestos",value:8,color:"#334155"},{name:"Servicios/Alquiler",value:7,color:"#94a3b8"}],h=D.useMemo(()=>{const v=e.reduce((_,S)=>_+S.stock*S.costPrice,0),N=n.reduce((_,S)=>_+(S.balance>0?S.balance:0),0);return v+N+25e5},[e,n]),x=D.useMemo(()=>r.reduce((v,N)=>v+Math.abs(N.balance<0?N.balance:0),0),[r]),y=h-x,b=async()=>{l(!0);try{const v=new dS({apiKey:rEe.API_KEY}),N=`Analiza estos datos financieros de mi ferretera: 
      Activos Totales: $${h}, 
      Pasivos: $${x}, 
      Patrimonio Neto: $${y}. 
      Ventas proyectadas mes: $6M. 
      Dame un anlisis de solvencia y 3 recomendaciones estratgicas para mejorar el flujo de caja.`,_=await v.models.generateContent({model:"gemini-3-flash-preview",contents:N});u(_.text||"No se pudo obtener respuesta.")}catch{u("Error al consultar IA. Verifique conexin.")}finally{l(!1)}};return a.jsxs("div",{className:"space-y-8 pb-20",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Centro de Inteligencia Financiera"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Contabilidad analtica, flujos de fondo y rentabilidad."})]}),a.jsx("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm overflow-x-auto",children:[{id:"overview",label:"Patrimonio",icon:gd},{id:"cashflow",label:"Cash Flow",icon:gT},{id:"breakeven",label:"Punto de Equilibrio",icon:Lp},{id:"accounting",label:"Libro Diario",icon:Er}].map(v=>a.jsxs("button",{onClick:()=>i(v.id),className:`flex items-center gap-2 px-5 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all whitespace-nowrap ${s===v.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:[a.jsx(v.icon,{className:"w-4 h-4"}),v.label]},v.id))})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Activos Totales"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",h.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-green-600",children:[a.jsx(Js,{className:"w-3 h-3"})," +4.2% vs mes anterior"]}),a.jsx(Fp,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pasivos (Deudas)"}),a.jsxs("h3",{className:"text-2xl font-black text-red-600",children:["$",x.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[a.jsx(W1,{className:"w-3 h-3 text-blue-500"})," 85% a LP (Largo Plazo)"]}),a.jsx(BM,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-slate-50 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Patrimonio Neto"}),a.jsxs("h3",{className:"text-2xl font-black",children:["$",y.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[a.jsx(gT,{className:"w-3 h-3 text-orange-500"})," Valor de Empresa"]}),a.jsx(En,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/5 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-orange-600 p-6 rounded-[2rem] shadow-xl text-white relative overflow-hidden group",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-100 uppercase tracking-widest mb-1",children:"Rentabilidad Final"}),a.jsx("h3",{className:"text-2xl font-black",children:"16.8%"}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-[10px] font-bold text-orange-200",children:[a.jsx(Kr,{className:"w-3 h-3"})," Superando meta anual"]}),a.jsx(fU,{className:"absolute -bottom-4 -right-4 w-20 h-20 text-white/10 group-hover:scale-110 transition-transform duration-700"})]})]}),s==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(Kr,{className:"w-5 h-5 text-orange-600"})," Evolucin de Resultados"]}),a.jsxs("select",{className:"bg-slate-50 border-none text-xs font-bold rounded-xl px-4 py-2 outline-none",children:[a.jsx("option",{children:"ltimos 6 meses"}),a.jsx("option",{children:"Ao 2024"})]})]}),a.jsx("div",{className:"h-80 w-full",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(ID,{data:d,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]})}),a.jsx(Qd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ea,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(ta,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10}}),a.jsx(Un,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),a.jsx(Jr,{type:"monotone",dataKey:"ingresos",name:"Ventas",stroke:"#f97316",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),a.jsx(Jr,{type:"monotone",dataKey:"egresos",name:"Costos",stroke:"#64748b",strokeWidth:2,fill:"transparent"})]})})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-2xl",children:a.jsxs("div",{className:"relative z-10 space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(HF,{className:"w-8 h-8 text-orange-500 animate-pulse"}),a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Auditor de IA"})]}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Analizo en tiempo real tu estructura de costos, stock y deuda para darte proyecciones de flujo de caja."}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 hover:bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[o?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(xf,{className:"w-4 h-4"}),o?"Analizando...":"Generar Reporte IA"]}),c&&a.jsx("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-[11px] text-slate-300 italic max-h-40 overflow-y-auto custom-scrollbar animate-in slide-in-from-top-2",children:c})]})}),a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsx("h4",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Desglose de Gastos"}),a.jsx("div",{className:"h-48 w-full",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(Zfe,{children:[a.jsx(ci,{data:f,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:f.map((v,N)=>a.jsx(r0,{fill:v.color},`cell-${N}`))}),a.jsx(Un,{})]})})}),a.jsx("div",{className:"space-y-2",children:f.map(v=>a.jsxs("div",{className:"flex justify-between items-center text-[10px] font-bold",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),a.jsx("span",{className:"text-slate-600",children:v.name})]}),a.jsxs("span",{className:"text-slate-900",children:[v.value,"%"]})]},v.name))})]})]})]}),s==="cashflow"&&a.jsxs("div",{className:"space-y-8 animate-in slide-in-from-bottom duration-500",children:[a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-end mb-10",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Flujo de Caja Real vs Proyectado"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Anlisis de liquidez para los prximos 30 das."})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Fin de Mes"}),a.jsx("p",{className:"text-2xl font-black text-green-600",children:"+$2.140.000"})]})})]}),a.jsx("div",{className:"h-96",children:a.jsx($u,{width:"100%",height:"100%",children:a.jsxs(PD,{data:d,children:[a.jsx(Qd,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),a.jsx(ea,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(ta,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),a.jsx(Un,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"20px",border:"none"}}),a.jsx(qa,{iconType:"circle"}),a.jsx(qr,{dataKey:"ingresos",name:"Entradas",fill:"#10b981",radius:[10,10,0,0]}),a.jsx(qr,{dataKey:"egresos",name:"Salidas",fill:"#ef4444",radius:[10,10,0,0]}),a.jsx(qr,{dataKey:"balance",name:"Cash Flow Neto",fill:"#6366f1",radius:[10,10,0,0]})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-green-50 p-8 rounded-[2.5rem] border border-green-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-green-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(FF,{className:"w-5 h-5"})," Principales Ingresos"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Ventas de Mostrador",amount:45e5,color:"bg-green-500"},{cat:"Cobranza Cta. Cte.",amount:12e5,color:"bg-green-400"},{cat:"Intereses / Otros",amount:3e5,color:"bg-green-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-green-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-green-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/6e6*100}%`}})})]},v.cat))})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-[2.5rem] border border-red-100 space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-red-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Js,{className:"w-5 h-5"})," Principales Salidas"]}),a.jsx("div",{className:"space-y-4",children:[{cat:"Pagos a Proveedores",amount:38e5,color:"bg-red-500"},{cat:"Sueldos y Cargas",amount:5e5,color:"bg-red-400"},{cat:"Gastos de Estructura",amount:2e5,color:"bg-red-300"}].map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-xs font-bold text-red-900",children:[a.jsx("span",{children:v.cat}),a.jsxs("span",{children:["$",v.amount.toLocaleString()]})]}),a.jsx("div",{className:"h-1.5 w-full bg-red-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`${v.color} h-full`,style:{width:`${v.amount/45e5*100}%`}})})]},v.cat))})]})]})]}),s==="breakeven"&&a.jsx("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm animate-in zoom-in duration-500",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[a.jsxs("div",{className:"flex-1 space-y-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight",children:"Punto de Equilibrio"}),a.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Clculo del volumen de venta necesario para no tener prdidas."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costos Fijos Mensuales (Alquiler, Sueldos, Luz)"}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:85e4,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Contribucin Promedio (%)"}),a.jsxs("div",{className:"relative",children:[a.jsx(H1,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-300"}),a.jsx("input",{type:"number",defaultValue:35,className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-100 rounded-2xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500"})]})]})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white flex flex-col justify-center items-center text-center space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-[0.2em]",children:"Debes vender al menos"}),a.jsx("h4",{className:"text-5xl font-black text-white",children:"$2.428.571"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium",children:"para cubrir todos tus gastos antes de empezar a ganar."})]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-xs font-bold text-blue-800 leading-relaxed",children:"El punto de equilibrio se calcula dividiendo tus costos fijos por el porcentaje de margen de contribucin. Mantener tus costos fijos bajos es la clave para reducir el riesgo operativo de tu ferretera."})]})]}),a.jsx("div",{className:"hidden md:block w-px bg-slate-100"}),a.jsxs("div",{className:"w-full md:w-80 space-y-6",children:[a.jsx("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest",children:"Simulador de Metas"}),a.jsx("div",{className:"space-y-6",children:[{label:"Escenario Pesimista",sales:18e5,status:"Prdida",color:"text-red-600"},{label:"Escenario Base",sales:35e5,status:"Ganancia",color:"text-green-600"},{label:"Escenario Optimista",sales:5e6,status:"Excelente",color:"text-blue-600"}].map(v=>a.jsxs("div",{className:"p-5 bg-slate-50 rounded-2xl border border-slate-100 space-y-2 group hover:border-orange-200 transition-all",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:v.label}),a.jsxs("p",{className:"font-black text-slate-800 text-lg",children:["$",v.sales.toLocaleString()]}),a.jsx("span",{className:`text-[9px] font-black uppercase tracking-widest px-2 py-0.5 rounded-full bg-white border ${v.color}`,children:v.status})]},v.label))})]})]})}),s==="accounting"&&a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/30 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Er,{className:"w-6 h-6 text-slate-400"}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Libro Diario / Asientos"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-600 hover:bg-slate-50 transition-all flex items-center gap-2 shadow-sm",children:[a.jsx(ol,{className:"w-4 h-4"})," Mayo 2024"]}),a.jsx("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg flex items-center gap-2",children:"Exportar PDF"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Ref"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Contable"}),a.jsx("th",{className:"px-8 py-5",children:"Descripcin de Operacin"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Debe (+)"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Haber (-)"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:[{date:"20-05-24",ref:"AST-120",account:"Ventas Mostrador",desc:"Facturacin diaria POS-01",debe:145e3,haber:0,status:"Auditado"},{date:"20-05-24",ref:"AST-121",account:"Proveedores S.A.",desc:"Pago Factura #4829 - Sinteplast",debe:0,haber:85200,status:"Auditado"},{date:"19-05-24",ref:"AST-118",account:"Caja Central",desc:"Apertura de Caja inicial",debe:25e3,haber:0,status:"Auditado"},{date:"18-05-24",ref:"AST-115",account:"Banco Francs",desc:"Transferencia sueldos depsito",debe:0,haber:45e4,status:"Pendiente"}].map((v,N)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:v.date}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:v.ref})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:v.account})}),a.jsx("td",{className:"px-8 py-5 text-sm font-medium text-slate-500",children:v.desc}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-green-600",children:v.debe>0?`$${v.debe.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-right font-black text-red-600",children:v.haber>0?`$${v.haber.toLocaleString()}`:"-"}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${v.status==="Auditado"?"bg-green-50 text-green-700 border-green-100":"bg-orange-50 text-orange-700 border-orange-100 animate-pulse"}`,children:v.status})})]},N))})]})})]})]})},iEe=()=>{const{users:t,addUser:e,updateUser:n,deleteUser:r,branches:s}=Nt(),i=[{id:"sales",name:"Ventas"},{id:"inventory",name:"Inventario"},{id:"cashier",name:"Cajas"},{id:"purchases",name:"Compras"},{id:"finance",name:"Finanzas"},{id:"ecommerce",name:"E-Commerce"},{id:"reports",name:"Informes"}],[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState({}),[h,x]=D.useState("general"),[y,b]=D.useState(!1),v=w=>(w.salary||0)+(w.advances||[]).reduce((E,A)=>E+A.amount,0),N=w=>{var E;u(w),f(w||{name:"",email:"",password:"",role:"Vendedor",status:"Activo",branchName:((E=s[0])==null?void 0:E.name)||"Central",modules:["sales"],salary:0,advances:[],joiningDate:new Date().toISOString().split("T")[0]}),x("general"),l(!0)},_=w=>{const{name:E,value:A}=w.target;f(j=>({...j,[E]:A}))},S=w=>{const E=d.modules||[],A=E.includes(w);f(j=>({...j,modules:A?E.filter(M=>M!==w):[...E,w]}))},C=async()=>{if(!d.name||!d.email||!d.password){alert("Por favor, complete todos los campos obligatorios incluyendo la contrasea.");return}b(!0);try{c?await n(c.id,d):await e(d),l(!1)}catch{alert("Error al guardar el usuario.")}finally{b(!1)}},T=async w=>{window.confirm("Eliminar este usuario? No podr volver a ingresar.")&&await r(w)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Usuarios Internos"}),a.jsx("p",{className:"text-slate-500",children:"Gestiona los accesos de tu equipo sin usar consolas externas."})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-slate-900 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-black transition-all shadow-lg",children:[a.jsx(J1,{className:"w-5 h-5"})," Crear Cuenta de Acceso"]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Colaborador"}),a.jsx("th",{className:"px-8 py-5",children:"Rol / Acceso"}),a.jsx("th",{className:"px-8 py-5",children:"Sucursal"}),a.jsx("th",{className:"px-8 py-5",children:"Sueldo + Adelantos"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-100 flex items-center justify-center font-black text-orange-600 text-lg border border-orange-200",children:w.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:w.email})]})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2",children:[w.role==="Administrador"?a.jsx(W1,{className:"w-4 h-4 text-orange-600"}):a.jsx(gU,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-xs font-black uppercase text-slate-600",children:w.role})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ma,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"text-xs font-bold",children:w.branchName})]})}),a.jsxs("td",{className:"px-8 py-6 font-black text-slate-900",children:["$",v(w).toLocaleString()]}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1",children:[a.jsx("button",{onClick:()=>N(w),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(w.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},w.id))})]})}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 bg-slate-900 text-white flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-black uppercase tracking-tight",children:c?"Editar Cuenta":"Nueva Cuenta de Acceso"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[500px]",children:[a.jsx("div",{className:"w-1/3 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Acceso y Login",icon:Mg},{id:"financial",label:"Finanzas",icon:En},{id:"modules",label:"Permisos",icon:md}].map(w=>a.jsxs("button",{onClick:()=>x(w.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${h===w.id?"bg-orange-600 text-white":"text-slate-500 hover:bg-white"}`,children:[a.jsx(w.icon,{className:"w-4 h-4 inline-block mr-2"}),w.label]},w.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[h==="general"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Completo"}),a.jsx("input",{name:"name",value:d.name||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email / Usuario"}),a.jsx("input",{name:"email",value:d.email||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea del Sistema"}),a.jsx("input",{name:"password",type:"password",value:d.password||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rol Operativo"}),a.jsxs("select",{name:"role",value:d.role,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"Vendedor",children:"Vendedor"}),a.jsx("option",{value:"Administrador",children:"Administrador"}),a.jsx("option",{value:"Contador",children:"Contador"}),a.jsx("option",{value:"Depsito",children:"Depsito"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sucursal"}),a.jsx("select",{name:"branchName",value:d.branchName,onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:s.map(w=>a.jsx("option",{value:w.name,children:w.name},w.id))})]})]})]}),h==="financial"&&a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sueldo Mensual ($)"}),a.jsx("input",{name:"salary",type:"number",value:d.salary||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha Ingreso"}),a.jsx("input",{name:"joiningDate",type:"date",value:d.joiningDate||"",onChange:_,className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),h==="modules"&&a.jsx("div",{className:"grid grid-cols-1 gap-3 animate-in fade-in duration-300",children:i.map(w=>a.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded accent-orange-600",checked:(d.modules||[]).includes(w.id),onChange:()=>S(w.id)}),a.jsx("span",{className:"text-xs font-bold text-slate-700 uppercase tracking-widest",children:w.name})]},w.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-[10px] uppercase text-slate-400",children:"Cancelar"}),a.jsxs("button",{onClick:C,disabled:y,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase shadow-xl hover:bg-orange-500 flex items-center gap-2",children:[y?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(wn,{className:"w-4 h-4"}),y?"Guardando...":"Habilitar Acceso"]})]})]})})]})},aEe=()=>{const{branches:t,loading:e,error:n,addBranch:r,updateBranch:s,deleteBranch:i}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0});D.useEffect(()=>{x(d||{name:"",address:"",manager:"",phone:"",email:"",status:"online",dailySales:0,staffCount:0})},[d]);const y=S=>{const{name:C,value:T,type:w}=S.target,E=S.target.checked;x(A=>({...A,[C]:w==="checkbox"?E:T}))},b=async()=>{if(!h.name||!h.address||!h.manager){alert("Por favor, complete todos los campos obligatorios.");return}try{d?(await s(d.id,h),alert("Sucursal actualizada con xito!")):(await r(h),alert("Nueva sucursal creada con xito!")),l(!1),u(!1),f(null)}catch(S){alert("Error al guardar la sucursal."),console.error("Error saving branch:",S)}},v=S=>{f(S),u(!0)},N=()=>{f(null),l(!0)};if(e)return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando sucursales..."})]});if(n)return a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6 animate-in slide-in-from-top duration-300",children:[a.jsx("div",{className:"p-3 bg-red-600 text-white rounded-2xl shadow-lg shadow-red-600/20",children:a.jsx(Ks,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-black uppercase text-xs tracking-widest",children:"Error de Sincronizacin Nube"}),a.jsx("p",{className:"text-red-700 text-sm font-medium",children:n})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-white border border-red-200 text-red-600 rounded-xl font-bold text-xs uppercase hover:bg-red-50 transition-all flex items-center gap-2",children:[a.jsx(xf,{className:"w-4 h-4"})," Reintentar"]})]});const _=t.reduce((S,C)=>S+C.dailySales,0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Sucursales y Puntos de Venta"}),a.jsx("p",{className:"text-slate-500",children:"Administra la operatividad de tus locales y depsitos fsicos."})]}),a.jsxs("button",{onClick:N,className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nueva Sucursal"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.map(S=>a.jsxs("div",{className:"bg-white rounded-[2rem] border border-slate-100 shadow-sm overflow-hidden group hover:shadow-md transition-all",children:[a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:`p-3 rounded-2xl ${S.status==="online"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(Ma,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full ${S.status==="online"?"bg-green-500 animate-pulse":"bg-slate-300"}`}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest",children:S.status}),a.jsx("button",{className:"ml-2 p-1 hover:bg-slate-50 rounded-lg text-slate-300",children:a.jsx($M,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-black text-slate-800",children:S.name}),a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 mt-1",children:[a.jsx(G1,{className:"w-3.5 h-3.5"}),a.jsx("span",{className:"text-xs font-medium",children:S.address})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Ventas Hoy"}),a.jsxs("p",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:"Personal"}),a.jsxs("p",{className:"font-black text-slate-900",children:[S.staffCount," personas"]})]})]}),a.jsx("div",{className:"space-y-2 pt-2",children:a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Xr,{className:"w-3.5 h-3.5"}),a.jsxs("span",{children:["Responsable: ",a.jsx("span",{className:"font-bold text-slate-700",children:S.manager})]})]})})]}),a.jsxs("button",{onClick:()=>v(S),className:"w-full py-4 bg-slate-50 text-slate-600 text-xs font-black uppercase tracking-widest flex items-center justify-center gap-2 group-hover:bg-slate-900 group-hover:text-white transition-all",children:["Gestionar Local ",a.jsx(lr,{className:"w-4 h-4"})]})]},S.id)),a.jsxs("button",{onClick:N,className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] flex flex-col items-center justify-center p-8 gap-3 text-slate-400 hover:border-orange-200 hover:bg-orange-50/30 transition-all",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white",children:a.jsx(Ye,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-[10px] tracking-[0.2em]",children:"Aadir Nueva Ubicacin"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-6 flex items-center gap-2",children:[a.jsx(Kr,{className:"w-5 h-5 text-orange-600"})," Rendimiento Comparativo"]}),a.jsx("div",{className:"space-y-6",children:t.filter(S=>S.dailySales>0).map(S=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"font-bold text-slate-700",children:S.name}),a.jsxs("span",{className:"font-black text-slate-900",children:["$",S.dailySales.toLocaleString()]})]}),a.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500",style:{width:`${S.dailySales/_*100}%`}})})]},S.id))})]}),a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-2",children:"Resumen Operativo"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Estado global de la red de sucursales."}),a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-500 uppercase tracking-widest",children:"Total Sucursales"}),a.jsx("p",{className:"text-4xl font-black",children:t.length})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-500 uppercase tracking-widest",children:"Total Ventas Global"}),a.jsxs("p",{className:"text-4xl font-black",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"mt-8 p-6 bg-white/5 rounded-2xl border border-white/10 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 rounded-xl",children:a.jsx(Js,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-300",children:"Crecimiento Mensual"}),a.jsx("p",{className:"text-xl font-black text-white",children:"+18.4% de operatividad"})]})]})]}),a.jsx(Ma,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center",children:a.jsx(Ma,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Nueva Sucursal"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Registrar punto fsico"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Guardar Sucursal ",a.jsx(wn,{className:"w-5 h-5"})]})]})]})}),c&&d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Ma,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Sucursal"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-black uppercase tracking-widest mt-1",children:d.name})]})]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Er,{className:"w-4 h-4 text-orange-600"})," Informacin General"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre Comercial"}),a.jsx("input",{name:"name",value:h.name||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Sucursal Oeste"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direccin Fsica"}),a.jsx("input",{name:"address",value:h.address||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Av. Principal 1234"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"manager",value:h.manager||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre completo"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Telfono"}),a.jsx("input",{name:"phone",value:h.phone||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"+54 9..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email de Contacto"}),a.jsx("input",{name:"email",type:"email",value:h.email||"",onChange:y,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"contacto@sucursal.com"})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(JF,{className:"w-4 h-4 text-blue-600"})," Estado Operativo"]}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"status",checked:h.status==="online",onChange:S=>x(C=>({...C,status:S.target.checked?"online":"offline"})),className:"sr-only peer",id:"branchStatusToggle"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-green-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("label",{htmlFor:"branchStatusToggle",className:"flex-1 cursor-pointer",children:[a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase",children:["Sucursal ",h.status==="online"?"Online":"Offline"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Define si la sucursal est activa para operar con ventas, stock y caja."})]})]})]}),a.jsxs("section",{className:"space-y-6 pt-8 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-purple-600"})," Estadsticas Rpidas"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-purple-50 p-6 rounded-2xl border border-purple-100",children:[a.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest mb-1",children:"Ventas Hoy"}),a.jsxs("p",{className:"text-xl font-black text-purple-900",children:["$",d.dailySales.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-2xl border border-blue-100",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Personal Activo"}),a.jsx("p",{className:"text-xl font-black text-blue-900",children:d.staffCount})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>u(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:b,className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[a.jsx(An,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})]})},oEe=()=>{const[t,e]=D.useState(!1),[n,r]=D.useState(""),[s]=D.useState([{id:"1",sku:"MART-001",name:"Martillo Stanley 20oz",category:"Herramientas",stockTotal:45,stockByBranch:{1:30,2:10,3:5},minStock:10},{id:"2",sku:"CEM-AVE",name:"Cemento Avellaneda 50kg",category:"Construccin",stockTotal:8,stockByBranch:{1:5,2:0,3:3},minStock:20},{id:"3",sku:"TAL-650",name:"Taladro Bosch GSB 650",category:"Mquinas",stockTotal:12,stockByBranch:{1:8,2:4,3:0},minStock:5},{id:"4",sku:"CAB-001",name:"Cable Unipolar 2.5mm",category:"Electricidad",stockTotal:1500,stockByBranch:{1:1e3,2:200,3:300},minStock:500}]),i=[{id:"1",name:"Depsito Central"},{id:"2",name:"Sucursal Norte"},{id:"3",name:"Sucursal Oeste"}],o=s.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.sku.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Gestin de Depsito e Inventario"}),a.jsx("p",{className:"text-slate-500",children:"Controla el stock fsico y gestiona transferencias entre ubicaciones."})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>e(!0),className:"bg-white border border-slate-200 px-4 py-2.5 rounded-xl font-bold text-slate-700 flex items-center gap-2 hover:bg-slate-50 transition-all shadow-sm",children:[a.jsx(qx,{className:"w-5 h-5 text-orange-600"})," Transferir Stock"]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 shadow-lg shadow-orange-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Ajuste Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(GF,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Artculos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:s.length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-100 text-orange-600 rounded-xl",children:a.jsx(gs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Bajo Stock"}),a.jsx("h3",{className:"text-2xl font-black text-orange-600",children:s.filter(l=>l.stockTotal<=l.minStock).length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 text-green-600 rounded-xl",children:a.jsx(ys,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"En Trnsito"}),a.jsx("h3",{className:"text-2xl font-black text-green-600",children:"4"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Kr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Valorizado Total"}),a.jsx("h3",{className:"text-xl font-black",children:"$4.8M"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por SKU o descripcin...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:n,onChange:l=>r(l.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2.5 border border-slate-200 rounded-xl text-slate-500 hover:bg-white shadow-sm bg-white transition-colors",children:a.jsx(DM,{className:"w-5 h-5"})}),a.jsx("button",{className:"px-4 py-2.5 bg-slate-900 text-white rounded-xl text-xs font-black uppercase tracking-widest shadow-lg",children:"Descargar Reporte"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Artculo / SKU"}),a.jsx("th",{className:"px-6 py-4",children:"Categora"}),i.map(l=>a.jsx("th",{className:"px-6 py-4 text-center",children:l.name},l.id)),a.jsx("th",{className:"px-6 py-4 text-right",children:"Stock Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:o.map(l=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${l.stockTotal<=l.minStock?"bg-orange-100 text-orange-600":"bg-slate-100 text-slate-400"}`,children:a.jsx(pd,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:l.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:l.sku})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-500 rounded-lg text-[10px] font-black uppercase tracking-wider",children:l.category})}),i.map(c=>a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`font-black ${l.stockByBranch[c.id]===0?"text-slate-200":"text-slate-700"}`,children:l.stockByBranch[c.id]||0})},c.id)),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:`text-lg font-black ${l.stockTotal<=l.minStock?"text-orange-600":"text-slate-900"}`,children:l.stockTotal}),l.stockTotal<=l.minStock&&a.jsxs("span",{className:"text-[8px] font-black text-orange-500 uppercase tracking-widest -mt-1 flex items-center gap-1",children:[a.jsx(gs,{className:"w-2.5 h-2.5"})," Reponer"]})]})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver Historial",children:a.jsx(B1,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Editar Stock",children:a.jsx(xs,{className:"w-4 h-4"})})]}),a.jsx("button",{className:"group-hover:hidden text-slate-300",children:a.jsx(lU,{className:"w-5 h-5 mx-auto"})})]})]},l.id))})]})})]}),t&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] shadow-2xl overflow-hidden animate-in slide-in-from-bottom duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 text-white rounded-2xl flex items-center justify-center backdrop-blur-sm",children:a.jsx(qx,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Transferencia de Stock"}),a.jsx("p",{className:"text-orange-100 text-[10px] font-bold uppercase tracking-widest mt-1",children:"Movimiento de mercadera entre depsitos"})]})]}),a.jsx("button",{onClick:()=>e(!1),className:"p-2 hover:bg-orange-700 rounded-xl transition-all text-white/70 hover:text-white",children:a.jsx(ze,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Producto a Mover"}),a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{className:"w-full pl-9 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Buscar por SKU o nombre..."})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 relative",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Origen"}),a.jsx("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))})]}),a.jsx("div",{className:"absolute left-1/2 top-[60%] -translate-x-1/2 -translate-y-1/2 z-10 p-2 bg-orange-600 text-white rounded-full border-4 border-white shadow-xl",children:a.jsx(qx,{className:"w-4 h-4"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Destino"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{value:"",children:"Seleccione Destino"}),i.map(l=>a.jsx("option",{value:l.id,children:l.name},l.id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",placeholder:"0",className:"w-full px-6 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-2xl text-slate-900 bg-slate-50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Prioridad"}),a.jsxs("select",{className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800 bg-slate-50 shadow-sm",children:[a.jsx("option",{children:"Normal"}),a.jsx("option",{children:"Urgente (Envo hoy)"}),a.jsx("option",{children:"Planificado"})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>e(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{className:"flex-[2] py-4 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar Envo ",a.jsx(ys,{className:"w-5 h-5 text-orange-500"})]})]})]})})]})},lEe=20,cEe=()=>{const{loading:t,addProduct:e,updateProduct:n,deleteProduct:r,suppliers:s,fetchProductsPaginatedAndFiltered:i}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState(!1),[d,f]=D.useState("general"),[h,x]=D.useState(!1),[y,b]=D.useState([]),[v,N]=D.useState(null),[_,S]=D.useState(!0),[C,T]=D.useState(!1),w=D.useRef(null),[E,A]=D.useState(null),[j,M]=D.useState({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),[P,O]=D.useState({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),[R,q]=D.useState({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),[F,$]=D.useState({isFractionable:!1,unitName:"",unitsPerParent:1}),[B,V]=D.useState({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),H=D.useCallback(async(z=!1,Q=o,ee=v)=>{T(!0);try{const ue={limit:lEe,searchTerm:Q.toLowerCase().trim(),startAfterDoc:z?void 0:ee,orderByField:"name",orderDirection:"asc"},{products:G,lastVisible:oe,hasMore:de}=await i(ue);b(ie=>z?G:[...ie,...G]),N(oe),S(de)}catch(ue){console.error("Error loading products:",ue)}finally{T(!1)}},[o,v,i]);D.useEffect(()=>{t||H(!0,o,null)},[o,t,H]);const J=U.useMemo(()=>{let z=P.baseCost;P.discounts.forEach(ue=>{ue>0&&(z=z*(1-ue/100))});const Q=z*(1+P.markup/100),ee=Q*(1+P.ivaRate/100);return{netCost:z,priceWithoutIva:Q,finalSalePrice:ee}},[P]),W=()=>{A(null),M({name:"",sku:"",category:"",brand:"",saleCurrency:"ARS",supplierProductCode:"",imageUrl:"",primaryUnit:"unidad",saleUnit:"unidad"}),O({baseCost:0,ivaRate:21,discounts:[0,0,0],markup:30,supplierId:"",purchaseCurrency:"ARS"}),q({stock:0,minStock:5,location:"",reorderPoint:0,targetStock:0,packQuantity:1}),$({isFractionable:!1,unitName:"",unitsPerParent:1}),V({isOnline:!1,onlinePriceAdjustment:0,mlSync:!1}),f("general")},X=z=>{A(z),z?(M({name:z.name,sku:z.sku,category:z.category,brand:z.brand,saleCurrency:z.saleCurrency||"ARS",supplierProductCode:z.supplierProductCode||"",imageUrl:z.imageUrl||"",primaryUnit:z.primaryUnit||"unidad",saleUnit:z.saleUnit||"unidad"}),O({baseCost:z.costPrice||0,ivaRate:21,discounts:[],markup:z.salePrice&&z.costPrice?(z.salePrice/(z.costPrice*1.21)-1)*100:30,supplierId:z.supplierId||"",purchaseCurrency:z.purchaseCurrency||"ARS"}),q({stock:z.stock,minStock:z.minStock||5,location:z.location||"",reorderPoint:z.reorderPoint||0,targetStock:z.targetStock||0,packQuantity:z.packQuantity||1}),$({isFractionable:z.isFractionable||!1,unitName:z.unitName||"",unitsPerParent:z.unitsPerParent||1}),V({isOnline:z.isOnline||!1,onlinePriceAdjustment:z.onlinePriceAdjustment||0,mlSync:z.mlSync||!1})):W(),u(!0)},se=z=>{var ee;const Q=(ee=z.target.files)==null?void 0:ee[0];if(Q){const ue=new FileReader;ue.onload=G=>{M(oe=>{var de;return{...oe,imageUrl:(de=G.target)==null?void 0:de.result}})},ue.readAsDataURL(Q)}},be=async()=>{x(!0);const z={sku:j.sku||"",name:j.name||"",supplierId:P.supplierId||"",costPrice:J.netCost,salePrice:J.finalSalePrice,stock:R.stock,category:j.category||"General",brand:j.brand||"N/A",reorderPoint:R.reorderPoint,targetStock:R.targetStock,packQuantity:R.packQuantity,purchaseCurrency:P.purchaseCurrency,saleCurrency:j.saleCurrency||"ARS",supplierProductCode:j.supplierProductCode||"",minStock:R.minStock,location:R.location,imageUrl:j.imageUrl,primaryUnit:j.primaryUnit||"unidad",saleUnit:j.saleUnit||"unidad",isFractionable:F.isFractionable,unitName:F.unitName,unitsPerParent:F.unitsPerParent,isOnline:B.isOnline,onlinePriceAdjustment:B.onlinePriceAdjustment,mlSync:B.mlSync};try{E?await n(E.id,z):await e(z),u(!1),W(),H(!0)}catch(Q){alert("Error al guardar"),console.error("Error saving product:",Q)}finally{x(!1)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Inventario Real-Time"}),a.jsx("p",{className:"text-slate-500",children:"Gestin centralizada de stock."})]}),a.jsxs("button",{onClick:()=>{X(null)},className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nuevo Producto"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none",value:o,onChange:z=>l(z.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map(z=>{var Q;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:z.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:z.sku})]}),a.jsx("td",{className:"px-8 py-6 text-center font-black",children:z.stock}),a.jsxs("td",{className:"px-8 py-6 text-right font-black",children:["$",(Q=z.salePrice)==null?void 0:Q.toLocaleString()]}),a.jsxs("td",{className:"px-8 py-6 text-center",children:[a.jsx("button",{onClick:()=>X(z),className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>r(z.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]},z.id)})})]}),C&&a.jsxs("div",{className:"p-10 text-center",children:[a.jsx(Fe,{className:"animate-spin inline mr-2"})," Cargando..."]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2rem] shadow-2xl overflow-hidden flex flex-col animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-5 flex justify-between items-center text-white",children:[a.jsx("h2",{className:"text-xl font-black uppercase",children:E?"Editar Producto":"Nuevo Producto"}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[600px]",children:[" ",a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"General",icon:pd},{id:"costs",label:"Costos y Precios",icon:En},{id:"inventory",label:"Inventario Fsico",icon:Ov},{id:"fractioned",label:"Venta Fraccionada",icon:gd},{id:"ecommerce",label:"E-commerce",icon:zi}].map(z=>a.jsxs("button",{onClick:()=>f(z.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${d===z.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[a.jsx(z.icon,{className:"w-4 h-4 inline-block mr-2"}),z.label]},z.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8 custom-scrollbar",children:[d==="general"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(pd,{className:"w-4 h-4 text-orange-600"})," Datos Generales"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Producto"}),a.jsx("input",{value:j.name||"",onChange:z=>M({...j,name:z.target.value}),placeholder:"Ej: Martillo Stanley 20oz",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"SKU / Cdigo Interno"}),a.jsx("input",{value:j.sku||"",onChange:z=>M({...j,sku:z.target.value}),placeholder:"Ej: MST-20Z",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidad Primaria (Stock)"}),a.jsxs("select",{value:j.primaryUnit||"unidad",onChange:z=>M({...j,primaryUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidad de Venta"}),a.jsxs("select",{value:j.saleUnit||"unidad",onChange:z=>M({...j,saleUnit:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"unidad",children:"Unidad"}),a.jsx("option",{value:"m2",children:"m2"}),a.jsx("option",{value:"kg",children:"kg"}),a.jsx("option",{value:"litro",children:"Litro"}),a.jsx("option",{value:"tabla",children:"Tabla"}),a.jsx("option",{value:"caja",children:"Caja"}),a.jsx("option",{value:"barra",children:"Barra"}),a.jsx("option",{value:"metro_lineal",children:"Metro Lineal"}),a.jsx("option",{value:"pie",children:"Pie"}),a.jsx("option",{value:"cm",children:"cm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora / Rubro"}),a.jsx("input",{value:j.category||"",onChange:z=>M({...j,category:z.target.value}),placeholder:"Ej: Herramientas Manuales",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsx("input",{value:j.brand||"",onChange:z=>M({...j,brand:z.target.value}),placeholder:"Ej: Stanley",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cd. Proveedor"}),a.jsx("input",{value:j.supplierProductCode||"",onChange:z=>M({...j,supplierProductCode:z.target.value}),placeholder:"Ej: ST201-M",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Venta"}),a.jsxs("select",{value:j.saleCurrency||"ARS",onChange:z=>M({...j,saleCurrency:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-100",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(hd,{className:"w-4 h-4 text-orange-600"})," Imagen del Producto"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-32 h-32 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200 flex items-center justify-center overflow-hidden",children:[j.imageUrl?a.jsx("img",{src:j.imageUrl,alt:"Producto",className:"w-full h-full object-cover"}):a.jsx(hd,{className:"w-8 h-8 text-slate-300"}),j.imageUrl&&a.jsx("button",{onClick:()=>M(z=>({...z,imageUrl:""})),className:"absolute top-2 right-2 p-1.5 bg-red-600 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(ze,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{var z;return(z=w.current)==null?void 0:z.click()},className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center gap-2",children:[a.jsx(Gp,{className:"w-4 h-4"})," Subir Imagen"]}),a.jsx("input",{ref:w,type:"file",className:"hidden",accept:"image/*",onChange:se}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-2",children:"Formatos: JPG, PNG. Max 2MB."})]})]})]})]}),d==="costs"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(En,{className:"w-4 h-4 text-green-600"})," Estructura de Costos y Precios"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Costo Base Unitario ($)"}),a.jsx("input",{type:"number",value:P.baseCost||"",onChange:z=>O({...P,baseCost:Number(z.target.value)}),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-green-500 outline-none font-bold text-green-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Porcentaje de IVA (%)"}),a.jsx("input",{type:"number",value:P.ivaRate||"",onChange:z=>O({...P,ivaRate:Number(z.target.value)}),placeholder:"21",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest ml-1 flex items-center gap-2",children:[a.jsx(z1,{className:"w-4 h-4 text-blue-600"})," Descuentos en Cascada"]}),a.jsx("p",{className:"text-[10px] text-slate-500 italic ml-1",children:"Aplica descuentos sucesivos al costo base (ej: 10% + 5% + 2%)."}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:P.discounts.map((z,Q)=>a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:z||"",onChange:ee=>{const ue=[...P.discounts];ue[Q]=Number(ee.target.value),O({...P,discounts:ue})},placeholder:"%",className:"w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-center"}),z>0&&a.jsx("button",{onClick:()=>{const ee=P.discounts.filter((ue,G)=>G!==Q);O({...P,discounts:ee.concat(0).slice(0,3)})},className:"absolute top-1/2 right-2 -translate-y-1/2 p-1 text-red-500 hover:text-red-700",children:a.jsx(ze,{className:"w-4 h-4"})})]},Q))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen de Ganancia (Markup %)"}),a.jsx("input",{type:"number",value:P.markup||"",onChange:z=>O({...P,markup:Number(z.target.value)}),placeholder:"30",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor Principal"}),a.jsxs("select",{value:P.supplierId||"",onChange:z=>O({...P,supplierId:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Ninguno"}),s.map(z=>a.jsx("option",{value:z.id,children:z.name},z.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Moneda de Compra"}),a.jsxs("select",{value:P.purchaseCurrency||"ARS",onChange:z=>O({...P,purchaseCurrency:z.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"ARS",children:"ARS - Pesos Argentinos"}),a.jsx("option",{value:"USD",children:"USD - Dlares Estadounidenses"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Precio de Venta Sugerido (IVA Incl.)"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",J.finalSalePrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(H1,{className:"w-4 h-4"}),a.jsxs("span",{children:["Margen Neto: ",P.markup,"%"]})]})]}),a.jsx(En,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]})]}),d==="inventory"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ov,{className:"w-4 h-4 text-blue-600"})," Detalles de Inventario"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Actual"}),a.jsx("input",{type:"number",value:R.stock||"",onChange:z=>q({...R,stock:Number(z.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Mnimo de Alerta"}),a.jsx("input",{type:"number",value:R.minStock||"",onChange:z=>q({...R,minStock:Number(z.target.value)}),placeholder:"5",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ubicacin en Depsito"}),a.jsx("input",{value:R.location||"",onChange:z=>q({...R,location:z.target.value}),placeholder:"Ej: A-05-Estante 2",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto de Reorden"}),a.jsx("input",{type:"number",value:R.reorderPoint||"",onChange:z=>q({...R,reorderPoint:Number(z.target.value)}),placeholder:"10",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:R.targetStock||"",onChange:z=>q({...R,targetStock:Number(z.target.value)}),placeholder:"20",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad por Bulto/Pack"}),a.jsx("input",{type:"number",value:R.packQuantity||"",onChange:z=>q({...R,packQuantity:Number(z.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),d==="fractioned"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(gd,{className:"w-4 h-4 text-purple-600"})," Venta Fraccionada (por unidad de medida)"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Permite vender este producto en unidades menores a su formato de compra (ej. por metro, por kilogramo)."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:F.isFractionable||!1,onChange:z=>$({...F,isFractionable:z.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-purple-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Venta Fraccionada"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, podrs vender por unidades de medida ms pequeas."})]})]}),F.isFractionable&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Unidad Fraccionada"}),a.jsx("input",{value:F.unitName||"",onChange:z=>$({...F,unitName:z.target.value}),placeholder:"Ej: Metro, Kilogramo, Unidad",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Unidades por Producto Padre"}),a.jsx("input",{type:"number",value:F.unitsPerParent||"",onChange:z=>$({...F,unitsPerParent:Number(z.target.value)}),placeholder:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"bg-purple-50 p-6 rounded-[2rem] border border-purple-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-purple-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-purple-900",children:"Ejemplo:"}),a.jsx("p",{className:"text-xs text-purple-700 mt-1",children:'Si vendes "Cable Unipolar" por metro, y el producto "Cable Unipolar (Rollo 100mts)" tiene 100 "Metros" como unidad fraccionada.'})]})]})]})]}),d==="ecommerce"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(zi,{className:"w-4 h-4 text-yellow-600"})," Configuracin E-Commerce"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la presencia online de este producto en tu tienda web y MercadoLibre."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.isOnline||!1,onChange:z=>V({...B,isOnline:z.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Publicar en Tienda Web Propia"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, el producto aparecer en tu tienda online."})]})]}),B.isOnline&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-6 animate-in fade-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajuste de Precio Online (%)"}),a.jsx("input",{type:"number",value:B.onlinePriceAdjustment||"",onChange:z=>V({...B,onlinePriceAdjustment:Number(z.target.value)}),placeholder:"0",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ej: +5% para cubrir costos de pasarela de pago."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Sincronizar con MercadoLibre"}),a.jsxs("div",{className:"p-3 bg-slate-50 rounded-xl border border-slate-100 flex items-center gap-3",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:B.mlSync||!1,onChange:z=>V({...B,mlSync:z.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-yellow-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsx("div",{className:"flex-1",children:a.jsxs("p",{className:"text-sm font-black text-slate-800 uppercase flex items-center gap-2",children:[a.jsx(Hp,{className:"w-4 h-4 text-yellow-500"}),"ML Auto-Sync"]})})]})]})]}),a.jsxs("div",{className:"bg-yellow-50 p-6 rounded-[2rem] border border-yellow-100 flex items-start gap-4",children:[a.jsx(gs,{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-yellow-900",children:"MercadoLibre:"}),a.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"La sincronizacin de precios y stock con ML se configura en el mdulo de E-commerce."})]})]})]})]})]})]}),a.jsxs("div",{className:"p-6 border-t flex justify-end gap-4 bg-slate-50",children:[a.jsx("button",{onClick:()=>u(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:be,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black shadow-xl shadow-slate-900/20 hover:bg-slate-800 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:[h?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(An,{className:"w-5 h-5 text-orange-500"}),h?"Guardando...":"Guardar Producto"]})]})]})})]})},uEe=()=>{var b;const t=D.useRef(null),[e,n]=D.useState(1),[r,s]=D.useState(null),[i,o]=D.useState(null),[l,c]=D.useState(!1),[u,d]=D.useState(0),f=[{id:"products",label:"Artculos",icon:Cv,color:"text-blue-600",bg:"bg-blue-100",desc:"Precios, stock y cdigos"},{id:"clients",label:"Clientes",icon:Xr,color:"text-green-600",bg:"bg-green-100",desc:"CUIT, contactos y saldos"},{id:"suppliers",label:"Proveedores",icon:ys,color:"text-orange-600",bg:"bg-orange-100",desc:"Datos fiscales y descuentos"},{id:"brands",label:"Marcas",icon:Al,color:"text-purple-600",bg:"bg-purple-100",desc:"Listado maestro de marcas"},{id:"categories",label:"Rubros",icon:q1,color:"text-pink-600",bg:"bg-pink-100",desc:"Categorizacin del catlogo"}],h=v=>{switch(v){case"products":return[{key:"sku",label:"Cdigo SKU / Interno (CODIGO Propio)",required:!0},{key:"name",label:"Descripcin del Producto (Nombre)",required:!0},{key:"brand",label:"Marca (Marca)",required:!0},{key:"category",label:"Rubro / Categora (Rubro)",required:!0},{key:"costPrice",label:"Precio Costo Neto (Costo)",required:!0},{key:"salePrice",label:"Precio Venta Sugerido",required:!1},{key:"stock",label:"Stock Inicial (Stock)",required:!1},{key:"minStock",label:"Stock Mnimo (StockMinimo)",required:!1},{key:"targetStock",label:"Stock Mximo / Ideal (StockMaximo)",required:!1},{key:"reorderPoint",label:"Punto de Reorden (Punto pedido)",required:!1},{key:"supplierName",label:"Nombre Proveedor (Proveedor)",required:!0},{key:"supplierProductCode",label:"Cdigo de Proveedor (Cod PROV)",required:!1},{key:"purchaseCurrency",label:"Moneda de Compra (MonedaCompra)",required:!1},{key:"saleCurrency",label:"Moneda de Venta (MonedaVenta)",required:!1},{key:"markupPercentage",label:"Margen de Ganancia (%) (Porcentaje ganancia)",required:!1},{key:"barcode",label:"Cdigo de Barras (Codigo de Barras)",required:!1},{key:"purchaseUnitName",label:"Unidad de Medida Compra (1DeMedidaCompra)",required:!1},{key:"discount1",label:"Descuento Proveedor 1 (%) (descuento 1)",required:!1},{key:"discount2",label:"Descuento Proveedor 2 (%) (descuento 2)",required:!1},{key:"discount3",label:"Descuento Proveedor 3 (%) (descuento 3)",required:!1},{key:"listCost",label:"Costo de Lista (COSTOS LISTA)",required:!1},{key:"otherCode1",label:"Otro Cdigo (OtrosCodigos1)",required:!1},{key:"otherCode2",label:"Otro Cdigo (OtrosCodigos2)",required:!1},{key:"otherCode3",label:"Otro Cdigo (OtrosCodigos3)",required:!1}];case"clients":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT / DNI",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"WhatsApp / Tel",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"suppliers":return[{key:"name",label:"Razn Social / Nombre",required:!0},{key:"cuit",label:"CUIT",required:!0},{key:"email",label:"Email",required:!1},{key:"phone",label:"Telfono",required:!1},{key:"discount1",label:"Descuento 1 (%)",required:!1},{key:"discount2",label:"Descuento 2 (%)",required:!1},{key:"discount3",label:"Descuento 3 (%)",required:!1},{key:"balance",label:"Saldo Inicial",required:!1}];case"brands":return[{key:"name",label:"Nombre de Marca",required:!0},{key:"origin",label:"Pas de Origen",required:!1}];case"categories":return[{key:"name",label:"Nombre de Categora",required:!0},{key:"description",label:"Descripcin",required:!1}];default:return[{key:"name",label:"Nombre / Descripcin",required:!0}]}},x=v=>{var _;const N=(_=v.target.files)==null?void 0:_[0];o(N||null)},y=()=>{if(!i)return;c(!0);let v=0;const N=setInterval(()=>{v+=10,d(v),v>=100&&(clearInterval(N),c(!1),n(4))},200)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Importacin Masiva de Datos"}),a.jsx("p",{className:"text-slate-500",children:"Migra tu informacin desde archivos Excel de forma rpida y segura."})]}),e>1&&a.jsxs("button",{onClick:()=>{n(e-1),o(null),c(!1),d(0)},className:"flex items-center gap-2 text-slate-500 font-bold hover:text-slate-800 transition-colors",children:[a.jsx(PM,{className:"w-5 h-5"})," Volver al paso anterior"]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 shadow-sm flex items-center justify-between mb-8 overflow-x-auto",children:[{id:1,label:"Seleccionar Tipo",icon:Zi},{id:2,label:"Cargar Archivo",icon:Pv},{id:3,label:"Mapear Columnas",icon:bt},{id:4,label:"Anlisis y Carga",icon:wn}].map((v,N)=>a.jsxs(U.Fragment,{children:[a.jsxs("div",{className:`flex items-center gap-3 shrink-0 ${e===v.id?"text-orange-600":"text-slate-400"}`,children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 font-bold ${e>=v.id?"border-orange-500 bg-orange-50 text-orange-600":"border-slate-100"}`,children:e>v.id?a.jsx(wn,{className:"w-6 h-6"}):v.id}),a.jsx("span",{className:"text-xs font-black uppercase tracking-widest hidden md:block",children:v.label})]}),N<3&&a.jsx(lr,{className:"w-5 h-5 text-slate-100"})]},v.id))}),e===1&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6 animate-in slide-in-from-bottom duration-300",children:f.map(v=>a.jsxs("button",{onClick:()=>{s(v.id),n(2)},className:"bg-white p-8 rounded-[2.5rem] border-2 border-slate-100 hover:border-orange-500 hover:shadow-2xl hover:shadow-orange-500/10 transition-all flex flex-col items-center text-center group",children:[a.jsx("div",{className:`p-5 ${v.bg} ${v.color} rounded-[1.5rem] mb-6 group-hover:scale-110 transition-transform`,children:a.jsx(v.icon,{className:"w-8 h-8"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight mb-2",children:v.label}),a.jsx("p",{className:"text-xs text-slate-400 font-medium leading-relaxed",children:v.desc})]},v.id))}),e===2&&r&&a.jsx("div",{className:"bg-white rounded-[3rem] border border-slate-100 shadow-sm p-12 text-center space-y-8 animate-in zoom-in duration-300",children:a.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[a.jsx("div",{className:"w-24 h-24 bg-orange-50 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white shadow-xl",children:a.jsx(jv,{className:"w-10 h-10"})}),a.jsxs("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:["Cargar archivo de ",(b=f.find(v=>v.id===r))==null?void 0:b.label]}),a.jsx("p",{className:"text-slate-500",children:"Arrastra tu archivo Excel (.xlsx) o CSV aqu para comenzar el proceso de importacin."}),a.jsxs("div",{onClick:()=>{var v;return(v=t.current)==null?void 0:v.click()},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-16 hover:border-orange-200 hover:bg-orange-50/20 transition-all cursor-pointer group",children:[i?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(jv,{className:"w-12 h-12 text-orange-600 mx-auto"}),a.jsx("p",{className:"font-bold text-slate-800 text-lg",children:i.name}),a.jsxs("button",{onClick:v=>{v.stopPropagation(),o(null),t.current&&(t.current.value="")},className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-red-100 transition-all",children:[a.jsx(ze,{className:"w-4 h-4"})," Cambiar Archivo"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Pv,{className:"w-12 h-12 text-slate-300 mx-auto mb-4 group-hover:text-orange-400"}),a.jsx("p",{className:"font-bold text-slate-400 group-hover:text-orange-600",children:"Haz clic o arrastra el archivo aqu"})]}),a.jsx("input",{ref:t,type:"file",className:"hidden",accept:".xlsx,.csv",onChange:x})]}),a.jsx("div",{className:"flex justify-center gap-4",children:a.jsxs("button",{className:"flex items-center gap-2 text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-600",children:[a.jsx(bu,{className:"w-4 h-4"})," Descargar Plantilla Modelo"]})}),a.jsx("button",{onClick:()=>n(3),disabled:!i,className:"mt-8 bg-slate-900 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl hover:bg-slate-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar al Mapeo"})]})}),e===3&&r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-right duration-300",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 bg-slate-50/50",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Zi,{className:"w-6 h-6 text-orange-600"})," Mapeo de Columnas"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Vincula los campos del sistema con las columnas de tu archivo Excel."})]}),a.jsx("div",{className:"p-8 space-y-6",children:h(r).map(v=>a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4 p-4 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100 group",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 flex items-center gap-1",children:[v.label," ",v.required&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("p",{className:"text-sm font-bold text-slate-700",children:"Campo FerroGest"})]}),a.jsx(lr,{className:"hidden md:block w-5 h-5 text-slate-200 group-hover:text-orange-400 transition-colors"}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white appearance-none",children:[a.jsx("option",{children:"Seleccionar Columna Excel..."}),a.jsx("option",{children:"Columna A (Dato 1)"}),a.jsx("option",{children:"Columna B (Dato 2)"}),a.jsx("option",{children:"Columna C (Dato 3)"})]})})]},v.key))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden shadow-xl",children:[a.jsx(cr,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejos de Importacin"}),a.jsxs("ul",{className:"space-y-3 text-sm text-slate-400",children:[a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Asegrate de que no haya filas vacas al inicio."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"Los montos deben ser numricos sin smbolos de moneda."})]}),a.jsxs("li",{className:"flex gap-2",children:[a.jsx(wn,{className:"w-5 h-5 text-orange-500 shrink-0"}),a.jsx("span",{children:"El CUIT debe ser solo nmeros (20334445551)."})]})]})]})]}),a.jsx("button",{onClick:y,className:"w-full bg-orange-600 text-white py-6 rounded-[2rem] font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95",children:l?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):"Procesar e Importar"})]})]}),e===4&&a.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Registros"}),a.jsx("h3",{className:"text-4xl font-black text-slate-800",children:"1.248"})]}),a.jsxs("div",{className:"bg-green-50 p-8 rounded-3xl border border-green-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest mb-1",children:"Nuevos"}),a.jsx("h3",{className:"text-4xl font-black text-green-800",children:"952"})]}),a.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-blue-600 uppercase tracking-widest mb-1",children:"Actualizados"}),a.jsx("h3",{className:"text-4xl font-black text-blue-800",children:"284"})]}),a.jsxs("div",{className:"bg-red-50 p-8 rounded-3xl border border-red-100 shadow-sm",children:[a.jsx("p",{className:"text-[10px] font-black text-red-600 uppercase tracking-widest mb-1",children:"Errores"}),a.jsx("h3",{className:"text-4xl font-black text-red-800",children:"12"})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center",children:[a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Vista Previa del Anlisis"}),a.jsx("button",{className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Ver Solo Errores"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Identificador"}),a.jsx("th",{className:"px-8 py-5",children:"Nombre / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Estado"}),a.jsx("th",{className:"px-8 py-5",children:"Motivo / Accin"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"77912345678"}),a.jsx("td",{className:"px-8 py-5",children:"MARTILLO STANLEY 20OZ"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-[10px] font-black uppercase",children:"Actualizacin"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Actualiza precio de $4500 a $5200"})]}),a.jsxs("tr",{className:"text-sm",children:[a.jsx("td",{className:"px-8 py-5 font-bold",children:"20-44555666-1"}),a.jsx("td",{className:"px-8 py-5",children:"FERRETERIA SAN CARLOS"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase",children:"Nuevo"})}),a.jsx("td",{className:"px-8 py-5 text-slate-400 italic font-medium",children:"Alta de nuevo registro"})]}),a.jsxs("tr",{className:"text-sm bg-red-50/30",children:[a.jsx("td",{className:"px-8 py-5 font-bold text-red-600",children:"ERROR-404"}),a.jsx("td",{className:"px-8 py-5 text-red-400 italic",children:"SIN NOMBRE"}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:"Error crtico"})}),a.jsxs("td",{className:"px-8 py-5 text-red-600 font-bold flex items-center gap-2",children:[a.jsx(Ks,{className:"w-4 h-4"})," Falta campo requerido (Nombre)"]})]})]})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[a.jsx(Ks,{className:"w-8 h-8"}),a.jsx("p",{className:"text-sm font-medium leading-relaxed max-w-lg",children:"Se encontraron 12 registros con errores que no podrn ser importados. Puedes corregirlos en tu Excel y re-intentar, o continuar ignorando esos registros."})]}),a.jsxs("div",{className:"flex gap-4 w-full md:w-auto",children:[a.jsx("button",{onClick:()=>n(1),className:"flex-1 md:flex-none py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Descartar todo"}),a.jsxs("button",{onClick:()=>{alert("Carga completada con xito!"),n(1)},className:"flex-1 md:flex-none py-4 px-12 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest",children:["Confirmar y Cargar Datos ",a.jsx(wn,{className:"w-5 h-5"})]})]})]})]})]})},dEe=10,fEe=()=>{const{fetchProductsPaginatedAndFiltered:t,loading:e}=Nt(),[n,r]=D.useState("sugerencias"),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),d=D.useCallback(f=>{const h=setTimeout(async()=>{if(!(f.length<2)){u(!0);try{const{products:x}=await t({limit:dEe,searchTerm:f,orderByField:"name",orderDirection:"asc"});l(x)}finally{u(!1)}}},300);return()=>clearTimeout(h)},[t]);return D.useEffect(()=>{s&&d(s)},[s,d]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Pedidos de Compra"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de reposicin y abastecimiento."})]}),a.jsxs("button",{className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2",children:[a.jsx(Ye,{className:"w-5 h-5"})," Orden Manual"]})]}),a.jsxs("div",{className:"bg-white rounded-3xl border shadow-sm p-6",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{placeholder:"Buscar productos para pedir...",value:s,onChange:f=>i(f.target.value),className:"w-full border pl-10 p-3 rounded-xl"})]}),a.jsxs("div",{className:"space-y-3",children:[o.map(f=>a.jsxs("div",{className:"p-4 border rounded-2xl flex justify-between items-center hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:f.name}),a.jsx("p",{className:"text-xs text-slate-400",children:f.sku})]}),a.jsx("button",{className:"bg-orange-600 text-white p-2 rounded-xl",children:a.jsx(Tl,{className:"w-5 h-5"})})]},f.id)),c&&a.jsx(Fe,{className:"animate-spin mx-auto"})]})]})]})},hEe=()=>{const{clients:t,suppliers:e,addTransaction:n,updateClient:r}=Nt(),[s,i]=D.useState("clients"),[o,l]=D.useState(""),[c,u]=D.useState(null),[d,f]=D.useState(null),[h,x]=D.useState({show:!1,type:null}),y=[{id:"FC-0001-4829",date:"2024-05-15",type:"Factura A",amount:-45e3,status:"Pendiente"},{id:"RE-0001-1203",date:"2024-05-10",type:"Recibo",amount:15e3,status:"Applied"},{id:"FC-0001-4700",date:"2024-05-05",type:"Factura B",amount:-15200,status:"Vencido"},{id:"NC-0001-0052",date:"2024-05-01",type:"Nota de Crdito",amount:2500,status:"Applied"}],b=w=>{const E=encodeURIComponent(`Hola ${w.name}, te contactamos de FerroGest por tu cuenta corriente. Tu saldo deudor es de $${Math.abs(w.balance).toLocaleString()}. Por favor contctanos para coordinar el pago. Gracias.`);window.open(`https://wa.me/${w.whatsapp}?text=${E}`,"_blank")},v=t.filter(w=>(w.name.toLowerCase().includes(o.toLowerCase())||w.cuit.includes(o))&&(s==="clients"?w.balance<0:!0)),N=e.filter(w=>w.name.toLowerCase().includes(o.toLowerCase())||w.cuit.includes(o)),_=t.filter(w=>w.balance<0).reduce((w,E)=>w+Math.abs(E.balance),0),S=e.reduce((w,E)=>w+Math.abs(E.balance),0),C=()=>{u(null),f(null)},T=()=>{const w=h.type==="RECIBO",E=w?c:d;return E?a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[110] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${w?"bg-orange-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(FM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:w?"Nuevo Recibo de Cobro":"Nueva Orden de Pago"}),a.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80",children:[E.name,"  ",E.cuit]})]})]}),a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe del Pago ($)"}),a.jsx("input",{type:"number",placeholder:"0.00",className:`w-full px-6 py-5 border-2 rounded-2xl focus:ring-2 outline-none font-black text-3xl text-center shadow-inner ${w?"border-orange-100 focus:ring-orange-500 text-orange-600":"border-slate-100 focus:ring-slate-500 text-slate-800"}`})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha del Movimiento"}),a.jsx("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full px-5 py-5 border border-slate-200 rounded-2xl font-bold bg-slate-50 outline-none"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:["Forma de ",w?"Cobro":"Pago"]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"cash",label:"Efectivo",icon:yd},{id:"transfer",label:"Transferencia",icon:Fp},{id:"check",label:"Cheque",icon:Er}].map(A=>a.jsxs("button",{className:"p-4 border border-slate-200 rounded-2xl flex flex-col items-center gap-2 hover:border-orange-500 hover:bg-orange-50 transition-all group",children:[a.jsx(A.icon,{className:"w-5 h-5 text-slate-400 group-hover:text-orange-600"}),a.jsx("span",{className:"text-[10px] font-black uppercase text-slate-600",children:A.label})]},A.id))})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>x({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{alert("Operacin confirmada"),x({show:!1,type:null})},className:`flex-[1.5] py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${w?"bg-orange-600 hover:bg-orange-50":"bg-slate-900 hover:bg-slate-800"}`,children:["Confirmar Operacin ",a.jsx(An,{className:"w-5 h-5"})]})]})]})}):null};if(c||d){const w=!!c,E=w?c:d;return a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[h.show&&T(),a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("button",{onClick:C,className:"flex items-center gap-2 text-slate-500 font-black text-xs uppercase tracking-widest hover:text-slate-800 transition-all",children:[a.jsx(PM,{className:"w-5 h-5"})," Volver al Listado"]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:()=>x({show:!0,type:w?"RECIBO":"ORDEN_PAGO"}),className:`px-6 py-2.5 rounded-xl font-black text-xs uppercase tracking-widest flex items-center gap-2 shadow-lg transition-all ${w?"bg-orange-600 text-white":"bg-slate-900 text-white"}`,children:[a.jsx(Ye,{className:"w-4 h-4"})," ",w?"Emitir Recibo":"Nueva Orden de Pago"]})})]}),a.jsxs("div",{className:`rounded-[3rem] p-10 text-white relative overflow-hidden shadow-2xl ${w?"bg-slate-900":"bg-slate-800"}`,children:[a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`w-20 h-20 rounded-[1.5rem] flex items-center justify-center text-3xl font-black ${w?"bg-orange-600":"bg-blue-600"}`,children:E.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-black tracking-tight",children:E.name}),a.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-[0.2em] text-xs",children:E.cuit})]})]}),a.jsxs("div",{className:"text-left md:text-right",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:w?"Saldo Total Deudor":"Saldo Total Acreedor"}),a.jsxs("h3",{className:"text-5xl font-black text-white",children:["$",Math.abs(E.balance).toLocaleString()]})]})]}),a.jsx(En,{className:"absolute -bottom-10 -right-10 w-48 h-48 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-8 border-b border-slate-50 flex justify-between items-center bg-slate-50/30",children:a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B1,{className:`w-5 h-5 ${w?"text-orange-600":"text-blue-600"}`})," Historial de Movimientos"]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-white text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha"}),a.jsx("th",{className:"px-8 py-5",children:"Tipo / N"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:y.map(A=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-all group",children:[a.jsx("td",{className:"px-8 py-6 text-sm font-bold text-slate-600",children:new Date(A.date).toLocaleDateString()}),a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-black text-slate-800 text-sm tracking-tight",children:A.id}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:A.type})]}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${A.amount<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(A.amount).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all text-[10px] font-black uppercase tracking-widest shadow-sm",children:[a.jsx(fd,{className:"w-4 h-4"})," Ver"]})})]},A.id))})]})]})]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Saldos y Cuentas"}),a.jsx("p",{className:"text-slate-500",children:"Control de deudores y acreedores."})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-orange-100 text-orange-600 rounded-2xl",children:a.jsx(BM,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda de Clientes"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-red-100 text-red-600 rounded-2xl",children:a.jsx(Kr,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Deuda a Proveedores"}),a.jsxs("h3",{className:"text-3xl font-black text-slate-800",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] shadow-xl text-white flex items-center gap-6",children:[a.jsx("div",{className:"p-4 bg-white/10 rounded-2xl",children:a.jsx(En,{className:"w-8 h-8 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Neto"}),a.jsxs("h3",{className:"text-3xl font-black text-orange-500",children:["$",(_-S).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"flex gap-4 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>i("clients"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="clients"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(Xr,{className:"w-5 h-5"})," Deudores"]}),a.jsxs("button",{onClick:()=>i("suppliers"),className:`flex items-center gap-2 px-6 py-4 text-sm font-bold border-b-2 ${s==="suppliers"?"border-orange-500 text-orange-600":"border-transparent text-slate-500"}`,children:[a.jsx(ys,{className:"w-5 h-5"})," Acreedores"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 bg-slate-50/50 border-b border-slate-100",children:a.jsxs("div",{className:"relative max-w-md",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl outline-none",value:o,onChange:w=>l(w.target.value)})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Nombre / CUIT"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Saldo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s==="clients"?v.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>u(w),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:w.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(w.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsxs("button",{onClick:E=>{E.stopPropagation(),b(w)},className:"flex items-center gap-2 px-4 py-2 bg-green-50 text-green-600 rounded-xl border border-green-200 text-[10px] font-black uppercase",children:[a.jsx(aU,{className:"w-4 h-4"})," WhatsApp"]}),a.jsx(lr,{className:"w-5 h-5 text-slate-300"})]})})]},w.id)):N.map(w=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group cursor-pointer",onClick:()=>f(w),children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:w.cuit})]})}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.balance<0?"text-red-600":"text-green-600"}`,children:["$",Math.abs(w.balance).toLocaleString()]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx(lr,{className:"w-5 h-5 text-slate-300 mx-auto"})})]},w.id))})]})]})]})},pEe=()=>{const{transactions:t}=Nt(),[e,n]=D.useState("boxes"),[r,s]=D.useState({show:!1,type:null}),[i,o]=D.useState(!1),[l,c]=D.useState(!1),[u,d]=D.useState(null),[f,h]=D.useState(null),[x,y]=D.useState([{id:"1",name:"Caja Mostrador 01",balance:142500,type:"efectivo",status:"abierta",responsible:"Carlos V."},{id:"2",name:"Banco Nacin (Cta Cte)",balance:45e4,type:"banco",status:"abierta",responsible:"Admin"},{id:"3",name:"Caja Fuerte / Reserva",balance:12e5,type:"efectivo",status:"cerrada",lastClosed:"2024-05-20"},{id:"4",name:"Cartera de Cheques",balance:85400,type:"cheques",status:"abierta"}]),[b,v]=D.useState([{id:"m1",date:new Date().toISOString(),boxId:"1",type:"ingreso",amount:4500,method:"efectivo",category:"Venta",description:"Ticket #4829",user:"Carlos V."},{id:"m2",date:new Date().toISOString(),boxId:"1",type:"egreso",amount:1200,method:"efectivo",category:"Gastos",description:"Compra de artculos limpieza",user:"Carlos V."},{id:"m3",date:new Date().toISOString(),boxId:"2",type:"transferencia",amount:5e4,method:"transferencia",category:"Interno",description:"De Caja Mostrador a Banco",user:"Admin"}]),N=D.useMemo(()=>x.reduce((w,E)=>w+E.balance,0),[x]),_=D.useMemo(()=>x.filter(w=>w.type==="efectivo").reduce((w,E)=>w+E.balance,0),[x]),S=w=>{w.preventDefault();const E=new FormData(w.currentTarget),A=parseFloat(E.get("amount")),j=E.get("boxId"),M=r.type,P={id:`m${Date.now()}`,date:new Date().toISOString(),boxId:j,type:M,amount:A,method:E.get("method"),category:E.get("category"),description:E.get("description"),user:"Admin"};v([P,...b]),y(O=>O.map(R=>R.id===j?{...R,balance:M==="egreso"?R.balance-A:R.balance+A}:R)),s({show:!1,type:null}),alert("Movimiento registrado con xito")},C=w=>{w.preventDefault();const E=new FormData(w.currentTarget),A=E.get("name"),j=E.get("type"),M=E.get("responsible"),P=parseFloat(E.get("balance"))||0;if(f)y(O=>O.map(R=>R.id===f.id?{...R,name:A,type:j,responsible:M}:R)),alert("Caja actualizada con xito");else{const O={id:`box-${Date.now()}`,name:A,type:j,responsible:M,balance:P,status:"abierta"};y(R=>[...R,O]),alert("Nueva caja creada con xito")}c(!1),h(null)},T=w=>{window.confirm("Ests seguro de eliminar este fondo? Solo puedes hacerlo si no tiene movimientos pendientes.")&&y(E=>E.filter(A=>A.id!==w))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Tesorera y Control de Cajas"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Gestin de flujo de fondos, arqueos y transferencias bancarias."})]}),a.jsxs("div",{className:"flex bg-white border border-slate-200 p-1 rounded-2xl shadow-sm",children:[a.jsx("button",{onClick:()=>n("boxes"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="boxes"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Estado de Fondos"}),a.jsx("button",{onClick:()=>n("history"),className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${e==="history"?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-slate-50"}`,children:"Historial de Movimientos"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-[2rem] text-white shadow-xl relative overflow-hidden group",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total Consolidado"}),a.jsxs("h3",{className:"text-3xl font-black",children:["$",N.toLocaleString()]}),a.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs font-bold text-slate-400",children:[a.jsx(W1,{className:"w-4 h-4 text-green-500"}),"Auditora en tiempo real"]})]}),a.jsx(En,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12 group-hover:scale-110 transition-transform duration-700"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-green-50 text-green-600 rounded-2xl",children:a.jsx(qF,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Efectivo en Mano"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",_.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(Fp,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Saldos Bancarios"}),a.jsxs("h3",{className:"text-2xl font-black text-slate-800",children:["$",x.filter(w=>w.type==="banco").reduce((w,E)=>w+E.balance,0).toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm flex items-center gap-5",children:[a.jsx("div",{className:"p-4 bg-orange-50 text-orange-600 rounded-2xl",children:a.jsx(qi,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Tarjetas / MP"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:"$45.820"})]})]})]}),e==="boxes"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 animate-in slide-in-from-bottom duration-500",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.map(w=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2.5rem] p-8 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsx("div",{className:`p-4 rounded-2xl ${w.status==="abierta"?"bg-orange-50 text-orange-600":"bg-slate-50 text-slate-400"}`,children:w.type==="banco"?a.jsx(Fp,{className:"w-6 h-6"}):w.type==="virtual"?a.jsx(qi,{className:"w-6 h-6"}):a.jsx(yd,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{h(w),c(!0)},className:"p-2 text-slate-300 hover:text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>T(w.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-xl font-black text-slate-800 mb-1",children:w.name}),a.jsxs("p",{className:"text-3xl font-black text-slate-900 mb-6",children:["$",w.balance.toLocaleString()]}),w.status==="abierta"&&a.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-500",children:[a.jsx(Xr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Resp: ",a.jsx("span",{className:"text-slate-800",children:w.responsible||"Sistema"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>{d(w),o(!0)},className:"py-3 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all flex items-center justify-center gap-2",children:[a.jsx(Lp,{className:"w-4 h-4 text-orange-500"})," Arqueo y Cierre"]}),a.jsxs("button",{onClick:()=>s({show:!0,type:"transferencia"}),className:"py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all flex items-center justify-center gap-2",children:[a.jsx(yT,{className:"w-4 h-4"})," Transferir"]})]})]}),w.status==="cerrada"&&a.jsxs("div",{className:"pt-6 border-t border-slate-50 flex flex-col gap-2",children:[a.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase text-center italic",children:["Cerrada el ",w.lastClosed]}),a.jsxs("button",{onClick:()=>y(E=>E.map(A=>A.id===w.id?{...A,status:"abierta"}:A)),className:"w-full py-4 bg-orange-600 text-white rounded-xl font-black text-[10px] uppercase tracking-widest shadow-lg shadow-orange-600/20 hover:bg-orange-500 transition-all",children:[a.jsx(Ye,{className:"w-4 h-4 inline mr-2"})," Apertura de Caja"]})]})]},w.id)),a.jsxs("button",{onClick:()=>{h(null),c(!0)},className:"border-4 border-dashed border-slate-100 rounded-[2.5rem] p-10 flex flex-col items-center justify-center text-slate-300 hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white mb-4",children:a.jsx(Ye,{className:"w-8 h-8"})}),a.jsx("span",{className:"font-black uppercase text-xs tracking-[0.2em]",children:"Nuevo Fondo / Cuenta"})]})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("section",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-orange-600"})," Acciones de Tesorera"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("button",{onClick:()=>s({show:!0,type:"ingreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-green-50 border border-transparent hover:border-green-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-green-600 shadow-sm group-hover:bg-green-600 group-hover:text-white transition-all",children:a.jsx(xT,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Ingreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Aporte, Sobrante, Devolucin"})]})]}),a.jsx(lr,{className:"w-5 h-5 text-slate-300"})]}),a.jsxs("button",{onClick:()=>s({show:!0,type:"egreso"}),className:"w-full flex items-center justify-between p-5 bg-slate-50 rounded-2xl hover:bg-red-50 border border-transparent hover:border-red-200 transition-all group",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl text-red-600 shadow-sm group-hover:bg-red-600 group-hover:text-white transition-all",children:a.jsx(vT,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-xs font-black text-slate-800 uppercase tracking-widest",children:"Egreso Manual"}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Gastos, Retiro, Pago Varios"})]})]}),a.jsx(lr,{className:"w-5 h-5 text-slate-300"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 rounded-[2.5rem] p-8 text-white relative overflow-hidden",children:[a.jsx(cr,{className:"absolute -top-6 -right-6 w-32 h-32 text-white/5 -rotate-12"}),a.jsxs("div",{className:"relative z-10 space-y-4",children:[a.jsx("h4",{className:"text-lg font-black uppercase tracking-tight",children:"Consejo de Control"}),a.jsx("p",{className:"text-slate-400 text-xs leading-relaxed font-medium",children:"Realiza cierres de caja al menos una vez al da para detectar desvos de efectivo. Las transferencias a banco deben registrarse inmediatamente para mantener la conciliacin exacta."}),a.jsxs("button",{className:"text-orange-400 font-black text-[10px] uppercase tracking-widest flex items-center gap-2 hover:underline",children:["Ver Gua de Auditora ",a.jsx(Js,{className:"w-3 h-3"})]})]})]})]})]}):a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por descripcin, caja o usuario...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-white shadow-sm bg-white transition-all",children:[a.jsx(DM,{className:"w-4 h-4"})," Filtros"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Fecha / Hora"}),a.jsx("th",{className:"px-8 py-5",children:"Caja"}),a.jsx("th",{className:"px-8 py-5",children:"Concepto / Descripcin"}),a.jsx("th",{className:"px-8 py-5",children:"Medio"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Importe"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b.map(w=>{var E;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:new Date(w.date).toLocaleDateString()}),a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(w.date).toLocaleTimeString()})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:((E=x.find(A=>A.id===w.boxId))==null?void 0:E.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:w.category}),a.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:w.description})]}),a.jsx("td",{className:"px-8 py-5 uppercase font-black text-[10px] text-slate-500",children:w.method}),a.jsx("td",{className:"px-8 py-5 text-right",children:a.jsxs("span",{className:`text-lg font-black ${w.type==="egreso"?"text-red-600":w.type==="ingreso"?"text-green-600":"text-blue-600"}`,children:[w.type==="egreso"?"-":w.type==="transferencia"?"":"+","$",w.amount.toLocaleString()]})}),a.jsxs("td",{className:"px-8 py-5 text-center",children:[a.jsx("button",{className:"p-2 text-slate-300 hover:text-orange-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(fd,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-blue-600 transition-colors opacity-0 group-hover:opacity-100",children:a.jsx(qp,{className:"w-5 h-5"})})]})]},w.id)})})]})})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center",children:a.jsx(yd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:f?"Editar Caja":"Nueva Caja / Fondo"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de activos financieros"})]})]}),a.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:C,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Caja / Cuenta"}),a.jsx("input",{name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0,className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Ej: Caja Chica Mostrador"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Tipo de Fondo"}),a.jsxs("select",{name:"type",defaultValue:(f==null?void 0:f.type)||"efectivo",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50",children:[a.jsx("option",{value:"efectivo",children:"Efectivo Fsico"}),a.jsx("option",{value:"banco",children:"Cuenta Bancaria"}),a.jsx("option",{value:"virtual",children:"Billetera Virtual (MP, etc)"}),a.jsx("option",{value:"cheques",children:"Cartera de Cheques"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Responsable"}),a.jsx("input",{name:"responsible",defaultValue:(f==null?void 0:f.responsible)||"",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold",placeholder:"Nombre del encargado"})]})]}),!f&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Saldo Inicial ($)"}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{name:"balance",type:"number",step:"0.01",className:"w-full pl-12 pr-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-black text-xl text-orange-600",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8 mt-4",children:[a.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 uppercase text-xs tracking-widest hover:bg-orange-500 transition-all",children:f?"Guardar Cambios":"Crear Caja"})]})]})]})}),r.show&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[120] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:`p-8 border-b flex justify-between items-center text-white ${r.type==="ingreso"?"bg-green-600":r.type==="egreso"?"bg-red-600":"bg-blue-600"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:r.type==="ingreso"?a.jsx(xT,{className:"w-6 h-6"}):r.type==="egreso"?a.jsx(vT,{className:"w-6 h-6"}):a.jsx(yT,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-black uppercase tracking-tight",children:["Registrar ",r.type]}),a.jsx("p",{className:"text-white/70 text-[10px] font-black uppercase tracking-widest mt-1",children:"Movimiento de tesorera manual"})]})]}),a.jsx("button",{onClick:()=>s({show:!1,type:null}),className:"p-2 hover:bg-white/10 rounded-xl transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("form",{onSubmit:S,className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Caja Origen/Destino"}),a.jsx("select",{name:"boxId",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none focus:ring-2 focus:ring-orange-500",children:x.filter(w=>w.status==="abierta").map(w=>a.jsx("option",{value:w.id,children:w.name},w.id))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Importe ($)"}),a.jsx("input",{name:"amount",type:"number",step:"0.01",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-black text-xl outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Categora"}),a.jsx("select",{name:"category",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:r.type==="ingreso"?a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Aporte Propietario"}),a.jsx("option",{children:"Sobrante de Caja"}),a.jsx("option",{children:"Devolucin Proveedor"}),a.jsx("option",{children:"Otros Ingresos"})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{children:"Gasto Limpieza/Insumos"}),a.jsx("option",{children:"Retiro de Propietario"}),a.jsx("option",{children:"Pago a Cadete/Flete"}),a.jsx("option",{children:"Sueldos / Adelantos"}),a.jsx("option",{children:"Servicios (Luz, Gas, etc)"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Medio de Pago"}),a.jsxs("select",{name:"method",className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-bold bg-slate-50 outline-none",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"transferencia",children:"Transferencia / QR"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{name:"description",required:!0,className:"w-full px-4 py-3 border border-slate-200 rounded-xl font-medium text-sm outline-none h-24 resize-none",placeholder:"Motivo detallado del movimiento..."})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4 -mx-8 -mb-8",children:[a.jsx("button",{type:"button",onClick:()=>s({show:!1,type:null}),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsx("button",{type:"submit",className:`flex-1 py-4 text-white rounded-2xl font-black shadow-xl uppercase text-xs tracking-widest transition-all ${r.type==="ingreso"?"bg-green-600 shadow-green-600/20":"bg-red-600 shadow-red-600/20"}`,children:"Confirmar Registro"})]})]})]})}),i&&u&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[130] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Lp,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Arqueo de Caja"}),a.jsx("p",{className:"text-orange-400 text-[10px] font-black uppercase tracking-widest",children:u.name})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 text-slate-400 hover:text-white",children:a.jsx(ze,{className:"w-7 h-7"})})]}),a.jsxs("div",{className:"p-10 space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-10",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Resumen Sistema"}),a.jsxs("div",{className:"space-y-3 bg-slate-50 p-6 rounded-3xl border border-slate-100 shadow-inner",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-slate-500",children:[a.jsx("span",{children:"Saldo Inicial:"}),a.jsx("span",{children:"$100.000"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-green-600",children:[a.jsx("span",{children:"Ventas (+):"}),a.jsx("span",{children:"$45.200"})]}),a.jsxs("div",{className:"flex justify-between items-center text-xs font-bold text-red-500",children:[a.jsx("span",{children:"Egresos (-):"}),a.jsx("span",{children:"$2.700"})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 flex justify-between items-center font-black text-slate-900 text-lg",children:[a.jsx("span",{children:"Saldo Esperado:"}),a.jsxs("span",{children:["$",u.balance.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Conteo Fsico"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Efectivo en Caja ($)"}),a.jsx("input",{type:"number",placeholder:"Ingresa monto contado...",className:"w-full px-5 py-4 border-2 border-orange-100 rounded-2xl focus:ring-4 focus:ring-orange-500/20 outline-none font-black text-2xl text-orange-600 shadow-sm"}),a.jsx("p",{className:"text-[9px] text-slate-400 italic",children:"Cuenta cada billete y moneda antes de cerrar."})]})]})]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx(gs,{className:"w-8 h-8 text-orange-600 shrink-0"}),a.jsx("p",{className:"text-xs font-bold text-orange-900 leading-relaxed",children:'Al cerrar la caja, se generar un reporte de arqueo. Si existe diferencia, se registrar como "Faltante/Sobrante" automticamente para auditar luego.'})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:()=>{y(w=>w.map(E=>E.id===u.id?{...E,status:"cerrada",lastClosed:new Date().toLocaleDateString()}:E)),alert("Caja Cerrada con xito. Reporte impreso."),o(!1)},className:"flex-[1.5] py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Confirmar Arqueo y Cerrar Caja ",a.jsx(An,{className:"w-5 h-5"})]})]})]})})]})};var L$={};async function mEe(t,e){const r=await new dS({apiKey:L$.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Extract all items, totals, VAT, supplier info, and invoice number from this document. If it's a PDF, analyze all pages. Return ONLY JSON."}]},config:{responseMimeType:"application/json",responseSchema:{type:st.OBJECT,properties:{invoiceNumber:{type:st.STRING},supplierName:{type:st.STRING},supplierCuit:{type:st.STRING},date:{type:st.STRING},items:{type:st.ARRAY,items:{type:st.OBJECT,properties:{sku:{type:st.STRING},description:{type:st.STRING},quantity:{type:st.NUMBER},unitPrice:{type:st.NUMBER},total:{type:st.NUMBER}},required:["description","quantity","unitPrice"]}},subtotal:{type:st.NUMBER},iva:{type:st.NUMBER},totalAmount:{type:st.NUMBER}},required:["supplierName","totalAmount","items"]}}});return JSON.parse(r.text||"{}")}async function gEe(t){const e=new dS({apiKey:L$.API_KEY}),n=`Extrae una lista de productos y sus cantidades de este mensaje. Si no se especifica una cantidad, asume 1. Devuelve SOLO JSON en formato de array de objetos con las propiedades "productName" (string) y "quantity" (number). Ejemplo: [{ "productName": "martillo", "quantity": 2 }, { "productName": "cemento", "quantity": 1 }].
  
  Mensaje: "${t}"`;try{const i=((await e.models.generateContent({model:"gemini-3-flash-preview",contents:[{text:n}],config:{responseMimeType:"application/json",responseSchema:{type:st.ARRAY,items:{type:st.OBJECT,properties:{productName:{type:st.STRING,description:"The name of the product mentioned."},quantity:{type:st.NUMBER,description:"The quantity requested for the product."}},required:["productName","quantity"],propertyOrdering:["productName","quantity"]}}}})).text||"[]").replace(/```json\s*|```/g,"").trim();return JSON.parse(i)}catch(r){return console.error("Error al extraer productos con Gemini:",r),[]}}const xEe=()=>{const{updateProduct:t,fetchProductsPaginatedAndFiltered:e,addProduct:n}=Nt(),r=D.useRef(null),[s,i]=D.useState("ia"),[o,l]=D.useState(!1),[c,u]=D.useState(!1),[d,f]=D.useState(null),[h,x]=D.useState({invoiceNumber:"",supplierName:"",date:new Date().toISOString().split("T")[0],items:[]}),y=_=>{var C;const S=(C=_.target.files)==null?void 0:C[0];if(S){const T=new FileReader;T.onload=w=>{var E;f({name:S.name,type:S.type,preview:(E=w.target)==null?void 0:E.result})},T.readAsDataURL(S)}},b=async()=>{if(d){l(!0);try{const _=d.preview.split(",")[1],S=await mEe(_,d.type),C=await Promise.all(S.items.map(async T=>{const{products:w}=await e({limit:1,searchTerm:T.sku||T.description.split(" ")[0],orderByField:"name"});return{...T,matchedProduct:w[0]}}));x({invoiceNumber:S.invoiceNumber||"",supplierName:S.supplierName||"",date:S.date||new Date().toISOString().split("T")[0],items:C}),alert("Documento procesado con xito.")}catch(_){console.error(_),alert("Error al procesar el documento con IA.")}finally{l(!1)}}},v=async()=>{u(!0);try{for(const _ of h.items)if(_.matchedProduct){const S=(_.matchedProduct.stock||0)+_.quantity;await t(_.matchedProduct.id,{costPrice:_.unitPrice,stock:S})}else console.log("Producto no encontrado, debera crearse:",_.description);alert("Compra registrada. Inventario y costos actualizados."),x({invoiceNumber:"",supplierName:"",date:"",items:[]}),f(null)}finally{u(!1)}},N=h.items.reduce((_,S)=>_+S.unitPrice*S.quantity,0);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Compras e Ingreso de Mercadera"}),a.jsx("p",{className:"text-slate-500",children:"Carga facturas por IA o manualmente para actualizar tu stock."})]}),a.jsxs("div",{className:"flex bg-white border p-1 rounded-xl shadow-sm",children:[a.jsxs("button",{onClick:()=>i("ia"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${s==="ia"?"bg-orange-600 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Mv,{className:"w-4 h-4"})," IA Scan"]}),a.jsxs("button",{onClick:()=>i("manual"),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-black uppercase tracking-widest transition-all ${s==="manual"?"bg-slate-900 text-white":"text-slate-400 hover:bg-slate-50"}`,children:[a.jsx(Ye,{className:"w-4 h-4"})," Manual"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[a.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[s==="ia"&&a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(bU,{className:"w-4 h-4 text-orange-600"})," Cargar Documento"]}),d?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-[3/4] bg-slate-900 rounded-2xl overflow-hidden shadow-xl border-4 border-white",children:[d.type.includes("image")?a.jsx("img",{src:d.preview,className:"w-full h-full object-cover opacity-80",alt:"Preview"}):a.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white p-6",children:[a.jsx(Er,{className:"w-16 h-16 mb-4 text-orange-500"}),a.jsx("p",{className:"font-bold text-center text-sm",children:d.name})]}),a.jsx("button",{onClick:()=>f(null),className:"absolute top-4 right-4 p-2 bg-red-600 text-white rounded-xl shadow-lg hover:bg-red-500 transition-all",children:a.jsx(ze,{className:"w-5 h-5"})})]}),a.jsxs("button",{onClick:b,disabled:o,className:"w-full py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[o?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(Mv,{className:"w-5 h-5"}),o?"Analizando...":"Analizar con Gemini IA"]})]}):a.jsxs("div",{onClick:()=>{var _;return(_=r.current)==null?void 0:_.click()},className:"border-4 border-dashed border-slate-100 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center cursor-pointer hover:border-orange-200 hover:bg-orange-50/20 transition-all group",children:[a.jsx("div",{className:"p-4 bg-slate-50 rounded-full group-hover:bg-white transition-colors mb-4",children:a.jsx(Er,{className:"w-10 h-10 text-slate-300 group-hover:text-orange-500"})}),a.jsx("p",{className:"text-sm font-bold text-slate-400 group-hover:text-slate-600",children:"PDF, JPG o PNG"}),a.jsx("p",{className:"text-[10px] text-slate-300 uppercase font-black mt-1",children:"Haz clic para buscar"})]}),a.jsx("input",{ref:r,type:"file",className:"hidden",accept:"image/*,.pdf",onChange:y})]}),a.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-6",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-blue-600"})," Cabecera de Factura"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsx("input",{value:h.supplierName,onChange:_=>x({...h,supplierName:_.target.value}),placeholder:"Ej: Sinteplast S.A.",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"N Comprobante"}),a.jsx("input",{value:h.invoiceNumber,onChange:_=>x({...h,invoiceNumber:_.target.value}),placeholder:"0001-000482",className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Fecha"}),a.jsx("input",{type:"date",value:h.date,onChange:_=>x({...h,date:_.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]})]})]}),a.jsx("div",{className:"lg:col-span-8 flex flex-col gap-6",children:a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/50 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-black text-slate-800 uppercase tracking-tight flex items-center gap-2",children:[a.jsx(VM,{className:"w-5 h-5 text-orange-600"})," Artculos Detectados"]}),a.jsxs("span",{className:"px-3 py-1 bg-white border rounded-full text-[10px] font-black text-slate-400 uppercase",children:[h.items.length," Items"]})]}),a.jsx("div",{className:"flex-1 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-4",children:"Descripcin / Matcheo"}),a.jsx("th",{className:"px-4 py-4 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Costo Unit."}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Estado"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.items.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 opacity-20",children:[a.jsx(hd,{className:"w-12 h-12"}),a.jsx("p",{className:"font-black uppercase text-xs",children:"Sin items cargados"})]})})}):h.items.map((_,S)=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:_.description}),_.matchedProduct?a.jsxs("div",{className:"flex items-center gap-1.5 text-green-600 mt-1",children:[a.jsx(wn,{className:"w-3 h-3"}),a.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:["Vinculado: ",_.matchedProduct.name]})]}):a.jsxs("div",{className:"flex items-center gap-1.5 text-orange-500 mt-1",children:[a.jsx(gs,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Sin vincular (Nuevo producto)"})]})]})}),a.jsx("td",{className:"px-4 py-4 text-center font-black text-slate-700",children:_.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-slate-900",children:["$",_.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black text-orange-600",children:["$",_.total.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{className:"p-2 text-slate-300 hover:text-red-500 transition-all",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},S))})]})}),a.jsxs("div",{className:"p-10 bg-slate-900 text-white flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Subtotal Neto"}),a.jsxs("p",{className:"text-3xl font-black",children:["$",N.toLocaleString()]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-800 hidden md:block"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-orange-400 uppercase tracking-widest mb-1",children:"Total con IVA"}),a.jsxs("p",{className:"text-3xl font-black text-orange-500",children:["$",(N*1.21).toLocaleString()]})]})]}),a.jsxs("button",{onClick:v,disabled:c||h.items.length===0,className:"w-full md:w-auto px-12 py-5 bg-orange-600 text-white rounded-2xl font-black text-lg uppercase tracking-[0.2em] shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-30",children:[c?a.jsx(Fe,{className:"animate-spin w-6 h-6"}):a.jsx(An,{className:"w-6 h-6"}),c?"Ingresando...":"Finalizar e Ingresar Stock"]})]})]})})]})]})},yEe=20,vEe=()=>{const{updateProduct:t,loading:e,fetchProductsPaginatedAndFiltered:n}=Nt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),[u,d]=D.useState(0),[f,h]=D.useState(""),[x,y]=D.useState(!1),[b,v]=D.useState([]),[N,_]=D.useState(null),[S,C]=D.useState(!0),[T,w]=D.useState(!1),E=D.useRef(null),A=D.useCallback(R=>{E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{s(R)},300)},[]),j=D.useCallback(async(R=!1,q=r,F=N)=>{w(!0);try{const $={limit:yEe,searchTerm:q.toLowerCase().trim(),startAfterDoc:R?void 0:F,orderByField:"name",orderDirection:"asc"},{products:B,lastVisible:V,hasMore:H}=await n($);v(J=>R?B:[...J,...B]),_(V),C(H)}catch($){console.error("Error loading products:",$)}finally{w(!1)}},[r,N,n]);D.useEffect(()=>{e||(v([]),_(null),C(!0),j(!0,r,null))},[r,e,j]);const M=R=>{c(R),d(0),h(""),o(!0)},P=async()=>{if(l){if(u===0){alert("Por favor, ingresa una cantidad de ajuste (positiva o negativa).");return}if(!f.trim()){alert("Por favor, ingresa un motivo para el ajuste.");return}y(!0);try{const R=(l.stock||0)+u;await t(l.id,{stock:R}),alert(`Stock de "${l.name}" ajustado a ${R} unidades.`),o(!1),c(null),v(q=>q.map(F=>F.id===l.id?{...F,stock:R}:F))}catch(R){console.error("Error al guardar el ajuste de stock:",R),alert("Hubo un error al guardar el ajuste de stock. Intenta de nuevo.")}finally{y(!1)}}};return(e||T)&&b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para ajuste..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Ajuste Manual de Stock"}),a.jsx("p",{className:"text-slate-500",children:"Realiza correcciones de inventario de forma individual por producto."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:R=>{s(R.target.value),A(R.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Mnimo"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[b.map(R=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400",children:a.jsx(pd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:R.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[R.sku,"  ",R.brand]})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${R.stock<(R.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:R.stock})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-500",children:R.reorderPoint||0})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("button",{onClick:()=>M(R),className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100 flex items-center justify-center gap-2",title:"Ajustar Stock",children:[a.jsx(xs,{className:"w-5 h-5"})," Ajustar"]})})]},R.id)),b.length===0&&!T&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),T&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!T&&S&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>j(!1,r,N),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Js,{className:"w-4 h-4 -rotate-90"})]})})]}),i&&l&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-orange-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg shadow-orange-600/20",children:a.jsx(xs,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Ajustar Stock"}),a.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:[l.name," (",l.sku,")"]})]})]}),a.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-white border border-transparent hover:border-slate-200 rounded-xl transition-all text-slate-400",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Stock Actual"}),a.jsx("span",{className:"text-3xl font-black text-slate-900",children:l.stock})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad a Ajustar"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>d(R=>R-1),className:"p-3 bg-red-100 text-red-600 rounded-xl hover:bg-red-200 transition-colors",children:a.jsx(oU,{className:"w-6 h-6"})}),a.jsx("input",{type:"number",value:u,onChange:R=>d(Number(R.target.value)),className:"flex-1 px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-orange-500 outline-none"}),a.jsx("button",{onClick:()=>d(R=>R+1),className:"p-3 bg-green-100 text-green-600 rounded-xl hover:bg-green-200 transition-colors",children:a.jsx(Tl,{className:"w-6 h-6"})})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic text-center",children:"Usa nmeros negativos para reducir stock."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Motivo del Ajuste"}),a.jsx("textarea",{value:f,onChange:R=>h(R.target.value),placeholder:"Ej: Rotura en depsito, Error de conteo, Robo, Devolucin de cliente...",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500 font-medium text-sm h-24 resize-none"})]}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Importante:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Este ajuste impactar el stock global del producto en todas las sucursales."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:P,disabled:x,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[x?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(An,{className:"w-5 h-5"}),x?"Guardando...":"Aplicar Ajuste"]})]})]})})]})},bEe=20,wEe=()=>{const{suppliers:t,updateProduct:e,loading:n,fetchProductsPaginatedAndFiltered:r}=Nt(),[s,i]=D.useState(""),[o,l]=D.useState([]),[c,u]=D.useState(!1),[d,f]=D.useState({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""}),[h,x]=D.useState([]),[y,b]=D.useState(null),[v,N]=D.useState(!0),[_,S]=D.useState(!1),C=D.useRef(null),T=D.useCallback(F=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{i(F)},300)},[]),w=D.useCallback(async(F=!1,$=s,B=y)=>{S(!0);try{const V={limit:bEe,searchTerm:$.toLowerCase().trim(),startAfterDoc:F?void 0:B,orderByField:"name",orderDirection:"asc"},{products:H,lastVisible:J,hasMore:W}=await r(V);x(X=>F?H:[...X,...H]),b(J),N(W)}catch(V){console.error("Error loading products:",V)}finally{S(!1)}},[s,y,r]);D.useEffect(()=>{n||(x([]),b(null),N(!0),w(!0,s,null),l([]))},[s,n,w]);const E=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.category&&F.add($.category)),Array.from(F).sort()},[h]),A=D.useMemo(()=>{const F=new Set;return h.forEach($=>$.brand&&F.add($.brand)),Array.from(F).sort()},[h]),j=F=>{l($=>$.includes(F)?$.filter(B=>B!==F):[...$,F])},M=()=>{o.length===h.length&&h.length>0?l([]):l(h.map(F=>F.id))},P=(F,$)=>{f(B=>({...B,[F]:$}))},O=()=>{f({supplierId:"",markup:"",category:"",brand:"",reorderPoint:"",targetStock:""})},R=async()=>{if(o.length===0){alert("Por favor, selecciona al menos un producto para modificar.");return}const F={};if(d.supplierId&&(F.supplierId=d.supplierId),d.category&&(F.category=d.category),d.brand&&(F.brand=d.brand),d.reorderPoint!==""&&(F.reorderPoint=Number(d.reorderPoint)),d.targetStock!==""&&(F.targetStock=Number(d.targetStock)),Object.keys(F).length===0&&d.markup===""){alert("No hay cambios seleccionados para aplicar.");return}u(!0);try{const $=new Map;for(const B of o){const V=h.find(J=>J.id===B);if(!V)continue;const H={...F};if(d.markup!==""){const J=Number(d.markup);!isNaN(J)&&V.costPrice!==void 0&&(H.salePrice=V.costPrice*(1+J/100))}await e(B,H),$.set(B,{...V,...H})}x(B=>B.map(V=>$.has(V.id)?$.get(V.id):V)),alert(`Se aplicaron los cambios a ${o.length} productos.`),l([]),O()}catch($){console.error("Error al aplicar cambios masivos:",$),alert("Hubo un error al aplicar los cambios masivos. Intenta de nuevo.")}finally{u(!1)}};return(n||_)&&h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-20 text-slate-400",children:[a.jsx(Fe,{className:"w-10 h-10 animate-spin mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando productos para modificacin..."})]}):a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsx("header",{className:"flex justify-between items-end",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Modificacin Masiva de Productos"}),a.jsx("p",{className:"text-slate-500",children:"Aplica cambios a mltiples artculos de tu inventario de una sola vez."})]})}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative flex-1 w-full max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar producto por SKU, nombre o marca...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:s,onChange:F=>{i(F.target.value),T(F.target.value)}})]})}),a.jsx("div",{className:"overflow-x-auto min-h-[400px]",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 w-12 text-center",children:a.jsx("button",{onClick:M,className:"p-1 rounded hover:bg-slate-200 transition-colors",children:o.length===h.length&&h.length>0?a.jsx($p,{className:"w-5 h-5 text-orange-600"}):a.jsx(zp,{className:"w-5 h-5 text-slate-300"})})}),a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5",children:"Proveedor"}),a.jsx("th",{className:"px-8 py-5",children:"Rubro / Marca"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Precio Venta"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Punto Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Stock Deseado"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-100",children:[h.map(F=>{var $,B;return a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>j(F.id),className:"p-1",children:o.includes(F.id)?a.jsx($p,{className:"w-5 h-5 text-orange-600"}):a.jsx(zp,{className:"w-5 h-5 text-slate-200"})})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:F.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:F.sku})]}),a.jsx("td",{className:"px-8 py-5",children:a.jsx("span",{className:"text-sm font-medium text-slate-600",children:(($=t.find(V=>V.id===F.supplierId))==null?void 0:$.name)||"N/A"})}),a.jsxs("td",{className:"px-8 py-5",children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:F.category}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-widest",children:F.brand})]}),a.jsx("td",{className:"px-8 py-5 text-center",children:a.jsx("span",{className:`text-sm font-black ${F.stock<(F.reorderPoint||0)?"text-red-600":"text-slate-900"}`,children:F.stock})}),a.jsxs("td",{className:"px-8 py-5 text-right font-black text-slate-900 text-sm",children:["$",(B=F.salePrice)==null?void 0:B.toLocaleString()]}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.reorderPoint||"N/A"}),a.jsx("td",{className:"px-8 py-5 text-right text-sm font-medium text-slate-500",children:F.targetStock||"N/A"})]},F.id)}),h.length===0&&!_&&a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"p-20 text-center text-slate-300 font-bold uppercase tracking-widest text-xs",children:"No se encontraron productos"})})]})]})}),_&&a.jsxs("div",{className:"p-10 text-center text-slate-400",children:[a.jsx(Fe,{className:"w-8 h-8 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"Cargando ms productos..."})]}),!_&&v&&a.jsx("div",{className:"p-6 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>w(!1,s,y),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Js,{className:"w-4 h-4 -rotate-90"})]})})]}),o.length>0&&a.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-slate-900 text-white px-8 py-6 rounded-t-[2rem] shadow-2xl flex flex-col md:flex-row items-center justify-between gap-6 animate-in slide-in-from-bottom duration-300 z-40 border-t border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center text-lg font-black shadow-lg shadow-orange-600/20",children:o.length}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Productos Seleccionados"}),a.jsx("p",{className:"text-sm font-bold",children:"Listos para modificar"})]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Proveedor"}),a.jsxs("select",{value:d.supplierId,onChange:F=>P("supplierId",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),t.map(F=>a.jsx("option",{value:F.id,children:F.name},F.id))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Margen Ganancia (%)"}),a.jsx("input",{type:"number",value:d.markup,onChange:F=>P("markup",F.target.value),placeholder:"Ej: 30",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Rubro"}),a.jsxs("select",{value:d.category,onChange:F=>P("category",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),E.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Marca"}),a.jsxs("select",{value:d.brand,onChange:F=>P("brand",F.target.value),className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none",children:[a.jsx("option",{value:"",children:"Mantener Actual"}),A.map(F=>a.jsx("option",{value:F,children:F},F))]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Punto Pedido"}),a.jsx("input",{type:"number",value:d.reorderPoint,onChange:F=>P("reorderPoint",F.target.value),placeholder:"Ej: 5",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Stock Deseado"}),a.jsx("input",{type:"number",value:d.targetStock,onChange:F=>P("targetStock",F.target.value),placeholder:"Ej: 20",className:"w-full px-3 py-2 bg-slate-800 border border-slate-700 rounded-lg text-sm text-white focus:ring-2 focus:ring-orange-500 outline-none"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>{l([]),O()},className:"px-6 py-3 bg-white/10 border border-slate-700 rounded-xl font-bold text-xs uppercase tracking-widest text-slate-300 hover:bg-white/20 transition-all",children:"Cancelar"}),a.jsxs("button",{onClick:R,disabled:c,className:"px-8 py-3 bg-orange-600 text-white rounded-xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[c?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):a.jsx(An,{className:"w-4 h-4"}),c?"Aplicando cambios...":"Aplicar Cambios"]})]})]})]})},_Ee=()=>{const[t,e]=D.useState("mercadolibre"),[n,r]=D.useState(""),[s,i]=D.useState(""),[o,l]=D.useState(null),[c,u]=D.useState(null),[d,f]=D.useState(!0),[h,x]=D.useState(!0),[y,b]=D.useState(!1),[v,N]=D.useState(!1),[_,S]=D.useState({enabled:!1,clientId:"",clientSecret:"",accountNumber:"",branchCode:"",connected:!1,nickname:void 0}),[C,T]=D.useState(!1),[w,E]=D.useState(!1),A="https://ferrogest.app/ml-callback";D.useEffect(()=>{const $=localStorage.getItem("mlClientId")||"",B=localStorage.getItem("mlClientSecret")||"",V=localStorage.getItem("mlUserId")||null,H=localStorage.getItem("mlNickname")||null,J=localStorage.getItem("mlAutoSyncStock")==="true",W=localStorage.getItem("mlAutoSyncPrices")==="true";r($),i(B),l(V),u(H),f(J),x(W);const X=localStorage.getItem("andreaniConfig");X&&S(JSON.parse(X))},[]);const j=()=>{N(!0),setTimeout(()=>{N(!1),alert("Sincronizacin con MercadoLibre completada: 2 artculos actualizados, 0 errores.")},2e3)},M=async()=>{if(!n||!s){alert("Por favor, ingrese el Client ID y Client Secret de MercadoLibre.");return}b(!0);try{alert("Iniciando conexin con MercadoLibre. Sers redirigido para autorizar la aplicacin."),await new Promise($=>setTimeout($,2e3)),l("ML-USER-12345678"),u("FerreteriaNorteML"),alert("Conexin con MercadoLibre establecida con xito!"),localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlUserId","ML-USER-12345678"),localStorage.setItem("mlNickname","FerreteriaNorteML"),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h))}catch($){console.error("Error al conectar con MercadoLibre:",$),alert("No se pudo establecer la conexin con MercadoLibre. Verifique sus credenciales.")}finally{b(!1)}},P=()=>{localStorage.setItem("mlClientId",n),localStorage.setItem("mlClientSecret",s),localStorage.setItem("mlAutoSyncStock",String(d)),localStorage.setItem("mlAutoSyncPrices",String(h)),alert("Configuracin de MercadoLibre guardada.")},O=async()=>{const{clientId:$,clientSecret:B,accountNumber:V,branchCode:H}=_;if(!$||!B||!V||!H){alert("Por favor, complete todos los campos de credenciales de Andreani.");return}T(!0);try{await new Promise(W=>setTimeout(W,2500));const J={..._,enabled:!0,connected:!0,nickname:"AndreaniFERRO"};S(J),alert("Conexin con Andreani establecida con xito!"),localStorage.setItem("andreaniConfig",JSON.stringify(J))}catch(J){console.error("Error al conectar con Andreani:",J),alert("No se pudo establecer la conexin con Andreani. Verifique sus credenciales.")}finally{T(!1)}},R=()=>{localStorage.setItem("andreaniConfig",JSON.stringify(_)),alert("Configuracin de Andreani guardada.")},q=()=>a.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:[a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-8 rounded-[3rem] flex flex-col md:flex-row items-center justify-between gap-6 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:"p-5 bg-yellow-400 rounded-3xl shadow-xl shadow-yellow-400/20",children:a.jsx(Hp,{className:"w-10 h-10 text-slate-900 fill-slate-900"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"MercadoLibre Sync"}),a.jsxs("p",{className:"text-slate-600 font-bold text-sm",children:["Estado de conexin: ",a.jsx("span",{className:"text-green-600 uppercase tracking-widest ml-1",children:o?"Vnculo Activo":"No Conectado"})]})]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:j,disabled:v||!o,className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3 disabled:opacity-50",children:[v?a.jsx(Lu,{className:"w-5 h-5 animate-spin"}):a.jsx(Lu,{className:"w-5 h-5"}),"Sincronizar Stock y Precios"]})})]}),a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-yellow-500 text-white rounded-2xl shadow-lg shadow-yellow-500/20",children:a.jsx(NT,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Configuracin de API & Sincronizacin"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:n,onChange:$=>r($.target.value),placeholder:"Ingrese su Client ID de MercadoLibre",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:s,onChange:$=>i($.target.value),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Redirect URI (Pre-configurada)"}),a.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-3.5 text-slate-600 font-medium text-sm",children:[a.jsx(zx,{className:"w-4 h-4 text-slate-400"}),a.jsx("span",{className:"flex-1 truncate",children:A}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(A),className:"px-3 py-1 bg-white border border-slate-200 rounded-lg text-[10px] font-black uppercase text-slate-500 hover:bg-slate-100",title:"Copiar al portapapeles",children:"Copiar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic mt-1",children:"Debe registrar esta URI en su aplicacin de desarrollador de MercadoLibre."})]}),a.jsx("div",{className:"flex justify-center pt-4",children:a.jsxs("button",{onClick:M,disabled:y||!n||!s,className:"bg-yellow-500 text-slate-900 px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-yellow-400 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[y?a.jsx(Fe,{className:"w-5 h-5"}):a.jsx(XF,{className:"w-5 h-5"}),y?"Conectando...":"Conectar con MercadoLibre"]})}),o&&a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(wn,{className:"w-4 h-4 text-green-600"})," Cuenta Vinculada"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 bg-green-50 rounded-2xl p-6 border border-green-100",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"User ID"}),a.jsx("p",{className:"font-bold text-green-900",children:o})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] font-black text-green-600 uppercase tracking-widest",children:"Nickname"}),a.jsx("p",{className:"font-bold text-green-900",children:c})]})]}),a.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Zi,{className:"w-4 h-4 text-blue-600"})," Opciones de Sincronizacin Automtica"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Stock"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:$=>f($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600",children:"Auto-Sincronizar Precios"}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:$=>x($.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]})]})]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100 flex justify-end",children:a.jsxs("button",{onClick:P,className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4 text-yellow-500"})," Guardar Configuracin"]})})]})]})]}),F=()=>a.jsx("div",{className:"space-y-6 animate-in slide-in-from-right duration-500",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-500 text-white rounded-2xl shadow-lg shadow-blue-500/20",children:a.jsx(ys,{className:"w-6 h-6"})}),a.jsx("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Integracin de Envos Andreani"})]}),a.jsxs("div",{className:`p-8 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${_.connected?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("div",{className:`p-5 rounded-3xl shadow-xl ${_.connected?"bg-green-400 text-slate-900 shadow-green-400/20":"bg-red-400 text-white shadow-red-400/20"}`,children:a.jsx(Du,{className:"w-10 h-10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight italic",children:"Andreani"}),a.jsxs("p",{className:`font-bold text-sm ${_.connected?"text-green-600":"text-red-600"}`,children:["Estado de conexin: ",a.jsx("span",{className:"uppercase tracking-widest ml-1",children:_.connected?`Activo (${_.nickname||"Usuario Andreani"})`:"No Conectado"})]})]})]}),_.connected&&a.jsxs("button",{className:"px-8 py-4 bg-slate-900 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-slate-800 transition-all shadow-xl flex items-center gap-3",children:[a.jsx(Lu,{className:"w-5 h-5"})," Verificar Conexin"]})]}),a.jsxs("div",{className:"pt-8 border-t border-slate-100 space-y-4",children:[a.jsxs("h4",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(NT,{className:"w-4 h-4 text-blue-600"})," Credenciales de Acceso"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client ID"}),a.jsx("input",{type:"text",value:_.clientId,onChange:$=>S(B=>({...B,clientId:$.target.value})),placeholder:"Ingrese su Client ID de Andreani",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Client Secret"}),a.jsx("input",{type:"password",value:_.clientSecret,onChange:$=>S(B=>({...B,clientSecret:$.target.value})),placeholder:"Ingrese su Client Secret",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nmero de Cuenta Andreani"}),a.jsx("input",{type:"text",value:_.accountNumber,onChange:$=>S(B=>({...B,accountNumber:$.target.value})),placeholder:"Ej: 123456789",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cdigo de Sucursal de Despacho"}),a.jsx("input",{type:"text",value:_.branchCode,onChange:$=>S(B=>({...B,branchCode:$.target.value})),placeholder:"Ej: CABA001",className:"w-full px-5 py-3.5 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"pt-6 border-t border-slate-100 flex justify-center gap-4",children:[a.jsxs("button",{onClick:O,disabled:C||!_.clientId||!_.clientSecret||!_.accountNumber||!_.branchCode,className:"bg-blue-600 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-blue-500 transition-all flex items-center gap-3 active:scale-95 disabled:opacity-50",children:[C?a.jsx(Fe,{className:"w-5 h-5"}):a.jsx(Du,{className:"w-5 h-5"}),C?"Conectando...":"Conectar con Andreani"]}),a.jsxs("button",{onClick:R,className:"bg-slate-900 text-white px-8 py-4 rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-slate-800 transition-all flex items-center gap-3",children:[a.jsx(An,{className:"w-4 h-4 text-blue-500"})," Guardar Configuracin"]})]})]})});return a.jsxs("div",{className:"space-y-6",children:[a.jsx("header",{className:"flex justify-between items-center",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Du,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Integraciones Externas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Conecta FerroGest con tus servicios favoritos."})]})]})}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 overflow-x-auto custom-scrollbar",children:[{id:"mercadolibre",label:"MercadoLibre",icon:Hp},{id:"andreani",label:"Andreani Envos",icon:ys},{id:"other",label:"Otras Conexiones",icon:zx}].map($=>a.jsxs("button",{onClick:()=>e($.id),className:`flex items-center gap-2 px-6 py-4 text-xs font-black uppercase tracking-widest transition-all border-b-2 whitespace-nowrap ${t===$.id?"border-orange-500 text-orange-600":"border-transparent text-slate-500 hover:text-slate-800"}`,children:[a.jsx($.icon,{className:"w-4 h-4"}),$.label]},$.id))}),a.jsxs("div",{className:"py-2",children:[t==="mercadolibre"&&q(),t==="andreani"&&F(),t==="other"&&a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] border border-slate-100 shadow-sm space-y-8 text-center",children:[a.jsxs("h3",{className:"text-2xl font-black text-slate-800 uppercase tracking-tight flex items-center justify-center gap-3",children:[a.jsx(zx,{className:"w-6 h-6 text-orange-600"})," Ms Integraciones Pronto"]}),a.jsx("p",{className:"text-slate-500 text-sm max-w-lg mx-auto",children:"Estamos trabajando para aadir ms servicios como WhatsApp Business, sistemas de pago y APIs personalizadas. Mantente atento a las actualizaciones!"}),a.jsx("div",{className:"flex justify-center gap-4 pt-4",children:a.jsxs("button",{className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl hover:bg-orange-500 transition-all flex items-center gap-3",children:[a.jsx(K1,{className:"w-5 h-5"})," Sugerir Integracin"]})})]})]})]})},NEe=10,SEe=()=>{var Q;const{clients:t,priceLists:e,fetchProductsPaginatedAndFiltered:n}=Nt(),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState([]),[u,d]=D.useState([]),[f,h]=D.useState(null),[x,y]=D.useState(null),[b,v]=D.useState(!1),[N,_]=D.useState(""),[S,C]=D.useState([]),[T,w]=D.useState(null),[E,A]=D.useState(!0),[j,M]=D.useState(!1),P=D.useRef(null),O=D.useCallback((ee,ue)=>{let G=ee.salePrice;if(!ue||!ee.costPrice)return G||0;const oe=e.find(de=>de.id===ue.priceListId);if(oe){const de=ee.costPrice;oe.modifierType==="margin"?G=de*(1+oe.value/100):oe.modifierType==="percentage_over_base"&&(G=(ee.salePrice||0)*(1+oe.value/100))}return ue.specialDiscount>0&&(G=G*(1-ue.specialDiscount/100)),parseFloat(G.toFixed(2))},[e]),R=async()=>{if(!r.trim()){y("Por favor, ingresa un mensaje para analizar.");return}o(!0),y(null),c([]),d([]);try{const ee=await gEe(r);c(ee);const ue=[];for(const G of ee){const{products:oe}=await n({limit:1,searchTerm:G.productName.toLowerCase().trim(),orderByField:"name",orderDirection:"asc"});if(oe.length>0){const de=oe[0],ie=O(de,f);ue.push({productId:de.id,sku:de.sku,name:de.name,brand:de.brand,quantity:G.quantity,unitPrice:ie,subtotal:parseFloat((ie*G.quantity).toFixed(2)),originalProduct:de})}else ue.push({productId:`unmatched-${Date.now()}-${G.productName}`,sku:"N/A",name:G.productName,brand:"N/A",quantity:G.quantity,unitPrice:0,subtotal:0,originalProduct:null,unmatchedText:G.productName})}d(ue)}catch(ee){console.error("Error al analizar el mensaje:",ee),y("Ocurri un error al procesar el mensaje con la IA. Intenta de nuevo.")}finally{o(!1)}};D.useEffect(()=>{d(ee=>ee.map(ue=>({...ue,unitPrice:ue.originalProduct?O(ue.originalProduct,f):ue.unitPrice})))},[f,O]);const q=(ee,ue)=>{d(G=>G.map(oe=>oe.productId===ee?{...oe,quantity:ue,subtotal:parseFloat((oe.unitPrice*ue).toFixed(2))}:oe))},F=ee=>{d(ue=>ue.filter(G=>G.productId!==ee))},$=D.useCallback(async(ee=!1,ue=N,G=T)=>{M(!0);try{const oe={limit:NEe,searchTerm:ue.toLowerCase().trim(),startAfterDoc:ee?void 0:G,orderByField:"name",orderDirection:"asc"},{products:de,lastVisible:ie,hasMore:Oe}=await n(oe);C(Y=>ee?de:[...Y,...de]),w(ie),A(Oe)}catch(oe){console.error("Error loading products for picker:",oe)}finally{M(!1)}},[N,T,n]),B=D.useCallback(ee=>{P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{$(!0,ee,null)},300)},[$]);D.useEffect(()=>{b&&(C([]),w(null),A(!0),$(!0,N,null))},[N,b,$]);const V=(ee,ue)=>{if(u.find(oe=>oe.productId===ee.id))d(oe=>oe.map(de=>de.productId===ee.id?{...de,quantity:Number(de.quantity)+1,subtotal:parseFloat((de.unitPrice*(Number(de.quantity)+1)).toFixed(2))}:de));else{const oe=O(ee,f);d(de=>[...de,{productId:ee.id,sku:ee.sku,name:ee.name,brand:ee.brand,quantity:1,unitPrice:oe,subtotal:parseFloat(oe.toFixed(2)),originalProduct:ee}])}v(!1),_("")},H=D.useMemo(()=>u.reduce((ee,ue)=>ee+ue.unitPrice*ue.quantity,0),[u]),J=H*.21,W=H+J,X=()=>{s(""),c([]),d([]),h(null),y(null)},se=()=>{if(!f){alert("Por favor, selecciona un cliente para guardar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}console.log("Saving Quote for client:",f.name,"Items:",u,"Total:",W),alert("Cotizacin guardada (simulada) para "+f.name)},be=()=>{if(!f||!f.whatsapp){alert("Por favor, selecciona un cliente con nmero de WhatsApp para enviar la cotizacin.");return}if(u.length===0){alert("La cotizacin est vaca.");return}let ee=`Hola ${f.name}! Aqu tienes tu cotizacin de FerroGest:

`;u.forEach(G=>{ee+=`- ${G.quantity}x ${G.name} ($${G.unitPrice.toLocaleString()}/u) - Subtotal: $${(G.quantity*G.unitPrice).toLocaleString()}
`}),ee+=`
Subtotal: $${H.toLocaleString()}`,ee+=`
IVA (21%): $${J.toLocaleString()}`,ee+=`
Total: *$${W.toLocaleString()}*

`,ee+="Esperamos tu confirmacin!";const ue=encodeURIComponent(ee);window.open(`https://wa.me/${f.whatsapp}?text=${ue}`,"_blank")},z=ee=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ye,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto Manual"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:N,onChange:ue=>{_(ue.target.value),B(ue.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:j&&N.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):S.length>0?S.map(ue=>{var G;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>V(ue),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:ue.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[ue.sku,"  ",ue.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(G=ue.salePrice)==null?void 0:G.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",ue.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Ye,{className:"w-5 h-5"})})]})]},ue.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(cr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!j&&E&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>$(!1,N,T),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Js,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(hd,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Al vincular, se tomarn los datos de stock y precio automticamente."})]}),a.jsx("button",{onClick:()=>v(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Bp,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cotizaciones Rpidas con IA"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Convierte mensajes de WhatsApp en presupuestos profesionales al instante."})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("button",{onClick:X,className:"px-6 py-2.5 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(xf,{className:"w-4 h-4"})," Limpiar"]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(Bp,{className:"w-6 h-6 text-blue-600"})," Mensaje de WhatsApp"]}),a.jsx("textarea",{className:"w-full h-64 px-6 py-4 border-2 border-slate-100 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium text-slate-800 resize-none custom-scrollbar",placeholder:"Pega aqu el mensaje del cliente (productos, cantidades, etc.)...",value:r,onChange:ee=>s(ee.target.value)}),x&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-xl flex items-center gap-3",children:[a.jsx(gs,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:x})]}),a.jsxs("button",{onClick:R,disabled:i||!r.trim(),className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black uppercase tracking-[0.2em] shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[i?a.jsx(Fe,{className:"w-6 h-6 animate-spin"}):a.jsx(Mv,{className:"w-6 h-6"}),i?"Analizando Mensaje...":"Analizar Mensaje con IA"]}),a.jsx("p",{className:"text-[10px] font-bold text-slate-400 italic text-center",children:"La IA intentar extraer productos y cantidades."})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs("section",{className:"bg-white p-10 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-8",children:[a.jsxs("h3",{className:"text-xl font-black text-slate-800 uppercase tracking-tight flex items-center gap-3",children:[a.jsx(xd,{className:"w-6 h-6 text-orange-600"})," Cotizacin Provisional"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(Xr,{className:"w-3 h-3"})," Seleccionar Cliente"]}),a.jsxs("select",{value:(f==null?void 0:f.id)||"",onChange:ee=>h(t.find(ue=>ue.id===ee.target.value)||null),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Cliente Ocasional"}),t.map(ee=>a.jsxs("option",{value:ee.id,children:[ee.name," (",ee.cuit,")"]},ee.id))]}),f&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500 mt-2",children:[a.jsx(Up,{className:"w-4 h-4 text-orange-400"}),a.jsxs("span",{children:["Lista: ",((Q=e.find(ee=>ee.id===f.priceListId))==null?void 0:Q.name)||"N/A"]}),f.specialDiscount>0&&a.jsxs("span",{className:"ml-2",children:[" | Desc. Esp.: ",f.specialDiscount,"%"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Artculo"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Precio Unit."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:u.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay productos en la cotizacin."})}):u.map((ee,ue)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:ee.originalProduct?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-lg flex items-center justify-center text-slate-400",children:a.jsx(Al,{className:"w-4 h-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800",children:ee.name}),a.jsxs("p",{className:"text-[10px] text-slate-400 uppercase",children:[ee.sku,"  Stock: ",ee.originalProduct.stock]})]})]}):a.jsxs("div",{className:"text-red-600 font-bold flex items-center gap-2",children:[a.jsx(gs,{className:"w-4 h-4"})," ",ee.unmatchedText||ee.name," (No encontrado)",a.jsx("button",{onClick:()=>v(!0),className:"ml-2 px-3 py-1 bg-red-50 text-red-600 rounded-md text-[10px] font-bold hover:bg-red-100 transition-colors",title:"Buscar y reemplazar",children:"Buscar"})]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:ee.quantity,onChange:G=>q(ee.productId,Number(G.target.value)),className:"w-20 px-2 py-1 border border-slate-200 rounded-md text-center font-bold",min:"1"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",ee.unitPrice.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",(ee.quantity*ee.unitPrice).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>F(ee.productId),className:"p-2 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},ee.productId||ue))})]})}),a.jsxs("button",{onClick:()=>v(!0),className:"w-full py-3 border-2 border-dashed border-slate-200 rounded-2xl text-slate-400 text-sm font-bold hover:bg-slate-50 transition-all flex items-center justify-center gap-2",children:[a.jsx(Ye,{className:"w-4 h-4"})," Aadir Producto Manualmente"]}),a.jsxs("div",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",H.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"IVA (21%)"}),a.jsxs("span",{children:["$",J.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"TOTAL FINAL"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",W.toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 pt-4",children:[a.jsxs("button",{onClick:se,disabled:u.length===0,className:"flex-1 py-4 bg-orange-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(An,{className:"w-5 h-5"})," Guardar Cotizacin"]}),a.jsxs("button",{onClick:be,disabled:u.length===0||!(f!=null&&f.whatsapp),className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black uppercase tracking-widest shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(UM,{className:"w-5 h-5"})," Enviar por WhatsApp"]})]})]})})]}),b&&z()]})},mu={pendiente_preparacion:"Pendiente",listo_retiro:"Listo para Retiro",en_camino:"En Camino",entregado:"Entregado",cancelado:"Cancelado"},My={pendiente_preparacion:"bg-red-50 text-red-700 border-red-100",listo_retiro:"bg-blue-50 text-blue-700 border-blue-100",en_camino:"bg-orange-50 text-orange-700 border-orange-100",entregado:"bg-green-50 text-green-700 border-green-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},EEe=10,TEe=()=>{const{clients:t,orders:e,addOrder:n,updateOrder:r,deleteOrder:s,fetchProductsPaginatedAndFiltered:i}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),[v,N]=D.useState([]),[_,S]=D.useState(!1),[C,T]=D.useState(!1),[w,E]=D.useState(""),[A,j]=D.useState([]),[M,P]=D.useState(null),[O,R]=D.useState(!0),[q,F]=D.useState(!1),$=D.useRef(null),[B,V]=D.useState(!1),[H,J]=D.useState({name:"",serviceDescription:"",unitPrice:0,quantity:1}),W=D.useCallback(async(Y=!1,fe=w,Te=M)=>{F(!0);try{const Ge={limit:EEe,searchTerm:fe.toLowerCase().trim(),orderByField:"name",orderDirection:"asc",startAfterDoc:Y?void 0:Te},{products:en,lastVisible:fn,hasMore:Vn}=await i(Ge);j(Fn=>Y?en:[...Fn,...en]),P(fn),R(Vn)}catch(Ge){console.error("Error loading products for picker:",Ge)}finally{F(!1)}},[w,M,i]),X=D.useCallback(Y=>{$.current&&clearTimeout($.current),$.current=setTimeout(()=>{W(!0,Y,null)},300)},[W]);D.useEffect(()=>{C&&(j([]),P(null),R(!0),W(!0,w,null))},[w,C,W]),D.useEffect(()=>{if(y.clientId){const Y=t.find(fe=>fe.id===y.clientId);Y&&b(fe=>({...fe,clientName:Y.name}))}else b(Y=>({...Y,clientName:""}))},[y.clientId,t]),D.useEffect(()=>{const Y=v.reduce((fe,Te)=>fe+Te.subtotal,0);b(fe=>({...fe,total:parseFloat(Y.toFixed(2))}))},[v]);const se=Y=>{Y?(x(Y),b(Y),N(Y.items)):(x(null),b({clientId:"",clientName:"",dateCreated:new Date().toISOString().split("T")[0],dateDue:"",items:[],total:0,status:"pendiente_preparacion",notes:"",isServiceOrder:!1}),N([])),f(!0)},be=(Y,fe)=>{N(Te=>Te.map((Ge,en)=>{if(en===Y){const fn=Math.max(1,fe),Vn=Ge.unitPrice*fn;return{...Ge,quantity:fn,subtotal:parseFloat(Vn.toFixed(2))}}return Ge}))},z=Y=>{N(fe=>fe.filter((Te,Ge)=>Ge!==Y))},Q=Y=>{const fe=v.findIndex(Te=>Te.productId===Y.id&&!Te.isService);if(fe!==-1)be(fe,v[fe].quantity+1);else{const Te=Y.salePrice;N(Ge=>[...Ge,{productId:Y.id,sku:Y.sku,name:Y.name,brand:Y.brand,quantity:1,unitPrice:Te,subtotal:parseFloat(Te.toFixed(2)),originalProduct:Y}])}T(!1),E("")},ee=()=>{if(!H.name||H.unitPrice<=0||H.quantity<=0){alert("Por favor, completa el nombre, precio y cantidad para el servicio.");return}const Y=H.unitPrice*H.quantity;N(fe=>[...fe,{productId:`service-${Date.now()}`,sku:"SERVICIO",name:H.name,brand:"N/A",quantity:H.quantity,unitPrice:H.unitPrice,subtotal:parseFloat(Y.toFixed(2)),isService:!0,serviceDescription:H.serviceDescription,originalProduct:null}]),V(!1),J({name:"",serviceDescription:"",unitPrice:0,quantity:1})},ue=async()=>{if(!y.clientId||v.length===0){alert("Selecciona un cliente y aade al menos un artculo/servicio al pedido.");return}S(!0);try{const Y={clientId:y.clientId,clientName:y.clientName||"Cliente",items:v,total:v.reduce((fe,Te)=>fe+Te.subtotal,0),status:y.status||"pendiente_preparacion",dateCreated:y.dateCreated||new Date().toISOString().split("T")[0],dateDue:y.dateDue,notes:y.notes,isServiceOrder:v.some(fe=>fe.isService)};h?await r(h.id,Y):await n(Y),alert("Pedido guardado con xito!"),f(!1)}catch(Y){console.error("Error al guardar el pedido:",Y),alert("Ocurri un error al guardar el pedido.")}finally{S(!1)}},G=async Y=>{if(window.confirm("Ests seguro de que quieres eliminar este pedido? Esta accin es irreversible."))try{await s(Y),alert("Pedido eliminado con xito.")}catch(fe){console.error("Error al eliminar el pedido:",fe),alert("Ocurri un error al eliminar el pedido.")}},oe=async(Y,fe)=>{if(window.confirm(`Ests seguro de cambiar el estado del pedido a "${mu[fe]}"?`))try{await r(Y,{status:fe}),alert("Estado del pedido actualizado.")}catch(Te){console.error("Error al actualizar estado del pedido:",Te),alert("Ocurri un error al actualizar el estado.")}},de=D.useMemo(()=>e.filter(Y=>{const fe=Y.clientName.toLowerCase().includes(o.toLowerCase())||Y.id.toLowerCase().includes(o.toLowerCase()),Te=c==="all"||Y.status===c;return fe&&Te}).sort((Y,fe)=>new Date(fe.dateCreated).getTime()-new Date(Y.dateCreated).getTime()),[e,o,c]),ie=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ye,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Producto"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Busca productos en tu inventario"})]})]}),a.jsx("button",{onClick:()=>T(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(bt,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Busca por SKU, nombre o marca...",className:"w-full pl-12 pr-4 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-slate-50/50 shadow-sm",value:w,onChange:Y=>{E(Y.target.value),X(Y.target.value)},autoFocus:!0})]}),a.jsx("div",{className:"max-h-80 overflow-y-auto space-y-3 pr-2 custom-scrollbar",children:q&&w.length>1?a.jsxs("div",{className:"text-center py-10",children:[a.jsx(Fe,{className:"w-10 h-10 text-slate-200 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Buscando productos..."})]}):A.length>0?A.map(Y=>{var fe;return a.jsxs("div",{className:"p-4 bg-white border border-slate-100 rounded-2xl flex justify-between items-center hover:border-orange-200 hover:bg-orange-50/30 transition-all cursor-pointer group",onClick:()=>Q(Y),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 group-hover:bg-white group-hover:text-orange-500 transition-colors",children:a.jsx(Al,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:Y.name}),a.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[Y.sku,"  ",Y.brand]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-right",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",(fe=Y.salePrice)==null?void 0:fe.toLocaleString()]}),a.jsxs("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:["Stock: ",Y.stock]})]}),a.jsx("div",{className:"p-2 bg-slate-100 text-slate-400 rounded-xl group-hover:bg-orange-600 group-hover:text-white transition-all shadow-sm",children:a.jsx(Ye,{className:"w-5 h-5"})})]})]},Y.id)}):a.jsxs("div",{className:"text-center py-10",children:[a.jsx(cr,{className:"w-10 h-10 text-slate-200 mx-auto mb-2"}),a.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-widest",children:"Escribe para buscar productos del catlogo"})]})}),!q&&O&&a.jsx("div",{className:"p-4 border-t border-slate-100 flex justify-center",children:a.jsxs("button",{onClick:()=>W(!1,w,M),className:"px-8 py-3 bg-white border border-slate-200 rounded-xl font-black text-xs uppercase tracking-widest text-slate-600 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:["Cargar Ms",a.jsx(Js,{className:"w-4 h-4 -rotate-90"})]})})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 text-slate-400 flex-1",children:[a.jsx(cr,{className:"w-5 h-5"}),a.jsx("p",{className:"text-[10px] font-bold leading-tight",children:"Selecciona un producto para aadirlo al pedido."})]}),a.jsx("button",{onClick:()=>T(!1),className:"py-4 px-8 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cerrar"})]})]})}),Oe=()=>a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Er,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Aadir Servicio"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Define un tem de servicio personalizado"})]})]}),a.jsx("button",{onClick:()=>V(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre del Servicio"}),a.jsx("input",{type:"text",value:H.name,onChange:Y=>J(fe=>({...fe,name:Y.target.value})),placeholder:"Ej: Servicio de Flete, Instalacin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin Detallada (Opcional)"}),a.jsx("textarea",{value:H.serviceDescription,onChange:Y=>J(fe=>({...fe,serviceDescription:Y.target.value})),placeholder:"Ej: Flete de materiales a obra, CABA. Incluye descarga.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Precio Unitario ($)"}),a.jsx("input",{type:"number",value:H.unitPrice||"",onChange:Y=>J(fe=>({...fe,unitPrice:parseFloat(Y.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad"}),a.jsx("input",{type:"number",value:H.quantity||"",onChange:Y=>J(fe=>({...fe,quantity:parseInt(Y.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold"})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ee,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:["Aadir Servicio ",a.jsx(Ye,{className:"w-5 h-5"})]})]})]})});return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(Rv,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Pedidos"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Organiza y procesa las solicitudes de productos y servicios de tus clientes."})]})]}),a.jsxs("button",{onClick:()=>se(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nuevo Pedido"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de pedido...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:o,onChange:Y=>l(Y.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","pendiente_preparacion","listo_retiro","en_camino","entregado","cancelado"].map(Y=>a.jsx("button",{onClick:()=>u(Y),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===Y?"bg-orange-600 text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:Y==="all"?"Todos":mu[Y]},Y))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Pedido N"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Fecha Creacin"}),a.jsx("th",{className:"px-6 py-4",children:"Entrega Estimada"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Items"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:de.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(Rv,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron pedidos"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):de.map(Y=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"px-6 py-4 font-black text-slate-900",children:Y.id}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:Y.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:Y.clientName})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(ol,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Y.dateCreated).toLocaleDateString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:Y.dateDue?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(ol,{className:"w-3.5 h-3.5 text-slate-400"}),new Date(Y.dateDue).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("span",{className:"px-2 py-0.5 bg-white text-slate-600 rounded text-xs font-bold border border-slate-200",children:[Y.items.length," art."]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${My[Y.status]}`,children:mu[Y.status]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",Y.total.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>se(Y),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Pedido",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>G(Y.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Pedido",children:a.jsx(Xt,{className:"w-4 h-4"})}),a.jsxs("div",{className:"relative group/status-dropdown",children:[a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600 hover:bg-orange-50 rounded-lg transition-colors",title:"Cambiar Estado",children:a.jsx(xf,{className:"w-4 h-4"})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-slate-100 rounded-xl shadow-lg z-10 hidden group-hover/status-dropdown:block animate-in fade-in duration-150",children:Object.keys(mu).map(fe=>a.jsxs("button",{onClick:()=>oe(Y.id,fe),className:"w-full text-left px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 rounded-lg flex items-center gap-2",children:[a.jsx("span",{className:`w-3 h-3 rounded-full ${My[fe].split(" ")[0]} ${My[fe].split(" ")[1]}`}),mu[fe]]},fe))})]})]})})]},Y.id))})]})})]}),d&&a.jsxs("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:[C&&ie(),B&&Oe(),a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(Ye,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Pedido":"Nuevo Pedido"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin de orden de servicio/venta"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ss,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:y.clientId||"",onChange:Y=>b(fe=>({...fe,clientId:Y.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map(Y=>a.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ol,{className:"w-3 h-3"})," Fecha Entrega Estimada"]}),a.jsx("input",{type:"date",value:y.dateDue||"",onChange:Y=>b(fe=>({...fe,dateDue:Y.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold bg-white"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Artculos y Servicios"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>T(!0),className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ye,{className:"w-3 h-3"})," Producto"]}),a.jsxs("button",{onClick:()=>V(!0),className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg text-[10px] font-black uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ye,{className:"w-3 h-3"})," Servicio"]})]})]}),a.jsx("div",{className:"border border-slate-100 rounded-2xl overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"tem"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Cant."}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Unitario"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Subtotal"}),a.jsx("th",{className:"px-6 py-3 text-center"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"py-10 text-center text-slate-400 italic",children:"No hay tems en el pedido"})}):v.map((Y,fe)=>a.jsxs("tr",{className:"text-sm",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:Y.name}),a.jsx("p",{className:"text-[10px] text-slate-400 uppercase",children:Y.sku})]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("input",{type:"number",value:Y.quantity,onChange:Te=>be(fe,parseInt(Te.target.value)),className:"w-16 text-center border rounded-lg font-bold"})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:["$",Y.unitPrice.toLocaleString()]}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",Y.subtotal.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("button",{onClick:()=>z(fe),className:"text-red-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})})]},fe))})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas del Pedido"}),a.jsx("textarea",{value:y.notes||"",onChange:Y=>b(fe=>({...fe,notes:Y.target.value})),className:"w-full px-5 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium h-24 resize-none",placeholder:"Instrucciones especiales de entrega o preparacin..."})]})]})}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Total del Pedido"}),a.jsxs("p",{className:"text-3xl font-black text-slate-900",children:["$",(y.total||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"px-8 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:ue,disabled:_,className:"px-8 py-4 bg-orange-600 text-white rounded-2xl font-black shadow-xl shadow-orange-600/20 hover:bg-orange-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[_?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(An,{className:"w-5 h-5"}),h?"Actualizar Pedido":"Crear Pedido"]})]})]})]})]})]})},xI={activo:"Activo",pagado:"Pagado",mora:"En Mora",cancelado:"Cancelado"},AEe={activo:"bg-blue-50 text-blue-700 border-blue-100",pagado:"bg-green-50 text-green-700 border-green-100",mora:"bg-red-50 text-red-700 border-red-100",cancelado:"bg-slate-50 text-slate-500 border-slate-100"},kEe=()=>{const{clients:t,installmentPlans:e,addInstallmentPlan:n,updateInstallmentPlan:r,deleteInstallmentPlan:s,addTransaction:i}=Nt(),[o,l]=D.useState(""),[c,u]=D.useState("all"),[d,f]=D.useState(!1),[h,x]=D.useState(null),[y,b]=D.useState({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:"",description:""}),[v,N]=D.useState(!1),[_,S]=D.useState(!1),[C,T]=D.useState({amountPaid:0,method:"efectivo",notes:""}),[w,E]=D.useState(!1);D.useEffect(()=>{const $=(y.totalAmount||0)-(y.downPayment||0),B=y.installmentsCount>0?y.installmentsCount:1,V=parseFloat(($/B).toFixed(2));b(H=>({...H,amountPerInstallment:V,remainingAmount:h?h.remainingAmount:parseFloat($.toFixed(2))}))},[y.totalAmount,y.downPayment,y.installmentsCount,h]),D.useEffect(()=>{if(y.clientId){const $=t.find(B=>B.id===y.clientId);$&&b(B=>({...B,clientName:$.name}))}else b($=>({...$,clientName:""}))},[y.clientId,t]);const A=$=>{$?(x($),b($)):(x(null),b({clientId:"",clientName:"",totalAmount:0,downPayment:0,installmentsCount:1,amountPerInstallment:0,remainingAmount:0,payments:[],status:"activo",startDate:new Date().toISOString().split("T")[0],nextDueDate:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0],description:""})),f(!0)},j=async()=>{if(!y.clientId||!y.description||!y.totalAmount||y.totalAmount<=0){alert("Por favor, selecciona un cliente, aade una descripcin y un monto total.");return}setIsSavingOrder(!0);try{const $={clientId:y.clientId,clientName:y.clientName||"Cliente",totalAmount:y.totalAmount,downPayment:y.downPayment||0,installmentsCount:Math.max(1,y.installmentsCount||1),amountPerInstallment:y.amountPerInstallment||0,remainingAmount:h?h.remainingAmount:y.totalAmount-(y.downPayment||0),payments:y.payments||[],status:y.status||"activo",startDate:y.startDate||new Date().toISOString().split("T")[0],nextDueDate:y.nextDueDate,description:y.description};h?await r(h.id,$):await n($),alert("Plan de cuotas guardado con xito!"),f(!1)}catch($){console.error("Error al guardar el plan de cuotas:",$),alert("Ocurri un error al guardar el plan de cuotas.")}finally{N(!1)}},M=async $=>{if(window.confirm("Ests seguro de que quieres eliminar este plan de cuotas? Esta accin es irreversible."))try{await s($),alert("Plan de cuotas eliminado con xito.")}catch(B){console.error("Error al eliminar el plan de cuotas:",B),alert("Ocurri un error al eliminar el plan de cuotas.")}},P=$=>{x($),T({amountPaid:Math.min($.amountPerInstallment,$.remainingAmount),method:"efectivo",notes:""}),S(!0)},O=async()=>{if(!h||C.amountPaid<=0||C.amountPaid>h.remainingAmount){alert("Monto de pago invlido o excede el saldo pendiente.");return}E(!0);try{const $=h.remainingAmount-C.amountPaid,B=$<=0?"pagado":"activo",V={id:`pay-${Date.now()}`,date:new Date().toISOString(),amountPaid:C.amountPaid,method:C.method,paymentDetails:[],notes:C.notes},H=[...h.payments,V],J=t.find(W=>W.id===h.clientId);J&&await R(h.clientId,J.balance+C.amountPaid),await i({amount:C.amountPaid,type:"ingreso",paymentDetails:[],description:`Pago de cuota de plan ${h.id} por ${h.clientName}`,date:new Date().toISOString()}),await r(h.id,{remainingAmount:$,payments:H,status:B,nextDueDate:B==="pagado"?void 0:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString().split("T")[0]}),alert("Pago registrado con xito!"),S(!1),x(null)}catch($){console.error("Error al registrar pago:",$),alert("Ocurri un error al registrar el pago.")}finally{E(!1)}},R=async($,B)=>{console.log(`Simulating client ${$} balance update to: $${B}`)},q=D.useMemo(()=>e.filter($=>{const B=$.clientName.toLowerCase().includes(o.toLowerCase())||$.id.toLowerCase().includes(o.toLowerCase()),V=c==="all"||$.status===c;return B&&V}).sort(($,B)=>new Date(B.startDate).getTime()-new Date($.startDate).getTime()),[e,o,c]),F=D.useMemo(()=>e.filter($=>$.status==="activo"||$.status==="mora").reduce(($,B)=>$+B.remainingAmount,0),[e]);return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-purple-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(qi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Cuotas Internas"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona planes de pago personalizados para tus clientes."})]})]}),a.jsxs("button",{onClick:()=>A(null),className:"bg-purple-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-purple-700 transition-colors shadow-lg shadow-purple-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nuevo Plan de Cuotas"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 text-blue-600 rounded-xl",children:a.jsx(gd,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes Activos"}),a.jsx("h3",{className:"text-2xl font-black text-slate-800",children:e.filter($=>$.status==="activo").length})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-100 shadow-sm flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 text-red-600 rounded-xl",children:a.jsx(Ks,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Planes en Mora"}),a.jsx("h3",{className:"text-2xl font-black text-red-600",children:e.filter($=>$.status==="mora").length})]})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-xl flex items-center gap-4 text-white",children:[a.jsx("div",{className:"p-3 bg-white/10 rounded-xl",children:a.jsx(Kr,{className:"w-6 h-6 text-orange-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest leading-tight",children:"Total Adeudado Cuotas"}),a.jsxs("h3",{className:"text-xl font-black",children:["$",F.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por cliente o ID de plan...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500 outline-none font-medium",value:o,onChange:$=>l($.target.value)})]}),a.jsx("div",{className:"flex gap-2 w-full md:w-auto",children:a.jsx("div",{className:"flex bg-white border border-slate-200 rounded-xl p-1 shrink-0 shadow-sm",children:["all","activo","pagado","mora","cancelado"].map($=>a.jsx("button",{onClick:()=>u($),className:`px-4 py-1.5 text-xs font-bold rounded-lg transition-all capitalize ${c===$?"bg-purple-600 text-white shadow-md":"text-slate-50 hover:bg-slate-50"}`,children:$==="all"?"Todos":xI[$]},$))})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-[0.15em] border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Plan N / Descripcin"}),a.jsx("th",{className:"px-6 py-4",children:"Cliente"}),a.jsx("th",{className:"px-6 py-4",children:"Cuotas"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Monto Total"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4",children:"Prx. Vencimiento"}),a.jsx("th",{className:"px-6 py-4",children:"Estado"}),a.jsx("th",{className:"px-6 py-4 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:q.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"p-20 text-center flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center",children:a.jsx(qi,{className:"w-10 h-10 text-slate-200"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-800 font-bold",children:"No se encontraron planes de cuotas"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Prueba ajustando los filtros de bsqueda."})]})]})}):q.map($=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-6 py-4 font-black text-slate-900",children:[$.id,a.jsx("p",{className:"text-[10px] font-medium text-slate-500 mt-1",children:$.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500 border border-slate-200",children:$.clientName.charAt(0)}),a.jsx("span",{className:"font-bold text-slate-700 text-sm",children:$.clientName})]})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[$.payments.filter(B=>B.amountPaid>0).length,"/",$.installmentsCount,a.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["$",$.amountPerInstallment.toLocaleString(),"/cuota"]})]}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:"font-black text-slate-900",children:["$",$.totalAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("span",{className:`font-black ${$.remainingAmount>0?"text-red-600":"text-green-600"}`,children:["$",$.remainingAmount.toLocaleString()]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:$.nextDueDate?a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(ol,{className:"w-3.5 h-3.5 text-slate-400"}),new Date($.nextDueDate).toLocaleDateString()]}):a.jsx("span",{className:"text-slate-400 italic",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] font-black uppercase border ${AEe[$.status]}`,children:xI[$.status]})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>A($),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Ver/Editar Plan",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>P($),disabled:$.status==="pagado"||$.status==="cancelado",className:"p-2 text-slate-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Registrar Pago",children:a.jsx(En,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>M($.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar Plan",children:a.jsx(Xt,{className:"w-4 h-4"})})]})})]},$.id))})]})})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(qi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:h?"Editar Plan de Cuotas":"Nuevo Plan de Cuotas"}),a.jsx("p",{className:"text-slate-500 text-[10px] font-black uppercase tracking-widest mt-1",children:h?`ID: ${h.id}`:"Registro de nuevo plan"})]})]}),a.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("section",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ss,{className:"w-3 h-3"})," Cliente"]}),a.jsxs("select",{value:y.clientId||"",onChange:$=>b(B=>({...B,clientId:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white",disabled:!!h,children:[a.jsx("option",{value:"",children:"Seleccionar Cliente"}),t.map($=>a.jsxs("option",{value:$.id,children:[$.name," (",$.cuit,")"]},$.id))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin del Plan"}),a.jsx("input",{type:"text",value:y.description||"",onChange:$=>b(B=>({...B,description:$.target.value})),placeholder:"Ej: Compra de herramientas elctricas, Mes de Septiembre",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto Total a Financiar ($)"}),a.jsx("input",{type:"number",value:y.totalAmount||"",onChange:$=>b(B=>({...B,totalAmount:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-purple-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Anticipo / Entrega Inicial ($)"}),a.jsx("input",{type:"number",value:y.downPayment||"",onChange:$=>b(B=>({...B,downPayment:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold text-blue-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cantidad de Cuotas"}),a.jsx("input",{type:"number",value:y.installmentsCount||"",onChange:$=>b(B=>({...B,installmentsCount:parseInt($.target.value)||1})),placeholder:"1",min:"1",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center gap-1",children:[a.jsx(ol,{className:"w-3 h-3"})," Fecha de Inicio del Plan"]}),a.jsx("input",{type:"date",value:y.startDate||"",onChange:$=>b(B=>({...B,startDate:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500 outline-none font-bold bg-white"})]})]})]}),a.jsxs("section",{className:"bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-4 shadow-xl",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm text-slate-400",children:[a.jsx("span",{children:"Monto Restante a Financiar"}),a.jsxs("span",{children:["$",((y.totalAmount||0)-(y.downPayment||0)).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[a.jsx("span",{className:"text-xl font-black uppercase tracking-tight",children:"MONTO POR CUOTA"}),a.jsxs("span",{className:"text-4xl font-black text-orange-500",children:["$",(y.amountPerInstallment||0).toLocaleString("es-AR",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),h&&a.jsxs("section",{className:"space-y-6 pt-4 border-t border-slate-100",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(B1,{className:"w-4 h-4 text-blue-600"})," Historial de Pagos"]}),a.jsx("div",{className:"border border-slate-100 rounded-[1.5rem] overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left",children:"Fecha"}),a.jsx("th",{className:"px-6 py-3 text-right",children:"Monto"}),a.jsx("th",{className:"px-6 py-3 text-center",children:"Mtodo"}),a.jsx("th",{className:"px-6 py-3 text-left",children:"Notas"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.payments.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"py-8 text-center text-slate-400 italic",children:"No hay pagos registrados."})}):h.payments.map(($,B)=>a.jsxs("tr",{className:"text-sm hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:new Date($.date).toLocaleDateString()}),a.jsxs("td",{className:"px-6 py-4 text-right font-black",children:["$",$.amountPaid.toLocaleString()]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-600 rounded text-[10px] uppercase font-bold",children:$.method})}),a.jsx("td",{className:"px-6 py-4 text-slate-600 text-sm italic",children:$.notes||"-"})]},$.id||B))})]})})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>f(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:j,disabled:v||!y.clientId||!y.description||!y.totalAmount||y.totalAmount<=0,className:"flex-1 py-4 bg-purple-600 text-white rounded-2xl font-black shadow-xl shadow-purple-600/20 hover:bg-purple-500 transition-all flex items-center justify-center gap-3 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[v?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(An,{className:"w-5 h-5"}),v?"Guardando Plan...":"Guardar Plan de Cuotas"]})]})]})}),_&&h&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-green-50",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(En,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight",children:"Registrar Pago"}),a.jsxs("p",{className:"text-green-600 text-sm font-medium",children:["Plan ",h.id,"  Cliente: ",h.clientName]})]})]}),a.jsx("button",{onClick:()=>S(!1),className:"p-2 hover:bg-white rounded-xl text-slate-400 transition-all",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center bg-slate-50 p-4 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Pendiente"}),a.jsxs("span",{className:"text-3xl font-black text-red-600",children:["$",h.remainingAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Monto del Pago ($)"}),a.jsx("input",{type:"number",value:C.amountPaid||"",onChange:$=>T(B=>({...B,amountPaid:parseFloat($.target.value)||0})),placeholder:"0.00",className:"w-full px-5 py-4 border border-slate-200 rounded-2xl text-center text-3xl font-black focus:ring-2 focus:ring-green-500 outline-none text-green-600",max:h.remainingAmount})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Mtodo de Pago"}),a.jsxs("select",{value:C.method,onChange:$=>T(B=>({...B,method:$.target.value})),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-green-500 outline-none font-bold bg-white",children:[a.jsx("option",{value:"efectivo",children:"Efectivo"}),a.jsx("option",{value:"tarjeta",children:"Tarjeta (Dbito/Crdito)"}),a.jsx("option",{value:"transferencia",children:"Transferencia Bancaria"}),a.jsx("option",{value:"cheque",children:"Cheque"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Notas (Opcional)"}),a.jsx("textarea",{value:C.notes,onChange:$=>T(B=>({...B,notes:$.target.value})),placeholder:"Referencia de la transaccin, etc.",className:"w-full px-5 py-3 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-green-500 font-medium text-sm h-24 resize-none"})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:O,disabled:w||C.amountPaid<=0||C.amountPaid>h.remainingAmount,className:"flex-1 py-4 bg-green-600 text-white rounded-2xl font-black shadow-xl shadow-green-600/20 hover:bg-green-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest disabled:opacity-50 disabled:cursor-not-allowed",children:[w?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(wn,{className:"w-5 h-5"}),w?"Procesando Pago...":"Registrar Pago"]})]})]})})]})},CEe=()=>{const{salesZones:t,users:e,branches:n,addSalesZone:r,updateSalesZone:s,deleteSalesZone:i}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState(null),[d,f]=D.useState(!1),[h,x]=D.useState(""),[y,b]=D.useState({name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),v=(t||[]).filter(C=>{var T;return C.name.toLowerCase().includes(h.toLowerCase())||((T=C.description)==null?void 0:T.toLowerCase().includes(h.toLowerCase()))}),N=C=>{u(C),b(C||{name:"",description:"",assignedUserIds:[],assignedBranchIds:[]}),l(!0)},_=async()=>{if(!y.name){alert("El nombre de la zona es obligatorio.");return}f(!0);try{c?(await s(c.id,y),alert("Zona actualizada con xito.")):(await r(y),alert("Zona creada con xito.")),l(!1)}catch(C){console.error("Error al guardar zona:",C),alert("Error al procesar la solicitud.")}finally{f(!1)}},S=async C=>{if(window.confirm("Est seguro de eliminar esta zona?"))try{await i(C)}catch(T){console.error("Error al eliminar:",T)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(zi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Zonas de Venta"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona la distribucin territorial de tus vendedores y sucursales."})]})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-blue-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-700 transition-all shadow-lg shadow-blue-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nueva Zona"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-slate-50 bg-slate-50/30",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar zona por nombre o descripcin...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium",value:h,onChange:C=>x(C.target.value)})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-8",children:[v.map(C=>a.jsxs("div",{className:"bg-white border border-slate-100 rounded-[2rem] p-6 shadow-sm hover:shadow-md transition-all group relative",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-2xl",children:a.jsx(G1,{className:"w-6 h-6"})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-400 hover:text-blue-600",children:a.jsx(xs,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>S(C.id),className:"p-2 text-slate-400 hover:text-red-600",children:a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:C.name}),a.jsx("p",{className:"text-slate-400 text-xs mt-1 mb-4 line-clamp-2",children:C.description||"Sin descripcin"}),a.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Xr,{className:"w-3 h-3"})," Vendedores"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedUserIds||[]).length})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[a.jsx(Ma,{className:"w-3 h-3"})," Sucursales"]}),a.jsx("span",{className:"text-xs font-bold text-slate-700",children:(C.assignedBranchIds||[]).length})]})]})]},C.id)),v.length===0&&a.jsxs("div",{className:"col-span-full py-20 text-center text-slate-300",children:[a.jsx(q1,{className:"w-12 h-12 mx-auto mb-4 opacity-20"}),a.jsx("p",{className:"font-bold uppercase text-xs tracking-[0.2em]",children:"No se encontraron zonas"})]})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-blue-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(zi,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:c?"Editar Zona":"Nueva Zona"}),a.jsx("p",{className:"text-blue-100 text-[10px] font-black uppercase tracking-widest mt-1",children:"Configuracin territorial"})]})]}),a.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Nombre de la Zona"}),a.jsx("input",{value:y.name||"",onChange:C=>b({...y,name:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-bold",placeholder:"Ej: Zona Norte GBA"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descripcin / Notas"}),a.jsx("textarea",{value:y.description||"",onChange:C=>b({...y,description:C.target.value}),className:"w-full px-5 py-4 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500 outline-none font-medium h-24 resize-none",placeholder:"Alcance geogrfico, objetivos, etc."})]}),a.jsxs("div",{className:"bg-slate-50 p-6 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Asignaciones:"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Puedes vincular vendedores y sucursales a esta zona para segmentar reportes de ventas y stock."})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t border-slate-100 flex gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 py-4 bg-white border border-slate-200 rounded-2xl font-black text-slate-500 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:_,disabled:d,className:"flex-[1.5] py-4 bg-blue-600 text-white rounded-2xl font-black shadow-xl shadow-blue-600/20 hover:bg-blue-500 transition-all flex items-center justify-center gap-2 uppercase text-xs tracking-widest",children:[d?a.jsx(Fe,{className:"animate-spin w-5 h-5"}):a.jsx(An,{className:"w-5 h-5"}),d?"Guardando...":"Guardar Zona"]})]})]})})]})},jEe=()=>{const{products:t,suppliers:e,updateProduct:n}=Nt(),[r,s]=D.useState(""),[i,o]=D.useState(null),l=D.useMemo(()=>t.filter(f=>{const h=f.stock||0,x=f.reorderPoint||0,y=f.name.toLowerCase().includes(r.toLowerCase())||f.sku.toLowerCase().includes(r.toLowerCase());return h<=x&&y}),[t,r]),c=D.useMemo(()=>{const f={};return l.forEach(h=>{const x=h.supplierId||"unassigned";f[x]||(f[x]=[]),f[x].push(h)}),f},[l]),u=async(f,h)=>{o(f);try{await n(f,{supplierId:h})}catch{alert("Error al actualizar proveedor")}finally{o(null)}},d=f=>{var h;return f==="unassigned"?"Sin Proveedor Asignado":((h=e.find(x=>x.id===f))==null?void 0:h.name)||"Proveedor Desconocido"};return a.jsxs("div",{className:"space-y-6 pb-20",children:[a.jsxs("header",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-orange-600 text-white rounded-[1.5rem] shadow-xl",children:a.jsx(MM,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Artculos Faltantes"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Monitor de stock crtico y reposicin inteligente por proveedor."})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"px-5 py-2 bg-white border border-slate-200 rounded-xl font-black text-[10px] uppercase tracking-widest text-slate-700 hover:bg-slate-50 transition-all shadow-sm flex items-center gap-2",children:[a.jsx(qp,{className:"w-4 h-4"})," Imprimir Listado"]}),a.jsxs("button",{className:"px-5 py-2 bg-slate-900 text-white rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-800 transition-all shadow-lg flex items-center gap-2",children:[a.jsx(Tl,{className:"w-4 h-4"})," Generar Pedidos Masivos"]})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm",children:a.jsxs("div",{className:"relative max-w-xl",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar en faltantes por SKU o Nombre...",className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-medium",value:r,onChange:f=>s(f.target.value)})]})}),l.length===0?a.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border border-slate-100 shadow-sm text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-green-50 text-green-600 rounded-full flex items-center justify-center mx-auto",children:a.jsx(wn,{className:"w-10 h-10"})}),a.jsx("h2",{className:"text-xl font-black text-slate-800 uppercase tracking-tight",children:"Stock al da"}),a.jsx("p",{className:"text-slate-400 max-w-xs mx-auto text-sm font-medium",children:"No hay productos que necesiten reposicin urgente segn sus puntos de pedido."})]}):a.jsx("div",{className:"space-y-10",children:Object.entries(c).map(([f,h])=>a.jsxs("section",{className:"space-y-4 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between px-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-500",children:a.jsx(ys,{className:"w-5 h-5"})}),a.jsx("h3",{className:"text-lg font-black text-slate-800 uppercase tracking-tight",children:d(f)}),a.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-black px-2 py-1 rounded-full uppercase",children:[h.length," Faltantes"]})]}),a.jsxs("button",{className:"text-xs font-black text-blue-600 uppercase tracking-widest hover:underline flex items-center gap-1",children:["Enviar pedido ",a.jsx(UM,{className:"w-3 h-3"})]})]}),a.jsx("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Producto / SKU"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Stock Actual"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Pto. Pedido"}),a.jsx("th",{className:"px-8 py-5 text-right",children:"Reponer Mn."}),a.jsx("th",{className:"px-8 py-5",children:"Cambiar Proveedor"}),a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h.map(x=>a.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-2xl ${x.stock<=0?"bg-red-100 text-red-600":"bg-orange-100 text-orange-600"}`,children:a.jsx(gs,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold text-slate-800 text-sm",children:x.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:x.sku})]})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsx("span",{className:`text-lg font-black ${x.stock<=0?"text-red-600":"text-orange-600"}`,children:x.stock})}),a.jsx("td",{className:"px-8 py-6 text-center font-bold text-slate-400",children:x.reorderPoint||0}),a.jsx("td",{className:"px-8 py-6 text-right",children:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"font-black text-slate-900",children:(x.targetStock||0)-(x.stock||0)>0?(x.targetStock||0)-(x.stock||0):1}),a.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase",children:"Unidades"})]})}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"relative",children:[a.jsxs("select",{disabled:i===x.id,onChange:y=>u(x.id,y.target.value),value:x.supplierId||"",className:"w-full bg-slate-50 border-2 border-slate-100 rounded-xl px-4 py-2 text-xs font-bold text-slate-600 outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[a.jsx("option",{value:"",children:"Seleccionar..."}),e.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]}),i===x.id&&a.jsx(Fe,{className:"absolute right-2 top-2 w-4 h-4 animate-spin text-blue-500"})]})}),a.jsx("td",{className:"px-8 py-6 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{className:"p-2 bg-orange-600 text-white rounded-xl hover:bg-orange-500 transition-all shadow-lg shadow-orange-600/20",title:"Aadir a pedido",children:a.jsx(Tl,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 transition-all",children:a.jsx($M,{className:"w-4 h-4"})})]})})]},x.id))})]})})]},f))}),a.jsxs("div",{className:"bg-blue-50 p-6 rounded-[2rem] border border-blue-100 flex items-start gap-4",children:[a.jsx(cr,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Cmo funciona la reposicin?"}),a.jsxs("p",{className:"text-xs text-blue-700 mt-1 leading-relaxed",children:["Los productos aparecen aqu automticamente cuando su stock actual iguala o es menor al ",a.jsx("b",{children:"Punto de Reorden"})," configurado en su ficha. El clculo de reposicin se basa en el ",a.jsx("b",{children:"Stock Deseado"})," para optimizar el espacio de depsito y capital inmovilizado."]})]})]})]})};var PEe={};const yI=PEe.ARCA_API_KEY||"YOUR_ARCA_DEMO_KEY";async function $$(t,e){await new Promise(s=>setTimeout(s,Math.random()*1500+500)),(yI.includes("DEMO_KEY")||yI.includes("REPLACE-ME"))&&console.warn("ARCA Service: Using a demo API key. Replace with a real one for production.");const r={"20-33445566-7":{client:{name:"Juan Perez S.R.L.",cuit:"20-33445566-7",email:"contacto@juanperez.com",phone:"5491155551234",address:"Calle Falsa 123",ivaCondition:"Responsable Inscripto"}},"30-11223344-9":{client:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"info@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789",ivaCondition:"Responsable Inscripto"},supplier:{name:"Constructora del Norte S.A.",cuit:"30-11223344-9",email:"compras@cdn.com.ar",phone:"5491144445678",address:"Av. Libertador 789"}},"30-50001234-5":{supplier:{name:"Sinteplast S.A.",cuit:"30-50001234-5",email:"ventas@sinteplast.com.ar",phone:"5491133339876",address:"Ruta 3 Km 50"}}}[t];if(r&&r[e])return r[e];throw new Error(`CUIT '${t}' no encontrado en ARCA para tipo '${e}'.`)}const IEe=({onNavigate:t})=>{const{clients:e,priceLists:n,addClient:r,updateClient:s,deleteClient:i}=Nt(),[o,l]=D.useState(!1),[c,u]=D.useState("general"),[d,f]=D.useState(null),[h,x]=D.useState({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),[y,b]=D.useState(""),[v,N]=D.useState(!1);U.useEffect(()=>{n.length>0&&!h.priceListId&&x(P=>{var O,R;return{...P,priceListId:((O=n.find(q=>q.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||""}})},[n,h.priceListId]);const _=async()=>{if(!h.cuit){alert("Por favor, ingrese un CUIT/DNI para buscar.");return}N(!0);try{const P=await $$(h.cuit,"client");x(O=>{var R,q;return{...O,name:P.name,email:P.email,whatsapp:P.phone,priceListId:((R=n.find(F=>F.isBase))==null?void 0:R.id)||((q=n[0])==null?void 0:q.id)||""}}),alert("Datos de ARCA encontrados y cargados.")}catch(P){alert(`Error al buscar CUIT en ARCA: ${P.message}`),console.error("ARCA CUIT Lookup Error:",P)}finally{N(!1)}},S=()=>{y.trim()&&(x(P=>({...P,authorizedPersons:[...P.authorizedPersons||[],y.trim()]})),b(""))},C=P=>{x(O=>({...O,authorizedPersons:(O.authorizedPersons||[]).filter(R=>R!==P)}))},T=async()=>{var P,O;if(!h.name||!h.cuit){alert("El nombre y CUIT son obligatorios.");return}try{d!=null&&d.id?(await s(d.id,h),alert("Cliente actualizado con xito!")):(await r(h),alert("Cliente creado con xito!")),l(!1),f(null),x({name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((P=n.find(R=>R.isBase))==null?void 0:P.id)||((O=n[0])==null?void 0:O.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b("")}catch(R){alert("Error al guardar el cliente."),console.error(R)}},w=async P=>{if(window.confirm("Est seguro de eliminar este cliente? Esta accin es irreversible."))try{await i(P),alert("Cliente eliminado con xito.")}catch(O){alert("Error al eliminar el cliente."),console.error(O)}},E=P=>{var O,R;f(P),x(P||{name:"",cuit:"",whatsapp:"",email:"",specialDiscount:0,priceListId:((O=n.find(q=>q.isBase))==null?void 0:O.id)||((R=n[0])==null?void 0:R.id)||"",authorizedPersons:[],balance:0,accumulatedPoints:0,pointsEnabled:!1}),b(""),u("general"),l(!0)},A=()=>{t&&(l(!1),t("balances"))},j=()=>{t&&(d!=null&&d.id)&&(l(!1),t("installments"),alert(`Navegando a Cuotas Internas para ${d.name}`))},M=P=>{var O;return P&&((O=n.find(R=>R.id===P))==null?void 0:O.name)||"N/A"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Gestin de Clientes"}),a.jsx("p",{className:"text-slate-500",children:"Administra tu base de clientes y sus cuentas corrientes."})]}),a.jsxs("button",{onClick:()=>E(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nuevo Cliente"]})]}),a.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-100 shadow-sm overflow-hidden animate-in fade-in duration-500",children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre, CUIT o email...",className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500 outline-none font-medium"})]}),a.jsx("button",{className:"px-4 py-2 bg-white border border-slate-200 rounded-xl font-bold text-slate-500 hover:bg-gray-50 transition-all",children:"Filtros"})]}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-[10px] font-black text-slate-400 uppercase tracking-widest border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-8 py-5",children:"Cliente / CUIT"}),a.jsx("th",{className:"px-8 py-5",children:"Contacto"}),a.jsx("th",{className:"px-8 py-5",children:"Cuenta Corriente"}),a.jsx("th",{className:"px-8 py-5",children:"Puntos Acumulados"})," ",a.jsx("th",{className:"px-8 py-5 text-center",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(P=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsxs("td",{className:"px-8 py-6",children:[a.jsx("p",{className:"font-bold text-slate-800",children:P.name}),a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:P.cuit})]}),a.jsxs("td",{className:"px-8 py-6 space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 font-medium",children:[a.jsx(LM,{className:"w-4 h-4 text-slate-300"})," ",P.email]}),P.whatsapp&&a.jsxs("button",{className:"flex items-center gap-2 text-[10px] font-black text-green-600 uppercase tracking-widest hover:text-green-700",children:[a.jsx(dU,{className:"w-4 h-4"})," Enviar WhatsApp"]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-wider ${P.balance<0?"bg-red-100 text-red-700 border border-red-200":"bg-green-100 text-green-700 border border-green-200"}`,children:P.balance<0?`DEBE $${Math.abs(P.balance).toLocaleString()}`:`SALDO $${P.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-8 py-6",children:[" ",P.pointsEnabled?a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-orange-600",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-green-50 text-green-700 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Activo"})]}):a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-black text-slate-300",children:P.accumulatedPoints||0}),a.jsx("span",{className:"px-2 py-0.5 bg-slate-50 text-slate-400 rounded-full text-[8px] font-black uppercase tracking-widest",children:"Inactivo"})]})]}),a.jsx("td",{className:"px-8 py-6",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:A,className:"p-2.5 bg-orange-50 text-orange-600 rounded-xl hover:bg-orange-600 hover:text-white transition-all shadow-sm border border-orange-100",title:"Ir a Cuenta Corriente",children:a.jsx(qi,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>E(P),className:"p-2.5 text-slate-300 hover:text-orange-600 hover:bg-orange-50 rounded-xl transition-all",title:"Editar Cliente",children:a.jsx(Vp,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>w(P.id),className:"p-2.5 text-slate-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-all",title:"Eliminar Cliente",children:a.jsx(Xt,{className:"w-5 h-5"})})]})})]},P.id))})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-slate-900/80 backdrop-blur-md z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[3rem] shadow-2xl overflow-hidden animate-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:d?"Editar Cliente":"Alta de Cliente"}),a.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"flex h-[550px]",children:[a.jsx("div",{className:"w-1/4 bg-slate-50 border-r border-slate-100 p-6 space-y-2",children:[{id:"general",label:"Datos Generales"},{id:"prices",label:"Lista de Precios"},{id:"authorized",label:"Autorizados"},{id:"account",label:"Cuenta Corriente"},{id:"loyalty",label:"Fidelizacin",icon:Iv}].map(P=>a.jsxs("button",{onClick:()=>u(P.id),className:`w-full text-left px-4 py-3 text-xs font-black uppercase tracking-widest rounded-xl transition-all ${c===P.id?"bg-orange-600 text-white shadow-lg shadow-orange-600/20":"text-slate-500 hover:bg-white hover:text-slate-800"}`,children:[P.icon&&a.jsx(P.icon,{className:"w-4 h-4 inline-block mr-2"})," ",P.label]},P.id))}),a.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[c==="general"&&a.jsx("div",{className:"space-y-8 animate-in fade-in duration-300",children:a.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"CUIT / DNI"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:h.cuit||"",onChange:P=>x({...h,cuit:P.target.value}),placeholder:"20-XXXXXXXX-X",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"}),a.jsx("button",{onClick:_,disabled:v,className:"bg-slate-800 text-white px-6 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:v?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Razn Social / Nombre"}),a.jsx("input",{value:h.name||"",onChange:P=>x({...h,name:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Principal"}),a.jsx("input",{type:"email",value:h.email||"",onChange:P=>x({...h,email:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"WhatsApp de Contacto"}),a.jsx("input",{value:h.whatsapp||"",onChange:P=>x({...h,whatsapp:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]})]})}),c==="prices"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Up,{className:"w-4 h-4 text-orange-600"})," Lista de Precios Asignada"]}),a.jsxs("div",{className:"p-6 bg-orange-50 rounded-[2rem] border border-orange-100 flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm",children:a.jsx(Up,{className:"w-6 h-6 text-orange-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-black text-orange-900",children:M(h.priceListId)}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium",children:["Descuento Especial: ",a.jsxs("span",{className:"font-bold",children:[h.specialDiscount||0,"%"]})]})]})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Cambiar Lista de Precios"}),a.jsxs("select",{value:h.priceListId||"",onChange:P=>x({...h,priceListId:P.target.value}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold bg-white",children:[n.map(P=>a.jsx("option",{value:P.id,children:P.name},P.id)),n.length===0&&a.jsx("option",{value:"",disabled:!0,children:"Cargando listas..."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Modificar Descuento Especial (%)"}),a.jsx("input",{type:"number",value:h.specialDiscount||0,onChange:P=>x({...h,specialDiscount:Number(P.target.value)}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600"})]})]}),c==="authorized"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(J1,{className:"w-4 h-4 text-orange-600"})," Personas Autorizadas"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Gestiona quin puede realizar compras o retirar mercadera en nombre de este cliente."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{placeholder:"Nombre completo del autorizado...",className:"flex-1 px-5 py-3 border border-slate-200 rounded-xl outline-none font-medium focus:ring-2 focus:ring-orange-500",value:y,onChange:P=>b(P.target.value),onKeyPress:P=>{P.key==="Enter"&&S()}}),a.jsx("button",{onClick:S,className:"px-6 py-3 bg-slate-100 text-slate-600 rounded-xl font-black text-[10px] uppercase tracking-widest hover:bg-slate-200 transition-all border border-slate-200",children:"Aadir"})]}),a.jsx("div",{className:"space-y-3",children:(h.authorizedPersons||[]).length>0?(h.authorizedPersons||[]).map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-800",children:P}),a.jsx("button",{onClick:()=>C(P),className:"p-2 text-red-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Eliminar autorizado",children:a.jsx(Xt,{className:"w-4 h-4"})})]},O)):a.jsx("div",{className:"text-center p-10 bg-slate-50 rounded-2xl border-2 border-dashed border-slate-100 text-slate-400 font-medium",children:"No hay personas autorizadas."})})]}),c==="account"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(qi,{className:"w-4 h-4 text-orange-600"})," Cuenta Corriente"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Consulta el estado de cuenta y los movimientos de saldos de este cliente."}),a.jsxs("div",{className:"p-8 bg-slate-900 rounded-[2.5rem] text-white flex justify-between items-center relative overflow-hidden shadow-xl",children:[a.jsxs("div",{className:"relative z-10 space-y-2",children:[a.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Saldo Actual"}),a.jsxs("p",{className:"text-4xl font-black text-orange-500",children:["$",(h.balance||0).toLocaleString()]}),(h.balance||0)<0&&a.jsxs("span",{className:"text-[10px] font-black uppercase text-red-400 tracking-widest bg-red-900/30 px-3 py-1 rounded-full border border-red-800/50 flex items-center gap-2 w-fit",children:[a.jsx(Ks,{className:"w-3 h-3"})," DEBE"]})]}),a.jsx(En,{className:"absolute -bottom-6 -right-6 w-32 h-32 text-white/5 rotate-12"})]}),a.jsxs("div",{className:"pt-6 border-t flex justify-center gap-4",children:[a.jsxs("button",{onClick:A,className:"px-8 py-4 bg-blue-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-blue-700 transition-all shadow-xl shadow-blue-600/20 flex items-center gap-2",children:[a.jsx(Vp,{className:"w-5 h-5"})," Ver Detalle de Cuenta"]}),d&&a.jsxs("button",{onClick:j,className:"px-8 py-4 bg-purple-600 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-purple-700 transition-all shadow-xl shadow-purple-600/20 flex items-center gap-2",children:[a.jsx(z1,{className:"w-5 h-5"})," Ver Cuotas"]})]})]}),c==="loyalty"&&a.jsxs("div",{className:"space-y-8 animate-in fade-in duration-300",children:[a.jsxs("h3",{className:"text-sm font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Iv,{className:"w-4 h-4 text-orange-600"})," Programa de Fidelizacin"]}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Activa el sistema de puntos para este cliente y gestiona sus puntos acumulados."}),a.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-start gap-4",children:[a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.pointsEnabled||!1,onChange:P=>x({...h,pointsEnabled:P.target.checked}),className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-slate-200 rounded-full peer peer-checked:bg-orange-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-black text-slate-800 uppercase",children:"Habilitar Puntos de Fidelizacin"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Si est activo, este cliente acumular puntos con cada compra segn las reglas del programa."})]})]}),h.pointsEnabled&&a.jsxs("div",{className:"pt-6 border-t border-slate-100 space-y-4 animate-in fade-in duration-300",children:[a.jsxs("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(K1,{className:"w-4 h-4 text-orange-600"})," Puntos Actuales"]}),a.jsxs("div",{className:"bg-orange-50 p-6 rounded-[2rem] border border-orange-100 text-center",children:[a.jsx("p",{className:"text-[10px] font-black text-orange-600 uppercase tracking-widest mb-1",children:"Puntos Acumulados"}),a.jsx("p",{className:"text-5xl font-black text-orange-900",children:h.accumulatedPoints||0}),a.jsxs("p",{className:"text-xs text-orange-700 font-medium mt-2",children:["Valor estimado: $",((h.accumulatedPoints||0)*1).toLocaleString()," "]})," "]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Ajustar Puntos Manualmente"}),a.jsx("input",{type:"number",value:h.accumulatedPoints||0,onChange:P=>x({...h,accumulatedPoints:Number(P.target.value)||0}),className:"w-full px-5 py-3 border border-slate-200 rounded-xl outline-none focus:ring-2 focus:ring-orange-500 font-bold text-orange-600 text-center text-xl"}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Modifica el total de puntos del cliente directamente."})]})]})]})]})]}),a.jsxs("div",{className:"p-8 bg-slate-50 border-t flex justify-end gap-4",children:[a.jsx("button",{onClick:()=>l(!1),className:"px-8 py-3 bg-white border border-slate-200 rounded-2xl font-black text-slate-400 uppercase text-xs tracking-widest",children:"Cancelar"}),a.jsxs("button",{onClick:T,className:"px-8 py-3 bg-orange-600 text-white rounded-2xl font-black text-[10px] uppercase tracking-widest hover:bg-orange-500 transition-all shadow-xl shadow-orange-600/20 flex items-center gap-2",children:[a.jsx(An,{className:"w-4 h-4"})," ",d?"Actualizar Cliente":"Guardar Cliente"]})]})]})})]})},REe=()=>{const{suppliers:t,addSupplier:e,updateSupplier:n,deleteSupplier:r}=Nt(),[s,i]=D.useState(!1),[o,l]=D.useState(null),[c,u]=D.useState({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),[d,f]=D.useState(0),[h,x]=D.useState(!1),y=async()=>{if(!c.cuit){alert("Por favor, ingrese un CUIT para buscar.");return}x(!0);try{const C=await $$(c.cuit,"supplier");u(T=>({...T,name:C.name,email:C.email,phone:C.phone})),alert("Datos de ARCA encontrados y cargados.")}catch(C){alert(`Error al buscar CUIT en ARCA: ${C.message}`),console.error("ARCA CUIT Lookup Error:",C)}finally{x(!1)}},b=async()=>{if(!c.name||!c.cuit){alert("La Razn Social y CUIT son obligatorios.");return}try{o!=null&&o.id?(await n(o.id,c),alert("Proveedor actualizado con xito!")):(await e(c),alert("Proveedor creado con xito!")),i(!1),l(null),u({name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),f(0)}catch(C){alert("Error al guardar el proveedor."),console.error(C)}},v=async C=>{if(window.confirm("Est seguro de eliminar este proveedor? Esta accin es irreversible."))try{await r(C),alert("Proveedor eliminado con xito.")}catch(T){alert("Error al eliminar el proveedor."),console.error(T)}},N=C=>{l(C),u(C||{name:"",cuit:"",discounts:[],balance:0,phone:"",email:""}),i(!0)},_=()=>{d>0&&(u(C=>({...C,discounts:[...C.discounts||[],d]})),f(0))},S=C=>{u(T=>({...T,discounts:(T.discounts||[]).filter((w,E)=>E!==C)}))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-end",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Proveedores"}),a.jsx("p",{className:"text-slate-500",children:"Gestin de compras, descuentos en cascada y saldos."})]}),a.jsxs("button",{onClick:()=>N(null),className:"bg-orange-600 text-white px-6 py-2.5 rounded-xl font-bold flex items-center gap-2 hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:[a.jsx(Ye,{className:"w-5 h-5"})," Nuevo Proveedor"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 bg-slate-50 border-b border-slate-100 flex gap-4",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(bt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Buscar por nombre o CUIT...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-orange-500 outline-none"})]})}),a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase font-semibold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4",children:"Proveedor / CUIT"}),a.jsx("th",{className:"px-6 py-4",children:"Descuentos Aplicables"}),a.jsx("th",{className:"px-6 py-4",children:"Saldo Pendiente"}),a.jsx("th",{className:"px-6 py-4 text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:t.map(C=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("p",{className:"font-bold text-slate-800",children:C.name}),a.jsx("p",{className:"text-xs text-slate-500",children:C.cuit})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-1",children:[C.discounts.map((T,w)=>a.jsxs("span",{className:"px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded",children:["-",T,"%"]},w)),C.discounts.length===0&&a.jsx("span",{className:"text-slate-400 text-xs italic",children:"Sin descuentos"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.balance<0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:C.balance<0?`DEBEMOS $${Math.abs(C.balance).toLocaleString()}`:`A FAVOR $${C.balance.toLocaleString()}`})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[a.jsx("button",{onClick:()=>N(C),className:"p-2 text-slate-400 hover:text-orange-600",title:"Editar Proveedor",children:a.jsx(uU,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>v(C.id),className:"p-2 text-slate-400 hover:text-red-600",title:"Eliminar Proveedor",children:a.jsx(Xt,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-slate-400 hover:text-orange-600",children:a.jsx(lr,{className:"w-5 h-5"})})]})]},C.id))})]})]}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-900 text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o?"Editar Proveedor":"Registro de Proveedor"}),a.jsx("button",{onClick:()=>i(!1),className:"text-slate-400 hover:text-white",children:a.jsx(ze,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-8 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CUIT"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{value:c.cuit||"",onChange:C=>u({...c,cuit:C.target.value}),placeholder:"30-XXXXXXXX-X",className:"flex-1 px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"}),a.jsx("button",{onClick:y,disabled:h,className:"bg-slate-800 text-white px-6 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-slate-700 transition-all flex items-center justify-center gap-2",children:h?a.jsx(Fe,{className:"w-4 h-4 animate-spin"}):"Buscar"})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Razn Social"}),a.jsx("input",{value:c.name||"",onChange:C=>u({...c,name:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Email"}),a.jsx("input",{type:"email",value:c.email||"",onChange:C=>u({...c,email:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Telfono"}),a.jsx("input",{type:"tel",value:c.phone||"",onChange:C=>u({...c,phone:C.target.value}),className:"w-full px-4 py-2 border rounded-lg outline-none focus:ring-2 focus:ring-orange-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Descuentos en Cascada (se aplican a artculos)"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(c.discounts||[]).map((C,T)=>a.jsxs("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 text-sm font-bold rounded-full flex items-center gap-1",children:["-",C,"%",a.jsx("button",{onClick:()=>S(T),className:"ml-1 text-red-500 hover:text-red-700",children:a.jsx(ze,{className:"w-3 h-3"})})]},T))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",placeholder:"%",className:"w-24 px-4 py-2 border rounded-lg",value:d||"",onChange:C=>f(Number(C.target.value))}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-100 rounded-lg font-bold text-slate-600 hover:bg-slate-200",children:"+ Agregar"})]}),a.jsx("p",{className:"text-[10px] text-slate-400 italic",children:"Ejemplo: 10% + 5% + 2%. Estos descuentos afectan automticamente el costo de los productos de este proveedor."})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Saldo Inicial"}),a.jsx("span",{className:"text-[10px] bg-red-50 text-red-600 px-2 py-0.5 rounded font-bold",children:"Pasivo"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"number",className:"w-full pl-10 pr-4 py-2 border rounded-lg outline-none",placeholder:"0.00",value:c.balance||"",onChange:C=>u({...c,balance:Number(C.target.value)})})]})]})]}),a.jsxs("div",{className:"p-6 bg-slate-50 border-t flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>i(!1),className:"px-6 py-2 border rounded-xl font-bold hover:bg-white transition-colors",children:"Cancelar"}),a.jsx("button",{onClick:b,className:"px-6 py-2 bg-orange-600 text-white rounded-xl font-bold hover:bg-orange-700 transition-colors shadow-lg shadow-orange-600/20",children:o?"Actualizar Proveedor":"Guardar Proveedor"})]})]})})]})},MEe=({onLoginSuccess:t})=>{const[e,n]=D.useState(""),[r,s]=D.useState(""),[i,o]=D.useState(!1),[l,c]=D.useState(null),u="admin",d="admin123",f=async h=>{h.preventDefault(),o(!0),c(null);try{if(e.toLowerCase()===u&&r===d){t("admin","Administrador Maestro");return}const x=Et(Me,"users"),y=sp(x,xj("email","==",e),xj("password","==",r)),b=await ap(y);if(b.empty)c("Usuario o contrasea incorrectos.");else{const v=b.docs[0].data();t(v.role.toLowerCase(),v.name)}}catch(x){console.error(x),c("Error al conectar con la base de datos.")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-6",children:a.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl w-full max-w-md space-y-8 animate-in zoom-in duration-300",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"w-20 h-20 bg-orange-600 text-white rounded-[2rem] flex items-center justify-center mx-auto shadow-lg shadow-orange-600/30",children:a.jsx(Ca,{className:"w-10 h-10"})}),a.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"FerroGest ERP"}),a.jsx("p",{className:"text-slate-500 text-sm font-medium",children:"Ingresa a tu plataforma de gestin."})]}),l&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-xl flex items-center gap-3 animate-in shake duration-300",children:[a.jsx(ze,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"font-bold text-xs uppercase",children:l})]}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Usuario / Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(ss,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"text",value:e,onChange:h=>n(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"admin",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Contrasea"}),a.jsxs("div",{className:"relative",children:[a.jsx(Mg,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),a.jsx("input",{type:"password",value:r,onChange:h=>s(h.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500 outline-none font-bold text-slate-800",placeholder:"",required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:i,className:"w-full py-5 bg-slate-900 hover:bg-black text-white rounded-2xl font-black uppercase tracking-widest shadow-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[i?a.jsx(Fe,{className:"w-5 h-5 animate-spin"}):a.jsx(BF,{className:"w-5 h-5"}),i?"VERIFICANDO...":"ENTRAR AL SISTEMA"]})]}),a.jsx("div",{className:"pt-6 border-t border-slate-100",children:a.jsx("p",{className:"text-[10px] text-slate-400 font-bold text-center uppercase tracking-widest leading-relaxed",children:"Si olvidaste tus credenciales, consulta con el Administrador Maestro de la ferretera."})})]})})},OEe=({currentUser:t,onLogout:e})=>{const[n,r]=D.useState("dashboard"),[s,i]=D.useState("enterprise"),{error:o}=Nt(),[l,c]=D.useState({name:"FerroGest",logo:null,showLogoInSidebar:!1,cuit:"30-12345678-9",address:"Av. Principal 123, Ciudad",ivaCondition:"Responsable Inscripto",phone:"+54 11 1234-5678",email:"contacto@ferrogest.com",arca:{enabled:!0,pointOfSale:1,crtValidUntil:new Date().toISOString()},printConfigs:{factura:{pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!0,showPrices:!0,copies:1},remito:{pageSize:"A4",orientation:"portrait",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!1,showPrices:!1,copies:2},recibo:{pageSize:"A5",orientation:"landscape",margins:{top:10,bottom:10,left:10,right:10},showLogo:!0,showCuit:!0,showAddress:!0,showLegal:!0,showQr:!1,showPrices:!0,copies:1},etiqueta:{pageSize:"80mm",orientation:"portrait",margins:{top:2,bottom:2,left:2,right:2},showLogo:!1,showCuit:!1,showAddress:!1,showLegal:!1,showQr:!1,showPrices:!0,copies:1}}}),u=D.useMemo(()=>[{id:"dashboard",component:a.jsx(the,{})},{id:"sales",component:a.jsx($ye,{})},{id:"remitos",component:a.jsx(Vye,{})},{id:"inventory",component:a.jsx(cEe,{})},{id:"missing-items",component:a.jsx(jEe,{})},{id:"stock-adjustment",component:a.jsx(vEe,{})},{id:"bulk-modification",component:a.jsx(wEe,{})},{id:"warehouse",component:a.jsx(oEe,{})},{id:"branches",component:a.jsx(aEe,{})},{id:"clients",component:a.jsx(IEe,{onNavigate:r})},{id:"suppliers",component:a.jsx(REe,{})},{id:"balances",component:a.jsx(hEe,{})},{id:"sales-zones",component:a.jsx(CEe,{})},{id:"loyalty",component:a.jsx(Uye,{})},{id:"ecommerce",component:a.jsx(zye,{})},{id:"integrations",component:a.jsx(_Ee,{})},{id:"quotes",component:a.jsx(SEe,{})},{id:"orders",component:a.jsx(TEe,{})},{id:"installments",component:a.jsx(kEe,{})},{id:"reports",component:a.jsx(Gye,{})},{id:"finance",component:a.jsx(sEe,{})},{id:"users",component:a.jsx(iEe,{})},{id:"bulk-import",component:a.jsx(uEe,{})},{id:"purchase-orders",component:a.jsx(fEe,{})},{id:"prices",component:a.jsx(Fye,{})},{id:"cashier",component:a.jsx(pEe,{})},{id:"purchases",component:a.jsx(xEe,{})},{id:"settings",component:a.jsx(Lj,{initialTab:"company",plan:s,setPlan:i,isAdmin:t.role==="admin",companyInfo:l,setCompanyInfo:c})},{id:"data",component:a.jsx(Lj,{initialTab:"data",plan:s,setPlan:i,isAdmin:t.role==="admin",companyInfo:l,setCompanyInfo:c})}],[s,l,t.role]);return a.jsxs("div",{className:"flex h-screen bg-gray-50 overflow-hidden",children:[a.jsx(_U,{activeTab:n,setActiveTab:r,companyInfo:l,currentUser:t,onLogout:e}),a.jsx("main",{className:"flex-1 h-screen overflow-y-auto p-8 relative",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[o&&a.jsxs("div",{className:"mb-6 p-6 bg-red-50 border-2 border-red-100 rounded-[2rem] flex items-center gap-6",children:[a.jsx(Ks,{className:"w-6 h-6 text-red-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-red-900 font-bold",children:"Error de Sistema"}),a.jsx("p",{className:"text-red-700 text-sm",children:o})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-600 text-white rounded-xl font-bold text-xs uppercase",children:"Reintentar"})]}),u.map(d=>a.jsx("div",{className:n===d.id?"block":"hidden",children:d.component},d.id))]})})]})},DEe=()=>{const[t,e]=D.useState(null),[n,r]=D.useState(!0);D.useEffect(()=>{const o=localStorage.getItem("ferrogest_session");o&&e(JSON.parse(o)),r(!1)},[]);const s=(o,l)=>{const c={name:l,role:o};e(c),localStorage.setItem("ferrogest_session",JSON.stringify(c))},i=()=>{e(null),localStorage.removeItem("ferrogest_session")};return n?a.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:a.jsx(Fe,{className:"w-12 h-12 animate-spin text-orange-600"})}):t?a.jsx(Lye,{children:a.jsx(OEe,{currentUser:t,onLogout:i})}):a.jsx(MEe,{onLoginSuccess:s})},V$=document.getElementById("root");if(!V$)throw new Error("Could not find root element to mount to");const LEe=Oy.createRoot(V$);LEe.render(a.jsx(U.StrictMode,{children:a.jsx(DEe,{})}));
